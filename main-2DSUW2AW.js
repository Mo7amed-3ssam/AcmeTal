var i2=Object.defineProperty,r2=Object.defineProperties;var o2=Object.getOwnPropertyDescriptors;var Iu=Object.getOwnPropertySymbols,s2=Object.getPrototypeOf,Rw=Object.prototype.hasOwnProperty,Pw=Object.prototype.propertyIsEnumerable,a2=Reflect.get;var Mw=(t,e,n)=>e in t?i2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H=(t,e)=>{for(var n in e||={})Rw.call(e,n)&&Mw(t,n,e[n]);if(Iu)for(var n of Iu(e))Pw.call(e,n)&&Mw(t,n,e[n]);return t},fe=(t,e)=>r2(t,o2(e));var kw=(t,e)=>{var n={};for(var i in t)Rw.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Iu)for(var i of Iu(t))e.indexOf(i)<0&&Pw.call(t,i)&&(n[i]=t[i]);return n};var wr=(t,e,n)=>a2(s2(t),n,e);var O=(t,e,n)=>new Promise((i,r)=>{var o=l=>{try{a(n.next(l))}catch(u){r(u)}},s=l=>{try{a(n.throw(l))}catch(u){r(u)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});var fm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var q=function(t,e){if(!t)throw po(e)},po=function(t){return new Error("Firebase Database ("+fm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var Ow=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},l2=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],s=t[n++],a=t[n++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},xu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,a=s?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,g=o>>2,v=(o&3)<<4|a>>4,w=(a&15)<<2|u>>6,S=u&63;l||(S=64,s||(w=64)),i.push(n[g],n[v],n[w],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ow(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let v=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||a==null||u==null||v==null)throw new pm;let w=o<<2|a>>4;if(i.push(w),u!==64){let S=a<<4&240|u>>2;if(i.push(S),v!==64){let x=u<<6&192|v;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},pm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},gm=function(t){let e=Ow(t);return xu.encodeByteArray(e,!0)},tl=function(t){return gm(t).replace(/\./g,"")},nl=function(t){try{return xu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lw(t){return Vw(void 0,t)}function Vw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!c2(n)||(t[n]=Vw(t[n],e[n]));return t}function c2(t){return t!=="__proto__"}function u2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var d2=()=>u2().__FIREBASE_DEFAULTS__,h2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&nl(t[1]);return e&&JSON.parse(e)},_m=()=>{try{return d2()||h2()||f2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vm=t=>{var e,n;return(n=(e=_m())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Du=t=>{let e=vm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ym=()=>{var t;return(t=_m())===null||t===void 0?void 0:t.config},Cm=t=>{var e;return(e=_m())===null||e===void 0?void 0:e[`_${t}`]};var Li=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function Au(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tl(JSON.stringify(n)),tl(JSON.stringify(s)),""].join(".")}function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function il(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function jw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Nu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hw(){let t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pi(){return fm.NODE_CLIENT===!0||fm.NODE_ADMIN===!0}function bm(){try{return typeof indexedDB=="object"}catch{return!1}}function Uw(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var p2="FirebaseError",Sn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=p2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vi.prototype.create)}},Vi=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?m2(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new Sn(r,a,i)}};function m2(t,e){return t.replace(g2,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var g2=/\{\$([^}]+)}/g;function _s(t){return JSON.parse(t)}function St(t){return JSON.stringify(t)}var $w=function(t){let e={},n={},i={},r="";try{let o=t.split(".");e=_s(nl(o[0])||""),n=_s(nl(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}};var Gw=function(t){let e=$w(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},qw=function(t){let e=$w(t).claims;return typeof e=="object"&&e.admin===!0};function Kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function rl(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ol(t,e,n){let i={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function go(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],s=e[r];if(Fw(o)&&Fw(s)){if(!go(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function Fw(t){return t!==null&&typeof t=="object"}function _o(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}var Tu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let i=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)i[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)i[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){let w=i[v-3]^i[v-8]^i[v-14]^i[v-16];i[v]=(w<<1|w>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,g;for(let v=0;v<80;v++){v<40?v<20?(u=a^o&(s^a),g=1518500249):(u=o^s^a,g=1859775393):v<60?(u=o&s|a&(o|s),g=2400959708):(u=o^s^a,g=3395469782);let w=(r<<5|r>>>27)+u+l+g+i[v]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=w}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let i=n-this.blockSize,r=0,o=this.buf_,s=this.inbuf_;for(;r<n;){if(s===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<n;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}};function zw(t,e){let n=new mm(t,e);return n.subscribe.bind(n)}var mm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");_2(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=hm),r.error===void 0&&(r.error=hm),r.complete===void 0&&(r.complete=hm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function _2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hm(){}function sl(t,e){return`${t} failed: ${e} argument `}var Ww=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){let o=r-55296;i++,q(i<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},al=function(t){let e=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};var Xte=4*60*60*1e3;function Qt(t){return t&&t._delegate?t._delegate:t}var gn=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var vo="[DEFAULT]";var Mu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new Li;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y2(e))try{this.getOrInitializeService({instanceIdentifier:vo})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return O(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=vo){return this.instances.has(e)}getOptions(e=vo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:v2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=vo){return this.component?this.component.multipleInstances?e:vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function v2(t){return t===vo?void 0:t}function y2(t){return t.instantiationMode==="EAGER"}var ll=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Mu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var C2=[],Ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ve||{}),b2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},w2=Ve.INFO,E2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},S2=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=E2[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mi=class{constructor(e){this.name=e,this._logLevel=w2,this._logHandler=S2,this._userLogHandler=null,C2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}};var I2=(t,e)=>e.some(n=>t instanceof n),Kw,Qw;function T2(){return Kw||(Kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x2(){return Qw||(Qw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Yw=new WeakMap,Em=new WeakMap,Zw=new WeakMap,wm=new WeakMap,Im=new WeakMap;function D2(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(gi(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Yw.set(n,t)}).catch(()=>{}),Im.set(e,t),e}function A2(t){if(Em.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Em.set(t,e)}var Sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Zw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Jw(t){Sm=t(Sm)}function N2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(Ru(this),e,...n);return Zw.set(i,e.sort?e.sort():[e]),gi(i)}:x2().includes(t)?function(...e){return t.apply(Ru(this),e),gi(Yw.get(this))}:function(...e){return gi(t.apply(Ru(this),e))}}function M2(t){return typeof t=="function"?N2(t):(t instanceof IDBTransaction&&A2(t),I2(t,T2())?new Proxy(t,Sm):t)}function gi(t){if(t instanceof IDBRequest)return D2(t);if(wm.has(t))return wm.get(t);let e=M2(t);return e!==t&&(wm.set(t,e),Im.set(e,t)),e}var Ru=t=>Im.get(t);function e1(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(t,e),a=gi(s);return i&&s.addEventListener("upgradeneeded",l=>{i(gi(s.result),l.oldVersion,l.newVersion,gi(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var R2=["get","getKey","getAll","getAllKeys","count"],P2=["put","add","delete","clear"],Tm=new Map;function Xw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=P2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||R2.includes(n)))return;let o=function(s,...a){return O(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),u=l.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&l.done]))[0]})};return Tm.set(e,o),o}Jw(t=>fe(H({},t),{get:(e,n,i)=>Xw(e,n)||t.get(e,n,i),has:(e,n)=>!!Xw(e,n)||t.has(e,n)}));var Dm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(k2(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function k2(t){let e=t.getComponent();return e?.type==="VERSION"}var Am="@firebase/app",t1="0.10.13";var ji=new mi("@firebase/app"),F2="@firebase/app-compat",O2="@firebase/analytics-compat",L2="@firebase/analytics",V2="@firebase/app-check-compat",j2="@firebase/app-check",B2="@firebase/auth",H2="@firebase/auth-compat",U2="@firebase/database",$2="@firebase/data-connect",G2="@firebase/database-compat",q2="@firebase/functions",z2="@firebase/functions-compat",W2="@firebase/installations",K2="@firebase/installations-compat",Q2="@firebase/messaging",Y2="@firebase/messaging-compat",Z2="@firebase/performance",J2="@firebase/performance-compat",X2="@firebase/remote-config",eR="@firebase/remote-config-compat",tR="@firebase/storage",nR="@firebase/storage-compat",iR="@firebase/firestore",rR="@firebase/vertexai-preview",oR="@firebase/firestore-compat",sR="firebase",aR="10.14.1";var Nm="[DEFAULT]",lR={[Am]:"fire-core",[F2]:"fire-core-compat",[L2]:"fire-analytics",[O2]:"fire-analytics-compat",[j2]:"fire-app-check",[V2]:"fire-app-check-compat",[B2]:"fire-auth",[H2]:"fire-auth-compat",[U2]:"fire-rtdb",[$2]:"fire-data-connect",[G2]:"fire-rtdb-compat",[q2]:"fire-fn",[z2]:"fire-fn-compat",[W2]:"fire-iid",[K2]:"fire-iid-compat",[Q2]:"fire-fcm",[Y2]:"fire-fcm-compat",[Z2]:"fire-perf",[J2]:"fire-perf-compat",[X2]:"fire-rc",[eR]:"fire-rc-compat",[tR]:"fire-gcs",[nR]:"fire-gcs-compat",[iR]:"fire-fst",[oR]:"fire-fst-compat",[rR]:"fire-vertex","fire-js":"fire-js",[sR]:"fire-js-all"};var cl=new Map,cR=new Map,Mm=new Map;function n1(t,e){try{t.container.addComponent(e)}catch(n){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _i(t){let e=t.name;if(Mm.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,t);for(let n of cl.values())n1(n,t);for(let n of cR.values())n1(n,t);return!0}function yo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bi(t){return t.settings!==void 0}var uR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new Vi("app","Firebase",uR);var Rm=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}};var vi=aR;function Fm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Er.create("bad-app-name",{appName:String(r)});if(n||(n=ym()),!n)throw Er.create("no-options");let o=cl.get(r);if(o){if(go(n,o.options)&&go(i,o.config))return o;throw Er.create("duplicate-app",{appName:r})}let s=new ll(r);for(let l of Mm.values())s.addComponent(l);let a=new Rm(n,i,s);return cl.set(r,a),a}function Sr(t=Nm){let e=cl.get(t);if(!e&&t===Nm&&ym())return Fm();if(!e)throw Er.create("no-app",{appName:t});return e}function Pu(){return Array.from(cl.values())}function ht(t,e,n){var i;let r=(i=lR[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(a.join(" "));return}_i(new gn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var dR="firebase-heartbeat-database",hR=1,ul="firebase-heartbeat-store",xm=null;function s1(){return xm||(xm=e1(dR,hR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),xm}function fR(t){return O(this,null,function*(){try{let n=(yield s1()).transaction(ul),i=yield n.objectStore(ul).get(a1(t));return yield n.done,i}catch(e){if(e instanceof Sn)ji.warn(e.message);else{let n=Er.create("idb-get",{originalErrorMessage:e?.message});ji.warn(n.message)}}})}function i1(t,e){return O(this,null,function*(){try{let i=(yield s1()).transaction(ul,"readwrite");yield i.objectStore(ul).put(e,a1(t)),yield i.done}catch(n){if(n instanceof Sn)ji.warn(n.message);else{let i=Er.create("idb-set",{originalErrorMessage:n?.message});ji.warn(i.message)}}})}function a1(t){return`${t.name}!${t.options.appId}`}var pR=1024,mR=30*24*60*60*1e3,Pm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new km(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return O(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=r1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=mR}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ji.warn(i)}})}getHeartbeatsHeader(){return O(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=r1(),{heartbeatsToSend:i,unsentEntries:r}=gR(this._heartbeatsCache.heartbeats),o=tl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ji.warn(n),""}})}};function r1(){return new Date().toISOString().substring(0,10)}function gR(t,e=pR){let n=[],i=t.slice();for(let r of t){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),o1(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),o1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var km=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return O(this,null,function*(){return bm()?Uw().then(()=>!0).catch(()=>!1):!1})}read(){return O(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield fR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return O(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return O(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function o1(t){return tl(JSON.stringify({version:2,heartbeats:t})).length}function _R(t){_i(new gn("platform-logger",e=>new Dm(e),"PRIVATE")),_i(new gn("heartbeat",e=>new Pm(e),"PRIVATE")),ht(Am,t1,t),ht(Am,t1,"esm2017"),ht("fire-js","")}_R("");var vR="firebase",yR="10.14.1";ht(vR,yR,"app");function _e(t){return typeof t=="function"}function vs(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ku=vs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Co(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var yt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(_e(i))try{i()}catch(o){e=o instanceof ku?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{l1(o)}catch(s){e=e??[],s instanceof ku?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ku(e)}}add(e){var n;if(e&&e!==this)if(this.closed)l1(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Co(n,e)}remove(e){let{_finalizers:n}=this;n&&Co(n,e),e instanceof t&&e._removeParent(this)}};yt.EMPTY=(()=>{let t=new yt;return t.closed=!0,t})();var Om=yt.EMPTY;function Fu(t){return t instanceof yt||t&&"closed"in t&&_e(t.remove)&&_e(t.add)&&_e(t.unsubscribe)}function l1(t){_e(t)?t():t.unsubscribe()}var Qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ys={setTimeout(t,e,...n){let{delegate:i}=ys;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ys;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ou(t){ys.setTimeout(()=>{let{onUnhandledError:e}=Qn;if(e)e(t);else throw t})}function dl(){}var c1=Lm("C",void 0,void 0);function u1(t){return Lm("E",void 0,t)}function d1(t){return Lm("N",t,void 0)}function Lm(t,e,n){return{kind:t,value:e,error:n}}var bo=null;function Cs(t){if(Qn.useDeprecatedSynchronousErrorHandling){let e=!bo;if(e&&(bo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=bo;if(bo=null,n)throw i}}else t()}function h1(t){Qn.useDeprecatedSynchronousErrorHandling&&bo&&(bo.errorThrown=!0,bo.error=t)}var wo=class extends yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fu(e)&&e.add(this)):this.destination=wR}static create(e,n,i){return new bs(e,n,i)}next(e){this.isStopped?jm(d1(e),this):this._next(e)}error(e){this.isStopped?jm(u1(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jm(c1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CR=Function.prototype.bind;function Vm(t,e){return CR.call(t,e)}var Bm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Lu(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Lu(i)}else Lu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Lu(n)}}},bs=class extends wo{constructor(e,n,i){super();let r;if(_e(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Qn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Vm(e.next,o),error:e.error&&Vm(e.error,o),complete:e.complete&&Vm(e.complete,o)}):r=e}this.destination=new Bm(r)}};function Lu(t){Qn.useDeprecatedSynchronousErrorHandling?h1(t):Ou(t)}function bR(t){throw t}function jm(t,e){let{onStoppedNotification:n}=Qn;n&&ys.setTimeout(()=>n(t,e))}var wR={closed:!0,next:dl,error:bR,complete:dl};var ws=typeof Symbol=="function"&&Symbol.observable||"@@observable";function In(t){return t}function Hm(...t){return Um(t)}function Um(t){return t.length===0?In:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var ke=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=SR(n)?n:new bs(n,i,r);return Cs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=f1(i),new i((r,o)=>{let s=new bs({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[ws](){return this}pipe(...n){return Um(n)(this)}toPromise(n){return n=f1(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function f1(t){var e;return(e=t??Qn.Promise)!==null&&e!==void 0?e:Promise}function ER(t){return t&&_e(t.next)&&_e(t.error)&&_e(t.complete)}function SR(t){return t&&t instanceof wo||ER(t)&&Fu(t)}function $m(t){return _e(t?.lift)}function Fe(t){return e=>{if($m(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(t,e,n,i,r){return new Gm(t,e,n,i,r)}var Gm=class extends wo{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Es(){return Fe((t,e)=>{let n=null;t._refCount++;let i=Re(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Ss=class extends ke{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$m(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yt;let n=this.getSubject();e.add(this.source.subscribe(Re(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yt.EMPTY)}return e}refCount(){return Es()(this)}};var p1=vs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var It=(()=>{class t extends ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Vu(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new p1}next(n){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Om:(this.currentObservers=null,o.push(n),new yt(()=>{this.currentObservers=null,Co(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new ke;return n.source=this,n}}return t.create=(e,n)=>new Vu(e,n),t})(),Vu=class extends It{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Om}};var Lt=class extends It{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var qm={now(){return(qm.delegate||Date).now()},delegate:void 0};var ju=class extends yt{constructor(e,n){super()}schedule(e,n=0){return this}};var hl={setInterval(t,e,...n){let{delegate:i}=hl;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=hl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Is=class extends ju{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return hl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&hl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Co(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ts=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Ts.now=qm.now;var xs=class extends Ts{constructor(e,n=Ts.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var zm=new xs(Is);var Bu=class extends Is{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Hu=class extends xs{};var Wm=new Hu(Bu);var Tn=new ke(t=>t.complete());function m1(t){return t&&_e(t.schedule)}function g1(t){return t[t.length-1]}function Uu(t){return _e(g1(t))?t.pop():void 0}function Ir(t){return m1(g1(t))?t.pop():void 0}function Km(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function v1(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(g){try{u(i.next(g))}catch(v){s(v)}}function l(g){try{u(i.throw(g))}catch(v){s(v)}}function u(g){g.done?o(g.value):r(g.value).then(a,l)}u((i=i.apply(t,e||[])).next())})}function _1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Eo(t){return this instanceof Eo?(this.v=t,this):new Eo(t)}function y1(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(S){return function(x){return Promise.resolve(x).then(S,v)}}function a(S,x){i[S]&&(r[S]=function(L){return new Promise(function($,Q){o.push([S,L,$,Q])>1||l(S,L)})},x&&(r[S]=x(r[S])))}function l(S,x){try{u(i[S](x))}catch(L){w(o[0][3],L)}}function u(S){S.value instanceof Eo?Promise.resolve(S.value.v).then(g,v):w(o[0][2],S)}function g(S){l("next",S)}function v(S){l("throw",S)}function w(S,x){S(x),o.shift(),o.length&&l(o[0][0],o[0][1])}}function C1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _1=="function"?_1(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var $u=t=>t&&typeof t.length=="number"&&typeof t!="function";function Gu(t){return _e(t?.then)}function qu(t){return _e(t[ws])}function zu(t){return Symbol.asyncIterator&&_e(t?.[Symbol.asyncIterator])}function Wu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ku=IR();function Qu(t){return _e(t?.[Ku])}function Yu(t){return y1(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Eo(n.read());if(r)return yield Eo(void 0);yield yield Eo(i)}}finally{n.releaseLock()}})}function Zu(t){return _e(t?.getReader)}function Tt(t){if(t instanceof ke)return t;if(t!=null){if(qu(t))return TR(t);if($u(t))return xR(t);if(Gu(t))return DR(t);if(zu(t))return b1(t);if(Qu(t))return AR(t);if(Zu(t))return NR(t)}throw Wu(t)}function TR(t){return new ke(e=>{let n=t[ws]();if(_e(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xR(t){return new ke(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function DR(t){return new ke(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ou)})}function AR(t){return new ke(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function b1(t){return new ke(e=>{MR(t,e).catch(n=>e.error(n))})}function NR(t){return b1(Yu(t))}function MR(t,e){var n,i,r,o;return v1(this,void 0,void 0,function*(){try{for(n=C1(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function _n(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function Tr(t,e=0){return Fe((n,i)=>{n.subscribe(Re(i,r=>_n(i,t,()=>i.next(r),e),()=>_n(i,t,()=>i.complete(),e),r=>_n(i,t,()=>i.error(r),e)))})}function xr(t,e=0){return Fe((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function w1(t,e){return Tt(t).pipe(xr(e),Tr(e))}function E1(t,e){return Tt(t).pipe(xr(e),Tr(e))}function S1(t,e){return new ke(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function I1(t,e){return new ke(n=>{let i;return _n(n,e,()=>{i=t[Ku](),_n(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>_e(i?.return)&&i.return()})}function Ju(t,e){if(!t)throw new Error("Iterable cannot be null");return new ke(n=>{_n(n,e,()=>{let i=t[Symbol.asyncIterator]();_n(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function T1(t,e){return Ju(Yu(t),e)}function x1(t,e){if(t!=null){if(qu(t))return w1(t,e);if($u(t))return S1(t,e);if(Gu(t))return E1(t,e);if(zu(t))return Ju(t,e);if(Qu(t))return I1(t,e);if(Zu(t))return T1(t,e)}throw Wu(t)}function be(t,e){return e?x1(t,e):Tt(t)}function pe(...t){let e=Ir(t);return be(t,e)}function Ds(t,e){let n=_e(t)?t:()=>t,i=r=>r.error(n());return new ke(e?r=>e.schedule(i,0,r):i)}function Qm(t){return!!t&&(t instanceof ke||_e(t.lift)&&_e(t.subscribe))}var Hi=vs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return Fe((n,i)=>{let r=0;n.subscribe(Re(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:RR}=Array;function PR(t,e){return RR(e)?t(...e):t(e)}function Xu(t){return le(e=>PR(t,e))}var{isArray:kR}=Array,{getPrototypeOf:FR,prototype:OR,keys:LR}=Object;function ed(t){if(t.length===1){let e=t[0];if(kR(e))return{args:e,keys:null};if(VR(e)){let n=LR(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function VR(t){return t&&typeof t=="object"&&FR(t)===OR}function td(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function nd(...t){let e=Ir(t),n=Uu(t),{args:i,keys:r}=ed(t);if(i.length===0)return be([],e);let o=new ke(jR(i,e,r?s=>td(r,s):In));return n?o.pipe(Xu(n)):o}function jR(t,e,n=In){return i=>{D1(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)D1(e,()=>{let u=be(t[l],e),g=!1;u.subscribe(Re(i,v=>{o[l]=v,g||(g=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function D1(t,e,n){t?_n(n,t,e):e()}function A1(t,e,n,i,r,o,s,a){let l=[],u=0,g=0,v=!1,w=()=>{v&&!l.length&&!u&&e.complete()},S=L=>u<i?x(L):l.push(L),x=L=>{o&&e.next(L),u++;let $=!1;Tt(n(L,g++)).subscribe(Re(e,Q=>{r?.(Q),o?S(Q):e.next(Q)},()=>{$=!0},void 0,()=>{if($)try{for(u--;l.length&&u<i;){let Q=l.shift();s?_n(e,s,()=>x(Q)):x(Q)}w()}catch(Q){e.error(Q)}}))};return t.subscribe(Re(e,S,()=>{v=!0,w()})),()=>{a?.()}}function Dt(t,e,n=1/0){return _e(e)?Dt((i,r)=>le((o,s)=>e(i,o,r,s))(Tt(t(i,r))),n):(typeof e=="number"&&(n=e),Fe((i,r)=>A1(i,r,t,n)))}function As(t=1/0){return Dt(In,t)}function N1(){return As(1)}function Ns(...t){return N1()(be(t,Ir(t)))}function id(t){return new ke(e=>{Tt(t()).subscribe(e)})}function Ym(...t){let e=Uu(t),{args:n,keys:i}=ed(t),r=new ke(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let g=0;g<s;g++){let v=!1;Tt(n[g]).subscribe(Re(o,w=>{v||(v=!0,u--),a[g]=w},()=>l--,void 0,()=>{(!l||!v)&&(u||o.next(i?td(i,a):a),o.complete())}))}});return e?r.pipe(Xu(e)):r}function Yn(t,e){return Fe((n,i)=>{let r=0;n.subscribe(Re(i,o=>t.call(e,o,r++)&&i.next(o)))})}function Dr(t){return Fe((e,n)=>{let i=null,r=!1,o;i=e.subscribe(Re(n,void 0,void 0,s=>{o=Tt(t(s,Dr(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function M1(t,e,n,i,r){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(Re(s,g=>{let v=u++;l=a?t(l,g,v):(a=!0,g),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Ms(t,e){return _e(e)?Dt(t,e,1):Dt(t,1)}function Ar(t){return Fe((e,n)=>{let i=!1;e.subscribe(Re(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Ui(t){return t<=0?()=>Tn:Fe((e,n)=>{let i=0;e.subscribe(Re(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Zm(t){return le(()=>t)}function rd(t=BR){return Fe((e,n)=>{let i=!1;e.subscribe(Re(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function BR(){return new Hi}function fl(t){return Fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $i(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Yn((r,o)=>t(r,o,i)):In,Ui(1),n?Ar(e):rd(()=>new Hi))}function Rs(t){return t<=0?()=>Tn:Fe((e,n)=>{let i=[];e.subscribe(Re(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Jm(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Yn((r,o)=>t(r,o,i)):In,Rs(1),n?Ar(e):rd(()=>new Hi))}function Xm(t,e){return Fe(M1(t,e,arguments.length>=2,!0))}function eg(...t){let e=Ir(t);return Fe((n,i)=>{(e?Ns(t,n,e):Ns(t,n)).subscribe(i)})}function Zn(t,e){return Fe((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(Re(i,l=>{r?.unsubscribe();let u=0,g=o++;Tt(t(l,g)).subscribe(r=Re(i,v=>i.next(e?e(l,v,g,u++):v),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function tg(t){return Fe((e,n)=>{Tt(t).subscribe(Re(n,()=>n.complete(),dl)),!n.closed&&e.subscribe(n)})}function At(t,e,n){let i=_e(t)||e||n?{next:t,error:e,complete:n}:t;return i?Fe((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Re(o,l=>{var u;(u=i.next)===null||u===void 0||u.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,l),o.error(l)},()=>{var l,u;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):In}function og(t,e){return Object.is(t,e)}var Nt=null,od=!1,sg=1,Fn=Symbol("SIGNAL");function Ne(t){let e=Nt;return Nt=t,e}function R1(){return Nt}var ml={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ad(t){if(od)throw new Error("");if(Nt===null)return;Nt.consumerOnSignalRead(t);let e=Nt.nextProducerIndex++;if(ud(Nt),e<Nt.producerNode.length&&Nt.producerNode[e]!==t&&pl(Nt)){let n=Nt.producerNode[e];cd(n,Nt.producerIndexOfThis[e])}Nt.producerNode[e]!==t&&(Nt.producerNode[e]=t,Nt.producerIndexOfThis[e]=pl(Nt)?F1(t,Nt,e):0),Nt.producerLastReadVersion[e]=t.version}function HR(){sg++}function ag(t){if(!(pl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===sg)){if(!t.producerMustRecompute(t)&&!cg(t)){rg(t);return}t.producerRecomputeValue(t),rg(t)}}function P1(t){if(t.liveConsumerNode===void 0)return;let e=od;od=!0;try{for(let n of t.liveConsumerNode)n.dirty||UR(n)}finally{od=e}}function k1(){return Nt?.consumerAllowSignalWrites!==!1}function UR(t){t.dirty=!0,P1(t),t.consumerMarkedDirty?.(t)}function rg(t){t.dirty=!1,t.lastCleanEpoch=sg}function ld(t){return t&&(t.nextProducerIndex=0),Ne(t)}function lg(t,e){if(Ne(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(pl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)cd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cg(t){ud(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(ag(n),i!==n.version))return!0}return!1}function ug(t){if(ud(t),pl(t))for(let e=0;e<t.producerNode.length;e++)cd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function F1(t,e,n){if(O1(t),t.liveConsumerNode.length===0&&L1(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=F1(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function cd(t,e){if(O1(t),t.liveConsumerNode.length===1&&L1(t))for(let i=0;i<t.producerNode.length;i++)cd(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];ud(r),r.producerIndexOfThis[i]=e}}function pl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ud(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function O1(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function L1(t){return t.producerNode!==void 0}function V1(t){let e=Object.create($R);e.computation=t;let n=()=>{if(ag(e),ad(e),e.value===sd)throw e.error;return e.value};return n[Fn]=e,n}var ng=Symbol("UNSET"),ig=Symbol("COMPUTING"),sd=Symbol("ERRORED"),$R=fe(H({},ml),{value:ng,dirty:!0,error:null,equal:og,producerMustRecompute(t){return t.value===ng||t.value===ig},producerRecomputeValue(t){if(t.value===ig)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ig;let n=ld(t),i;try{i=t.computation()}catch(r){i=sd,t.error=r}finally{lg(t,n)}if(e!==ng&&e!==sd&&i!==sd&&t.equal(e,i)){t.value=e;return}t.value=i,t.version++}});function GR(){throw new Error}var j1=GR;function B1(){j1()}function H1(t){j1=t}var qR=null;function U1(t){let e=Object.create(dg);e.value=t;let n=()=>(ad(e),e.value);return n[Fn]=e,n}function dd(t,e){k1()||B1(),t.equal(t.value,e)||(t.value=e,zR(t))}function $1(t,e){k1()||B1(),dd(t,e(t.value))}var dg=fe(H({},ml),{equal:og,value:void 0});function zR(t){t.version++,HR(),P1(t),qR?.()}var AE="https://g.co/ng/security#xss",z=class extends Error{code;constructor(e,n){super(S0(e,n)),this.code=e}};function S0(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var NE=Symbol("InputSignalNode#UNSET"),WR=fe(H({},dg),{transformFn:void 0,applyValueToInputSignal(t,e){dd(t,e)}});function ME(t,e){let n=Object.create(WR);n.value=t,n.transformFn=e?.transform;function i(){if(ad(n),n.value===NE)throw new z(-950,!1);return n.value}return i[Fn]=n,i}function Pl(t){return{toString:t}.toString()}var hd="__parameters__";function KR(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function QR(t,e,n){return Pl(()=>{let i=KR(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,u,g){let v=l.hasOwnProperty(hd)?l[hd]:Object.defineProperty(l,hd,{value:[]})[hd];for(;v.length<=g;)v.push(null);return(v[g]=v[g]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var yl=globalThis;function at(t){for(let e in t)if(t[e]===at)return e;throw Error("Could not find renamed property on target object.")}function YR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(vn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function G1(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var ZR=at({__forward_ref__:at});function ti(t){return t.__forward_ref__=ti,t.toString=function(){return vn(this())},t}function on(t){return RE(t)?t():t}function RE(t){return typeof t=="function"&&t.hasOwnProperty(ZR)&&t.__forward_ref__===ti}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wd(t){return q1(t,kE)||q1(t,FE)}function PE(t){return Wd(t)!==null}function q1(t,e){return t.hasOwnProperty(e)?t[e]:null}function JR(t){let e=t&&(t[kE]||t[FE]);return e||null}function z1(t){return t&&(t.hasOwnProperty(W1)||t.hasOwnProperty(XR))?t[W1]:null}var kE=at({\u0275prov:at}),W1=at({\u0275inj:at}),FE=at({ngInjectableDef:at}),XR=at({ngInjectorDef:at}),re=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function OE(t){return t&&!!t.\u0275providers}var eP=at({\u0275cmp:at}),tP=at({\u0275dir:at}),nP=at({\u0275pipe:at}),iP=at({\u0275mod:at}),Sd=at({\u0275fac:at}),vl=at({__NG_ELEMENT_ID__:at}),K1=at({__NG_ENV_ID__:at});function Kd(t){return typeof t=="string"?t:t==null?"":String(t)}function rP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Kd(t)}function oP(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,t)}function I0(t,e){throw new z(-201,!1)}var Se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Se||{}),Ig;function LE(){return Ig}function On(t){let e=Ig;return Ig=t,e}function VE(t,e,n){let i=Wd(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Se.Optional)return null;if(e!==void 0)return e;I0(t,"Injector")}var sP={},Cl=sP,Tg="__NG_DI_FLAG__",Id="ngTempTokenPath",aP="ngTokenPath",lP=/\n/gm,cP="\u0275",Q1="__source",Os;function uP(){return Os}function Nr(t){let e=Os;return Os=t,e}function dP(t,e=Se.Default){if(Os===void 0)throw new z(-203,!1);return Os===null?VE(t,void 0,e):Os.get(t,e&Se.Optional?null:void 0,e)}function ce(t,e=Se.Default){return(LE()||dP)(on(t),e)}function Y(t,e=Se.Default){return ce(t,Qd(e))}function Qd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function xg(t){let e=[];for(let n=0;n<t.length;n++){let i=on(t[n]);if(Array.isArray(i)){if(i.length===0)throw new z(900,!1);let r,o=Se.Default;for(let s=0;s<i.length;s++){let a=i[s],l=fP(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(ce(r,o))}else e.push(ce(i))}return e}function hP(t,e){return t[Tg]=e,t.prototype[Tg]=e,t}function fP(t){return t[Tg]}function pP(t,e,n,i){let r=t[Id];throw e[Q1]&&r.unshift(e[Q1]),t.message=mP(`
`+t.message,r,n,i),t[aP]=r,t[Id]=null,t}function mP(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==cP?t.slice(2):t;let r=vn(e);if(Array.isArray(e))r=e.map(vn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):vn(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(lP,`
  `)}`}var Rt=hP(QR("Optional"),8);function Vs(t,e){let n=t.hasOwnProperty(Sd);return n?t[Sd]:null}function gP(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function _P(t){return t.flat(Number.POSITIVE_INFINITY)}function T0(t,e){t.forEach(n=>Array.isArray(n)?T0(n,e):e(n))}function jE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Td(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vP(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function yP(t,e,n){let i=kl(t,e);return i>=0?t[i|1]=n:(i=~i,vP(t,i,e,n)),i}function hg(t,e){let n=kl(t,e);if(n>=0)return t[n|1]}function kl(t,e){return CP(t,e,1)}function CP(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var js={},Ln=[],Bs=new re(""),BE=new re("",-1),HE=new re(""),xd=class{get(e,n=Cl){if(n===Cl){let i=new Error(`NullInjectorError: No provider for ${vn(e)}!`);throw i.name="NullInjectorError",i}return n}};function UE(t,e){let n=t[iP]||null;if(!n&&e===!0)throw new Error(`Type ${vn(t)} does not have '\u0275mod' property.`);return n}function Io(t){return t[eP]||null}function $E(t){return t[tP]||null}function GE(t){return t[nP]||null}function qE(t){let e=Io(t)||$E(t)||GE(t);return e!==null?e.standalone:!1}function Bn(t){return{\u0275providers:t}}function bP(...t){return{\u0275providers:zE(!0,t),\u0275fromNgModule:!0}}function zE(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return T0(e,s=>{let a=s;Dg(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&WE(r,o),n}function WE(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];x0(r,o=>{e(o,i)})}}function Dg(t,e,n,i){if(t=on(t),!t)return!1;let r=null,o=z1(t),s=!o&&Io(t);if(!o&&!s){let l=t.ngModule;if(o=z1(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Dg(u,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{T0(o.imports,g=>{Dg(g,e,n,i)&&(u||=[],u.push(g))})}finally{}u!==void 0&&WE(u,e)}if(!a){let u=Vs(r)||(()=>new r);e({provide:r,useFactory:u,deps:Ln},r),e({provide:HE,useValue:r,multi:!0},r),e({provide:Bs,useValue:()=>ce(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=t;x0(l,g=>{e(g,u)})}}else return!1;return r!==t&&t.providers!==void 0}function x0(t,e){for(let n of t)OE(n)&&(n=n.\u0275providers),Array.isArray(n)?x0(n,e):e(n)}var wP=at({provide:String,useValue:at});function KE(t){return t!==null&&typeof t=="object"&&wP in t}function EP(t){return!!(t&&t.useExisting)}function SP(t){return!!(t&&t.useFactory)}function Hs(t){return typeof t=="function"}function IP(t){return!!t.useClass}var Yd=new re(""),vd={},TP={},fg;function D0(){return fg===void 0&&(fg=new xd),fg}var Vn=class{},bl=class extends Vn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,Ng(e,s=>this.processProvider(s)),this.records.set(BE,Ps(void 0,this)),r.has("environment")&&this.records.set(Vn,Ps(void 0,this));let o=this.records.get(Yd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(HE,Ln,Se.Self))}destroy(){gl(this),this._destroyed=!0;let e=Ne(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ne(e)}}onDestroy(e){return gl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){gl(this);let n=Nr(this),i=On(void 0),r;try{return e()}finally{Nr(n),On(i)}}get(e,n=Cl,i=Se.Default){if(gl(this),e.hasOwnProperty(K1))return e[K1](this);i=Qd(i);let r,o=Nr(this),s=On(void 0);try{if(!(i&Se.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=MP(e)&&Wd(e);u&&this.injectableDefInScope(u)?l=Ps(Ag(e),vd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Se.Self?D0():this.parent;return n=i&Se.Optional&&n===Cl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Id]=a[Id]||[]).unshift(vn(e)),o)throw a;return pP(a,e,"R3InjectorError",this.source)}else throw a}finally{On(s),Nr(o)}}resolveInjectorInitializers(){let e=Ne(null),n=Nr(this),i=On(void 0),r;try{let o=this.get(Bs,Ln,Se.Self);for(let s of o)s()}finally{Nr(n),On(i),Ne(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(vn(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=on(e);let n=Hs(e)?e:on(e&&e.provide),i=DP(e);if(!Hs(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Ps(void 0,vd,!0),r.factory=()=>xg(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Ne(null);try{return n.value===vd&&(n.value=TP,n.value=n.factory()),typeof n.value=="object"&&n.value&&NP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ne(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=on(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ag(t){let e=Wd(t),n=e!==null?e.factory:Vs(t);if(n!==null)return n;if(t instanceof re)throw new z(204,!1);if(t instanceof Function)return xP(t);throw new z(204,!1)}function xP(t){if(t.length>0)throw new z(204,!1);let n=JR(t);return n!==null?()=>n.factory(t):()=>new t}function DP(t){if(KE(t))return Ps(void 0,t.useValue);{let e=QE(t);return Ps(e,vd)}}function QE(t,e,n){let i;if(Hs(t)){let r=on(t);return Vs(r)||Ag(r)}else if(KE(t))i=()=>on(t.useValue);else if(SP(t))i=()=>t.useFactory(...xg(t.deps||[]));else if(EP(t))i=()=>ce(on(t.useExisting));else{let r=on(t&&(t.useClass||t.provide));if(AP(t))i=()=>new r(...xg(t.deps));else return Vs(r)||Ag(r)}return i}function gl(t){if(t.destroyed)throw new z(205,!1)}function Ps(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function AP(t){return!!t.deps}function NP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function MP(t){return typeof t=="function"||typeof t=="object"&&t instanceof re}function Ng(t,e){for(let n of t)Array.isArray(n)?Ng(n,e):n&&OE(n)?Ng(n.\u0275providers,e):e(n)}function ni(t,e){t instanceof bl&&gl(t);let n,i=Nr(t),r=On(void 0);try{return e()}finally{Nr(i),On(r)}}function RP(){return LE()!==void 0||uP()!=null}function PP(t){return typeof t=="function"}var Qi=0,me=1,ue=2,Jt=3,Xn=4,ii=5,wl=6,Dd=7,Yt=8,Us=9,Gi=10,Vt=11,El=12,Y1=13,Ws=14,ei=15,To=16,ks=17,qi=18,Zd=19,YE=20,Mr=21,pg=22,Ad=23,xn=24,jn=25,ZE=1;var xo=7,Nd=8,$s=9,Zt=10,Md=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Md||{});function Rr(t){return Array.isArray(t)&&typeof t[ZE]=="object"}function Yi(t){return Array.isArray(t)&&t[ZE]===!0}function JE(t){return(t.flags&4)!==0}function Jd(t){return t.componentOffset>-1}function A0(t){return(t.flags&1)===1}function Pr(t){return!!t.template}function Mg(t){return(t[ue]&512)!==0}var Rg=class{previousValue;currentValue;firstChange;constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function XE(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}var Zi=(()=>{let t=()=>eS;return t.ngInherit=!0,t})();function eS(t){return t.type.prototype.ngOnChanges&&(t.setInput=FP),kP}function kP(){let t=nS(this),e=t?.current;if(e){let n=t.previous;if(n===js)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function FP(t,e,n,i,r){let o=this.declaredInputs[i],s=nS(t)||OP(t,{previous:js,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Rg(u&&u.currentValue,n,l===js),XE(t,e,r,n)}var tS="__ngSimpleChanges__";function nS(t){return t[tS]||null}function OP(t,e){return t[tS]=e}var Z1=null;var yi=function(t,e,n){Z1?.(t,e,n)},LP="svg",VP="math";function bi(t){for(;Array.isArray(t);)t=t[Qi];return t}function iS(t,e){return bi(e[t])}function Hn(t,e){return bi(e[t.index])}function N0(t,e){return t.data[e]}function jP(t,e){return t[e]}function jr(t,e){let n=e[t];return Rr(n)?n:n[Qi]}function BP(t){return(t[ue]&4)===4}function M0(t){return(t[ue]&128)===128}function HP(t){return Yi(t[Jt])}function Gs(t,e){return e==null?null:t[e]}function rS(t){t[ks]=0}function R0(t){t[ue]&1024||(t[ue]|=1024,M0(t)&&eh(t))}function UP(t,e){for(;t>0;)e=e[Ws],t--;return e}function Xd(t){return!!(t[ue]&9216||t[xn]?.dirty)}function Pg(t){t[Gi].changeDetectionScheduler?.notify(9),t[ue]&64&&(t[ue]|=1024),Xd(t)&&eh(t)}function eh(t){t[Gi].changeDetectionScheduler?.notify(0);let e=Do(t);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!M0(e)));)e=Do(e)}function oS(t,e){if((t[ue]&256)===256)throw new z(911,!1);t[Mr]===null&&(t[Mr]=[]),t[Mr].push(e)}function $P(t,e){if(t[Mr]===null)return;let n=t[Mr].indexOf(e);n!==-1&&t[Mr].splice(n,1)}function Do(t){let e=t[Jt];return Yi(e)?e[Jt]:e}var Ie={lFrame:pS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var kg=!1;function GP(){return Ie.lFrame.elementDepthCount}function qP(){Ie.lFrame.elementDepthCount++}function zP(){Ie.lFrame.elementDepthCount--}function sS(){return Ie.bindingsEnabled}function WP(){return Ie.skipHydrationRootTNode!==null}function KP(t){return Ie.skipHydrationRootTNode===t}function QP(){Ie.skipHydrationRootTNode=null}function Ue(){return Ie.lFrame.lView}function yn(){return Ie.lFrame.tView}function Z(t){return Ie.lFrame.contextLView=t,t[Yt]}function J(t){return Ie.lFrame.contextLView=null,t}function sn(){let t=aS();for(;t!==null&&t.type===64;)t=t.parent;return t}function aS(){return Ie.lFrame.currentTNode}function YP(){let t=Ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Fl(t,e){let n=Ie.lFrame;n.currentTNode=t,n.isParent=e}function lS(){return Ie.lFrame.isParent}function ZP(){Ie.lFrame.isParent=!1}function JP(){return Ie.lFrame.contextLView}function cS(){return kg}function J1(t){let e=kg;return kg=t,e}function uS(){let t=Ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function XP(t){return Ie.lFrame.bindingIndex=t}function Ol(){return Ie.lFrame.bindingIndex++}function ek(t){let e=Ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tk(){return Ie.lFrame.inI18n}function nk(t,e){let n=Ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,Fg(e)}function ik(){return Ie.lFrame.currentDirectiveIndex}function Fg(t){Ie.lFrame.currentDirectiveIndex=t}function rk(t){let e=Ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function dS(){return Ie.lFrame.currentQueryIndex}function P0(t){Ie.lFrame.currentQueryIndex=t}function ok(t){let e=t[me];return e.type===2?e.declTNode:e.type===1?t[ii]:null}function hS(t,e,n){if(n&Se.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&Se.Host);)if(r=ok(o),r===null||(o=o[Ws],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=Ie.lFrame=fS();return i.currentTNode=e,i.lView=t,!0}function k0(t){let e=fS(),n=t[me];Ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fS(){let t=Ie.lFrame,e=t===null?null:t.child;return e===null?pS(t):e}function pS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function mS(){let t=Ie.lFrame;return Ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var gS=mS;function F0(){let t=mS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sk(t){return(Ie.lFrame.contextLView=UP(t,Ie.lFrame.contextLView))[Yt]}function Fo(){return Ie.lFrame.selectedIndex}function Ao(t){Ie.lFrame.selectedIndex=t}function _S(){let t=Ie.lFrame;return N0(t.tView,t.selectedIndex)}function ak(){return Ie.lFrame.currentNamespace}var vS=!0;function O0(){return vS}function L0(t){vS=t}function lk(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=eS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function V0(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:g}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),g!=null&&(t.destroyHooks??=[]).push(n,g)}}function yd(t,e,n){yS(t,e,3,n)}function Cd(t,e,n,i){(t[ue]&3)===n&&yS(t,e,n,i)}function mg(t,e){let n=t[ue];(n&3)===e&&(n&=16383,n+=1,t[ue]=n)}function yS(t,e,n,i){let r=i!==void 0?t[ks]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(t[ks]+=65536),(a<o||o==-1)&&(ck(t,n,e,l),t[ks]=(t[ks]&4294901760)+l+2),l++}function X1(t,e){yi(4,t,e);let n=Ne(null);try{e.call(t)}finally{Ne(n),yi(5,t,e)}}function ck(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[ue]>>14<t[ks]>>16&&(t[ue]&3)===e&&(t[ue]+=16384,X1(a,o)):X1(a,o)}var Ls=-1,No=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,i){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=i}};function uk(t){return t instanceof No}function dk(t){return(t.flags&8)!==0}function hk(t){return(t.flags&16)!==0}function Og(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];fk(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function CS(t){return t===3||t===4||t===6}function fk(t){return t.charCodeAt(0)===64}function Sl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?eE(t,n,r,null,e[++i]):eE(t,n,r,null,null))}}return t}function eE(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var gg={},Lg=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Qd(i);let r=this.injector.get(e,gg,i);return r!==gg||n===gg?r:this.parentInjector.get(e,n,i)}};function bS(t){return t!==Ls}function Rd(t){return t&32767}function pk(t){return t>>16}function Pd(t,e){let n=pk(t),i=e;for(;n>0;)i=i[Ws],n--;return i}var Vg=!0;function tE(t){let e=Vg;return Vg=t,e}var mk=256,wS=mk-1,ES=5,gk=0,Ci={};function _k(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(vl)&&(i=n[vl]),i==null&&(i=n[vl]=gk++);let r=i&wS,o=1<<r;e.data[t+(r>>ES)]|=o}function kd(t,e){let n=SS(t,e);if(n!==-1)return n;let i=e[me];i.firstCreatePass&&(t.injectorIndex=e.length,_g(i.data,t),_g(e,null),_g(i.blueprint,null));let r=j0(t,e),o=t.injectorIndex;if(bS(r)){let s=Rd(r),a=Pd(r,e),l=a[me].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=r,o}function _g(t,e){t.push(0,0,0,0,0,0,0,0,e)}function SS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function j0(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=AS(r),i===null)return Ls;if(n++,r=r[Ws],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Ls}function jg(t,e,n){_k(t,e,n)}function vk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(CS(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function IS(t,e,n){if(n&Se.Optional||t!==void 0)return t;I0(e,"NodeInjector")}function TS(t,e,n,i){if(n&Se.Optional&&i===void 0&&(i=null),!(n&(Se.Self|Se.Host))){let r=t[Us],o=On(void 0);try{return r?r.get(e,i,n&Se.Optional):VE(e,i,n&Se.Optional)}finally{On(o)}}return IS(i,e,n)}function xS(t,e,n,i=Se.Default,r){if(t!==null){if(e[ue]&2048&&!(i&Se.Self)){let s=wk(t,e,n,i,Ci);if(s!==Ci)return s}let o=DS(t,e,n,i,Ci);if(o!==Ci)return o}return TS(e,n,i,r)}function DS(t,e,n,i,r){let o=Ck(n);if(typeof o=="function"){if(!hS(e,t,i))return i&Se.Host?IS(r,n,i):TS(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&Se.Optional))I0(n);else return s}finally{gS()}}else if(typeof o=="number"){let s=null,a=SS(t,e),l=Ls,u=i&Se.Host?e[ei][ii]:null;for((a===-1||i&Se.SkipSelf)&&(l=a===-1?j0(t,e):e[a+8],l===Ls||!iE(i,!1)?a=-1:(s=e[me],a=Rd(l),e=Pd(l,e)));a!==-1;){let g=e[me];if(nE(o,a,g.data)){let v=yk(a,e,n,s,i,u);if(v!==Ci)return v}l=e[a+8],l!==Ls&&iE(i,e[me].data[a+8]===u)&&nE(o,a,e)?(s=g,a=Rd(l),e=Pd(l,e)):a=-1}}return r}function yk(t,e,n,i,r,o){let s=e[me],a=s.data[t+8],l=i==null?Jd(a)&&Vg:i!=s&&(a.type&3)!==0,u=r&Se.Host&&o===a,g=bd(a,s,n,l,u);return g!==null?Mo(e,s,g,a):Ci}function bd(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,u=t.directiveEnd,g=o>>20,v=i?a:a+g,w=r?a+g:u;for(let S=v;S<w;S++){let x=s[S];if(S<l&&n===x||S>=l&&x.type===n)return S}if(r){let S=s[l];if(S&&Pr(S)&&S.type===n)return l}return null}function Mo(t,e,n,i){let r=t[n],o=e.data;if(uk(r)){let s=r;s.resolving&&oP(rP(o[n]));let a=tE(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?On(s.injectImpl):null,g=hS(t,i,Se.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&lk(n,o[n],e)}finally{u!==null&&On(u),tE(a),s.resolving=!1,gS()}}return r}function Ck(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vl)?t[vl]:void 0;return typeof e=="number"?e>=0?e&wS:bk:e}function nE(t,e,n){let i=1<<t;return!!(n[e+(t>>ES)]&i)}function iE(t,e){return!(t&Se.Self)&&!(t&Se.Host&&e)}var So=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return xS(this._tNode,this._lView,e,Qd(i),n)}};function bk(){return new So(sn(),Ue())}function Ei(t){return Pl(()=>{let e=t.prototype.constructor,n=e[Sd]||Bg(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[Sd]||Bg(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Bg(t){return RE(t)?()=>{let e=Bg(on(t));return e&&e()}:Vs(t)}function wk(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!(s[ue]&512);){let a=DS(o,s,n,i|Se.Self,Ci);if(a!==Ci)return a;let l=o.parent;if(!l){let u=s[YE];if(u){let g=u.get(n,Ci,i);if(g!==Ci)return g}l=AS(s),s=s[Ws]}o=l}return r}function AS(t){let e=t[me],n=e.type;return n===2?e.declTNode:n===1?t[ii]:null}function B0(t){return vk(sn(),t)}function rE(t,e=null,n=null,i){let r=NS(t,e,n,i);return r.resolveInjectorInitializers(),r}function NS(t,e=null,n=null,i,r=new Set){let o=[n||Ln,bP(t)];return i=i||(typeof t=="object"?void 0:vn(t)),new bl(o,e||D0(),i||null,r)}var jt=class t{static THROW_IF_NOT_FOUND=Cl;static NULL=new xd;static create(e,n){if(Array.isArray(e))return rE({name:""},n,e,"");{let i=e.name??"";return rE({name:i},e.parent,e.providers,i)}}static \u0275prov=ee({token:t,providedIn:"any",factory:()=>ce(BE)});static __NG_ELEMENT_ID__=-1};var Ek=new re("");Ek.__NG_ELEMENT_ID__=t=>{let e=sn();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&Se.Optional)return null;throw new z(204,!1)};var MS=!1,RS=(()=>{class t{static __NG_ELEMENT_ID__=Sk;static __NG_ENV_ID__=n=>n}return t})(),Hg=class extends RS{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return oS(this._lView,e),()=>$P(this._lView,e)}};function Sk(){return new Hg(Ue())}var Il=class{},th=new re("",{providedIn:"root",factory:()=>!1});var PS=new re(""),kS=new re(""),Ks=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Lt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}return t})();var Ug=class extends It{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,RP()&&(this.destroyRef=Y(RS,{optional:!0})??void 0,this.pendingTasks=Y(Ks,{optional:!0})??void 0)}emit(e){let n=Ne(null);try{super.next(e)}finally{Ne(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof yt&&e.add(a),a}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},Mt=Ug;function Fd(...t){}function FS(t){let e,n;function i(){t=Fd;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),i()})),()=>i()}function oE(t){return queueMicrotask(()=>t()),()=>{t=Fd}}var H0="isAngularZone",Od=H0+"_ID",Ik=0,Ye=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Mt(!1);onMicrotaskEmpty=new Mt(!1);onStable=new Mt(!1);onError=new Mt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=MS}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,Dk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(H0)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Tk,Fd,Fd);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},Tk={};function U0(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){FS(()=>{t.callbackScheduled=!1,$g(t),t.isCheckStableRunning=!0,U0(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),$g(t)}function Dk(t){let e=()=>{xk(t)},n=Ik++;t._inner=t._inner.fork({name:"angular",properties:{[H0]:!0,[Od]:n,[Od+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(Ak(l))return i.invokeTask(o,s,a,l);try{return sE(t),i.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),aE(t)}},onInvoke:(i,r,o,s,a,l,u)=>{try{return sE(t),i.invoke(o,s,a,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Nk(l)&&e(),aE(t)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,$g(t),U0(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function $g(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function sE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aE(t){t._nesting--,U0(t)}var Gg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Mt;onMicrotaskEmpty=new Mt;onStable=new Mt;onError=new Mt;run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function Ak(t){return OS(t,"__ignore_ng_zone__")}function Nk(t){return OS(t,"__scheduler_tick__")}function OS(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var kr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Mk=new re("",{providedIn:"root",factory:()=>{let t=Y(Ye),e=Y(kr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function lE(t,e){return ME(t,e)}function Rk(t){return ME(NE,t)}var LS=(lE.required=Rk,lE);function Pk(){return Qs(sn(),Ue())}function Qs(t,e){return new an(Hn(t,e))}var an=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Pk}return t})();function kk(t){return t instanceof an?t.nativeElement:t}function Fk(){return this._results[Symbol.iterator]()}var qg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new It}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=_P(e);(this._changesDetected=!gP(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Fk};function VS(t){return(t.flags&128)===128}var jS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(jS||{}),BS=new Map,Ok=0;function Lk(){return Ok++}function Vk(t){BS.set(t[Zd],t)}function zg(t){BS.delete(t[Zd])}var cE="__ngContext__";function Ro(t,e){Rr(e)?(t[cE]=e[Zd],Vk(e)):t[cE]=e}function HS(t){return $S(t[El])}function US(t){return $S(t[Xn])}function $S(t){for(;t!==null&&!Yi(t);)t=t[Xn];return t}var Wg;function GS(t){Wg=t}function jk(){if(Wg!==void 0)return Wg;if(typeof document<"u")return document;throw new z(210,!1)}var $0=new re("",{providedIn:"root",factory:()=>Bk}),Bk="ng",G0=new re(""),Br=new re("",{providedIn:"platform",factory:()=>"unknown"});var q0=new re(""),z0=new re("",{providedIn:"root",factory:()=>jk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Hk="h",Uk="b";var qS=!1,$k=new re("",{providedIn:"root",factory:()=>qS});var zS=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(zS||{}),WS=new re(""),uE=new Set;function Ji(t){uE.has(t)||(uE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Gk=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}return t})();var qk=()=>null;function W0(t,e,n=!1){return qk(t,e,n)}var wi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(wi||{}),fd;function zk(){if(fd===void 0&&(fd=null,yl.trustedTypes))try{fd=yl.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fd}function Wk(t){return zk()?.createScriptURL(t)||t}var pd;function Kk(){if(pd===void 0&&(pd=null,yl.trustedTypes))try{pd=yl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pd}function dE(t){return Kk()?.createScriptURL(t)||t}var Ld=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AE})`}};function Ll(t){return t instanceof Ld?t.changingThisBreaksApplicationSecurity:t}function K0(t,e){let n=Qk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${AE})`)}return n===e}function Qk(t){return t instanceof Ld&&t.getTypeName()||null}var Yk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function KS(t){return t=String(t),t.match(Yk)?t:"unsafe:"+t}var nh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(nh||{});function Zk(t){let e=YS();return e?e.sanitize(nh.URL,t)||"":K0(t,"URL")?Ll(t):KS(Kd(t))}function Jk(t){let e=YS();if(e)return dE(e.sanitize(nh.RESOURCE_URL,t)||"");if(K0(t,"ResourceURL"))return dE(Ll(t));throw new z(904,!1)}function ih(t){return Wk(t[0])}function Xk(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Jk:Zk}function QS(t,e,n){return Xk(e,n)(t)}function YS(){let t=Ue();return t&&t[Gi].sanitizer}function ZS(t){return t.ownerDocument.defaultView}function JS(t){return t instanceof Function?t():t}var Fr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Fr||{}),zi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(zi||{}),e6;function Q0(t,e){return e6(t,e)}function Fs(t,e,n,i,r){if(i!=null){let o,s=!1;Yi(i)?o=i:Rr(i)&&(s=!0,i=i[Qi]);let a=bi(i);t===0&&n!==null?r==null?nI(e,n,a):Vd(e,n,a,r||null,!0):t===1&&n!==null?Vd(e,n,a,r||null,!0):t===2?m6(e,a,s):t===3&&e.destroyNode(a),o!=null&&_6(e,t,o,n,r)}}function t6(t,e){return t.createText(e)}function n6(t,e,n){t.setValue(e,n)}function XS(t,e,n){return t.createElement(e,n)}function i6(t,e){eI(t,e),e[Qi]=null,e[ii]=null}function r6(t,e,n,i,r,o){i[Qi]=r,i[ii]=e,oh(t,i,n,1,r,o)}function eI(t,e){e[Gi].changeDetectionScheduler?.notify(10),oh(t,e,e[Vt],2,null,null)}function o6(t){let e=t[El];if(!e)return vg(t[me],t);for(;e;){let n=null;if(Rr(e))n=e[El];else{let i=e[Zt];i&&(n=i)}if(!n){for(;e&&!e[Xn]&&e!==t;)Rr(e)&&vg(e[me],e),e=e[Jt];e===null&&(e=t),Rr(e)&&vg(e[me],e),n=e&&e[Xn]}e=n}}function s6(t,e,n,i){let r=Zt+i,o=n.length;i>0&&(n[r-1][Xn]=e),i<o-Zt?(e[Xn]=n[r],jE(n,Zt+i,e)):(n.push(e),e[Xn]=null),e[Jt]=n;let s=e[To];s!==null&&n!==s&&tI(s,e);let a=e[qi];a!==null&&a.insertView(t),Pg(e),e[ue]|=128}function tI(t,e){let n=t[$s],i=e[Jt];if(Rr(i))t[ue]|=Md.HasTransplantedViews;else{let r=i[Jt][ei];e[ei]!==r&&(t[ue]|=Md.HasTransplantedViews)}n===null?t[$s]=[e]:n.push(e)}function Y0(t,e){let n=t[$s],i=n.indexOf(e);n.splice(i,1)}function Tl(t,e){if(t.length<=Zt)return;let n=Zt+e,i=t[n];if(i){let r=i[To];r!==null&&r!==t&&Y0(r,i),e>0&&(t[n-1][Xn]=i[Xn]);let o=Td(t,Zt+e);i6(i[me],i);let s=o[qi];s!==null&&s.detachView(o[me]),i[Jt]=null,i[Xn]=null,i[ue]&=-129}return i}function rh(t,e){if(!(e[ue]&256)){let n=e[Vt];n.destroyNode&&oh(t,e,n,3,null,null),o6(e)}}function vg(t,e){if(e[ue]&256)return;let n=Ne(null);try{e[ue]&=-129,e[ue]|=256,e[xn]&&ug(e[xn]),l6(t,e),a6(t,e),e[me].type===1&&e[Vt].destroy();let i=e[To];if(i!==null&&Yi(e[Jt])){i!==e[Jt]&&Y0(i,e);let r=e[qi];r!==null&&r.detachView(t)}zg(e)}finally{Ne(n)}}function a6(t,e){let n=t.cleanup,i=e[Dd];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(e[Dd]=null);let r=e[Mr];if(r!==null){e[Mr]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[Ad];if(o!==null){e[Ad]=null;for(let s of o)s.destroy()}}function l6(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof No)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];yi(4,a,l);try{l.call(a)}finally{yi(5,a,l)}}else{yi(4,r,o);try{o.call(r)}finally{yi(5,r,o)}}}}}function c6(t,e,n){return u6(t,e.parent,n)}function u6(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[Qi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===wi.None||o===wi.Emulated)return null}return Hn(i,n)}}function Vd(t,e,n,i,r){t.insertBefore(e,n,i,r)}function nI(t,e,n){t.appendChild(e,n)}function hE(t,e,n,i,r){i!==null?Vd(t,e,n,i,r):nI(t,e,n)}function iI(t,e){return t.parentNode(e)}function d6(t,e){return t.nextSibling(e)}function h6(t,e,n){return p6(t,e,n)}function f6(t,e,n){return t.type&40?Hn(t,n):null}var p6=f6,fE;function Z0(t,e,n,i){let r=c6(t,i,e),o=e[Vt],s=i.parent||e[ii],a=h6(s,i,e);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)hE(o,r,n[l],a,!1);else hE(o,r,n,a,!1);fE!==void 0&&fE(o,i,e,n,r)}function _l(t,e){if(e!==null){let n=e.type;if(n&3)return Hn(e,t);if(n&4)return Kg(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return _l(t,i);{let r=t[e.index];return Yi(r)?Kg(-1,r):bi(r)}}else{if(n&128)return _l(t,e.next);if(n&32)return Q0(e,t)()||bi(t[e.index]);{let i=rI(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Do(t[ei]);return _l(r,i)}else return _l(t,e.next)}}}return null}function rI(t,e){if(e!==null){let i=t[ei][ii],r=e.projection;return i.projection[r]}return null}function Kg(t,e){let n=Zt+t+1;if(n<e.length){let i=e[n],r=i[me].firstChild;if(r!==null)return _l(i,r)}return e[xo]}function m6(t,e,n){t.removeChild(null,e,n)}function J0(t,e,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&e===0&&(a&&Ro(bi(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)J0(t,e,n.child,i,r,o,!1),Fs(e,t,r,a,o);else if(l&32){let u=Q0(n,i),g;for(;g=u();)Fs(e,t,r,g,o);Fs(e,t,r,a,o)}else l&16?g6(t,e,i,n,r,o):Fs(e,t,r,a,o);n=s?n.projectionNext:n.next}}function oh(t,e,n,i,r,o){J0(n,i,t.firstChild,e,r,o,!1)}function g6(t,e,n,i,r,o){let s=n[ei],l=s[ii].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let g=l[u];Fs(e,t,r,g,o)}else{let u=l,g=s[Jt];VS(i)&&(u.flags|=128),J0(t,e,u,g,r,o,!0)}}function _6(t,e,n,i,r){let o=n[xo],s=bi(n);o!==s&&Fs(e,t,i,o,r);for(let a=Zt;a<n.length;a++){let l=n[a];oh(l[me],l,t,e,i,o)}}function v6(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:zi.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=zi.Important),t.setStyle(n,i,r,o))}}function y6(t,e,n){t.setAttribute(e,"style",n)}function oI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sI(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Og(t,e,i),r!==null&&oI(t,e,r),o!==null&&y6(t,e,o)}function C6(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}var aI="ng-template";function b6(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&C6(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(X0(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function X0(t){return t.type===4&&t.value!==aI}function w6(t,e,n){let i=t.type===4&&!n?aI:t.value;return e===i}function E6(t,e,n){let i=4,r=t.attrs,o=r!==null?T6(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Jn(i)&&!Jn(l))return!1;if(s&&Jn(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!w6(t,l,n)||l===""&&e.length===1){if(Jn(i))return!1;s=!0}}else if(i&8){if(r===null||!b6(t,r,l,n)){if(Jn(i))return!1;s=!0}}else{let u=e[++a],g=S6(l,r,X0(t),n);if(g===-1){if(Jn(i))return!1;s=!0;continue}if(u!==""){let v;if(g>o?v="":v=r[g+1].toLowerCase(),i&2&&u!==v){if(Jn(i))return!1;s=!0}}}}return Jn(i)||s}function Jn(t){return(t&1)===0}function S6(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return x6(e,t)}function I6(t,e,n=!1){for(let i=0;i<e.length;i++)if(E6(t,e[i],n))return!0;return!1}function T6(t){for(let e=0;e<t.length;e++){let n=t[e];if(CS(n))return e}return t.length}function x6(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function pE(t,e){return t?":not("+e.trim()+")":e}function D6(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Jn(s)&&(e+=pE(o,r),r=""),i=s,o=o||!Jn(i);n++}return r!==""&&(e+=pE(o,r)),e}function A6(t){return t.map(D6).join(",")}function N6(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!Jn(r))break;r=o}i++}return{attrs:e,classes:n}}var Hr={};function f(t=1){lI(yn(),Ue(),Fo()+t,!1)}function lI(t,e,n,i){if(!i)if((e[ue]&3)===3){let o=t.preOrderCheckHooks;o!==null&&yd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Cd(e,o,0,n)}Ao(n)}function j(t,e=Se.Default){let n=Ue();if(n===null)return ce(t,e);let i=sn();return xS(i,n,on(t),e)}function cI(t,e,n,i,r,o){let s=Ne(null);try{let a=null;r&Fr.SignalBased&&(a=e[i][Fn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Fr.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):XE(e,a,i,o)}finally{Ne(s)}}function M6(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Ao(~r);else{let o=r,s=n[++i],a=n[++i];nk(s,o);let l=e[o];a(2,l)}}}finally{Ao(-1)}}function sh(t,e,n,i,r,o,s,a,l,u,g){let v=e.blueprint.slice();return v[Qi]=r,v[ue]=i|4|128|8|64|1024,(u!==null||t&&t[ue]&2048)&&(v[ue]|=2048),rS(v),v[Jt]=v[Ws]=t,v[Yt]=n,v[Gi]=s||t&&t[Gi],v[Vt]=a||t&&t[Vt],v[Us]=l||t&&t[Us]||null,v[ii]=o,v[Zd]=Lk(),v[wl]=g,v[YE]=u,v[ei]=e.type==2?t[ei]:v,v}function ah(t,e,n,i,r){let o=t.data[e];if(o===null)o=R6(t,e,n,i,r),tk()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=YP();o.injectorIndex=s===null?-1:s.injectorIndex}return Fl(o,!0),o}function R6(t,e,n,i,r){let o=aS(),s=lS(),a=s?o:o&&o.parent,l=t.data[e]=V6(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function uI(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function dI(t,e,n,i,r){let o=Fo(),s=i&2;try{Ao(-1),s&&e.length>jn&&lI(t,e,jn,!1),yi(s?2:0,r),n(i,r)}finally{Ao(o),yi(s?3:1,r)}}function hI(t,e,n){if(JE(e)){let i=Ne(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Ne(i)}}}function fI(t,e,n){sS()&&(q6(t,e,n,Hn(n,e)),(n.flags&64)===64&&vI(t,e,n))}function pI(t,e,n=Hn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function mI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=e_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function e_(t,e,n,i,r,o,s,a,l,u,g){let v=jn+i,w=v+r,S=P6(v,w),x=typeof u=="function"?u():u;return S[me]={type:t,blueprint:S,template:n,queries:null,viewQuery:a,declTNode:e,data:S.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:x,incompleteFirstPass:!1,ssrId:g}}function P6(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Hr);return n}function k6(t,e,n,i){let o=i.get($k,qS)||n===wi.ShadowDom,s=t.selectRootElement(e,o);return F6(s),s}function F6(t){O6(t)}var O6=()=>null;function L6(t,e,n,i){let r=wI(e);r.push(n),t.firstCreatePass&&EI(t).push(i,r.length-1)}function V6(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return WP()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function mE(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,l=Fr.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}t===0?gE(i,n,u,a,l):gE(i,n,u,a)}return i}function gE(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function j6(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,u=null;for(let g=i;g<r;g++){let v=o[g],w=n?n.get(v):null,S=w?w.inputs:null,x=w?w.outputs:null;l=mE(0,v.inputs,g,l,S),u=mE(1,v.outputs,g,u,x);let L=l!==null&&s!==null&&!X0(e)?nF(l,g,s):null;a.push(L)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function B6(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function H6(t,e,n,i,r,o,s,a){let l=Hn(e,n),u=e.inputs,g;!a&&u!=null&&(g=u[i])?(t_(t,n,g,i,r),Jd(e)&&U6(n,e.index)):e.type&3?(i=B6(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(l,i,r)):e.type&12}function U6(t,e){let n=jr(e,t);n[ue]&16||(n[ue]|=64)}function gI(t,e,n,i){if(sS()){let r=i===null?null:{"":-1},o=W6(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&_I(t,e,n,s,r,a),r&&K6(n,i,r)}n.mergedAttrs=Sl(n.mergedAttrs,n.attrs)}function _I(t,e,n,i,r,o){for(let u=0;u<i.length;u++)jg(kd(n,e),t,i[u].type);Y6(n,t.data.length,i.length);for(let u=0;u<i.length;u++){let g=i[u];g.providersResolver&&g.providersResolver(g)}let s=!1,a=!1,l=uI(t,e,i.length,null);for(let u=0;u<i.length;u++){let g=i[u];n.mergedAttrs=Sl(n.mergedAttrs,g.hostAttrs),Z6(t,n,e,l,g),Q6(l,g,r),g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let v=g.type.prototype;!s&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}j6(t,n,o)}function $6(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;G6(s)!=a&&s.push(a),s.push(n,i,o)}}function G6(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function q6(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;Jd(n)&&J6(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||kd(n,e),Ro(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let l=t.data[a],u=Mo(e,t,a,n);if(Ro(u,e),s!==null&&tF(e,a-r,u,l,n,s),Pr(l)){let g=jr(n.index,e);g[Yt]=Mo(e,t,a,n)}}}function vI(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=ik();try{Ao(o);for(let a=i;a<r;a++){let l=t.data[a],u=e[a];Fg(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&z6(l,u)}}finally{Ao(-1),Fg(s)}}function z6(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function W6(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(I6(e,s.selectors,!1))if(i||(i=[]),Pr(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;Qg(t,e,l)}else i.unshift(s),Qg(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Qg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function K6(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new z(-301,!1);i.push(e[r],o)}}}function Q6(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Pr(e)&&(n[""]=t)}}function Y6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Z6(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Vs(r.type,!0)),s=new No(o,Pr(r),j);t.blueprint[i]=s,n[i]=s,$6(t,e,i,uI(t,n,r.hostVars,Hr),r)}function yI(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function J6(t,e,n){let i=Hn(e,t),r=mI(n),o=t[Gi].rendererFactory,s=lh(t,sh(t,r,null,yI(n),i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=s}function X6(t,e,n,i,r,o){let s=Hn(t,e);eF(e[Vt],s,o,t.value,n,i,r)}function eF(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Kd(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function tF(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],g=s[a++],v=s[a++];cI(i,n,l,u,g,v)}}function nF(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function CI(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function bI(t,e){let n=t.contentQueries;if(n!==null){let i=Ne(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];P0(o),a.contentQueries(2,e[s],s)}}}finally{Ne(i)}}}function lh(t,e){return t[El]?t[Y1][Xn]=e:t[El]=e,t[Y1]=e,e}function Yg(t,e,n){P0(0);let i=Ne(null);try{e(t,n)}finally{Ne(i)}}function wI(t){return t[Dd]??=[]}function EI(t){return t.cleanup??=[]}function SI(t,e){let n=t[Us],i=n?n.get(kr,null):null;i&&i.handleError(e)}function t_(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],u=e[s],g=t.data[s];cI(g,u,i,a,l,r)}}function iF(t,e,n){let i=iS(e,t);n6(t[Vt],i,n)}function rF(t,e){let n=jr(e,t),i=n[me];oF(i,n);let r=n[Qi];r!==null&&n[wl]===null&&(n[wl]=W0(r,n[Us])),n_(i,n,n[Yt])}function oF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function n_(t,e,n){k0(e);try{let i=t.viewQuery;i!==null&&Yg(1,i,n);let r=t.template;r!==null&&dI(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[qi]?.finishViewCreation(t),t.staticContentQueries&&bI(t,e),t.staticViewQueries&&Yg(2,t.viewQuery,n);let o=t.components;o!==null&&sF(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[ue]&=-5,F0()}}function sF(t,e){for(let n=0;n<e.length;n++)rF(t,e[n])}function ch(t,e,n,i){let r=Ne(null);try{let o=e.tView,a=t[ue]&4096?4096:16,l=sh(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=t[e.index];l[To]=u;let g=t[qi];return g!==null&&(l[qi]=g.createEmbeddedView(o)),n_(o,l,n),l}finally{Ne(r)}}function II(t,e){let n=Zt+e;if(n<t.length)return t[n]}function xl(t,e){return!e||e.firstChild===null||VS(t)}function uh(t,e,n,i=!0){let r=e[me];if(s6(r,e,t,n),i){let s=Kg(n,t),a=e[Vt],l=iI(a,t[xo]);l!==null&&r6(r,t[ii],a,e,l,s)}let o=e[wl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function TI(t,e){let n=Tl(t,e);return n!==void 0&&rh(n[me],n),n}function jd(t,e,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&i.push(bi(o)),Yi(o)&&aF(o,i);let s=n.type;if(s&8)jd(t,e,n.child,i);else if(s&32){let a=Q0(n,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=rI(e,n);if(Array.isArray(a))i.push(...a);else{let l=Do(e[ei]);jd(l[me],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function aF(t,e){for(let n=Zt;n<t.length;n++){let i=t[n],r=i[me].firstChild;r!==null&&jd(i[me],i,r,e)}t[xo]!==t[Qi]&&e.push(t[xo])}var xI=[];function lF(t){return t[xn]??cF(t)}function cF(t){let e=xI.pop()??Object.create(dF);return e.lView=t,e}function uF(t){t.lView[xn]!==t&&(t.lView=null,xI.push(t))}var dF=fe(H({},ml),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{eh(t.lView)},consumerOnSignalRead(){this.lView[xn]=this}});function hF(t){let e=t[xn]??Object.create(fF);return e.lView=t,e}var fF=fe(H({},ml),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Do(t.lView);for(;e&&!DI(e[me]);)e=Do(e);e&&R0(e)},consumerOnSignalRead(){this.lView[xn]=this}});function DI(t){return t.type!==2}function AI(t){if(t[Ad]===null)return;let e=!0;for(;e;){let n=!1;for(let i of t[Ad])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=n&&!!(t[ue]&8192)}}var pF=100;function NI(t,e=!0,n=0){let r=t[Gi].rendererFactory,o=!1;o||r.begin?.();try{mF(t,n)}catch(s){throw e&&SI(t,s),s}finally{o||r.end?.()}}function mF(t,e){let n=cS();try{J1(!0),Zg(t,e);let i=0;for(;Xd(t);){if(i===pF)throw new z(103,!1);i++,Zg(t,1)}}finally{J1(n)}}function gF(t,e,n,i){let r=e[ue];if((r&256)===256)return;let o=!1,s=!1;k0(e);let a=!0,l=null,u=null;o||(DI(t)?(u=lF(e),l=ld(u)):R1()===null?(a=!1,u=hF(e),l=ld(u)):e[xn]&&(ug(e[xn]),e[xn]=null));try{rS(e),XP(t.bindingStartIndex),n!==null&&dI(t,e,n,2,i);let g=(r&3)===3;if(!o)if(g){let S=t.preOrderCheckHooks;S!==null&&yd(e,S,null)}else{let S=t.preOrderHooks;S!==null&&Cd(e,S,0,null),mg(e,0)}if(s||_F(e),AI(e),MI(e,0),t.contentQueries!==null&&bI(t,e),!o)if(g){let S=t.contentCheckHooks;S!==null&&yd(e,S)}else{let S=t.contentHooks;S!==null&&Cd(e,S,1),mg(e,1)}M6(t,e);let v=t.components;v!==null&&PI(e,v,0);let w=t.viewQuery;if(w!==null&&Yg(2,w,i),!o)if(g){let S=t.viewCheckHooks;S!==null&&yd(e,S)}else{let S=t.viewHooks;S!==null&&Cd(e,S,2),mg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[pg]){for(let S of e[pg])S();e[pg]=null}o||(e[ue]&=-73)}catch(g){throw o||eh(e),g}finally{u!==null&&(lg(u,l),a&&uF(u)),F0()}}function MI(t,e){for(let n=HS(t);n!==null;n=US(n))for(let i=Zt;i<n.length;i++){let r=n[i];RI(r,e)}}function _F(t){for(let e=HS(t);e!==null;e=US(e)){if(!(e[ue]&Md.HasTransplantedViews))continue;let n=e[$s];for(let i=0;i<n.length;i++){let r=n[i];R0(r)}}}function vF(t,e,n){let i=jr(e,t);RI(i,n)}function RI(t,e){M0(t)&&Zg(t,e)}function Zg(t,e){let i=t[me],r=t[ue],o=t[xn],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&cg(o)),s||=!1,o&&(o.dirty=!1),t[ue]&=-9217,s)gF(i,t,i.template,t[Yt]);else if(r&8192){AI(t),MI(t,1);let a=i.components;a!==null&&PI(t,a,1)}}function PI(t,e,n){for(let i=0;i<e.length;i++)vF(t,e[i],n)}function i_(t,e){let n=cS()?64:1088;for(t[Gi].changeDetectionScheduler?.notify(e);t;){t[ue]|=n;let i=Do(t);if(Mg(t)&&!i)return t;t=i}return null}var Po=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[me];return jd(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i}get context(){return this._lView[Yt]}get dirty(){return!!(this._lView[ue]&9280)||!!this._lView[xn]?.dirty}set context(e){this._lView[Yt]=e}get destroyed(){return(this._lView[ue]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Jt];if(Yi(e)){let n=e[Nd],i=n?n.indexOf(this):-1;i>-1&&(Tl(e,i),Td(n,i))}this._attachedToViewContainer=!1}rh(this._lView[me],this._lView)}onDestroy(e){oS(this._lView,e)}markForCheck(){i_(this._cdRefInjectingView||this._lView,4)}markForRefresh(){R0(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-129}reattach(){Pg(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,NI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Mg(this._lView),n=this._lView[To];n!==null&&!e&&Y0(n,this._lView),eI(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=Mg(this._lView),i=this._lView[To];i!==null&&!n&&tI(i,this._lView),Pg(this._lView)}},Dl=(()=>{class t{static __NG_ELEMENT_ID__=bF}return t})(),yF=Dl,CF=class extends yF{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=ch(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new Po(r)}};function bF(){return r_(sn(),Ue())}function r_(t,e){return t.type&4?new CF(e,t,Qs(t,e)):null}var $le=new RegExp(`^(\\d+)*(${Uk}|${Hk})*(.*)`);var wF=()=>null;function Al(t,e){return wF(t,e)}var Jg=class{},Bd=class{},Xg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${vn(e)}.`)}},qs=class{static NULL=new Xg},Or=class{},ri=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>EF()}return t})();function EF(){let t=Ue(),e=sn(),n=jr(e.index,t);return(Rr(n)?n:t)[Vt]}var SF=(()=>{class t{static \u0275prov=ee({token:t,providedIn:"root",factory:()=>null})}return t})();function e0(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=G1(r,a);else if(o==2){let l=a,u=e[++s];i=G1(i,l+": "+u+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Hd=class extends qs{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Io(e);return new Nl(n,this.ngModule)}};function _E(t,e){let n=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let r=t[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Fr.None;e?n.push({propName:s,templateName:i,isSignal:(a&Fr.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function IF(t){let e=t.toLowerCase();return e==="svg"?LP:e==="math"?VP:null}var Nl=class extends Bd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,i=_E(e.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return _E(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=A6(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Ne(null);try{r=r||this.ngModule;let s=r instanceof Vn?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Lg(e,s):e,l=a.get(Or,null);if(l===null)throw new z(407,!1);let u=a.get(SF,null),g=a.get(Il,null),v={rendererFactory:l,sanitizer:u,changeDetectionScheduler:g},w=l.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=i?k6(w,i,this.componentDef.encapsulation,a):XS(w,S,IF(S)),L=512;this.componentDef.signals?L|=4096:this.componentDef.onPush||(L|=16);let $=null;x!==null&&($=W0(x,a,!0));let Q=e_(0,null,null,1,0,null,null,null,null,null,null),ie=sh(null,Q,null,L,null,null,v,w,a,null,$);k0(ie);let ae,ge,wt=null;try{let Ee=this.componentDef,N,I=null;Ee.findHostDirectiveDefs?(N=[],I=new Map,Ee.findHostDirectiveDefs(Ee,N,I),N.push(Ee)):N=[Ee];let D=TF(ie,x);wt=xF(D,x,Ee,N,ie,v,w),ge=N0(Q,jn),x&&NF(w,Ee,x,i),n!==void 0&&MF(ge,this.ngContentSelectors,n),ae=AF(wt,Ee,N,I,ie,[RF]),n_(Q,ie,null)}catch(Ee){throw wt!==null&&zg(wt),zg(ie),Ee}finally{F0()}return new t0(this.componentType,ae,Qs(ge,ie),ie,ge)}finally{Ne(o)}}},t0=class extends Jg{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new Po(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;t_(o[me],o,r,e,n),this.previousInputValues.set(e,n);let s=jr(this._tNode.index,o);i_(s,1)}}get injector(){return new So(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TF(t,e){let n=t[me],i=jn;return t[i]=e,ah(n,i,2,"#host",null)}function xF(t,e,n,i,r,o,s){let a=r[me];DF(i,t,e,s);let l=null;e!==null&&(l=W0(e,r[Us]));let u=o.rendererFactory.createRenderer(e,n),g=sh(r,mI(n),null,yI(n),r[t.index],t,o,u,null,null,l);return a.firstCreatePass&&Qg(a,t,i.length-1),lh(r,g),r[t.index]=g}function DF(t,e,n,i){for(let r of t)e.mergedAttrs=Sl(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(e0(e,e.mergedAttrs,!0),n!==null&&sI(i,n,e))}function AF(t,e,n,i,r,o){let s=sn(),a=r[me],l=Hn(s,r);_I(a,r,s,n,null,i);for(let g=0;g<n.length;g++){let v=s.directiveStart+g,w=Mo(r,a,v,s);Ro(w,r)}vI(a,r,s),l&&Ro(l,r);let u=Mo(r,a,s.directiveStart+s.componentOffset,s);if(t[Yt]=r[Yt]=u,o!==null)for(let g of o)g(u,e);return hI(a,s,r),u}function NF(t,e,n,i){if(i)Og(t,n,["ng-version","19.0.3"]);else{let{attrs:r,classes:o}=N6(e.selectors[0]);r&&Og(t,n,r),o&&o.length>0&&oI(t,n,o.join(" "))}}function MF(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}function RF(){let t=sn();V0(Ue()[me],t)}var Ys=(()=>{class t{static __NG_ELEMENT_ID__=PF}return t})();function PF(){let t=sn();return FI(t,Ue())}var kF=Ys,kI=class extends kF{_lContainer;_hostTNode;_hostLView;constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Qs(this._hostTNode,this._hostLView)}get injector(){return new So(this._hostTNode,this._hostLView)}get parentInjector(){let e=j0(this._hostTNode,this._hostLView);if(bS(e)){let n=Pd(e,this._hostLView),i=Rd(e),r=n[me].data[i+8];return new So(r,n)}else return new So(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=vE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Al(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,xl(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!PP(e),a;if(s)a=n;else{let x=n||{};a=x.index,i=x.injector,r=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let l=s?e:new Nl(Io(e)),u=i||this.parentInjector;if(!o&&l.ngModule==null){let L=(s?u:this.parentInjector).get(Vn,null);L&&(o=L)}let g=Io(l.componentType??{}),v=Al(this._lContainer,g?.id??null),w=v?.firstChild??null,S=l.create(u,r,w,o);return this.insertImpl(S.hostView,a,xl(this._hostTNode,v)),S}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(HP(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Jt],u=new kI(l,l[ii],l[Jt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return uh(s,r,o,i),e.attachToViewContainerRef(),jE(yg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=vE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Tl(this._lContainer,n);i&&(Td(yg(this._lContainer),n),rh(i[me],i))}detach(e){let n=this._adjustIndex(e,-1),i=Tl(this._lContainer,n);return i&&Td(yg(this._lContainer),n)!=null?new Po(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function vE(t){return t[Nd]}function yg(t){return t[Nd]||(t[Nd]=[])}function FI(t,e){let n,i=e[t.index];return Yi(i)?n=i:(n=CI(i,e,null,t),e[t.index]=n,lh(e,n)),OF(n,e,t,i),new kI(n,t,e)}function FF(t,e){let n=t[Vt],i=n.createComment(""),r=Hn(e,t),o=iI(n,r);return Vd(n,o,i,d6(n,r),!1),i}var OF=jF,LF=()=>!1;function VF(t,e,n){return LF(t,e,n)}function jF(t,e,n,i){if(t[xo])return;let r;n.type&8?r=bi(i):r=FF(e,n),t[xo]=r}var n0=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},i0=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)o_(e,n).matches!==null&&this.queries[n].setDirty()}},r0=class{flags;read;predicate;constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=WF(e):this.predicate=e}},o0=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},s0=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,BF(n,o)),this.matchTNodeWithReadOption(e,n,bd(n,e,o,!1,!1))}else i===Dl?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,bd(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===an||r===Ys||r===Dl&&n.type&4)this.addMatch(n.index,-2);else{let o=bd(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function BF(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function HF(t,e){return t.type&11?Qs(t,e):t.type&4?r_(t,e):null}function UF(t,e,n,i){return n===-1?HF(e,t):n===-2?$F(t,e,i):Mo(t,t[me],n,e)}function $F(t,e,n){if(n===an)return Qs(e,t);if(n===Dl)return r_(e,t);if(n===Ys)return FI(e,t)}function OI(t,e,n,i){let r=e[qi].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let g=o[u];a.push(UF(e,g,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function a0(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=OI(t,e,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let u=o[a+1],g=e[-l];for(let v=Zt;v<g.length;v++){let w=g[v];w[To]===w[Jt]&&a0(w[me],w,u,i)}if(g[$s]!==null){let v=g[$s];for(let w=0;w<v.length;w++){let S=v[w];a0(S[me],S,u,i)}}}}}return i}function GF(t,e){return t[qi].queries[e].queryList}function qF(t,e,n){let i=new qg((n&4)===4);return L6(t,e,i,i.destroy),(e[qi]??=new i0).queries.push(new n0(i))-1}function zF(t,e,n,i){let r=yn();if(r.firstCreatePass){let o=sn();KF(r,new r0(e,n,i),o.index),QF(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return qF(r,Ue(),n)}function WF(t){return t.split(",").map(e=>e.trim())}function KF(t,e,n){t.queries===null&&(t.queries=new o0),t.queries.track(new s0(e,n))}function QF(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function o_(t,e){return t.queries.getByIndex(e)}function YF(t,e){let n=t[me],i=o_(n,e);return i.crossesNgTemplate?a0(n,t,e,[]):OI(n,t,i,e)}function Vl(t,e){Ji("NgSignals");let n=U1(t),i=n[Fn];return e?.equal&&(i.equal=e.equal),n.set=r=>dd(i,r),n.update=r=>$1(i,r),n.asReadonly=ZF.bind(n),n}function ZF(){let t=this[Fn];if(t.readonlyFn===void 0){let e=()=>this();e[Fn]=t,t.readonlyFn=e}return t.readonlyFn}var Lr=class{},Ml=class{};var l0=class extends Lr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Hd(this);constructor(e,n,i,r=!0){super(),this.ngModuleType=e,this._parent=n;let o=UE(e);this._bootstrapComponents=JS(o.bootstrap),this._r3Injector=NS(e,n,[{provide:Lr,useValue:this},{provide:qs,useValue:this.componentFactoryResolver},...i],vn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},c0=class extends Ml{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new l0(this.moduleType,e,[])}};var Ud=class extends Lr{injector;componentFactoryResolver=new Hd(this);instance=null;constructor(e){super();let n=new bl([...e.providers,{provide:Lr,useValue:this},{provide:qs,useValue:this.componentFactoryResolver}],e.parent||D0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function s_(t,e,n=null){return new Ud({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var JF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=zE(!1,n.type),r=i.length>0?s_([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ee({token:t,providedIn:"environment",factory:()=>new t(ce(Vn))})}return t})();function te(t){return Pl(()=>{let e=LI(t),n=fe(H({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===jS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(JF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||wi.Emulated,styles:t.styles||Ln,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ji("NgStandalone"),VI(n);let i=t.dependencies;return n.directiveDefs=CE(i,!1),n.pipeDefs=CE(i,!0),n.id=tO(n),n})}function XF(t){return Io(t)||$E(t)}function eO(t){return t!==null}function Ur(t){return Pl(()=>({type:t.type,bootstrap:t.bootstrap||Ln,declarations:t.declarations||Ln,imports:t.imports||Ln,exports:t.exports||Ln,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yE(t,e){if(t==null)return js;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=Fr.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==Fr.None?[i,a]:i,e[o]=s):n[o]=i}return n}function pt(t){return Pl(()=>{let e=LI(t);return VI(e),e})}function LI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||js,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ln,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yE(t.inputs,e),outputs:yE(t.outputs),debugInfo:null}}function VI(t){t.features?.forEach(e=>e(t))}function CE(t,e){if(!t)return null;let n=e?GE:XF;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(eO)}function tO(t){let e=0,n=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nO(t){return Object.getPrototypeOf(t.prototype).constructor}function Dn(t){let e=nO(t.type),n=!0,i=[t];for(;e;){let r;if(Pr(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=md(t.inputs),s.inputTransforms=md(t.inputTransforms),s.declaredInputs=md(t.declaredInputs),s.outputs=md(t.outputs);let a=r.hostBindings;a&&aO(t,a);let l=r.viewQuery,u=r.contentQueries;if(l&&oO(t,l),u&&sO(t,u),iO(t,r),YR(t.outputs,r.outputs),Pr(r)&&r.data.animation){let g=t.data;g.animation=(g.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Dn&&(n=!1)}}e=Object.getPrototypeOf(e)}rO(i)}function iO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function rO(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Sl(r.hostAttrs,n=Sl(n,r.hostAttrs))}}function md(t){return t===js?{}:t===Ln?[]:t}function oO(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function sO(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function aO(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function a_(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}function jI(t,e,n){return t[e]=n}function Wi(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function lO(t,e,n,i){let r=Wi(t,e,n);return Wi(t,e+1,i)||r}function cO(t){return(t.flags&32)===32}function uO(t,e,n,i,r,o,s,a,l){let u=e.consts,g=ah(e,t,4,s||null,a||null);gI(e,n,g,Gs(u,l)),V0(e,g);let v=g.tView=e_(2,g,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,g),v.queries=e.queries.embeddedTView(g)),g}function u0(t,e,n,i,r,o,s,a,l,u){let g=n+jn,v=e.firstCreatePass?uO(g,e,t,i,r,o,s,a,l):e.data[g];Fl(v,!1);let w=dO(e,t,v,n);O0()&&Z0(e,t,w,v),Ro(w,t);let S=CI(w,t,w,v);return t[g]=S,lh(t,S),VF(S,v,t),A0(v)&&fI(e,t,v),l!=null&&pI(t,v,u),v}function y(t,e,n,i,r,o,s,a){let l=Ue(),u=yn(),g=Gs(u.consts,o);return u0(l,u,t,e,n,i,r,g,s,a),y}var dO=hO;function hO(t,e,n,i){return L0(!0),e[Vt].createComment("")}var dh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var BI=new re("");function Oo(t){return!!t&&typeof t.then=="function"}function HI(t){return!!t&&typeof t.subscribe=="function"}var UI=new re("");var $I=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=Y(UI,{optional:!0})??[];injector=Y(jt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=ni(this.injector,r);if(Oo(o))n.push(o);else if(HI(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fO=(()=>{class t{static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new d0})}return t})(),d0=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},l_=new re("");function pO(){H1(()=>{throw new z(600,!1)})}function mO(t){return t.isBoundToModule}var gO=10;function _O(t,e,n){try{let i=n();return Oo(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var Lo=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Y(Mk);afterRenderManager=Y(Gk);zonelessEnabled=Y(th);rootEffectScheduler=Y(fO);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new It;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Y(Ks).hasPendingTasks.pipe(le(n=>!n));constructor(){Y(WS,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=Y(Vn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){let r=n instanceof Bd;if(!this._injector.get($I).done){let w=!r&&qE(n),S=!1;throw new z(405,S)}let s;r?s=n:s=this._injector.get(qs).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=mO(s)?void 0:this._injector.get(Lr),l=i||s.selector,u=s.create(jt.NULL,[],l,a),g=u.location.nativeElement,v=u.injector.get(BI,null);return v?.registerApplication(g),u.onDestroy(()=>{this.detachView(u.hostView),wd(this.components,u),v?.unregisterApplication(g)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let i=this.tracingSnapshot;this.tracingSnapshot=null,i.run(zS.CHANGE_DETECTION,this._tick),i.dispose();return}if(this._runningTick)throw new z(101,!1);let n=Ne(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Ne(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Or,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<gO;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)vO(i,r,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Xd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;wd(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(l_,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>wd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vO(t,e,n,i){if(!n&&!Xd(t))return;NI(t,e,n&&!i?0:1)}function jl(t,e,n,i){let r=Ue(),o=Ol();if(Wi(r,o,e)){let s=yn(),a=_S();X6(a,r,t,e,n,i)}return jl}function yO(t,e,n,i){return Wi(t,Ol(),n)?e+Kd(n)+i:Hr}function gd(t,e){return t<<17|e<<2}function ko(t){return t>>17&32767}function CO(t){return(t&2)==2}function bO(t,e){return t&131071|e<<17}function h0(t){return t|2}function zs(t){return(t&131068)>>2}function Cg(t,e){return t&-131069|e<<2}function wO(t){return(t&1)===1}function f0(t){return t|1}function EO(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=ko(s),l=zs(s);t[i]=n;let u=!1,g;if(Array.isArray(n)){let v=n;g=v[1],(g===null||kl(v,g)>0)&&(u=!0)}else g=n;if(r)if(l!==0){let w=ko(t[a+1]);t[i+1]=gd(w,a),w!==0&&(t[w+1]=Cg(t[w+1],i)),t[a+1]=bO(t[a+1],i)}else t[i+1]=gd(a,0),a!==0&&(t[a+1]=Cg(t[a+1],i)),a=i;else t[i+1]=gd(l,0),a===0?a=i:t[l+1]=Cg(t[l+1],i),l=i;u&&(t[i+1]=h0(t[i+1])),bE(t,g,i,!0),bE(t,g,i,!1),SO(e,g,t,i,o),s=gd(a,l),o?e.classBindings=s:e.styleBindings=s}function SO(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&kl(o,e)>=0&&(n[i+1]=f0(n[i+1]))}function bE(t,e,n,i){let r=t[n+1],o=e===null,s=i?ko(r):zs(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],u=t[s+1];IO(l,e)&&(a=!0,t[s+1]=i?f0(u):h0(u)),s=i?ko(u):zs(u)}a&&(t[n+1]=i?h0(r):f0(r))}function IO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?kl(t,e)>=0:!1}function B(t,e,n){let i=Ue(),r=Ol();if(Wi(i,r,e)){let o=yn(),s=_S();H6(o,s,i,t,e,i[Vt],n,!1)}return B}function wE(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";t_(t,n,o[s],s,i)}function hh(t,e){return TO(t,e,null,!0),hh}function TO(t,e,n,i){let r=Ue(),o=yn(),s=ek(2);if(o.firstUpdatePass&&DO(o,t,s,i),e!==Hr&&Wi(r,s,e)){let a=o.data[Fo()];PO(o,a,r,r[Vt],t,r[s+1]=kO(e,n),i,s)}}function xO(t,e){return e>=t.expandoStartIndex}function DO(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[Fo()],s=xO(t,n);FO(o,i)&&e===null&&!s&&(e=!1),e=AO(r,o,e,i),EO(r,o,e,n,s,i)}}function AO(t,e,n,i){let r=rk(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=bg(null,t,e,n,i),n=Rl(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=bg(r,t,e,n,i),o===null){let l=NO(t,e,i);l!==void 0&&Array.isArray(l)&&(l=bg(null,t,e,l[1],i),l=Rl(l,e.attrs,i),MO(t,e,i,l))}else o=RO(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function NO(t,e,n){let i=n?e.classBindings:e.styleBindings;if(zs(i)!==0)return t[ko(i)]}function MO(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[ko(r)]=i}function RO(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Rl(i,s,n)}return Rl(i,e.attrs,n)}function bg(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=Rl(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Rl(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yP(t,s,n?!0:e[++o]))}return t===void 0?null:t}function PO(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let l=t.data,u=l[a+1],g=wO(u)?EE(l,e,n,r,zs(u),s):void 0;if(!$d(g)){$d(o)||CO(u)&&(o=EE(l,null,n,r,a,s));let v=iS(Fo(),n);v6(i,s,v,r,o)}}function EE(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let l=t[r],u=Array.isArray(l),g=u?l[1]:l,v=g===null,w=n[r+1];w===Hr&&(w=v?Ln:void 0);let S=v?hg(w,i):g===i?w:void 0;if(u&&!$d(S)&&(S=hg(l,i)),$d(S)&&(a=S,s))return a;let x=t[r+1];r=s?ko(x):zs(x)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=hg(l,i))}return a}function $d(t){return t!==void 0}function kO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=vn(Ll(t)))),t}function FO(t,e){return(t.flags&(e?8:16))!==0}var p0=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,n){this.attach(n,this.detach(e))}};function wg(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function OO(t,e,n){let i,r,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let u=t.at(o),g=e[o],v=wg(o,u,o,g,n);if(v!==0){v<0&&t.updateValue(o,g),o++;continue}let w=t.at(s),S=e[l],x=wg(s,w,l,S,n);if(x!==0){x<0&&t.updateValue(s,S),s--,l--;continue}let L=n(o,u),$=n(s,w),Q=n(o,g);if(Object.is(Q,$)){let ie=n(l,S);Object.is(ie,L)?(t.swap(o,s),t.updateValue(s,S),l--,s--):t.move(s,o),t.updateValue(o,g),o++;continue}if(i??=new Gd,r??=IE(t,o,s,n),m0(t,i,o,Q))t.updateValue(o,g),o++,s++;else if(r.has(Q))i.set(L,t.detach(o)),s--;else{let ie=t.create(o,e[o]);t.attach(o,ie),o++,s++}}for(;o<=l;)SE(t,i,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let g=t.at(o),v=u.value,w=wg(o,g,o,v,n);if(w!==0)w<0&&t.updateValue(o,v),o++,u=l.next();else{i??=new Gd,r??=IE(t,o,s,n);let S=n(o,v);if(m0(t,i,o,S))t.updateValue(o,v),o++,s++,u=l.next();else if(!r.has(S))t.attach(o,t.create(o,v)),o++,s++,u=l.next();else{let x=n(o,g);i.set(x,t.detach(o)),s--}}}for(;!u.done;)SE(t,i,n,t.length,u.value),u=l.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(l=>{t.destroy(l)})}function m0(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function SE(t,e,n,i,r){if(m0(t,e,i,n(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function IE(t,e,n,i){let r=new Set;for(let o=e;o<=n;o++)r.add(i(o,t.at(o)));return r}var Gd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function C(t,e){Ji("NgControlFlow");let n=Ue(),i=Ol(),r=n[i]!==Hr?n[i]:-1,o=r!==-1?qd(n,jn+r):void 0,s=0;if(Wi(n,i,t)){let a=Ne(null);try{if(o!==void 0&&TI(o,s),t!==-1){let l=jn+t,u=qd(n,l),g=y0(n[me],l),v=Al(u,g.tView.ssrId),w=ch(n,g,e,{dehydratedView:v});uh(u,w,s,xl(g,v))}}finally{Ne(a)}}else if(o!==void 0){let a=II(o,s);a!==void 0&&(a[Yt]=e)}}var g0=class{lContainer;$implicit;$index;constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-Zt}};function Ze(t){return t}var _0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function Je(t,e,n,i,r,o,s,a,l,u,g,v,w){Ji("NgControlFlow");let S=Ue(),x=yn(),L=l!==void 0,$=Ue(),Q=a?s.bind($[ei][Yt]):s,ie=new _0(L,Q);$[jn+t]=ie,u0(S,x,t+1,e,n,i,r,Gs(x.consts,o)),L&&u0(S,x,t+2,l,u,g,v,Gs(x.consts,w))}var v0=class extends p0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-Zt}at(e){return this.getLView(e)[Yt].$implicit}attach(e,n){let i=n[wl];this.needsIndexUpdate||=e!==this.length,uh(this.lContainer,n,e,xl(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,LO(this.lContainer,e)}create(e,n){let i=Al(this.lContainer,this.templateTNode.tView.ssrId),r=ch(this.hostLView,this.templateTNode,new g0(this.lContainer,n,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){rh(e[me],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Yt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Yt].$index=e}getLView(e){return VO(this.lContainer,e)}};function Xe(t){let e=Ne(null),n=Fo();try{let i=Ue(),r=i[me],o=i[n],s=n+1,a=qd(i,s);if(o.liveCollection===void 0){let u=y0(r,s);o.liveCollection=new v0(a,i,u)}else o.liveCollection.reset();let l=o.liveCollection;if(OO(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=Ol(),g=l.length===0;if(Wi(i,u,g)){let v=n+2,w=qd(i,v);if(g){let S=y0(r,v),x=Al(w,S.tView.ssrId),L=ch(i,S,void 0,{dehydratedView:x});uh(w,L,0,xl(S,x))}else TI(w,0)}}}finally{Ne(e)}}function qd(t,e){return t[e]}function LO(t,e){return Tl(t,e)}function VO(t,e){return II(t,e)}function y0(t,e){return N0(t,e)}function jO(t,e,n,i,r,o){let s=e.consts,a=Gs(s,r),l=ah(e,t,2,i,a);return gI(e,n,l,Gs(s,o)),l.attrs!==null&&e0(l,l.attrs,!1),l.mergedAttrs!==null&&e0(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function m(t,e,n,i){let r=Ue(),o=yn(),s=jn+t,a=r[Vt],l=o.firstCreatePass?jO(s,o,r,e,n,i):o.data[s],u=BO(o,r,l,a,e,t);r[s]=u;let g=A0(l);return Fl(l,!0),sI(a,u,l),!cO(l)&&O0()&&Z0(o,r,u,l),GP()===0&&Ro(u,r),qP(),g&&(fI(o,r,l),hI(o,l,r)),i!==null&&pI(r,l),m}function p(){let t=sn();lS()?ZP():(t=t.parent,Fl(t,!1));let e=t;KP(e)&&QP(),zP();let n=yn();return n.firstCreatePass&&(V0(n,t),JE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&dk(e)&&wE(n,e,Ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&hk(e)&&wE(n,e,Ue(),e.stylesWithoutHost,!1),p}function T(t,e,n,i){return m(t,e,n,i),p(),T}var BO=(t,e,n,i,r,o)=>(L0(!0),XS(i,r,ak()));function se(){return Ue()}var zd="en-US";var HO=zd;function UO(t){typeof t=="string"&&(HO=t.toLowerCase().replace(/_/g,"-"))}var $O=(t,e,n)=>{};function G(t,e,n,i){let r=Ue(),o=yn(),s=sn();return qO(o,r,r[Vt],s,t,e,i),G}function GO(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Dd],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function qO(t,e,n,i,r,o,s){let a=A0(i),u=t.firstCreatePass&&EI(t),g=e[Yt],v=wI(e),w=!0;if(i.type&3||s){let L=Hn(i,e),$=s?s(L):L,Q=v.length,ie=s?ge=>s(bi(ge[i.index])):i.index,ae=null;if(!s&&a&&(ae=GO(t,e,r,i.index)),ae!==null){let ge=ae.__ngLastListenerFn__||ae;ge.__ngNextListenerFn__=o,ae.__ngLastListenerFn__=o,w=!1}else{o=xE(i,e,g,o),$O(L,r,o);let ge=n.listen($,r,o);v.push(o,ge),u&&u.push(r,ie,Q,Q+1)}}else o=xE(i,e,g,o);let S=i.outputs,x;if(w&&S!==null&&(x=S[r])){let L=x.length;if(L)for(let $=0;$<L;$+=2){let Q=x[$],ie=x[$+1],wt=e[Q][ie].subscribe(o),Ee=v.length;v.push(o,wt),u&&u.push(r,i.index,Ee,-(Ee+1))}}}function TE(t,e,n,i){let r=Ne(null);try{return yi(6,e,n),n(i)!==!1}catch(o){return SI(t,o),!1}finally{yi(7,e,n),Ne(r)}}function xE(t,e,n,i){return function r(o){if(o===Function)return i;let s=t.componentOffset>-1?jr(t.index,e):e;i_(s,5);let a=TE(e,n,i,o),l=r.__ngNextListenerFn__;for(;l;)a=TE(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function E(t=1){return sk(t)}function GI(t,e,n,i){zF(t,e,n,i)}function qI(t){let e=Ue(),n=yn(),i=dS();P0(i+1);let r=o_(n,i);if(t.dirty&&BP(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=YF(e,i);t.reset(o,kk),t.notifyOnChanges()}return!0}return!1}function zI(){return GF(Ue(),dS())}function Zs(t){let e=JP();return jP(e,jn+t)}function d(t,e=""){let n=Ue(),i=yn(),r=t+jn,o=i.firstCreatePass?ah(i,r,1,e,null):i.data[r],s=zO(i,n,o,e,t);n[r]=s,O0()&&Z0(i,n,s,o),Fl(o,!1)}var zO=(t,e,n,i,r)=>(L0(!0),t6(e[Vt],i));function Js(t){return F("",t,""),Js}function F(t,e,n){let i=Ue(),r=yO(i,t,e,n);return r!==Hr&&iF(i,Fo(),r),F}function WO(t,e,n){let i=yn();if(i.firstCreatePass){let r=Pr(t);C0(n,i.data,i.blueprint,r,!0),C0(e,i.data,i.blueprint,r,!1)}}function C0(t,e,n,i,r){if(t=on(t),Array.isArray(t))for(let o=0;o<t.length;o++)C0(t[o],e,n,i,r);else{let o=yn(),s=Ue(),a=sn(),l=Hs(t)?t:on(t.provide),u=QE(t),g=a.providerIndexes&1048575,v=a.directiveStart,w=a.providerIndexes>>20;if(Hs(t)||!t.multi){let S=new No(u,r,j),x=Sg(l,e,r?g:g+w,v);x===-1?(jg(kd(a,s),o,l),Eg(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(S),s.push(S)):(n[x]=S,s[x]=S)}else{let S=Sg(l,e,g+w,v),x=Sg(l,e,g,g+w),L=S>=0&&n[S],$=x>=0&&n[x];if(r&&!$||!r&&!L){jg(kd(a,s),o,l);let Q=YO(r?QO:KO,n.length,r,i,u);!r&&$&&(n[x].providerFactory=Q),Eg(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(Q),s.push(Q)}else{let Q=WI(n[r?x:S],u,!r&&i);Eg(o,t,S>-1?S:x,Q)}!r&&i&&$&&n[x].componentProviders++}}}function Eg(t,e,n,i){let r=Hs(e),o=IP(e);if(r||o){let l=(o?on(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let g=u.indexOf(n);g===-1?u.push(n,[i,l]):u[g+1].push(i,l)}else u.push(n,l)}}}function WI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sg(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function KO(t,e,n,i){return b0(this.multi,[])}function QO(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Mo(n,n[me],this.providerFactory.index,i);o=a.slice(0,s),b0(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],b0(r,o);return o}function b0(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function YO(t,e,n,i,r){let o=new No(t,n,j);return o.multi=[],o.index=e,o.componentProviders=0,WI(o,r,i&&!n),o}function Xi(t,e=[]){return n=>{n.providersResolver=(i,r)=>WO(i,r?r(t):t,e)}}function K(t,e,n,i){return ZO(Ue(),uS(),t,e,n,i)}function Si(t,e,n,i,r){return JO(Ue(),uS(),t,e,n,i,r)}function KI(t,e){let n=t[e];return n===Hr?void 0:n}function ZO(t,e,n,i,r,o){let s=e+n;return Wi(t,s,r)?jI(t,s+1,o?i.call(o,r):i(r)):KI(t,s+1)}function JO(t,e,n,i,r,o,s){let a=e+n;return lO(t,a,r,o)?jI(t,a+2,s?i.call(s,r,o):i(r,o)):KI(t,a+2)}var Ki=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},QI=new Ki("19.0.3"),w0=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},c_=(()=>{class t{compileModuleSync(n){return new c0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=UE(n),o=JS(r.declarations).reduce((s,a)=>{let l=Io(a);return l&&s.push(new Nl(l)),s},[]);return new w0(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var XO=(()=>{class t{zone=Y(Ye);changeDetectionScheduler=Y(Il);applicationRef=Y(Lo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),e3=new re("",{factory:()=>!1});function YI({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ye(fe(H({},JI()),{scheduleInRootZone:n})),[{provide:Ye,useFactory:t},{provide:Bs,multi:!0,useFactory:()=>{let i=Y(XO,{optional:!0});return()=>i.initialize()}},{provide:Bs,multi:!0,useFactory:()=>{let i=Y(t3);return()=>{i.initialize()}}},e===!0?{provide:PS,useValue:!0}:[],{provide:kS,useValue:n??MS}]}function ZI(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,i=YI({ngZoneFactory:()=>{let r=JI(t);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&Ji("NgZone_CoalesceEvent"),new Ye(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Bn([{provide:e3,useValue:!0},{provide:th,useValue:!1},i])}function JI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var t3=(()=>{class t{subscription=new yt;initialized=!1;zone=Y(Ye);pendingTasks=Y(Ks);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ye.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ye.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var n3=(()=>{class t{appRef=Y(Lo);taskService=Y(Ks);ngZone=Y(Ye);zonelessEnabled=Y(th);tracing=Y(WS,{optional:!0});disableScheduling=Y(PS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new yt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Od):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Y(kS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 13:{this.appRef.dirtyFlags|=16,i=!0;break}case 14:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{i=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?oE:FS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Od+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,oE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function i3(){return typeof $localize<"u"&&$localize.locale||zd}var u_=new re("",{providedIn:"root",factory:()=>Y(u_,Se.Optional|Se.SkipSelf)||i3()});var E0=new re("");function _d(t){return!t.moduleRef}function r3(t){let e=_d(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ye);return n.run(()=>{_d(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=e.get(kr,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),_d(t)){let o=()=>e.destroy(),s=t.platformInjector.get(E0);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(E0);s.add(o),t.moduleRef.onDestroy(()=>{wd(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(o)})}return _O(i,n,()=>{let o=e.get($I);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(u_,zd);if(UO(s||zd),_d(t)){let a=e.get(Lo);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return o3(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function o3(t,e){let n=t.injector.get(Lo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new z(-403,!1);e.push(t)}var Ed=null;function s3(t=[],e){return jt.create({name:e,providers:[{provide:Yd,useValue:"platform"},{provide:E0,useValue:new Set([()=>Ed=null])},...t]})}function a3(t=[]){if(Ed)return Ed;let e=s3(t);return Ed=e,pO(),l3(e),e}function l3(t){let e=t.get(G0,null);ni(t,()=>{e?.forEach(n=>n())})}var Vo=(()=>{class t{static __NG_ELEMENT_ID__=c3}return t})();function c3(t){return u3(sn(),Ue(),(t&16)===16)}function u3(t,e,n){if(Jd(t)&&!n){let i=jr(t.index,e);return new Po(i,i)}else if(t.type&175){let i=e[ei];return new Po(i,e)}return null}function XI(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=a3(i),o=[YI({}),{provide:Il,useExisting:n3},...n||[]],s=new Ud({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return r3({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function jo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Bl(t,e){Ji("NgSignals");let n=V1(t);return e?.equal&&(n[Fn].equal=e.equal),n}function er(t){let e=Ne(null);try{return t()}finally{Ne(e)}}var DE=class{[Fn];constructor(e){this[Fn]=e}destroy(){this[Fn].destroy()}};var tr=new Ki("ANGULARFIRE2_VERSION");function ea(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ho=(t,e)=>{let n=e?[e]:Pu(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},$r=class{constructor(){return Ho(d3)}},d3="app-check";function Xs(){}var fh=class{zone;delegate;constructor(e,n=Wm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},d_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xs,{},Xs,Xs)),n.pipe(At({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Gr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new fh(Zone.current)),this.insideAngular=n.run(()=>new fh(Zone.current,zm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(ce(Ye))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ph(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function h3(t){return ph().ngZone.runOutsideAngular(()=>t())}function Bo(t){return ph().ngZone.run(()=>t())}function f3(t){return p3(ph())(t)}function p3(t){return function(n){return n=n.lift(new d_(t.ngZone)),n.pipe(xr(t.outsideAngular),Tr(t.insideAngular))}}var m3=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Bo(()=>t.apply(void 0,i))},ln=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Bo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xs,{},Xs,Xs))),i[o]=m3(i[o],n));let r=h3(()=>t.apply(this,i));if(!e)if(r instanceof ke){let o=ph();return r.pipe(xr(o.outsideAngular),Tr(o.insideAngular))}else return Bo(()=>r);return r instanceof ke?r.pipe(f3):r instanceof Promise?Bo(()=>new Promise((o,s)=>r.then(a=>Bo(()=>o(a)),a=>Bo(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Bo(()=>r)};var oi=class{constructor(e){return e}},nr=class{constructor(){return Pu()}};function g3(t){return t&&t.length===1?t[0]:new oi(Sr())}var h_=new re("angularfire2._apps"),_3={provide:oi,useFactory:g3,deps:[[new Rt,h_]]},v3={provide:nr,deps:[[new Rt,h_]]};function y3(t){return(e,n)=>{let i=n.get(Br);ht("angularfire",tr.full,"core"),ht("angularfire",tr.full,"app"),ht("angular",QI.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new oi(r)}}function eT(t,...e){return Bn([_3,v3,{provide:h_,useFactory:y3(t),multi:!0,deps:[Ye,jt,Gr,...e]}])}var tT=ln(Fm,!0);function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var _T=gT,vT=new Vi("auth","Firebase",gT());var Ch=new mi("@firebase/auth");function C3(t,...e){Ch.logLevel<=Ve.WARN&&Ch.warn(`Auth (${vi}): ${t}`,...e)}function gh(t,...e){Ch.logLevel<=Ve.ERROR&&Ch.error(`Auth (${vi}): ${t}`,...e)}function zr(t,...e){throw R_(t,...e)}function $o(t,...e){return R_(t,...e)}function yT(t,e,n){let i=Object.assign(Object.assign({},_T()),{[e]:n});return new Vi("auth","Firebase",i).create(e,{appName:t.name})}function Uo(t){return yT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R_(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return vT.create(t,...e)}function he(t,e,...n){if(!t)throw R_(e,...n)}function ir(t){let e="INTERNAL ASSERTION FAILED: "+t;throw gh(e),new Error(e)}function Wr(t,e){t||ir(e)}function g_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function b3(){return nT()==="http:"||nT()==="https:"}function nT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function w3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b3()||Bw()||"connection"in navigator)?navigator.onLine:!0}function E3(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Go=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=il()||Nu()}get(){return w3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function P_(t,e){Wr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var bh=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var S3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var I3=new Go(3e4,6e4);function k_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function na(o,s,a,l){return O(this,arguments,function*(t,e,n,i,r={}){return CT(t,r,()=>O(this,null,function*(){let u={},g={};i&&(e==="GET"?g=i:u={body:JSON.stringify(i)});let v=_o(Object.assign({key:t.config.apiKey},g)).slice(1),w=yield t._getAdditionalHeaders();w["Content-Type"]="application/json",t.languageCode&&(w["X-Firebase-Locale"]=t.languageCode);let S=Object.assign({method:e,headers:w},u);return jw()||(S.referrerPolicy="no-referrer"),bh.fetch()(bT(t,t.config.apiHost,n,v),S)}))})}function CT(t,e,n){return O(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},S3),e);try{let r=new __(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw mh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw mh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw mh(t,"user-disabled",s);let g=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yT(t,g,u);zr(t,g)}}catch(r){if(r instanceof Sn)throw r;zr(t,"network-request-failed",{message:String(r)})}})}function T3(o,s,a,l){return O(this,arguments,function*(t,e,n,i,r={}){let u=yield na(t,e,n,i,r);return"mfaPendingCredential"in u&&zr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function bT(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?P_(t.config,r):`${t.config.apiScheme}://${r}`}var __=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i($o(this.auth,"network-request-failed")),I3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function mh(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=$o(t,e,i);return r.customData._tokenResponse=n,r}function x3(t,e){return O(this,null,function*(){return na(t,"POST","/v1/accounts:delete",e)})}function wT(t,e){return O(this,null,function*(){return na(t,"POST","/v1/accounts:lookup",e)})}function Hl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function F_(t,e=!1){return O(this,null,function*(){let n=Qt(t),i=yield n.getIdToken(e),r=O_(i);he(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Hl(f_(r.auth_time)),issuedAtTime:Hl(f_(r.iat)),expirationTime:Hl(f_(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function f_(t){return Number(t)*1e3}function O_(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{let r=nl(n);return r?JSON.parse(r):(gh("Failed to decode base64 JWT payload"),null)}catch(r){return gh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function iT(t){let e=O_(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function $l(t,e,n=!1){return O(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Sn&&D3(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function D3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var v_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>O(this,null,function*(){yield this.iteration()}),n)}iteration(){return O(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Gl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wh(t){return O(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield $l(t,wT(n,{idToken:i}));he(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ET(o.providerUserInfo):[],a=A3(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,g=l?u:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Gl(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)})}function L_(t){return O(this,null,function*(){let e=Qt(t);yield wh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function A3(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function ET(t){return t.map(e=>{var{providerId:n}=e,i=Km(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function N3(t,e){return O(this,null,function*(){let n=yield CT(t,{},()=>O(this,null,function*(){let i=_o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=bT(t,r,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bh.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function M3(t,e){return O(this,null,function*(){return na(t,"POST","/v2/accounts:revokeToken",k_(t,e))})}var Ul=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");let n=iT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return O(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return O(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield N3(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new t;return i&&(he(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(he(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ir("not implemented")}};function qr(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ta=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=Km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new v_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return O(this,null,function*(){let n=yield $l(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return F_(this,e)}reload(){return L_(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return O(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield wh(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return O(this,null,function*(){if(Bi(this.auth.app))return Promise.reject(Uo(this.auth));let e=yield this.getIdToken();return yield $l(this,x3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,a,l,u,g;let v=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(r=n.email)!==null&&r!==void 0?r:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=n.photoURL)!==null&&s!==void 0?s:void 0,L=(a=n.tenantId)!==null&&a!==void 0?a:void 0,$=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,Q=(u=n.createdAt)!==null&&u!==void 0?u:void 0,ie=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:ae,emailVerified:ge,isAnonymous:wt,providerData:Ee,stsTokenManager:N}=n;he(ae&&N,e,"internal-error");let I=Ul.fromJSON(this.name,N);he(typeof ae=="string",e,"internal-error"),qr(v,e.name),qr(w,e.name),he(typeof ge=="boolean",e,"internal-error"),he(typeof wt=="boolean",e,"internal-error"),qr(S,e.name),qr(x,e.name),qr(L,e.name),qr($,e.name),qr(Q,e.name),qr(ie,e.name);let D=new t({uid:ae,auth:e,email:w,emailVerified:ge,displayName:v,isAnonymous:wt,photoURL:x,phoneNumber:S,tenantId:L,stsTokenManager:I,createdAt:Q,lastLoginAt:ie});return Ee&&Array.isArray(Ee)&&(D.providerData=Ee.map(M=>Object.assign({},M))),$&&(D._redirectEventId=$),D}static _fromIdTokenResponse(e,n,i=!1){return O(this,null,function*(){let r=new Ul;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield wh(o),o})}static _fromGetAccountInfoResponse(e,n,i){return O(this,null,function*(){let r=n.users[0];he(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?ET(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Ul;a.updateFromIdToken(i);let l=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Gl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var rT=new Map;function rr(t){Wr(t instanceof Function,"Expected a class definition");let e=rT.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rT.set(t,e),e)}var R3=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return O(this,null,function*(){return!0})}_set(n,i){return O(this,null,function*(){this.storage[n]=i})}_get(n){return O(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return O(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),y_=R3;function _h(t,e,n){return`firebase:${t}:${e}:${n}`}var Eh=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=_h(this.userKey,r.apiKey,o),this.fullPersistenceKey=_h("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return O(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ta._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return O(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return O(this,null,function*(){if(!n.length)return new t(rr(y_),e,i);let r=(yield Promise.all(n.map(u=>O(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=r[0]||rr(y_),s=_h(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let g=yield u._get(s);if(g){let v=ta._fromJSON(e,g);u!==o&&(a=v),o=u;break}}catch{}let l=r.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,i):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>O(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,i))})}};function oT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ST(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AT(e))return"Blackberry";if(NT(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||TT(e))&&!e.includes("edge/"))return"Chrome";if(DT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function ST(t=Ot()){return/firefox\//i.test(t)}function IT(t=Ot()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TT(t=Ot()){return/crios\//i.test(t)}function xT(t=Ot()){return/iemobile/i.test(t)}function DT(t=Ot()){return/android/i.test(t)}function AT(t=Ot()){return/blackberry/i.test(t)}function NT(t=Ot()){return/webos/i.test(t)}function V_(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P3(t=Ot()){var e;return V_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k3(){return Hw()&&document.documentMode===10}function MT(t=Ot()){return V_(t)||DT(t)||NT(t)||AT(t)||/windows phone/i.test(t)||xT(t)}function RT(t,e=[]){let n;switch(t){case"Browser":n=oT(Ot());break;case"Worker":n=`${oT(Ot())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vi}/${i}`}var C_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return O(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function F3(n){return O(this,arguments,function*(t,e={}){return na(t,"GET","/v2/passwordPolicy",k_(t,e))})}var O3=6,b_=class{constructor(e){var n,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:O3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var w_=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sh(this),this.idTokenSubscription=new Sh(this),this.beforeStateQueue=new C_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(()=>O(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Eh.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return O(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return O(this,null,function*(){try{let n=yield wT(this,{idToken:e}),i=yield ta._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return O(this,null,function*(){var n;if(Bi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return O(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return O(this,null,function*(){try{yield wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=E3()}_delete(){return O(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return O(this,null,function*(){if(Bi(this.app))return Promise.reject(Uo(this));let n=e?Qt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return O(this,null,function*(){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>O(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return O(this,null,function*(){return Bi(this.app)?Promise.reject(Uo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Bi(this.app)?Promise.reject(Uo(this)):this.queue(()=>O(this,null,function*(){yield this.assertedPersistence.setPersistence(rr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return O(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return O(this,null,function*(){let e=yield F3(this),n=new b_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vi("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return O(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield M3(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return O(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return O(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&rr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=yield Eh.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return O(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>O(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return O(this,null,function*(){if(e===this.currentUser)return this.queue(()=>O(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,i,r);return()=>{s=!0,l()}}else{let l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return O(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return O(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return O(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&C3(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function j_(t){return Qt(t)}var Sh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=zw(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var B_={loadJS(){return O(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L3(t){B_=t}function V3(t){return B_.loadJS(t)}function j3(){return B_.gapiScript}function PT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function H_(t,e){let n=yo(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(go(o,e??{}))return r;zr(r,"already-initialized")}return n.initialize({options:e})}function B3(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(rr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function U_(t,e,n){let i=j_(t);he(i._canInitEmulator,i,"emulator-config-failed"),he(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=kT(e),{host:s,port:a}=H3(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${o}//${s}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||U3()}function kT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H3(t){let e=kT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:sT(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:sT(s)}}}function sT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function U3(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ih=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}};function p_(t,e){return O(this,null,function*(){return T3(t,"POST","/v1/accounts:signInWithIdp",k_(t,e))})}var Th=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var E_=class extends Th{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ql=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return O(this,null,function*(){let o=yield ta._fromIdTokenResponse(e,i,r),s=aT(i);return new t({user:o,providerId:s,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return O(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=aT(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function aT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var S_=class t extends Sn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function FT(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?S_._fromErrorAndOperation(t,o,e,i):o})}function $3(t,e,n=!1){return O(this,null,function*(){let i=yield $l(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ql._forOperation(t,"link",i)})}function G3(t,e,n=!1){return O(this,null,function*(){let{auth:i}=t;if(Bi(i.app))return Promise.reject(Uo(i));let r="reauthenticate";try{let o=yield $l(t,FT(i,r,e,t),n);he(o.idToken,i,"internal-error");let s=O_(o.idToken);he(s,i,"internal-error");let{sub:a}=s;return he(t.uid===a,i,"user-mismatch"),ql._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&zr(i,"user-mismatch"),o}})}function q3(t,e,n=!1){return O(this,null,function*(){if(Bi(t.app))return Promise.reject(Uo(t));let i="signIn",r=yield FT(t,i,e),o=yield ql._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function $_(t,e,n,i){return Qt(t).onIdTokenChanged(e,n,i)}function G_(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}var xh="__sak";var Dh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var z3=1e3,W3=10,K3=(()=>{class t extends Dh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let r=n.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);k3()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,W3):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return O(this,null,function*(){yield wr(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return O(this,null,function*(){let i=yield wr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return O(this,null,function*(){yield wr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),OT=K3;var Q3=(()=>{class t extends Dh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),q_=Q3;function Y3(t){return Promise.all(t.map(e=>O(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Z3=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return O(this,null,function*(){let i=n,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(a).map(g=>O(this,null,function*(){return g(i.origin,s)})),u=yield Y3(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function LT(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var I_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return O(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let u=LT("",20);r.port1.start();let g=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(v){let w=v;if(w.data.eventId===u)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(w.data.response);break;default:clearTimeout(g),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ii(){return window}function J3(t){Ii().location.href=t}function VT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}function X3(){return O(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function eL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tL(){return VT()?self:null}var jT="firebaseLocalStorageDb",nL=1,Ah="firebaseLocalStorage",BT="fbase_key",qo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Mh(t,e){return t.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function iL(){let t=indexedDB.deleteDatabase(jT);return new qo(t).toPromise()}function T_(){let t=indexedDB.open(jT,nL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Ah,{keyPath:BT})}catch(r){n(r)}}),t.addEventListener("success",()=>O(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Ah)?e(i):(i.close(),yield iL(),e(yield T_()))}))})}function lT(t,e,n){return O(this,null,function*(){let i=Mh(t,!0).put({[BT]:e,value:n});return new qo(i).toPromise()})}function rL(t,e){return O(this,null,function*(){let n=Mh(t,!1).get(e),i=yield new qo(n).toPromise();return i===void 0?null:i.value})}function cT(t,e){let n=Mh(t,!0).delete(e);return new qo(n).toPromise()}var oL=800,sL=3,aL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return O(this,null,function*(){return this.db?this.db:(this.db=yield T_(),this.db)})}_withRetries(n){return O(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>sL)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return O(this,null,function*(){return VT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return O(this,null,function*(){this.receiver=Z3._getInstance(tL()),this.receiver._subscribe("keyChanged",(n,i)=>O(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>O(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return O(this,null,function*(){var n,i;if(this.activeServiceWorker=yield X3(),!this.activeServiceWorker)return;this.sender=new I_(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return O(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||eL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return O(this,null,function*(){try{if(!indexedDB)return!1;let n=yield T_();return yield lT(n,xh,"1"),yield cT(n,xh),!0}catch{}return!1})}_withPendingWrite(n){return O(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return O(this,null,function*(){return this._withPendingWrite(()=>O(this,null,function*(){return yield this._withRetries(r=>lT(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return O(this,null,function*(){let i=yield this._withRetries(r=>rL(r,n));return this.localCache[n]=i,i})}_remove(n){return O(this,null,function*(){return this._withPendingWrite(()=>O(this,null,function*(){return yield this._withRetries(i=>cT(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return O(this,null,function*(){let n=yield this._withRetries(o=>{let s=Mh(o,!1).getAll();return new qo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>O(this,null,function*(){return this._poll()}),oL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),HT=aL;var gce=PT("rcb"),_ce=new Go(3e4,6e4);function lL(t,e){return e?rr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var zl=class extends Ih{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return p_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return p_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return p_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function cL(t){return q3(t.auth,new zl(t),t.bypassAuthState)}function uL(t){let{auth:e,user:n}=t;return he(n,e,"internal-error"),G3(n,new zl(t),t.bypassAuthState)}function dL(t){return O(this,null,function*(){let{auth:e,user:n}=t;return he(n,e,"internal-error"),$3(n,new zl(t),t.bypassAuthState)})}var x_=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>O(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return O(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cL;case"linkViaPopup":case"linkViaRedirect":return dL;case"reauthViaPopup":case"reauthViaRedirect":return uL;default:zr(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var vce=new Go(2e3,1e4);var hL="pendingRedirect",vh=new Map,D_=class t extends x_{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return O(this,null,function*(){let e=vh.get(this.auth._key());if(!e){try{let i=(yield fL(this.resolver,this.auth))?yield wr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return O(this,null,function*(){if(e.type==="signInViaRedirect")return wr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,wr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return O(this,null,function*(){})}cleanUp(){}};function fL(t,e){return O(this,null,function*(){let n=gL(e),i=mL(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function pL(t,e){vh.set(t._key(),e)}function mL(t){return rr(t._redirectPersistence)}function gL(t){return _h(hL,t.config.apiKey,t.name)}function _L(t,e,n=!1){return O(this,null,function*(){if(Bi(t.app))return Promise.reject(Uo(t));let i=j_(t),r=lL(i,e),s=yield new D_(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var vL=10*60*1e3,A_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!UT(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError($o(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vL&&this.cachedEventUids.clear(),this.cachedEventUids.has(uT(e))}saveEventToCache(e){this.cachedEventUids.add(uT(e)),this.lastProcessedEventTime=Date.now()}};function uT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function yL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UT(t);default:return!1}}function CL(n){return O(this,arguments,function*(t,e={}){return na(t,"GET","/v1/projects",e)})}var bL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wL=/^https?/;function EL(t){return O(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield CL(t);for(let n of e)try{if(SL(n))return}catch{}zr(t,"unauthorized-domain")})}function SL(t){let e=g_(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!wL.test(n))return!1;if(bL.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var IL=new Go(3e4,6e4);function dT(){let t=Ii().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TL(t){return new Promise((e,n)=>{var i,r,o;function s(){dT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dT(),n($o(t,"network-request-failed"))},timeout:IL.get()})}if(!((r=(i=Ii().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Ii().gapi)===null||o===void 0)&&o.load)s();else{let a=PT("iframefcb");return Ii()[a]=()=>{gapi.load?s():n($o(t,"network-request-failed"))},V3(`${j3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yh=null,e})}var yh=null;function xL(t){return yh=yh||TL(t),yh}var DL=new Go(5e3,15e3),AL="__/auth/iframe",NL="emulator/auth/iframe",ML={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PL(t){let e=t.config;he(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?P_(e,NL):`https://${t.config.authDomain}/${AL}`,i={apiKey:e.apiKey,appName:t.name,v:vi},r=RL.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${_o(i).slice(1)}`}function kL(t){return O(this,null,function*(){let e=yield xL(t),n=Ii().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:PL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ML,dontclear:!0},i=>new Promise((r,o)=>O(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=$o(t,"network-request-failed"),a=Ii().setTimeout(()=>{o(s)},DL.get());function l(){Ii().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{o(s)})})))})}var FL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OL=500,LL=600,VL="_blank",jL="http://localhost",Nh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function BL(t,e,n,i=OL,r=LL){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},FL),{width:i.toString(),height:r.toString(),top:o,left:s}),u=Ot().toLowerCase();n&&(a=TT(u)?VL:n),ST(u)&&(e=e||jL,l.scrollbars="yes");let g=Object.entries(l).reduce((w,[S,x])=>`${w}${S}=${x},`,"");if(P3(u)&&a!=="_self")return HL(e||"",a),new Nh(null);let v=window.open(e||"",a,g);he(v,t,"popup-blocked");try{v.focus()}catch{}return new Nh(v)}function HL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var UL="__/auth/handler",$L="emulator/auth/handler",GL=encodeURIComponent("fac");function hT(t,e,n,i,r,o){return O(this,null,function*(){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:vi,eventId:r};if(e instanceof Th){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",rl(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[g,v]of Object.entries(o||{}))s[g]=v}if(e instanceof E_){let g=e.getScopes().filter(v=>v!=="");g.length>0&&(s.scopes=g.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let g of Object.keys(a))a[g]===void 0&&delete a[g];let l=yield t._getAppCheckToken(),u=l?`#${GL}=${encodeURIComponent(l)}`:"";return`${qL(t)}?${_o(a).slice(1)}${u}`})}function qL({config:t}){return t.emulator?P_(t,$L):`https://${t.authDomain}/${UL}`}var m_="webStorageSupport",N_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q_,this._completeRedirectFn=_L,this._overrideRedirectResult=pL}_openPopup(e,n,i,r){return O(this,null,function*(){var o;Wr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield hT(e,n,i,g_(),r);return BL(e,s,LT())})}_openRedirect(e,n,i,r){return O(this,null,function*(){yield this._originValidation(e);let o=yield hT(e,n,i,g_(),r);return J3(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Wr(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return O(this,null,function*(){let n=yield kL(e),i=new A_(e);return n.register("authEvent",r=>(he(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(m_,{type:m_},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[m_];s!==void 0&&n(!!s),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MT()||IT()||V_()}},$T=N_;var fT="@firebase/auth",pT="1.7.9";var M_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return O(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WL(t){_i(new gn("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RT(t)},u=new w_(i,r,o,l);return B3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_i(new gn("auth-internal",e=>{let n=j_(e.getProvider("auth").getImmediate());return(i=>new M_(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ht(fT,pT,zL(t)),ht(fT,pT,"esm2017")}var KL=5*60,QL=Cm("authIdTokenMaxAge")||KL,mT=null,YL=t=>e=>O(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>QL)return;let r=n?.token;mT!==r&&(mT=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function z_(t=Sr()){let e=yo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=H_(t,{popupRedirectResolver:$T,persistence:[HT,OT,q_]}),i=Cm("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=YL(o.toString());G_(n,s,()=>s(n.currentUser)),$_(n,a=>s(a))}}let r=vm("auth");return r&&U_(n,`http://${r}`),n}function ZL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}L3({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=$o("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",ZL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WL("Browser");var GT="auth",Wl=class{constructor(e){return e}},zo=class{constructor(){return Ho(GT)}};var W_=new re("angularfire2.auth-instances");function q4(t,e){let n=ea(GT,t,e);return n&&new Wl(n)}function z4(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Wl(i)}}var W4={provide:zo,deps:[[new Rt,W_]]},K4={provide:Wl,useFactory:q4,deps:[[new Rt,W_],oi]};function qT(t,...e){return ht("angularfire",tr.full,"auth"),Bn([K4,W4,{provide:W_,useFactory:z4(t),multi:!0,deps:[Ye,jt,Gr,nr,[new Rt,$r],...e]}])}var zT=ln(z_,!0);var WT="@firebase/database",KT="1.0.8";var Jv="";function Q4(t){Jv=t}var tv=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),St(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:_s(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var nv=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Kn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var Ix=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tv(e)}}catch{}return new nv},Ko=Ix("localStorage"),iv=Ix("sessionStorage");var oa=new mi("@firebase/database"),Y4=function(){let t=1;return function(){return t++}}(),Tx=function(t){let e=Ww(t),n=new Tu;n.update(e);let i=n.digest();return xu.encodeByteArray(i)},hc=function(...t){let e="";for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=hc.apply(null,i):typeof i=="object"?e+=St(i):e+=i,e+=" "}return e},Qo=null,QT=!0,Z4=function(t,e){q(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(oa.logLevel=Ve.VERBOSE,Qo=oa.log.bind(oa),e&&iv.set("logging_enabled",!0)):typeof t=="function"?Qo=t:(Qo=null,iv.remove("logging_enabled"))},Bt=function(...t){if(QT===!0&&(QT=!1,Qo===null&&iv.get("logging_enabled")===!0&&Z4(!0)),Qo){let e=hc.apply(null,t);Qo(e)}},fc=function(t){return function(...e){Bt(t,...e)}},rv=function(...t){let e="FIREBASE INTERNAL ERROR: "+hc(...t);oa.error(e)},or=function(...t){let e=`FIREBASE FATAL ERROR: ${hc(...t)}`;throw oa.error(e),new Error(e)},un=function(...t){let e="FIREBASE WARNING: "+hc(...t);oa.warn(e)},J4=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&un("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},X4=function(t){if(pi()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},aa="[MIN_NAME]",Yo="[MAX_NAME]",Xo=function(t,e){if(t===e)return 0;if(t===aa||e===Yo)return-1;if(e===aa||t===Yo)return 1;{let n=YT(t),i=YT(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},eV=function(t,e){return t===e?0:t<e?-1:1},Kl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+St(e))},ey=function(t){if(typeof t!="object"||t===null)return St(t);let e=[];for(let i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=St(e[i]),n+=":",n+=ey(t[e[i]]);return n+="}",n},xx=function(t,e){let n=t.length;if(n<=e)return[t];let i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Ht(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Dx=function(t){q(!Xv(t),"Invalid JSON number");let e=11,n=52,i=(1<<e-1)-1,r,o,s,a,l;t===0?(o=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=a+i,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-i-n))));let u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(r?1:0),u.reverse();let g=u.join(""),v="";for(l=0;l<64;l+=8){let w=parseInt(g.substr(l,8),2).toString(16);w.length===1&&(w="0"+w),v=v+w}return v.toLowerCase()},tV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},nV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function iV(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}var rV=new RegExp("^-?(0*)\\d{1,10}$"),oV=-2147483648,sV=2147483647,YT=function(t){if(rV.test(t)){let e=Number(t);if(e>=oV&&e<=sV)return e}return null},ma=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw un("Exception was thrown by user callback.",n),e},Math.floor(0))}},aV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xl=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var ov=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){un(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var sv=class{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',un(e)}},ec=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Ph="5",Ax="v",Nx="s",Mx="r",Rx="f",Px=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kx="ls",Fx="p",av="ac",Ox="websocket",Lx="long_polling";var kh=class{constructor(e,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ko.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ko.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function lV(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Vx(t,e,n){q(typeof e=="string","typeof type must == string"),q(typeof n=="object","typeof params must == object");let i;if(e===Ox)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Lx)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);lV(t)&&(n.ns=t.namespace);let r=[];return Ht(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var lv=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Kn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Lw(this.counters_)}};var K_={},Q_={};function ty(t){let e=t.toString();return K_[e]||(K_[e]=new lv),K_[e]}function cV(t,e){let n=t.toString();return Q_[n]||(Q_[n]=e()),Q_[n]}var cv=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&ma(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var ZT="start",uV="close",dV="pLPCommand",hV="pRTLPCB",jx="id",Bx="pw",Hx="ser",fV="cb",pV="seg",mV="ts",gV="d",_V="dframe",Ux=1870,$x=30,vV=Ux-$x,yV=25e3,CV=3e4,uv=class t{constructor(e,n,i,r,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fc(e),this.stats_=ty(n),this.urlFn=l=>(this.appCheckToken&&(l[av]=this.appCheckToken),Vx(n,Lx,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new cv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(CV)),X4(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dv((...o)=>{let[s,a,l,u,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===ZT)this.id=a,this.password=l;else if(s===uV)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[ZT]="t",i[Hx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[fV]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Ax]=Ph,this.transportSessionId&&(i[Nx]=this.transportSessionId),this.lastSessionId&&(i[kx]=this.lastSessionId),this.applicationId&&(i[Fx]=this.applicationId),this.appCheckToken&&(i[av]=this.appCheckToken),typeof location<"u"&&location.hostname&&Px.test(location.hostname)&&(i[Mx]=Rx);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return pi()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!tV()&&!nV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=St(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=gm(n),r=xx(i,vV);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(pi())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[_V]="t",i[jx]=e,i[Bx]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=St(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},dv=class t{constructor(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,pi())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Y4(),window[dV+this.uniqueCallbackIdentifier]=e,window[hV+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Bt("frame writing exception"),a.stack&&Bt(a.stack),Bt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Bt("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[jx]=this.myID,e[Bx]=this.myPW,e[Hx]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$x+i.length<=Ux;){let s=this.pendingSegs.shift();i=i+"&"+pV+r+"="+s.seg+"&"+mV+r+"="+s.ts+"&"+gV+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(yV)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){pi()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Bt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var bV=16384,wV=45e3,Fh=null;typeof MozWebSocket<"u"?Fh=MozWebSocket:typeof WebSocket<"u"&&(Fh=WebSocket);var Ql=(()=>{class t{constructor(n,i,r,o,s,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fc(this.connId),this.stats_=ty(i),this.connURL=t.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[Ax]=Ph,!pi()&&typeof location<"u"&&location.hostname&&Px.test(location.hostname)&&(a[Mx]=Rx),i&&(a[Nx]=i),r&&(a[kx]=r),o&&(a[av]=o),s&&(a[Fx]=s),Vx(n,Ox,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ko.set("previous_websocket_failure",!0);try{let r;if(pi()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Ph}/${Jv}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Fh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Fh!==null&&!t.forceDisallow_}static previouslyFailed(){return Ko.isInMemoryStorage||Ko.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ko.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=_s(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(q(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=St(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=xx(i,bV);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wV))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),EV=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[uv,Ql]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=Ql&&Ql.isAvailable(),r=i&&!Ql.previouslyFailed();if(n.webSocketOnly&&(i||un("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ql];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),SV=6e4,IV=5e3,TV=10*1024,xV=100*1024,Y_="t",JT="d",DV="s",XT="r",AV="e",ex="o",tx="a",nx="n",ix="p",NV="h",hv=class{constructor(e,n,i,r,o,s,a,l,u,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fc("c:"+this.id+":"),this.transportManager_=new EV(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Xl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>TV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Y_ in e){let n=e[Y_];n===tx?this.upgradeIfSecondaryHealthy_():n===XT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ex&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Kl("t",e),i=Kl("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ix,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:tx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Kl("t",e),i=Kl("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Kl(Y_,e);if(JT in e){let i=e[JT];if(n===NV){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===nx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===DV?this.onConnectionShutdown_(i):n===XT?this.onReset_(i):n===AV?rv("Server Error: "+i):n===ex?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rv("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ph!==i&&un("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Xl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(SV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(IV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ix,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ko.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Oh=class{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}};var Lh=class{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});let r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Vh=class t extends Lh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!il()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var rx=32,ox=768,tt=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function $e(){return new tt("")}function Pe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zr(t){return t.pieces_.length-t.pieceNum_}function lt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new tt(t.pieces_,e)}function ny(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function MV(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function rc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Gx(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new tt(e,0)}function Ct(t,e){let n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof tt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new tt(n,0)}function Me(t){return t.pieceNum_>=t.pieces_.length}function cn(t,e){let n=Pe(t),i=Pe(e);if(n===null)return e;if(n===i)return cn(lt(t),lt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function RV(t,e){let n=rc(t,0),i=rc(e,0);for(let r=0;r<n.length&&r<i.length;r++){let o=Xo(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function qx(t,e){if(Zr(t)!==Zr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Un(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Zr(t)>Zr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var fv=class{constructor(e,n){this.errorPrefix_=n,this.parts_=rc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=al(this.parts_[i]);zx(this)}};function PV(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=al(e),zx(t)}function kV(t){let e=t.parts_.pop();t.byteLength_-=al(e),t.parts_.length>0&&(t.byteLength_-=1)}function zx(t){if(t.byteLength_>ox)throw new Error(t.errorPrefix_+"has a key path longer than "+ox+" bytes ("+t.byteLength_+").");if(t.parts_.length>rx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rx+") or object contains a cycle "+Wo(t))}function Wo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var pv=class t extends Lh{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new t}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}};var Yl=1e3,FV=60*5*1e3,sx=30*1e3,OV=1.3,LV=3e4,VV="server_kill",ax=3,iy=(()=>{class t extends Oh{constructor(n,i,r,o,s,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=fc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yl,this.maxReconnectDelay_=FV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!pi())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pv.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Vh.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(St(s)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new Li,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let u=l.d,g=l.s;t.warnOnListenWarnings_(u,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",l),g!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(g,u))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&Kn(n,"w")){let r=mo(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();un(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||qw(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sx)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=Gw(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+St(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):rv("Unrecognized action received from server: "+St(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>LV&&(this.reconnectDelay_=Yl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*OV)}this.onConnectStatus_(!1)}establishConnection_(){return O(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,u=function(){l?l.close():(a=!0,r())},g=function(w){q(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(w)};this.realtime_={close:u,sendRequest:g};let v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[w,S]=yield Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);a?Bt("getToken() completed but was canceled"):(Bt("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=S&&S.token,l=new hv(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,x=>{un(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(VV)},s))}catch(w){this.log_("Failed to get token: "+w),a||(this.repoInfo_.nodeAdmin&&un(w),u())}}})}interrupt(n){Bt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Bt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],rl(this.interruptReasons_)&&(this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>ey(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new tt(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Bt("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ax&&(this.reconnectDelay_=sx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Bt("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ax&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";pi()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+Jv.replace(/\./g,"-")]=1,il()?n["framework.cordova"]=1:Nu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Vh.getInstance().currentlyOnline();return rl(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Te=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var la=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let i=new Te(aa,e),r=new Te(aa,n);return this.compare(i,r)!==0}minPost(){return Te.MIN}};var Rh,jh=class extends la{static get __EMPTY_NODE(){return Rh}static set __EMPTY_NODE(e){Rh=e}compare(e,n){return Xo(e.name,n.name)}isDefinedOn(e){throw po("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Te.MIN}maxPost(){return new Te(Yo,Rh)}makePost(e,n){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new Te(e,Rh)}toString(){return".key"}},sa=new jh;var ra=class{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?i(e.key,n):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},si=(()=>{class t{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??t.RED,this.left=o??$n.EMPTY_NODE,this.right=s??$n.EMPTY_NODE}copy(n,i,r,o,s){return new t(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return $n.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return $n.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),mv=class{copy(e,n,i,r,o){return this}insert(e,n,i){return new si(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},$n=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,si.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,si.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ra(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ra(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ra(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ra(this.root_,null,this.comparator_,!0,e)}};$n.EMPTY_NODE=new mv;function jV(t,e){return Xo(t.name,e.name)}function ry(t,e){return Xo(t,e)}var gv;function BV(t){gv=t}var Wx=function(t){return typeof t=="number"?"number:"+Dx(t):"string:"+t},Kx=function(t){if(t.isLeafNode()){let e=t.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Kn(e,".sv"),"Priority must be a string or number.")}else q(t===gv||t.isEmpty(),"priority of unexpected type.");q(t===gv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var lx,ca=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Kx(this.priorityNode_)}static set __childrenNodeConstructor(n){lx=n}static get __childrenNodeConstructor(){return lx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Me(n)?this:Pe(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=Pe(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||Zr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(lt(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Wx(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=Dx(this.value_):n+=this.value_,this.lazyHash_=Tx(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(q(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(i),s=t.VALUE_TYPE_ORDER.indexOf(r);return q(o>=0,"Unknown leaf type: "+i),q(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),Qx,Yx;function HV(t){Qx=t}function UV(t){Yx=t}var _v=class extends la{compare(e,n){let i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Xo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Te.MIN}maxPost(){return new Te(Yo,new ca("[PRIORITY-POST]",Yx))}makePost(e,n){let i=Qx(e);return new Te(n,new ca("[PRIORITY-POST]",i))}toString(){return".priority"}},bt=new _v;var $V=Math.log(2),vv=class{constructor(e){let n=o=>parseInt(Math.log(o)/$V,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Bh=function(t,e,n,i){t.sort(e);let r=function(l,u){let g=u-l,v,w;if(g===0)return null;if(g===1)return v=t[l],w=n?n(v):v,new si(w,v.node,si.BLACK,null,null);{let S=parseInt(g/2,10)+l,x=r(l,S),L=r(S+1,u);return v=t[S],w=n?n(v):v,new si(w,v.node,si.BLACK,x,L)}},o=function(l){let u=null,g=null,v=t.length,w=function(x,L){let $=v-x,Q=v;v-=x;let ie=r($+1,Q),ae=t[$],ge=n?n(ae):ae;S(new si(ge,ae.node,L,null,ie))},S=function(x){u?(u.left=x,u=x):(g=x,u=x)};for(let x=0;x<l.count;++x){let L=l.nextBitIsOne(),$=Math.pow(2,l.count-(x+1));L?w($,si.BLACK):(w($,si.BLACK),w($,si.RED))}return g},s=new vv(t.length),a=o(s);return new $n(i||e,a)};var Z_,ia={},ua=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return q(ia&&bt,"ChildrenNode.ts has not been loaded"),Z_=Z_||new t({".priority":ia},{".priority":bt}),Z_}get(e){let n=mo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $n?n:null}hasIndex(e){return Kn(this.indexSet_,e.toString())}addIndex(e,n){q(e!==sa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(Te.Wrap),s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=Bh(i,e.getCompare()):a=ia;let l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;let g=Object.assign({},this.indexes_);return g[l]=a,new t(g,u)}addToIndexes(e,n){let i=ol(this.indexes_,(r,o)=>{let s=mo(this.indexSet_,o);if(q(s,"Missing index implementation for "+o),r===ia)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(Te.Wrap),u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Bh(a,s.getCompare())}else return ia;else{let a=n.get(e.name),l=r;return a&&(l=l.remove(new Te(e.name,a))),l.insert(e,e.node)}});return new t(i,this.indexSet_)}removeFromIndexes(e,n){let i=ol(this.indexes_,r=>{if(r===ia)return r;{let o=n.get(e.name);return o?r.remove(new Te(e.name,o)):r}});return new t(i,this.indexSet_)}};var Zl,ve=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Kx(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zl||(Zl=new t(new $n(ry),null,ua.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zl}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?Zl:i}}getChild(n){let i=Pe(n);return i===null?this:this.getImmediateChild(i).getChild(lt(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(q(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new Te(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Zl:this.priorityNode_;return new t(o,a,s)}}updateChild(n,i){let r=Pe(n);if(r===null)return i;{q(Pe(n)!==".priority"||Zr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(lt(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(bt,(a,l)=>{i[a]=l.val(n),r++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Wx(this.getPriority().val())+":"),this.forEachChild(bt,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":Tx(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new Te(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new Te(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new Te(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Te.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Te.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===pc?-1:0}withIndex(n){if(n===sa||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===sa||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(bt),o=i.getIterator(bt),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===sa?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),yv=class extends ve{constructor(){super(new $n(ry),ve.EMPTY_NODE,ua.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ve.EMPTY_NODE}isEmpty(){return!1}},pc=new yv;Object.defineProperties(Te,{MIN:{value:new Te(aa,ve.EMPTY_NODE)},MAX:{value:new Te(Yo,pc)}});jh.__EMPTY_NODE=ve.EMPTY_NODE;ca.__childrenNodeConstructor=ve;BV(pc);UV(pc);var GV=!0;function Pt(t,e=null){if(t===null)return ve.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new ca(n,Pt(e))}if(!(t instanceof Array)&&GV){let n=[],i=!1;if(Ht(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=Pt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new Te(s,l)))}}),n.length===0)return ve.EMPTY_NODE;let o=Bh(n,jV,s=>s.name,ry);if(i){let s=Bh(n,bt.getCompare());return new ve(o,Pt(e),new ua({".priority":s},{".priority":bt}))}else return new ve(o,Pt(e),ua.Default)}else{let n=ve.EMPTY_NODE;return Ht(t,(i,r)=>{if(Kn(t,i)&&i.substring(0,1)!=="."){let o=Pt(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Pt(e))}}HV(Pt);var Cv=class extends la{constructor(e){super(),this.indexPath_=e,q(!Me(e)&&Pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Xo(e.name,n.name):o}makePost(e,n){let i=Pt(e),r=ve.EMPTY_NODE.updateChild(this.indexPath_,i);return new Te(n,r)}maxPost(){let e=ve.EMPTY_NODE.updateChild(this.indexPath_,pc);return new Te(Yo,e)}toString(){return rc(this.indexPath_,0).join("/")}};var bv=class extends la{compare(e,n){let i=e.node.compareTo(n.node);return i===0?Xo(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Te.MIN}maxPost(){return Te.MAX}makePost(e,n){let i=Pt(e);return new Te(n,i)}toString(){return".value"}},qV=new bv;function Zx(t){return{type:"value",snapshotNode:t}}function da(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function oc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function sc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function zV(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var ac=class{constructor(e){this.index_=e}updateChild(e,n,i,r,o,s){q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?e.hasChild(n)?s.trackChildChange(oc(n,a)):q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(da(n,i)):s.trackChildChange(sc(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(bt,(r,o)=>{n.hasChild(r)||i.trackChildChange(oc(r,o))}),n.isLeafNode()||n.forEachChild(bt,(r,o)=>{if(e.hasChild(r)){let s=e.getImmediateChild(r);s.equals(o)||i.trackChildChange(sc(r,o,s))}else i.trackChildChange(da(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ve.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Hh=class t{constructor(e){this.indexedFilter_=new ac(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,s){return this.matches(new Te(n,i))||(i=ve.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,s)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ve.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(ve.EMPTY_NODE);let o=this;return n.forEachChild(bt,(s,a)=>{o.matches(new Te(s,a))||(r=r.updateImmediateChild(s,ve.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var wv=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Hh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,s){return this.rangedFilter_.matches(new Te(n,i))||(i=ve.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,s):this.fullLimitUpdateChild_(e,n,i,o,s)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=ve.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=ve.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(ve.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,ve.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let s;if(this.reverse_){let v=this.index_.getCompare();s=(w,S)=>v(S,w)}else s=this.index_.getCompare();let a=e;q(a.numChildren()===this.limit_,"");let l=new Te(n,i),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),g=this.rangedFilter_.matches(l);if(a.hasChild(n)){let v=a.getImmediateChild(n),w=r.getChildAfterChild(this.index_,u,this.reverse_);for(;w!=null&&(w.name===n||a.hasChild(w.name));)w=r.getChildAfterChild(this.index_,w,this.reverse_);let S=w==null?1:s(w,l);if(g&&!i.isEmpty()&&S>=0)return o?.trackChildChange(sc(n,i,v)),a.updateImmediateChild(n,i);{o?.trackChildChange(oc(n,v));let L=a.updateImmediateChild(n,ve.EMPTY_NODE);return w!=null&&this.rangedFilter_.matches(w)?(o?.trackChildChange(da(w.name,w.node)),L.updateImmediateChild(w.name,w.node)):L}}else return i.isEmpty()?e:g&&s(u,l)>=0?(o!=null&&(o.trackChildChange(oc(u.name,u.node)),o.trackChildChange(da(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(u.name,ve.EMPTY_NODE)):e}};var Ev=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:aa}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bt}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function WV(t){return t.loadsAllData()?new ac(t.getIndex()):t.hasLimit()?new wv(t):new Hh(t)}function cx(t){let e={};if(t.isDefault())return e;let n;if(t.index_===bt?n="$priority":t.index_===qV?n="$value":t.index_===sa?n="$key":(q(t.index_ instanceof Cv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=St(n),t.startSet_){let i=t.startAfterSet_?"startAfter":"startAt";e[i]=St(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+St(t.indexStartName_))}if(t.endSet_){let i=t.endBeforeSet_?"endBefore":"endAt";e[i]=St(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+St(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ux(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==bt&&(e.i=t.index_.toString()),e}var Sv=class t extends Oh{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=fc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,i),a={};this.listens_[s]=a;let l=cx(e._queryParams);this.restRequest_(o+".json",l,(u,g)=>{let v=g;if(u===404&&(v=null,u=null),u===null&&this.onDataUpdate_(o,v,!1,i),mo(this.listens_,s)===a){let w;u?u===401?w="permission_denied":w="rest_error:"+u:w="ok",r(w,null)}})}unlisten(e,n){let i=t.getListenId_(e,n);delete this.listens_[i]}get(e){let n=cx(e._queryParams),i=e._path.toString(),r=new Li;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_o(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=_s(a.responseText)}catch{un("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&un("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var Iv=class{constructor(){this.rootNode_=ve.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Uh(){return{value:null,children:new Map}}function Jx(t,e,n){if(Me(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let i=Pe(e);t.children.has(i)||t.children.set(i,Uh());let r=t.children.get(i);e=lt(e),Jx(r,e,n)}}function Tv(t,e,n){t.value!==null?n(e,t.value):KV(t,(i,r)=>{let o=new tt(e.toString()+"/"+i);Tv(r,o,n)})}function KV(t,e){t.children.forEach((n,i)=>{e(i,n)})}var xv=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ht(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}};var dx=10*1e3,QV=30*1e3,YV=5*60*1e3,Dv=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new xv(e);let i=dx+(QV-dx)*Math.random();Xl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),n={},i=!1;Ht(e,(r,o)=>{o>0&&Kn(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Xl(this.reportStats_.bind(this),Math.floor(Math.random()*2*YV))}};var Ti=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Ti||{});function oy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ay(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Av=class t{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Ti.ACK_USER_WRITE,this.source=oy()}operationForChild(e){if(Me(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new tt(e));return new t($e(),n,this.revert)}}else return q(Pe(this.path)===e,"operationForChild called for unrelated child."),new t(lt(this.path),this.affectedTree,this.revert)}};var $h=class t{constructor(e,n){this.source=e,this.path=n,this.type=Ti.LISTEN_COMPLETE}operationForChild(e){return Me(this.path)?new t(this.source,$e()):new t(this.source,lt(this.path))}};var ha=class t{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Ti.OVERWRITE}operationForChild(e){return Me(this.path)?new t(this.source,$e(),this.snap.getImmediateChild(e)):new t(this.source,lt(this.path),this.snap)}};var lc=class t{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Ti.MERGE}operationForChild(e){if(Me(this.path)){let n=this.children.subtree(new tt(e));return n.isEmpty()?null:n.value?new ha(this.source,$e(),n.value):new t(this.source,$e(),n)}else return q(Pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,lt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var xi=class{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Me(e))return this.isFullyInitialized()&&!this.filtered_;let n=Pe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Nv=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function ZV(t,e,n,i){let r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(zV(s.childName,s.snapshotNode))}),Jl(t,r,"child_removed",e,i,n),Jl(t,r,"child_added",e,i,n),Jl(t,r,"child_moved",o,i,n),Jl(t,r,"child_changed",e,i,n),Jl(t,r,"value",e,i,n),r}function Jl(t,e,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,l)=>XV(t,a,l)),s.forEach(a=>{let l=JV(t,a,o);r.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function JV(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function XV(t,e,n){if(e.childName==null||n.childName==null)throw po("Should only compare child_ events.");let i=new Te(e.childName,e.snapshotNode),r=new Te(n.childName,n.snapshotNode);return t.index_.compare(i,r)}function Xh(t,e){return{eventCache:t,serverCache:e}}function tc(t,e,n,i){return Xh(new xi(e,n,i),t.serverCache)}function Xx(t,e,n,i){return Xh(t.eventCache,new xi(e,n,i))}function Gh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var J_,ej=()=>(J_||(J_=new $n(eV)),J_),dn=class t{constructor(e,n=ej()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Ht(e,(i,r)=>{n=n.set(new tt(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$e(),value:this.value};if(Me(e))return null;{let i=Pe(e),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(lt(e),n);return o!=null?{path:Ct(new tt(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Me(e))return this;{let n=Pe(e),i=this.children.get(n);return i!==null?i.subtree(lt(e)):new t(null)}}set(e,n){if(Me(e))return new t(n,this.children);{let i=Pe(e),o=(this.children.get(i)||new t(null)).set(lt(e),n),s=this.children.insert(i,o);return new t(this.value,s)}}remove(e){if(Me(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=Pe(e),i=this.children.get(n);if(i){let r=i.remove(lt(e)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(Me(e))return this.value;{let n=Pe(e),i=this.children.get(n);return i?i.get(lt(e)):null}}setTree(e,n){if(Me(e))return n;{let i=Pe(e),o=(this.children.get(i)||new t(null)).setTree(lt(e),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new t(this.value,s)}}fold(e){return this.fold_($e(),e)}fold_(e,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ct(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,$e(),n)}findOnPath_(e,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(Me(e))return null;{let o=Pe(e),s=this.children.get(o);return s?s.findOnPath_(lt(e),Ct(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$e(),n)}foreachOnPath_(e,n,i){if(Me(e))return this;{this.value&&i(n,this.value);let r=Pe(e),o=this.children.get(r);return o?o.foreachOnPath_(lt(e),Ct(n,r),i):new t(null)}}foreach(e){this.foreach_($e(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ct(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}};var ai=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new dn(null))}};function nc(t,e,n){if(Me(e))return new ai(new dn(n));{let i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,o=i.value,s=cn(r,e);return o=o.updateChild(s,n),new ai(t.writeTree_.set(r,o))}else{let r=new dn(n),o=t.writeTree_.setTree(e,r);return new ai(o)}}}function Mv(t,e,n){let i=t;return Ht(n,(r,o)=>{i=nc(i,Ct(e,r),o)}),i}function hx(t,e){if(Me(e))return ai.empty();{let n=t.writeTree_.setTree(e,new dn(null));return new ai(n)}}function Rv(t,e){return es(t,e)!=null}function es(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(cn(n.path,e)):null}function fx(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(bt,(i,r)=>{e.push(new Te(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Te(i,r.value))}),e}function Qr(t,e){if(Me(e))return t;{let n=es(t,e);return n!=null?new ai(new dn(n)):new ai(t.writeTree_.subtree(e))}}function Pv(t){return t.writeTree_.isEmpty()}function fa(t,e){return eD($e(),t.writeTree_,e)}function eD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(q(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=eD(Ct(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Ct(t,".priority"),i)),n}}function ef(t,e){return rD(e,t)}function tj(t,e,n,i,r){q(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=nc(t.visibleWrites,e,n)),t.lastWriteId=i}function nj(t,e,n,i){q(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Mv(t.visibleWrites,e,n),t.lastWriteId=i}function ij(t,e){for(let n=0;n<t.allWrites.length;n++){let i=t.allWrites[n];if(i.writeId===e)return i}return null}function rj(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);q(n>=0,"removeWrite called with nonexistent writeId.");let i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&oj(a,i.path)?r=!1:Un(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return sj(t),!0;if(i.snap)t.visibleWrites=hx(t.visibleWrites,i.path);else{let a=i.children;Ht(a,l=>{t.visibleWrites=hx(t.visibleWrites,Ct(i.path,l))})}return!0}else return!1}function oj(t,e){if(t.snap)return Un(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Un(Ct(t.path,n),e))return!0;return!1}function sj(t){t.visibleWrites=tD(t.allWrites,aj,$e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function aj(t){return t.visible}function tD(t,e,n){let i=ai.empty();for(let r=0;r<t.length;++r){let o=t[r];if(e(o)){let s=o.path,a;if(o.snap)Un(n,s)?(a=cn(n,s),i=nc(i,a,o.snap)):Un(s,n)&&(a=cn(s,n),i=nc(i,$e(),o.snap.getChild(a)));else if(o.children){if(Un(n,s))a=cn(n,s),i=Mv(i,a,o.children);else if(Un(s,n))if(a=cn(s,n),Me(a))i=Mv(i,$e(),o.children);else{let l=mo(o.children,Pe(a));if(l){let u=l.getChild(lt(a));i=nc(i,$e(),u)}}}else throw po("WriteRecord should have .snap or .children")}}return i}function nD(t,e,n,i,r){if(!i&&!r){let o=es(t.visibleWrites,e);if(o!=null)return o;{let s=Qr(t.visibleWrites,e);if(Pv(s))return n;if(n==null&&!Rv(s,$e()))return null;{let a=n||ve.EMPTY_NODE;return fa(s,a)}}}else{let o=Qr(t.visibleWrites,e);if(!r&&Pv(o))return n;if(!r&&n==null&&!Rv(o,$e()))return null;{let s=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(Un(u.path,e)||Un(e,u.path))},a=tD(t.allWrites,s,e),l=n||ve.EMPTY_NODE;return fa(a,l)}}}function lj(t,e,n){let i=ve.EMPTY_NODE,r=es(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(bt,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=Qr(t.visibleWrites,e);return n.forEachChild(bt,(s,a)=>{let l=fa(Qr(o,new tt(s)),a);i=i.updateImmediateChild(s,l)}),fx(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=Qr(t.visibleWrites,e);return fx(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function cj(t,e,n,i,r){q(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=Ct(e,n);if(Rv(t.visibleWrites,o))return null;{let s=Qr(t.visibleWrites,o);return Pv(s)?r.getChild(n):fa(s,r.getChild(n))}}function uj(t,e,n,i){let r=Ct(e,n),o=es(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=Qr(t.visibleWrites,r);return fa(s,i.getNode().getImmediateChild(n))}else return null}function dj(t,e){return es(t.visibleWrites,e)}function hj(t,e,n,i,r,o,s){let a,l=Qr(t.visibleWrites,e),u=es(l,$e());if(u!=null)a=u;else if(n!=null)a=fa(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let g=[],v=s.getCompare(),w=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),S=w.getNext();for(;S&&g.length<r;)v(S,i)!==0&&g.push(S),S=w.getNext();return g}else return[]}function fj(){return{visibleWrites:ai.empty(),allWrites:[],lastWriteId:-1}}function qh(t,e,n,i){return nD(t.writeTree,t.treePath,e,n,i)}function ly(t,e){return lj(t.writeTree,t.treePath,e)}function px(t,e,n,i){return cj(t.writeTree,t.treePath,e,n,i)}function zh(t,e){return dj(t.writeTree,Ct(t.treePath,e))}function pj(t,e,n,i,r,o){return hj(t.writeTree,t.treePath,e,n,i,r,o)}function cy(t,e,n){return uj(t.writeTree,t.treePath,e,n)}function iD(t,e){return rD(Ct(t.treePath,e),t.writeTree)}function rD(t,e){return{treePath:t,writeTree:e}}var kv=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,i=e.childName;q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),q(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,sc(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,oc(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,da(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,sc(i,e.snapshotNode,r.oldSnap));else throw po("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var Fv=class{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}},oD=new Fv,cc=class{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cy(this.writes_,e,i)}}getChildAfterChild(e,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zo(this.viewCache_),o=pj(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}};function mj(t){return{filter:t}}function gj(t,e){q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function _j(t,e,n,i,r){let o=new kv,s,a;if(n.type===Ti.OVERWRITE){let u=n;u.source.fromUser?s=Ov(t,e,u.path,u.snap,i,r,o):(q(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Me(u.path),s=Wh(t,e,u.path,u.snap,i,r,a,o))}else if(n.type===Ti.MERGE){let u=n;u.source.fromUser?s=yj(t,e,u.path,u.children,i,r,o):(q(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Lv(t,e,u.path,u.children,i,r,a,o))}else if(n.type===Ti.ACK_USER_WRITE){let u=n;u.revert?s=wj(t,e,u.path,i,r,o):s=Cj(t,e,u.path,u.affectedTree,i,r,o)}else if(n.type===Ti.LISTEN_COMPLETE)s=bj(t,e,n.path,i,o);else throw po("Unknown operation type: "+n.type);let l=o.getChanges();return vj(e,s,l),{viewCache:s,changes:l}}function vj(t,e,n){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Gh(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(Zx(Gh(e)))}}function sD(t,e,n,i,r,o){let s=e.eventCache;if(zh(i,n)!=null)return e;{let a,l;if(Me(n))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=Zo(e),g=u instanceof ve?u:ve.EMPTY_NODE,v=ly(i,g);a=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{let u=qh(i,Zo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{let u=Pe(n);if(u===".priority"){q(Zr(n)===1,"Can't have a priority with additional path components");let g=s.getNode();l=e.serverCache.getNode();let v=px(i,n,g,l);v!=null?a=t.filter.updatePriority(g,v):a=s.getNode()}else{let g=lt(n),v;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();let w=px(i,n,s.getNode(),l);w!=null?v=s.getNode().getImmediateChild(u).updateChild(g,w):v=s.getNode().getImmediateChild(u)}else v=cy(i,u,e.serverCache);v!=null?a=t.filter.updateChild(s.getNode(),u,v,g,r,o):a=s.getNode()}}return tc(e,a,s.isFullyInitialized()||Me(n),t.filter.filtersNodes())}}function Wh(t,e,n,i,r,o,s,a){let l=e.serverCache,u,g=s?t.filter:t.filter.getIndexedFilter();if(Me(n))u=g.updateFullNode(l.getNode(),i,null);else if(g.filtersNodes()&&!l.isFiltered()){let S=l.getNode().updateChild(n,i);u=g.updateFullNode(l.getNode(),S,null)}else{let S=Pe(n);if(!l.isCompleteForPath(n)&&Zr(n)>1)return e;let x=lt(n),$=l.getNode().getImmediateChild(S).updateChild(x,i);S===".priority"?u=g.updatePriority(l.getNode(),$):u=g.updateChild(l.getNode(),S,$,x,oD,null)}let v=Xx(e,u,l.isFullyInitialized()||Me(n),g.filtersNodes()),w=new cc(r,v,o);return sD(t,v,n,r,w,a)}function Ov(t,e,n,i,r,o,s){let a=e.eventCache,l,u,g=new cc(r,e,o);if(Me(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,s),l=tc(e,u,!0,t.filter.filtersNodes());else{let v=Pe(n);if(v===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),l=tc(e,u,a.isFullyInitialized(),a.isFiltered());else{let w=lt(n),S=a.getNode().getImmediateChild(v),x;if(Me(w))x=i;else{let L=g.getCompleteChild(v);L!=null?ny(w)===".priority"&&L.getChild(Gx(w)).isEmpty()?x=L:x=L.updateChild(w,i):x=ve.EMPTY_NODE}if(S.equals(x))l=e;else{let L=t.filter.updateChild(a.getNode(),v,x,w,g,s);l=tc(e,L,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function mx(t,e){return t.eventCache.isCompleteForChild(e)}function yj(t,e,n,i,r,o,s){let a=e;return i.foreach((l,u)=>{let g=Ct(n,l);mx(e,Pe(g))&&(a=Ov(t,a,g,u,r,o,s))}),i.foreach((l,u)=>{let g=Ct(n,l);mx(e,Pe(g))||(a=Ov(t,a,g,u,r,o,s))}),a}function gx(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Lv(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Me(n)?u=i:u=new dn(null).setTree(n,i);let g=e.serverCache.getNode();return u.children.inorderTraversal((v,w)=>{if(g.hasChild(v)){let S=e.serverCache.getNode().getImmediateChild(v),x=gx(t,S,w);l=Wh(t,l,new tt(v),x,r,o,s,a)}}),u.children.inorderTraversal((v,w)=>{let S=!e.serverCache.isCompleteForChild(v)&&w.value===null;if(!g.hasChild(v)&&!S){let x=e.serverCache.getNode().getImmediateChild(v),L=gx(t,x,w);l=Wh(t,l,new tt(v),L,r,o,s,a)}}),l}function Cj(t,e,n,i,r,o,s){if(zh(r,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(Me(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Wh(t,e,n,l.getNode().getChild(n),r,o,a,s);if(Me(n)){let u=new dn(null);return l.getNode().forEachChild(sa,(g,v)=>{u=u.set(new tt(g),v)}),Lv(t,e,n,u,r,o,a,s)}else return e}else{let u=new dn(null);return i.foreach((g,v)=>{let w=Ct(n,g);l.isCompleteForPath(w)&&(u=u.set(g,l.getNode().getChild(w)))}),Lv(t,e,n,u,r,o,a,s)}}function bj(t,e,n,i,r){let o=e.serverCache,s=Xx(e,o.getNode(),o.isFullyInitialized()||Me(n),o.isFiltered());return sD(t,s,n,i,oD,r)}function wj(t,e,n,i,r,o){let s;if(zh(i,n)!=null)return e;{let a=new cc(i,e,r),l=e.eventCache.getNode(),u;if(Me(n)||Pe(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=qh(i,Zo(e));else{let v=e.serverCache.getNode();q(v instanceof ve,"serverChildren would be complete if leaf node"),g=ly(i,v)}g=g,u=t.filter.updateFullNode(l,g,o)}else{let g=Pe(n),v=cy(i,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=l.getImmediateChild(g)),v!=null?u=t.filter.updateChild(l,g,v,lt(n),a,o):e.eventCache.getNode().hasChild(g)?u=t.filter.updateChild(l,g,ve.EMPTY_NODE,lt(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=qh(i,Zo(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||zh(i,$e())!=null,tc(e,u,s,t.filter.filtersNodes())}}var Vv=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new ac(i.getIndex()),o=WV(i);this.processor_=mj(o);let s=n.serverCache,a=n.eventCache,l=r.updateFullNode(ve.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(ve.EMPTY_NODE,a.getNode(),null),g=new xi(l,s.isFullyInitialized(),r.filtersNodes()),v=new xi(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Xh(v,g),this.eventGenerator_=new Nv(this.query_)}get query(){return this.query_}};function Ej(t){return t.viewCache_.serverCache.getNode()}function Sj(t){return Gh(t.viewCache_)}function Ij(t,e){let n=Zo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Me(e)&&!n.getImmediateChild(Pe(e)).isEmpty())?n.getChild(e):null}function _x(t){return t.eventRegistrations_.length===0}function Tj(t,e){t.eventRegistrations_.push(e)}function vx(t,e,n){let i=[];if(n){q(e==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))r.push(s);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function yx(t,e,n,i){e.type===Ti.MERGE&&e.source.queryId!==null&&(q(Zo(t.viewCache_),"We should always have a full cache before handling merges"),q(Gh(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,o=_j(t.processor_,r,e,n,i);return gj(t.processor_,o.viewCache),q(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,aD(t,o.changes,o.viewCache.eventCache.getNode(),null)}function xj(t,e){let n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(bt,(o,s)=>{i.push(da(o,s))}),n.isFullyInitialized()&&i.push(Zx(n.getNode())),aD(t,i,n.getNode(),e)}function aD(t,e,n,i){let r=i?[i]:t.eventRegistrations_;return ZV(t.eventGenerator_,e,n,r)}var Kh,Qh=class{constructor(){this.views=new Map}};function Dj(t){q(!Kh,"__referenceConstructor has already been defined"),Kh=t}function Aj(){return q(Kh,"Reference.ts has not been loaded"),Kh}function Nj(t){return t.views.size===0}function uy(t,e,n,i){let r=e.source.queryId;if(r!==null){let o=t.views.get(r);return q(o!=null,"SyncTree gave us an op for an invalid query."),yx(o,e,n,i)}else{let o=[];for(let s of t.views.values())o=o.concat(yx(s,e,n,i));return o}}function lD(t,e,n,i,r){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=qh(n,r?i:null),l=!1;a?l=!0:i instanceof ve?(a=ly(n,i),l=!1):(a=ve.EMPTY_NODE,l=!1);let u=Xh(new xi(a,l,!1),new xi(i,r,!1));return new Vv(e,u)}return s}function Mj(t,e,n,i,r,o){let s=lD(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),Tj(s,n),xj(s,n)}function Rj(t,e,n,i){let r=e._queryIdentifier,o=[],s=[],a=Jr(t);if(r==="default")for(let[l,u]of t.views.entries())s=s.concat(vx(u,n,i)),_x(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{let l=t.views.get(r);l&&(s=s.concat(vx(l,n,i)),_x(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Jr(t)&&o.push(new(Aj())(e._repo,e._path)),{removed:o,events:s}}function cD(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Yr(t,e){let n=null;for(let i of t.views.values())n=n||Ij(i,e);return n}function uD(t,e){if(e._queryParams.loadsAllData())return tf(t);{let i=e._queryIdentifier;return t.views.get(i)}}function dD(t,e){return uD(t,e)!=null}function Jr(t){return tf(t)!=null}function tf(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Yh;function Pj(t){q(!Yh,"__referenceConstructor has already been defined"),Yh=t}function kj(){return q(Yh,"Reference.ts has not been loaded"),Yh}var Fj=1,Zh=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dn(null),this.pendingWriteTree_=fj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function hD(t,e,n,i,r){return tj(t.pendingWriteTree_,e,n,i,r),r?ga(t,new ha(oy(),e,n)):[]}function Oj(t,e,n,i){nj(t.pendingWriteTree_,e,n,i);let r=dn.fromObject(n);return ga(t,new lc(oy(),e,r))}function Kr(t,e,n=!1){let i=ij(t.pendingWriteTree_,e);if(rj(t.pendingWriteTree_,e)){let o=new dn(null);return i.snap!=null?o=o.set($e(),!0):Ht(i.children,s=>{o=o.set(new tt(s),!0)}),ga(t,new Av(i.path,o,n))}else return[]}function mc(t,e,n){return ga(t,new ha(sy(),e,n))}function Lj(t,e,n){let i=dn.fromObject(n);return ga(t,new lc(sy(),e,i))}function Vj(t,e){return ga(t,new $h(sy(),e))}function jj(t,e,n){let i=hy(t,n);if(i){let r=fy(i),o=r.path,s=r.queryId,a=cn(o,e),l=new $h(ay(s),a);return py(t,o,l)}else return[]}function fD(t,e,n,i,r=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||dD(s,e))){let l=Rj(s,e,n,i);Nj(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let u=l.removed;if(a=l.events,!r){let g=u.findIndex(w=>w._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(o,(w,S)=>Jr(S));if(g&&!v){let w=t.syncPointTree_.subtree(o);if(!w.isEmpty()){let S=$j(w);for(let x=0;x<S.length;++x){let L=S[x],$=L.query,Q=_D(t,L);t.listenProvider_.startListening(ic($),uc(t,$),Q.hashFn,Q.onComplete)}}}!v&&u.length>0&&!i&&(g?t.listenProvider_.stopListening(ic(e),null):u.forEach(w=>{let S=t.queryToTagMap.get(nf(w));t.listenProvider_.stopListening(ic(w),S)}))}Gj(t,u)}return a}function pD(t,e,n,i){let r=hy(t,i);if(r!=null){let o=fy(r),s=o.path,a=o.queryId,l=cn(s,e),u=new ha(ay(a),l,n);return py(t,s,u)}else return[]}function Bj(t,e,n,i){let r=hy(t,i);if(r){let o=fy(r),s=o.path,a=o.queryId,l=cn(s,e),u=dn.fromObject(n),g=new lc(ay(a),l,u);return py(t,s,g)}else return[]}function Hj(t,e,n,i=!1){let r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(w,S)=>{let x=cn(w,r);o=o||Yr(S,x),s=s||Jr(S)});let a=t.syncPointTree_.get(r);a?(s=s||Jr(a),o=o||Yr(a,$e())):(a=new Qh,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=ve.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((S,x)=>{let L=Yr(x,$e());L&&(o=o.updateImmediateChild(S,L))}));let u=dD(a,e);if(!u&&!e._queryParams.loadsAllData()){let w=nf(e);q(!t.queryToTagMap.has(w),"View does not exist, but we have a tag");let S=qj();t.queryToTagMap.set(w,S),t.tagToQueryMap.set(S,w)}let g=ef(t.pendingWriteTree_,r),v=Mj(a,e,n,g,o,l);if(!u&&!s&&!i){let w=uD(a,e);v=v.concat(zj(t,e,w))}return v}function dy(t,e,n){let r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=cn(s,e),u=Yr(a,l);if(u)return u});return nD(r,e,o,n,!0)}function Uj(t,e){let n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,(u,g)=>{let v=cn(u,n);i=i||Yr(g,v)});let r=t.syncPointTree_.get(n);r?i=i||Yr(r,$e()):(r=new Qh,t.syncPointTree_=t.syncPointTree_.set(n,r));let o=i!=null,s=o?new xi(i,!0,!1):null,a=ef(t.pendingWriteTree_,e._path),l=lD(r,e,a,o?s.getNode():ve.EMPTY_NODE,o);return Sj(l)}function ga(t,e){return mD(e,t.syncPointTree_,null,ef(t.pendingWriteTree_,$e()))}function mD(t,e,n,i){if(Me(t.path))return gD(t,e,n,i);{let r=e.get($e());n==null&&r!=null&&(n=Yr(r,$e()));let o=[],s=Pe(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let u=n?n.getImmediateChild(s):null,g=iD(i,s);o=o.concat(mD(a,l,u,g))}return r&&(o=o.concat(uy(r,t,i,n))),o}}function gD(t,e,n,i){let r=e.get($e());n==null&&r!=null&&(n=Yr(r,$e()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,u=iD(i,s),g=t.operationForChild(s);g&&(o=o.concat(gD(g,a,l,u)))}),r&&(o=o.concat(uy(r,t,i,n))),o}function _D(t,e){let n=e.query,i=uc(t,n);return{hashFn:()=>(Ej(e)||ve.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?jj(t,n._path,i):Vj(t,n._path);{let o=iV(r,n);return fD(t,n,null,o)}}}}function uc(t,e){let n=nf(e);return t.queryToTagMap.get(n)}function nf(t){return t._path.toString()+"$"+t._queryIdentifier}function hy(t,e){return t.tagToQueryMap.get(e)}function fy(t){let e=t.indexOf("$");return q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new tt(t.substr(0,e))}}function py(t,e,n){let i=t.syncPointTree_.get(e);q(i,"Missing sync point for query tag that we're tracking");let r=ef(t.pendingWriteTree_,e);return uy(i,n,r,null)}function $j(t){return t.fold((e,n,i)=>{if(n&&Jr(n))return[tf(n)];{let r=[];return n&&(r=cD(n)),Ht(i,(o,s)=>{r=r.concat(s)}),r}})}function ic(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(kj())(t._repo,t._path):t}function Gj(t,e){for(let n=0;n<e.length;++n){let i=e[n];if(!i._queryParams.loadsAllData()){let r=nf(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function qj(){return Fj++}function zj(t,e,n){let i=e._path,r=uc(t,e),o=_D(t,n),s=t.listenProvider_.startListening(ic(e),r,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(i);if(r)q(!Jr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((u,g,v)=>{if(!Me(u)&&g&&Jr(g))return[tf(g).query];{let w=[];return g&&(w=w.concat(cD(g).map(S=>S.query))),Ht(v,(S,x)=>{w=w.concat(x)}),w}});for(let u=0;u<l.length;++u){let g=l[u];t.listenProvider_.stopListening(ic(g),uc(t,g))}}return s}var jv=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Bv=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Ct(this.path_,e);return new t(this.syncTree_,n)}node(){return dy(this.syncTree_,this.path_)}},Wj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Cx=function(t,e,n){if(!t||typeof t!="object")return t;if(q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Kj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Qj(t[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Kj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:q(!1,"Unexpected server value: "+t)}},Qj=function(t,e,n){t.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let i=t.increment;typeof i!="number"&&q(!1,"Unexpected increment value: "+i);let r=e.node();if(q(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},vD=function(t,e,n,i){return my(e,new Bv(n,t),i)},yD=function(t,e,n){return my(t,new jv(e),n)};function my(t,e,n){let i=t.getPriority().val(),r=Cx(i,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=Cx(s.getValue(),e,n);return a!==s.getValue()||r!==s.getPriority().val()?new ca(a,Pt(r)):t}else{let s=t;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new ca(r))),s.forEachChild(bt,(a,l)=>{let u=my(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}var dc=class{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}};function gy(t,e){let n=e instanceof tt?e:new tt(e),i=t,r=Pe(n);for(;r!==null;){let o=mo(i.node.children,r)||{children:{},childCount:0};i=new dc(r,i,o),n=lt(n),r=Pe(n)}return i}function _a(t){return t.node.value}function CD(t,e){t.node.value=e,Hv(t)}function bD(t){return t.node.childCount>0}function Yj(t){return _a(t)===void 0&&!bD(t)}function rf(t,e){Ht(t.node.children,(n,i)=>{e(new dc(n,t,i))})}function wD(t,e,n,i){n&&!i&&e(t),rf(t,r=>{wD(r,e,!0,i)}),n&&i&&e(t)}function Zj(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function gc(t){return new tt(t.parent===null?t.name:gc(t.parent)+"/"+t.name)}function Hv(t){t.parent!==null&&Jj(t.parent,t.name,t)}function Jj(t,e,n){let i=Yj(n),r=Kn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Hv(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Hv(t))}var Xj=/[\[\].#$\/\u0000-\u001F\u007F]/,eB=/[\[\].#$\u0000-\u001F\u007F]/,X_=10*1024*1024,_y=function(t){return typeof t=="string"&&t.length!==0&&!Xj.test(t)},ED=function(t){return typeof t=="string"&&t.length!==0&&!eB.test(t)},tB=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ED(t)},nB=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Xv(t)||t&&typeof t=="object"&&Kn(t,".sv")},SD=function(t,e,n,i){i&&e===void 0||of(sl(t,"value"),e,n)},of=function(t,e,n){let i=n instanceof tt?new fv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Wo(i));if(typeof e=="function")throw new Error(t+"contains a function "+Wo(i)+" with contents = "+e.toString());if(Xv(e))throw new Error(t+"contains "+e.toString()+" "+Wo(i));if(typeof e=="string"&&e.length>X_/3&&al(e)>X_)throw new Error(t+"contains a string greater than "+X_+" utf8 bytes "+Wo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(Ht(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!_y(s)))throw new Error(t+" contains an invalid key ("+s+") "+Wo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);PV(i,s),of(t,a,i),kV(i)}),r&&o)throw new Error(t+' contains ".value" child '+Wo(i)+" in addition to actual children.")}},iB=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];let o=rc(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!_y(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(RV);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&Un(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},rB=function(t,e,n,i){if(i&&e===void 0)return;let r=sl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let o=[];Ht(e,(s,a)=>{let l=new tt(s);if(of(r,a,Ct(n,l)),ny(l)===".priority"&&!nB(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),iB(r,o)};var ID=function(t,e,n,i){if(!(i&&n===void 0)&&!ED(n))throw new Error(sl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oB=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ID(t,e,n,i)},vy=function(t,e){if(Pe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},sB=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_y(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!tB(n))throw new Error(sl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Uv=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function yy(t,e){let n=null;for(let i=0;i<e.length;i++){let r=e[i],o=r.getPath();n!==null&&!qx(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function Gn(t,e,n){yy(t,n),aB(t,i=>Un(i,e)||Un(e,i))}function aB(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){let r=t.eventLists_[i];if(r){let o=r.path;e(o)?(lB(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function lB(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let i=n.getEventRunner();Qo&&Bt("event: "+n.toString()),ma(i)}}}var cB="repo_interrupt",uB=25,$v=class{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Uv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uh(),this.transactionQueueTree_=new dc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function dB(t,e,n){if(t.stats_=ty(t.repoInfo_),t.forceRestClient_||aV())t.server_=new Sv(t.repoInfo_,(i,r,o,s)=>{bx(t,i,r,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>wx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{St(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new iy(t.repoInfo_,e,(i,r,o,s)=>{bx(t,i,r,o,s)},i=>{wx(t,i)},i=>{hB(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=cV(t.repoInfo_,()=>new Dv(t.stats_,t.server_)),t.infoData_=new Iv,t.infoSyncTree_=new Zh({startListening:(i,r,o,s)=>{let a=[],l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=mc(t.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Cy(t,"connected",!1),t.serverSyncTree_=new Zh({startListening:(i,r,o,s)=>(t.server_.listen(i,o,r,(a,l)=>{let u=s(a,l);Gn(t.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function TD(t){let n=t.infoData_.getNode(new tt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function sf(t){return Wj({timestamp:TD(t)})}function bx(t,e,n,i,r){t.dataUpdateCount++;let o=new tt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(r)if(i){let l=ol(n,u=>Pt(u));s=Bj(t.serverSyncTree_,o,l,r)}else{let l=Pt(n);s=pD(t.serverSyncTree_,o,l,r)}else if(i){let l=ol(n,u=>Pt(u));s=Lj(t.serverSyncTree_,o,l)}else{let l=Pt(n);s=mc(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=pa(t,o)),Gn(t.eventQueue_,a,s)}function wx(t,e){Cy(t,"connected",e),e===!1&&gB(t)}function hB(t,e){Ht(e,(n,i)=>{Cy(t,n,i)})}function Cy(t,e,n){let i=new tt("/.info/"+e),r=Pt(n);t.infoData_.updateSnapshot(i,r);let o=mc(t.infoSyncTree_,i,r);Gn(t.eventQueue_,i,o)}function by(t){return t.nextWriteId_++}function fB(t,e,n){let i=Uj(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{let o=Pt(r).withIndex(e._queryParams.getIndex());Hj(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=mc(t.serverSyncTree_,e._path,o);else{let a=uc(t.serverSyncTree_,e);s=pD(t.serverSyncTree_,e._path,o,a)}return Gn(t.eventQueue_,e._path,s),fD(t.serverSyncTree_,e,n,null,!0),o},r=>(_c(t,"get for query "+St(e)+" failed: "+r),Promise.reject(new Error(r))))}function pB(t,e,n,i,r){_c(t,"set",{path:e.toString(),value:n,priority:i});let o=sf(t),s=Pt(n,i),a=dy(t.serverSyncTree_,e),l=yD(s,a,o),u=by(t),g=hD(t.serverSyncTree_,e,l,u,!0);yy(t.eventQueue_,g),t.server_.put(e.toString(),s.val(!0),(w,S)=>{let x=w==="ok";x||un("set at "+e+" failed: "+w);let L=Kr(t.serverSyncTree_,u,!x);Gn(t.eventQueue_,e,L),Gv(t,r,w,S)});let v=Ey(t,e);pa(t,v),Gn(t.eventQueue_,v,[])}function mB(t,e,n,i){_c(t,"update",{path:e.toString(),value:n});let r=!0,o=sf(t),s={};if(Ht(n,(a,l)=>{r=!1,s[a]=vD(Ct(e,a),Pt(l),t.serverSyncTree_,o)}),r)Bt("update() called with empty data.  Don't do anything."),Gv(t,i,"ok",void 0);else{let a=by(t),l=Oj(t.serverSyncTree_,e,s,a);yy(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,g)=>{let v=u==="ok";v||un("update at "+e+" failed: "+u);let w=Kr(t.serverSyncTree_,a,!v),S=w.length>0?pa(t,e):e;Gn(t.eventQueue_,S,w),Gv(t,i,u,g)}),Ht(n,u=>{let g=Ey(t,Ct(e,u));pa(t,g)}),Gn(t.eventQueue_,e,[])}}function gB(t){_c(t,"onDisconnectEvents");let e=sf(t),n=Uh();Tv(t.onDisconnect_,$e(),(r,o)=>{let s=vD(r,o,t.serverSyncTree_,e);Jx(n,r,s)});let i=[];Tv(n,$e(),(r,o)=>{i=i.concat(mc(t.serverSyncTree_,r,o));let s=Ey(t,r);pa(t,s)}),t.onDisconnect_=Uh(),Gn(t.eventQueue_,$e(),i)}function _B(t){t.persistentConnection_&&t.persistentConnection_.interrupt(cB)}function _c(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Bt(n,...e)}function Gv(t,e,n,i){e&&ma(()=>{if(n==="ok")e(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,e(s)}})}function xD(t,e,n){return dy(t.serverSyncTree_,e,n)||ve.EMPTY_NODE}function wy(t,e=t.transactionQueueTree_){if(e||af(t,e),_a(e)){let n=AD(t,e);q(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&vB(t,gc(e),n)}else bD(e)&&rf(e,n=>{wy(t,n)})}function vB(t,e,n){let i=n.map(u=>u.currentWriteId),r=xD(t,e,i),o=r,s=r.hash();for(let u=0;u<n.length;u++){let g=n[u];q(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;let v=cn(e,g.path);o=o.updateChild(v,g.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{_c(t,"transaction put response",{path:l.toString(),status:u});let g=[];if(u==="ok"){let v=[];for(let w=0;w<n.length;w++)n[w].status=2,g=g.concat(Kr(t.serverSyncTree_,n[w].currentWriteId)),n[w].onComplete&&v.push(()=>n[w].onComplete(null,!0,n[w].currentOutputSnapshotResolved)),n[w].unwatcher();af(t,gy(t.transactionQueueTree_,e)),wy(t,t.transactionQueueTree_),Gn(t.eventQueue_,e,g);for(let w=0;w<v.length;w++)ma(v[w])}else{if(u==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{un("transaction at "+l.toString()+" failed: "+u);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=u}pa(t,e)}},s)}function pa(t,e){let n=DD(t,e),i=gc(n),r=AD(t,n);return yB(t,r,i),i}function yB(t,e,n){if(e.length===0)return;let i=[],r=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],u=cn(n,l.path),g=!1,v;if(q(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)g=!0,v=l.abortReason,r=r.concat(Kr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=uB)g=!0,v="maxretry",r=r.concat(Kr(t.serverSyncTree_,l.currentWriteId,!0));else{let w=xD(t,l.path,s);l.currentInputSnapshot=w;let S=e[a].update(w.val());if(S!==void 0){of("transaction failed: Data returned ",S,l.path);let x=Pt(S);typeof S=="object"&&S!=null&&Kn(S,".priority")||(x=x.updatePriority(w.getPriority()));let $=l.currentWriteId,Q=sf(t),ie=yD(x,w,Q);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=ie,l.currentWriteId=by(t),s.splice(s.indexOf($),1),r=r.concat(hD(t.serverSyncTree_,l.path,ie,l.currentWriteId,l.applyLocally)),r=r.concat(Kr(t.serverSyncTree_,$,!0))}else g=!0,v="nodata",r=r.concat(Kr(t.serverSyncTree_,l.currentWriteId,!0))}Gn(t.eventQueue_,n,r),r=[],g&&(e[a].status=2,function(w){setTimeout(w,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(v==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(v),!1,null))))}af(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)ma(i[a]);wy(t,t.transactionQueueTree_)}function DD(t,e){let n,i=t.transactionQueueTree_;for(n=Pe(e);n!==null&&_a(i)===void 0;)i=gy(i,n),e=lt(e),n=Pe(e);return i}function AD(t,e){let n=[];return ND(t,e,n),n.sort((i,r)=>i.order-r.order),n}function ND(t,e,n){let i=_a(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);rf(e,r=>{ND(t,r,n)})}function af(t,e){let n=_a(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,CD(e,n.length>0?n:void 0)}rf(e,i=>{af(t,i)})}function Ey(t,e){let n=gc(DD(t,e)),i=gy(t.transactionQueueTree_,e);return Zj(i,r=>{ev(t,r)}),ev(t,i),wD(i,r=>{ev(t,r)}),n}function ev(t,e){let n=_a(e);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(q(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(q(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(Kr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?CD(e,void 0):n.length=o+1,Gn(t.eventQueue_,gc(e),r);for(let s=0;s<i.length;s++)ma(i[s])}}function CB(t){let e="",n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function bB(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):un(`Invalid query segment '${n}' in query '${t}'`)}return e}var Ex=function(t,e){let n=wB(t),i=n.namespace;n.domain==="firebase.com"&&or(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&or("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||J4();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kh(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new tt(n.pathString)}},wB=function(t){let e="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let g=t.indexOf("/");g===-1&&(g=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(g,v)),g<v&&(r=CB(t.substring(g,v)));let w=bB(t.substring(Math.min(t.length,v)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;let S=e.slice(0,u);if(S.toLowerCase()==="localhost")n="localhost";else if(S.split(".").length<=2)n=S;else{let x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),n=e.substring(x+1),o=i}"ns"in w&&(o=w.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var Sx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",EB=function(){let t=0,e=[];return function(n){let i=n===t;t=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=Sx.charAt(n%64),n=Math.floor(n/64);q(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=Sx.charAt(e[r]);return q(s.length===20,"nextPushId: Length should be 20."),s}}();var qv=class{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+St(this.snapshot.exportVal())}},zv=class{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Wv=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Kv=class t{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Me(this._path)?null:ny(this._path)}get ref(){return new sr(this._repo,this._path)}get _queryIdentifier(){let e=ux(this._queryParams),n=ey(e);return n==="{}"?"default":n}get _queryObject(){return ux(this._queryParams)}isEqual(e){if(e=Qt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,i=qx(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+MV(this._path)}};var sr=class t extends Kv{constructor(e,n){super(e,n,new Ev,!1)}get parent(){let e=Gx(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Jh=class t{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new tt(e),i=Jo(this.ref,e);return new t(this._node.getChild(n),i,bt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new t(r,Jo(this.ref,i),bt)))}hasChild(e){let n=new tt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function MD(t,e){return t=Qt(t),t._checkNotDeleted("ref"),e!==void 0?Jo(t._root,e):t._root}function Jo(t,e){return t=Qt(t),Pe(t._path)===null?oB("child","path",e,!1):ID("child","path",e,!1),new sr(t._repo,Ct(t._path,e))}function RD(t,e){t=Qt(t),vy("push",t._path),SD("push",e,t._path,!0);let n=TD(t._repo),i=EB(n),r=Jo(t,i),o=Jo(t,i),s;return e!=null?s=lf(o,e).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function PD(t){return vy("remove",t._path),lf(t,null)}function lf(t,e){t=Qt(t),vy("set",t._path),SD("set",e,t._path,!1);let n=new Li;return pB(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function kD(t,e){rB("update",e,t._path,!1);let n=new Li;return mB(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function FD(t){t=Qt(t);let e=new Wv(()=>{}),n=new Qv(e);return fB(t._repo,t,n).then(i=>new Jh(i,new sr(t._repo,t._path),t._queryParams.getIndex()))}var Qv=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let i=n._queryParams.getIndex();return new qv("value",this,new Jh(e.snapshotNode,new sr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zv(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};Dj(sr);Pj(sr);var SB="FIREBASE_DATABASE_EMULATOR_HOST",Yv={},IB=!1;function TB(t,e,n,i){t.repoInfo_=new kh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function xB(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||or("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Ex(o,r),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[SB]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=Ex(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let g=r&&l?new ec(ec.OWNER):new sv(t.name,t.options,e);sB("Invalid Firebase Database URL",s),Me(s.path)||or("Database URL must point to the root of a Firebase Database (not including a child path).");let v=AB(a,t,g,new ov(t.name,n));return new Zv(v,t)}function DB(t,e){let n=Yv[e];(!n||n[t.key]!==t)&&or(`Database ${e}(${t.repoInfo_}) has already been deleted.`),_B(t),delete n[t.key]}function AB(t,e,n,i){let r=Yv[e.name];r||(r={},Yv[e.name]=r);let o=r[t.toURLString()];return o&&or("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new $v(t,IB,n,i),r[t.toURLString()]=o,o}var Zv=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sr(this._repo,$e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(DB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&or("Cannot call "+e+" on a deleted database.")}};function OD(t=Sr(),e){let n=yo(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let i=Du("database");i&&LD(n,...i)}return n}function LD(t,e,n,i={}){t=Qt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&or("Cannot call useEmulator() after instance has already been initialized.");let r=t._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&or('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ec(ec.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:Au(i.mockUserToken,t.app.options.projectId);o=new ec(s)}TB(r,e,n,o)}function NB(t){Q4(vi),_i(new gn("database",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return xB(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),ht(WT,KT,t),ht(WT,KT,"esm2017")}iy.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};iy.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};NB();var li=class{constructor(e){return e}},VD="database",Sy=class{constructor(){return Ho(VD)}};var Iy=new re("angularfire2.database-instances");function MB(t,e){let n=ea(VD,t,e);return n&&new li(n)}function RB(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new li(i)}}var PB={provide:Sy,deps:[[new Rt,Iy]]},kB={provide:li,useFactory:MB,deps:[[new Rt,Iy],oi]};function jD(t,...e){return ht("angularfire",tr.full,"rtdb"),Bn([kB,PB,{provide:Iy,useFactory:RB(t),multi:!0,deps:[Ye,jt,Gr,nr,[new Rt,zo],[new Rt,$r],...e]}])}var it=ln(Jo,!0);var hn=ln(FD,!0),BD=ln(OD,!0);var ar=ln(RD,!0);var va=ln(MD,!0);var Xr=ln(PD,!0);var lr=ln(lf,!0);var ci=ln(kD,!0);var GD=null;function ur(){return GD}function qD(t){GD??=t}var cf=class{};var Cn=new re(""),Dy=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>Y(FB),providedIn:"platform"})}return t})();var FB=(()=>{class t extends Dy{_location;_history;_doc=Y(Cn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ur().getBaseHref(this._doc)}onPopState(n){let i=ur().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=ur().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Ay(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function HD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function cr(t){return t&&t[0]!=="?"?"?"+t:t}var eo=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>Y(WD),providedIn:"root"})}return t})(),zD=new re(""),WD=(()=>{class t extends eo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Y(Cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ay(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+cr(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+cr(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+cr(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(ce(Dy),ce(zD,8))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KD=(()=>{class t extends eo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=Ay(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+cr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+cr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(ce(Dy),ce(zD,8))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),vc=(()=>{class t{_subject=new It;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=VB(HD(UD(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+cr(i))}normalize(n){return t.stripTrailingSlash(LB(this._basePath,UD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cr(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=cr;static joinWithSlash=Ay;static stripTrailingSlash=HD;static \u0275fac=function(i){return new(i||t)(ce(eo))};static \u0275prov=ee({token:t,factory:()=>OB(),providedIn:"root"})}return t})();function OB(){return new vc(ce(eo))}function LB(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function UD(t){return t.replace(/\/index.html$/,"")}function VB(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function QD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var xy=/\s+/,$D=[],xe=(()=>{class t{_ngEl;_renderer;initialClasses=$D;rawClass;stateMap=new Map;constructor(n,i){this._ngEl=n,this._renderer=i}set klass(n){this.initialClasses=n!=null?n.trim().split(xy):$D}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(xy):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(xy).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||t)(j(an),j(ri))};static \u0275dir=pt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var ye=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ur({type:t});static \u0275inj=Vr({})}return t})(),YD="browser",jB="server";function Ny(t){return t===jB}var uf=class{};var Ry=class extends cf{supportsDOMEvents=!0},Py=class t extends Ry{static makeCurrent(){qD(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=BB();return n==null?null:HB(n)}resetBaseElement(){yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return QD(document.cookie,e)}},yc=null;function BB(){return yc=yc||document.querySelector("base"),yc?yc.getAttribute("href"):null}function HB(t){return new URL(t,document.baseURI).pathname}var UB=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),ky=new re(""),tA=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||t)(ce(ky),ce(Ye))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),df=class{_doc;constructor(e){this._doc=e}manager},Fy="ng-app-id";function ZD(t){for(let e of t)e.remove()}function JD(t,e){let n=e.createElement("style");return n.textContent=t,n}function $B(t,e,n){let i=t.head?.querySelectorAll(`style[${Fy}="${e}"]`);if(i)for(let r of i)r.textContent&&(r.removeAttribute(Fy),n.set(r.textContent,{usage:0,elements:[r]}))}function Oy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var nA=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.isServer=Ny(o),$B(n,i,this.inline),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,JD);i?.forEach(r=>this.addUsage(r,this.external,Oy))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(ZD(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ZD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,JD(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,Oy(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Fy,this.appId),n.appendChild(i)}static \u0275fac=function(i){return new(i||t)(ce(Cn),ce($0),ce(z0,8),ce(Br))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),My={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vy=/%COMP%/g,iA="%COMP%",GB=`_nghost-${iA}`,qB=`_ngcontent-${iA}`,zB=!0,WB=new re("",{providedIn:"root",factory:()=>zB});function KB(t){return qB.replace(Vy,t)}function QB(t){return GB.replace(Vy,t)}function rA(t,e){return e.map(n=>n.replace(Vy,t))}var hf=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,l,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.platformIsServer=Ny(a),this.defaultRenderer=new Cc(n,s,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===wi.ShadowDom&&(i=fe(H({},i),{encapsulation:wi.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof ff?r.applyToHost(n):r instanceof bc&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(i.encapsulation){case wi.Emulated:o=new ff(l,u,i,this.appId,g,s,a,v);break;case wi.ShadowDom:return new Ly(l,u,n,i,s,a,this.nonce,v);default:o=new bc(l,u,i,g,s,a,v);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(i){return new(i||t)(ce(tA),ce(nA),ce($0),ce(WB),ce(Cn),ce(Br),ce(Ye),ce(z0))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),Cc=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(My[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(XD(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(XD(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new z(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=My[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=My[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(zi.DashCase|zi.Important)?e.style.setProperty(n,i,r&zi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&zi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ur().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function XD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ly=class extends Cc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=rA(r.id,r.styles);for(let v of u){let w=document.createElement("style");a&&w.setAttribute("nonce",a),w.textContent=v,this.shadowRoot.appendChild(w)}let g=r.getExternalStyles?.();if(g)for(let v of g){let w=Oy(v,o);a&&w.setAttribute("nonce",a),this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bc=class extends Cc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?rA(l,i.styles):i.styles,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ff=class extends bc{contentAttr;hostAttr;constructor(e,n,i,r,o,s,a,l){let u=r+"-"+i.id;super(e,n,i,o,s,a,l,u),this.contentAttr=KB(u),this.hostAttr=QB(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},YB=(()=>{class t extends df{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static \u0275fac=function(i){return new(i||t)(ce(Cn))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),eA=["alt","control","meta","shift"],ZB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},XB=(()=>{class t extends df{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ur().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),eA.forEach(u=>{let g=i.indexOf(u);g>-1&&(i.splice(g,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=ZB[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),eA.forEach(s=>{if(s!==r){let a=JB[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{t.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||t)(ce(Cn))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();function oA(t,e){return XI(H({rootComponent:t},eH(e)))}function eH(t){return{appProviders:[...oH,...t?.providers??[]],platformProviders:rH}}function tH(){Py.makeCurrent()}function nH(){return new kr}function iH(){return GS(document),document}var rH=[{provide:Br,useValue:YD},{provide:G0,useValue:tH,multi:!0},{provide:Cn,useFactory:iH,deps:[]}];var oH=[{provide:Yd,useValue:"root"},{provide:kr,useFactory:nH,deps:[]},{provide:ky,useClass:YB,multi:!0,deps:[Cn,Ye,Br]},{provide:ky,useClass:XB,multi:!0,deps:[Cn]},hf,nA,tA,{provide:Or,useExisting:hf},{provide:uf,useClass:UB,deps:[]},[]];var sA=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||t)(ce(Cn))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ce="primary",Lc=Symbol("RouteTitle"),$y=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Sa(t){return new $y(t)}function aH(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function lH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Di(t[n],e[n]))return!1;return!0}function Di(t,e){let n=t?Gy(t):void 0,i=e?Gy(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!pA(t[r],e[r]))return!1;return!0}function Gy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function pA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function mA(t){return t.length>0?t[t.length-1]:null}function to(t){return Qm(t)?t:Oo(t)?be(Promise.resolve(t)):pe(t)}var cH={exact:_A,subset:vA},gA={exact:uH,subset:dH,ignored:()=>!0};function aA(t,e,n){return cH[n.paths](t.root,e.root,n.matrixParams)&&gA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function uH(t,e){return Di(t,e)}function _A(t,e,n){if(!ns(t.segments,e.segments)||!gf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!_A(t.children[i],e.children[i],n))return!1;return!0}function dH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pA(t[n],e[n]))}function vA(t,e,n){return yA(t,e,e.segments,n)}function yA(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!ns(r,n)||e.hasChildren()||!gf(r,n,i))}else if(t.segments.length===n.length){if(!ns(t.segments,n)||!gf(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!vA(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ns(t.segments,r)||!gf(t.segments,r,i)||!t.children[Ce]?!1:yA(t.children[Ce],e,o,i)}}function gf(t,e,n){return e.every((i,r)=>gA[n](t[r].parameters,i.parameters))}var hr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new nt([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Sa(this.queryParams),this._queryParamMap}toString(){return pH.serialize(this)}},nt=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _f(this)}},ts=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Sa(this.parameters),this._parameterMap}toString(){return bA(this)}};function hH(t,e){return ns(t,e)&&t.every((n,i)=>Di(n.parameters,e[i].parameters))}function ns(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function fH(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Ce&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Ce&&(n=n.concat(e(r,i)))}),n}var gC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>new Dc,providedIn:"root"})}return t})(),Dc=class{parse(e){let n=new zy(e);return new hr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${wc(e.root,!0)}`,i=_H(e.queryParams),r=typeof e.fragment=="string"?`#${mH(e.fragment)}`:"";return`${n}${i}${r}`}},pH=new Dc;function _f(t){return t.segments.map(e=>bA(e)).join("/")}function wc(t,e){if(!t.hasChildren())return _f(t);if(e){let n=t.children[Ce]?wc(t.children[Ce],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Ce&&i.push(`${r}:${wc(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=fH(t,(i,r)=>r===Ce?[wc(t.children[Ce],!1)]:[`${r}:${wc(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ce]!=null?`${_f(t)}/${n[0]}`:`${_f(t)}/(${n.join("//")})`}}function CA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pf(t){return CA(t).replace(/%3B/gi,";")}function mH(t){return encodeURI(t)}function qy(t){return CA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vf(t){return decodeURIComponent(t)}function lA(t){return vf(t.replace(/\+/g,"%20"))}function bA(t){return`${qy(t.path)}${gH(t.parameters)}`}function gH(t){return Object.entries(t).map(([e,n])=>`;${qy(e)}=${qy(n)}`).join("")}function _H(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${pf(n)}=${pf(r)}`).join("&"):`${pf(n)}=${pf(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var vH=/^[^\/()?;#]+/;function jy(t){let e=t.match(vH);return e?e[0]:""}var yH=/^[^\/()?;=#]+/;function CH(t){let e=t.match(yH);return e?e[0]:""}var bH=/^[^=?&#]+/;function wH(t){let e=t.match(bH);return e?e[0]:""}var EH=/^[^&#]+/;function SH(t){let e=t.match(EH);return e?e[0]:""}var zy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new nt([],{}):new nt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Ce]=new nt(e,n)),i}parseSegment(){let e=jy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new ts(vf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=CH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=jy(this.remaining);r&&(i=r,this.capture(i))}e[vf(n)]=vf(i)}parseQueryParam(e){let n=wH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=SH(this.remaining);s&&(i=s,this.capture(i))}let r=lA(n),o=lA(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=jy(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new z(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ce);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Ce]:new nt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function wA(t){return t.segments.length>0?new nt([],{[Ce]:t}):t}function EA(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=EA(r);if(i===Ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new nt(t.segments,e);return IH(n)}function IH(t){if(t.numberOfChildren===1&&t.children[Ce]){let e=t.children[Ce];return new nt(t.segments.concat(e.segments),e.children)}return t}function is(t){return t instanceof hr}function TH(t,e,n=null,i=null){let r=SA(t);return IA(r,e,n,i)}function SA(t){let e;function n(o){let s={};for(let l of o.children){let u=n(l);s[l.outlet]=u}let a=new nt(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=wA(i);return e??r}function IA(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return By(r,r,r,n,i);let o=xH(e);if(o.toRoot())return By(r,r,new nt([],{}),n,i);let s=DH(o,r,t),a=s.processChildren?Ic(s.segmentGroup,s.index,o.commands):xA(s.segmentGroup,s.index,o.commands);return By(r,s.segmentGroup,a,n,i)}function yf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ac(t){return typeof t=="object"&&t!=null&&t.outlets}function By(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(g=>`${g}`):`${u}`});let s;t===e?s=n:s=TA(t,e,n);let a=wA(EA(s));return new hr(a,o,r)}function TA(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=TA(o,e,n)}),new nt(t.segments,i)}var Cf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&yf(i[0]))throw new z(4003,!1);let r=i.find(Ac);if(r&&r!==mA(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Cf(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Cf(n,e,i)}var ba=class{segmentGroup;processChildren;index;constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function DH(t,e,n){if(t.isAbsolute)return new ba(e,!0,0);if(!n)return new ba(e,!1,NaN);if(n.parent===null)return new ba(n,!0,0);let i=yf(t.commands[0])?0:1,r=n.segments.length-1+i;return AH(n,r,t.numberOfDoubleDots)}function AH(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new ba(i,!1,r-o)}function NH(t){return Ac(t[0])?t[0].outlets:{[Ce]:t}}function xA(t,e,n){if(t??=new nt([],{}),t.segments.length===0&&t.hasChildren())return Ic(t,e,n);let i=MH(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new nt(t.segments.slice(0,i.pathIndex),{});return o.children[Ce]=new nt(t.segments.slice(i.pathIndex),t.children),Ic(o,0,r)}else return i.match&&r.length===0?new nt(t.segments,{}):i.match&&!t.hasChildren()?Wy(t,e,n):i.match?Ic(t,0,r):Wy(t,e,n)}function Ic(t,e,n){if(n.length===0)return new nt(t.segments,{});{let i=NH(n),r={};if(Object.keys(i).some(o=>o!==Ce)&&t.children[Ce]&&t.numberOfChildren===1&&t.children[Ce].segments.length===0){let o=Ic(t.children[Ce],e,n);return new nt(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=xA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new nt(t.segments,r)}}function MH(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(Ac(a))break;let l=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!uA(l,u,s))return o;i+=2}else{if(!uA(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Wy(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(Ac(o)){let l=RH(o.outlets);return new nt(i,l)}if(r===0&&yf(n[0])){let l=t.segments[e];i.push(new ts(l.path,cA(n[0]))),r++;continue}let s=Ac(o)?o.outlets[Ce]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&yf(a)?(i.push(new ts(s,cA(a))),r+=2):(i.push(new ts(s,{})),r++)}return new nt(i,{})}function RH(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Wy(new nt([],{}),0,i))}),e}function cA(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function uA(t,e,n){return t==n.path&&Di(e,n.parameters)}var Tc="imperative",Ut=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ut||{}),qn=class{id;url;constructor(e,n){this.id=e,this.url=n}},Nc=class extends qn{type=Ut.NavigationStart;navigationTrigger;restoredState;constructor(e,n,i="imperative",r=null){super(e,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fr=class extends qn{urlAfterRedirects;type=Ut.NavigationEnd;constructor(e,n,i){super(e,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nn||{}),Ky=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ky||{}),dr=class extends qn{reason;code;type=Ut.NavigationCancel;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rs=class extends qn{reason;code;type=Ut.NavigationSkipped;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}},Mc=class extends qn{error;target;type=Ut.NavigationError;constructor(e,n,i,r){super(e,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},bf=class extends qn{urlAfterRedirects;state;type=Ut.RoutesRecognized;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qy=class extends qn{urlAfterRedirects;state;type=Ut.GuardsCheckStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yy=class extends qn{urlAfterRedirects;state;shouldActivate;type=Ut.GuardsCheckEnd;constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zy=class extends qn{urlAfterRedirects;state;type=Ut.ResolveStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jy=class extends qn{urlAfterRedirects;state;type=Ut.ResolveEnd;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xy=class{route;type=Ut.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},eC=class{route;type=Ut.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},tC=class{snapshot;type=Ut.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nC=class{snapshot;type=Ut.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iC=class{snapshot;type=Ut.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rC=class{snapshot;type=Ut.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Rc=class{},Ia=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function PH(t,e){return t.providers&&!t._injector&&(t._injector=s_(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ui(t){return t.outlet||Ce}function kH(t,e){let n=t.filter(i=>ui(i)===e);return n.push(...t.filter(i=>ui(i)!==e)),n}function Vc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var oC=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Vc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Df(this.rootInjector)}},Df=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new oC(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||t)(ce(Vn))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=sC(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=sC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=aC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return aC(e,this._root).map(n=>n.value)}};function sC(t,e){if(t===e.value)return e;for(let n of e.children){let i=sC(t,n);if(i)return i}return null}function aC(t,e){if(t===e.value)return[e];for(let n of e.children){let i=aC(t,n);if(i.length)return i.unshift(e),i}return[]}var An=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ca(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ef=class extends wf{snapshot;constructor(e,n){super(e),this.snapshot=n,_C(this,e)}toString(){return this.snapshot.toString()}};function DA(t){let e=FH(t),n=new Lt([new ts("",{})]),i=new Lt({}),r=new Lt({}),o=new Lt({}),s=new Lt(""),a=new et(n,i,o,s,r,Ce,t,e.root);return a.snapshot=e.root,new Ef(new An(a,[]),e)}function FH(t){let e={},n={},i={},r="",o=new wa([],e,i,r,n,Ce,t,null,{});return new If("",new An(o,[]))}var et=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(le(u=>u[Lc]))??pe(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>Sa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>Sa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sf(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:H(H({},e.params),t.params),data:H(H({},e.data),t.data),resolve:H(H(H(H({},t.data),e.data),r?.data),t._resolvedData)}:i={params:H({},t.params),data:H({},t.data),resolve:H(H({},t.data),t._resolvedData??{})},r&&NA(r)&&(i.resolve[Lc]=r.title),i}var wa=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Lc]}constructor(e,n,i,r,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Sa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Sa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},If=class extends wf{url;constructor(e,n){super(n),this.url=e,_C(this,n)}toString(){return AA(this._root)}};function _C(t,e){e.value._routerState=t,e.children.forEach(n=>_C(t,n))}function AA(t){let e=t.children.length>0?` { ${t.children.map(AA).join(", ")} } `:"";return`${t.value}${e}`}function Hy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Di(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Di(e.params,n.params)||t.paramsSubject.next(n.params),lH(e.url,n.url)||t.urlSubject.next(n.url),Di(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function lC(t,e){let n=Di(t.params,e.params)&&hH(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||lC(t.parent,e.parent))}function NA(t){return typeof t.title=="string"||t.title===null}var OH=new re(""),fn=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ce;activateEvents=new Mt;deactivateEvents=new Mt;attachEvents=new Mt;detachEvents=new Mt;routerOutletData=LS(void 0);parentContexts=Y(Df);location=Y(Ys);changeDetector=Y(Vo);inputBinder=Y(vC,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new cC(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=pt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Zi]})}return t})(),cC=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,i,r){this.route=e,this.childContexts=n,this.parent=i,this.outletData=r}get(e,n){return e===et?this.route:e===Df?this.childContexts:e===OH?this.outletData:this.parent.get(e,n)}},vC=new re("");function LH(t,e,n){let i=Pc(t,e._root,n?n._root:void 0);return new Ef(i,e)}function Pc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=VH(t,e,n);return new An(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pc(t,a)),s}}let i=jH(e.value),r=e.children.map(o=>Pc(t,o));return new An(i,r)}}function VH(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Pc(t,i,r);return Pc(t,i)})}function jH(t){return new et(new Lt(t.url),new Lt(t.params),new Lt(t.queryParams),new Lt(t.fragment),new Lt(t.data),t.outlet,t.component,t)}var kc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},MA="ngNavigationCancelingError";function Tf(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=is(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=RA(!1,Nn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function RA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[MA]=!0,n.cancellationCode=e,n}function BH(t){return PA(t)&&is(t.url)}function PA(t){return!!t&&t[MA]}var HH=(t,e,n,i)=>le(r=>(new uC(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),uC=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Hy(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Ca(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Ca(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new rC(o.value.snapshot))}),e.children.length&&this.forwardEvent(new nC(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(Hy(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Hy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},xf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ea=class{component;route;constructor(e,n){this.component=e,this.route=n}};function UH(t,e,n){let i=t._root,r=e?e._root:null;return Ec(i,r,n,[i.value])}function $H(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xa(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!PE(t)?t:e.get(t):i}function Ec(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ca(e);return t.children.forEach(s=>{GH(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>xc(a,n.getContext(s),r)),r}function GH(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=qH(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new xf(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ec(t,e,a?a.children:null,i,r):Ec(t,e,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ea(a.outlet.component,s))}else s&&xc(e,a,r),r.canActivateChecks.push(new xf(i)),o.component?Ec(t,null,a?a.children:null,i,r):Ec(t,null,n,i,r);return r}function qH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ns(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ns(t.url,e.url)||!Di(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lC(t,e)||!Di(t.queryParams,e.queryParams);case"paramsChange":default:return!lC(t,e)}}function xc(t,e,n){let i=Ca(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?xc(s,e.children.getContext(o),n):xc(s,null,n):xc(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ea(e.outlet.component,r)):n.canDeactivateChecks.push(new Ea(null,r)):n.canDeactivateChecks.push(new Ea(null,r))}function jc(t){return typeof t=="function"}function zH(t){return typeof t=="boolean"}function WH(t){return t&&jc(t.canLoad)}function KH(t){return t&&jc(t.canActivate)}function QH(t){return t&&jc(t.canActivateChild)}function YH(t){return t&&jc(t.canDeactivate)}function ZH(t){return t&&jc(t.canMatch)}function kA(t){return t instanceof Hi||t?.name==="EmptyError"}var mf=Symbol("INITIAL_VALUE");function Ta(){return Zn(t=>nd(t.map(e=>e.pipe(Ui(1),eg(mf)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===mf)return mf;if(n===!1||JH(n))return n}return!0}),Yn(e=>e!==mf),Ui(1)))}function JH(t){return is(t)||t instanceof kc}function XH(t,e){return Dt(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?pe(fe(H({},n),{guardsResult:!0})):eU(s,i,r,t).pipe(Dt(a=>a&&zH(a)?tU(i,o,t,e):pe(a)),le(a=>fe(H({},n),{guardsResult:a})))})}function eU(t,e,n,i){return be(t).pipe(Dt(r=>sU(r.component,r.route,n,e,i)),$i(r=>r!==!0,!0))}function tU(t,e,n,i){return be(e).pipe(Ms(r=>Ns(iU(r.route.parent,i),nU(r.route,i),oU(t,r.path,n),rU(t,r.route,n))),$i(r=>r!==!0,!0))}function nU(t,e){return t!==null&&e&&e(new iC(t)),pe(!0)}function iU(t,e){return t!==null&&e&&e(new tC(t)),pe(!0)}function rU(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return pe(!0);let r=i.map(o=>id(()=>{let s=Vc(e)??n,a=xa(o,s),l=KH(a)?a.canActivate(e,t):ni(s,()=>a(e,t));return to(l).pipe($i())}));return pe(r).pipe(Ta())}function oU(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>$H(s)).filter(s=>s!==null).map(s=>id(()=>{let a=s.guards.map(l=>{let u=Vc(s.node)??n,g=xa(l,u),v=QH(g)?g.canActivateChild(i,t):ni(u,()=>g(i,t));return to(v).pipe($i())});return pe(a).pipe(Ta())}));return pe(o).pipe(Ta())}function sU(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let s=o.map(a=>{let l=Vc(e)??r,u=xa(a,l),g=YH(u)?u.canDeactivate(t,e,n,i):ni(l,()=>u(t,e,n,i));return to(g).pipe($i())});return pe(s).pipe(Ta())}function aU(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return pe(!0);let o=r.map(s=>{let a=xa(s,t),l=WH(a)?a.canLoad(e,n):ni(t,()=>a(e,n));return to(l)});return pe(o).pipe(Ta(),FA(i))}function FA(t){return Hm(At(e=>{if(typeof e!="boolean")throw Tf(t,e)}),le(e=>e===!0))}function lU(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return pe(!0);let o=r.map(s=>{let a=xa(s,t),l=ZH(a)?a.canMatch(e,n):ni(t,()=>a(e,n));return to(l)});return pe(o).pipe(Ta(),FA(i))}var Fc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Oc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ya(t){return Ds(new Fc(t))}function cU(t){return Ds(new z(4e3,!1))}function uU(t){return Ds(RA(!1,Nn.GuardRejected))}var dC=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return pe(i);if(r.numberOfChildren>1||!r.children[Ce])return cU(`${e.redirectTo}`);r=r.children[Ce]}}applyRedirectCommands(e,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:u,routeConfig:g,url:v,outlet:w,params:S,data:x,title:L}=r,$=ni(o,()=>a({params:S,data:x,queryParams:l,fragment:u,routeConfig:g,url:v,outlet:w,title:L}));if($ instanceof hr)throw new Oc($);n=$}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new Oc(s);return s}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new hr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new nt(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},hC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dU(t,e,n,i,r){let o=OA(t,e,n);return o.matched?(i=PH(e,i),lU(i,e,n,r).pipe(le(s=>s===!0?o:H({},hC)))):pe(o)}function OA(t,e,n){if(e.path==="**")return hU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?H({},hC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||aH)(n,t,e);if(!r)return H({},hC);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?H(H({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function hU(t){return{matched:!0,parameters:t.length>0?mA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function dA(t,e,n,i){return n.length>0&&mU(t,n,i)?{segmentGroup:new nt(e,pU(i,new nt(n,t.children))),slicedSegments:[]}:n.length===0&&gU(t,n,i)?{segmentGroup:new nt(t.segments,fU(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new nt(t.segments,t.children),slicedSegments:n}}function fU(t,e,n,i){let r={};for(let o of n)if(Af(t,e,o)&&!i[ui(o)]){let s=new nt([],{});r[ui(o)]=s}return H(H({},i),r)}function pU(t,e){let n={};n[Ce]=e;for(let i of t)if(i.path===""&&ui(i)!==Ce){let r=new nt([],{});n[ui(i)]=r}return n}function mU(t,e,n){return n.some(i=>Af(t,e,i)&&ui(i)!==Ce)}function gU(t,e,n){return n.some(i=>Af(t,e,i))}function Af(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function _U(t,e,n){return e.length===0&&!t.children[n]}var fC=class{};function vU(t,e,n,i,r,o,s="emptyOnly"){return new pC(t,e,n,i,r,s,o).recognize()}var yU=31,pC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new dC(this.urlSerializer,this.urlTree)}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=dA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:n,rootSnapshot:i})=>{let r=new An(i,n),o=new If("",r),s=TH(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new wa([],Object.freeze({}),Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ce,n).pipe(le(i=>({children:i,rootSnapshot:n})),Dr(i=>{if(i instanceof Oc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Fc?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,o):this.processSegment(e,n,i,i.segments,r,!0,o).pipe(le(s=>s instanceof An?[s]:[]))}processChildren(e,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return be(o).pipe(Ms(s=>{let a=i.children[s],l=kH(n,s);return this.processSegmentGroup(e,l,a,s,r)}),Xm((s,a)=>(s.push(...a),s)),Ar(null),Jm(),Dt(s=>{if(s===null)return ya(i);let a=LA(s);return CU(a),pe(a)}))}processSegment(e,n,i,r,o,s,a){return be(n).pipe(Ms(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,o,s,a).pipe(Dr(u=>{if(u instanceof Fc)return pe(null);throw u}))),$i(l=>!!l),Dr(l=>{if(kA(l))return _U(i,r,o)?pe(new fC):ya(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,o,s,a,l){return ui(i)!==s&&(s===Ce||!Af(r,o,i))?ya(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s,l):ya(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s,a){let{matched:l,parameters:u,consumedSegments:g,positionalParamSegments:v,remainingSegments:w}=OA(n,r,o);if(!l)return ya(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yU&&(this.allowRedirects=!1));let S=new wa(o,u,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,hA(r),ui(r),r.component??r._loadedComponent??null,r,fA(r)),x=Sf(S,a,this.paramsInheritanceStrategy);S.params=Object.freeze(x.params),S.data=Object.freeze(x.data);let L=this.applyRedirects.applyRedirectCommands(g,r.redirectTo,v,S,e);return this.applyRedirects.lineralizeSegments(r,L).pipe(Dt($=>this.processSegment(e,i,n,$.concat(w),s,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,o,s){let a=dU(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Zn(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Zn(({routes:u})=>{let g=i._loadedInjector??e,{parameters:v,consumedSegments:w,remainingSegments:S}=l,x=new wa(w,v,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,hA(i),ui(i),i.component??i._loadedComponent??null,i,fA(i)),L=Sf(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(L.params),x.data=Object.freeze(L.data);let{segmentGroup:$,slicedSegments:Q}=dA(n,w,S,u);if(Q.length===0&&$.hasChildren())return this.processChildren(g,u,$,x).pipe(le(ae=>new An(x,ae)));if(u.length===0&&Q.length===0)return pe(new An(x,[]));let ie=ui(i)===o;return this.processSegment(g,u,$,Q,ie?Ce:o,!0,x).pipe(le(ae=>new An(x,ae instanceof An?[ae]:[])))}))):ya(n)))}getChildConfig(e,n,i){return n.children?pe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?pe({routes:n._loadedRoutes,injector:n._loadedInjector}):aU(e,n,i,this.urlSerializer).pipe(Dt(r=>r?this.configLoader.loadChildren(e,n).pipe(At(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):uU(n))):pe({routes:[],injector:e})}};function CU(t){t.sort((e,n)=>e.value.outlet===Ce?-1:n.value.outlet===Ce?1:e.value.outlet.localeCompare(n.value.outlet))}function bU(t){let e=t.value.routeConfig;return e&&e.path===""}function LA(t){let e=[],n=new Set;for(let i of t){if(!bU(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=LA(i.children);e.push(new An(i.value,r))}return e.filter(i=>!n.has(i))}function hA(t){return t.data||{}}function fA(t){return t.resolve||{}}function wU(t,e,n,i,r,o){return Dt(s=>vU(t,e,n,i,s.extractedUrl,r,o).pipe(le(({state:a,tree:l})=>fe(H({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function EU(t,e){return Dt(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return pe(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of VA(l))s.add(u);let a=0;return be(s).pipe(Ms(l=>o.has(l)?SU(l,i,t,e):(l.data=Sf(l,l.parent,t).resolve,pe(void 0))),At(()=>a++),Rs(1),Dt(l=>a===s.size?pe(n):Tn))})}function VA(t){let e=t.children.map(n=>VA(n)).flat();return[t,...e]}function SU(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!NA(r)&&(o[Lc]=r.title),IU(o,t,e,i).pipe(le(s=>(t._resolvedData=s,t.data=Sf(t,t.parent,n).resolve,null)))}function IU(t,e,n,i){let r=Gy(t);if(r.length===0)return pe({});let o={};return be(r).pipe(Dt(s=>TU(t[s],e,n,i).pipe($i(),At(a=>{if(a instanceof kc)throw Tf(new Dc,a);o[s]=a}))),Rs(1),Zm(o),Dr(s=>kA(s)?Tn:Ds(s)))}function TU(t,e,n,i){let r=Vc(e)??i,o=xa(t,r),s=o.resolve?o.resolve(e,n):ni(r,()=>o(e,n));return to(s)}function Uy(t){return Zn(e=>{let n=t(e);return n?be(n).pipe(le(()=>e)):pe(e)})}var jA=(()=>{class t{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ce);return i}getResolvedTitleForRoute(n){return n.data[Lc]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>Y(xU),providedIn:"root"})}return t})(),xU=(()=>{class t extends jA{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(ce(sA))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yC=new re("",{providedIn:"root",factory:()=>({})}),DU=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=te({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,r){i&1&&T(0,"router-outlet")},dependencies:[fn],encapsulation:2})}return t})();function CC(t){let e=t.children&&t.children.map(CC),n=e?fe(H({},t),{children:e}):H({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ce&&(n.component=DU),n}var bC=new re(""),AU=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Y(c_);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return pe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=to(n.loadComponent()).pipe(le(BA),At(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),fl(()=>{this.componentLoaders.delete(n)})),r=new Ss(i,()=>new It).pipe(Es());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return pe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=NU(i,this.compiler,n,this.onLoadEndListener).pipe(fl(()=>{this.childrenLoaders.delete(i)})),s=new Ss(o,()=>new It).pipe(Es());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NU(t,e,n,i){return to(t.loadChildren()).pipe(le(BA),Dt(r=>r instanceof Ml||Array.isArray(r)?pe(r):be(e.compileModuleAsync(r))),le(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(bC,[],{optional:!0,self:!0}).flat()),{routes:s.map(CC),injector:o}}))}function MU(t){return t&&typeof t=="object"&&"default"in t}function BA(t){return MU(t)?t.default:t}var wC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>Y(RU),providedIn:"root"})}return t})(),RU=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PU=new re("");var kU=new re(""),FU=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new It;transitionAbortSubject=new It;configLoader=Y(AU);environmentInjector=Y(Vn);urlSerializer=Y(gC);rootContexts=Y(Df);location=Y(vc);inputBindingEnabled=Y(vC,{optional:!0})!==null;titleStrategy=Y(jA);options=Y(yC,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Y(wC);createViewTransition=Y(PU,{optional:!0});navigationErrorHandler=Y(kU,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>pe(void 0);rootComponentType=null;constructor(){let n=r=>this.events.next(new Xy(r)),i=r=>this.events.next(new eC(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(fe(H(H({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new Lt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Tc,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yn(o=>o.id!==0),le(o=>fe(H({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Zn(o=>{let s=!1,a=!1;return pe(o).pipe(Zn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Nn.SupersededByNewNavigation),Tn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?fe(H({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&g!=="reload"){let v="";return this.events.next(new rs(l.id,this.urlSerializer.serialize(l.rawUrl),v,Ky.IgnoredSameUrlNavigation)),l.resolve(!1),Tn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return pe(l).pipe(Zn(v=>{let w=this.transitions?.getValue();return this.events.next(new Nc(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),w!==this.transitions?.getValue()?Tn:Promise.resolve(v)}),wU(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),At(v=>{o.targetSnapshot=v.targetSnapshot,o.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation=fe(H({},this.currentNavigation),{finalUrl:v.urlAfterRedirects});let w=new bf(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:v,extractedUrl:w,source:S,restoredState:x,extras:L}=l,$=new Nc(v,this.urlSerializer.serialize(w),S,x);this.events.next($);let Q=DA(this.rootComponentType).snapshot;return this.currentTransition=o=fe(H({},l),{targetSnapshot:Q,urlAfterRedirects:w,extras:fe(H({},L),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,pe(o)}else{let v="";return this.events.next(new rs(l.id,this.urlSerializer.serialize(l.extractedUrl),v,Ky.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Tn}}),At(l=>{let u=new Qy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),le(l=>(this.currentTransition=o=fe(H({},l),{guards:UH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),XH(this.environmentInjector,l=>this.events.next(l)),At(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Tf(this.urlSerializer,l.guardsResult);let u=new Yy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Yn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Nn.GuardRejected),!1)),Uy(l=>{if(l.guards.canActivateChecks.length)return pe(l).pipe(At(u=>{let g=new Zy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(g)}),Zn(u=>{let g=!1;return pe(u).pipe(EU(this.paramsInheritanceStrategy,this.environmentInjector),At({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(u,"",Nn.NoDataFromResolver)}}))}),At(u=>{let g=new Jy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(g)}))}),Uy(l=>{let u=g=>{let v=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe(At(w=>{g.component=w}),le(()=>{})));for(let w of g.children)v.push(...u(w));return v};return nd(u(l.targetSnapshot.root)).pipe(Ar(null),Ui(1))}),Uy(()=>this.afterPreactivation()),Zn(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return g?be(g).pipe(le(()=>o)):pe(o)}),le(l=>{let u=LH(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=fe(H({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),At(()=>{this.events.next(new Rc)}),HH(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ui(1),At({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),tg(this.transitionAbortSubject.pipe(At(l=>{throw l}))),fl(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Nn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dr(l=>{if(a=!0,PA(l))this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),BH(l)?this.events.next(new Ia(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Mc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let g=ni(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(g instanceof kc){let{message:v,cancellationCode:w}=Tf(this.urlSerializer,g);this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),v,w)),this.events.next(new Ia(g.redirectTo,g.navigationBehaviorOptions))}else throw this.events.next(u),l}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return Tn}))}))}cancelNavigationTransition(n,i,r){let o=new dr(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function OU(t){return t!==Tc}var LU=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>Y(VU),providedIn:"root"})}return t})(),mC=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},VU=(()=>{class t extends mC{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ei(t)))(r||t)}})();static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),HA=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>Y(jU),providedIn:"root"})}return t})(),jU=(()=>{class t extends HA{location=Y(vc);urlSerializer=Y(gC);options=Y(yC,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=Y(wC);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new hr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=DA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Nc)this.stateMemento=this.createStateMemento();else if(n instanceof rs)this.rawUrlTree=i.initialUrl;else if(n instanceof bf){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof Rc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof dr&&(n.code===Nn.GuardRejected||n.code===Nn.NoDataFromResolver)?this.restoreHistory(i):n instanceof Mc?this.restoreHistory(i,!0):n instanceof fr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof hr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=H(H({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=H(H({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ei(t)))(r||t)}})();static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Sc||{});function BU(t,e){t.events.pipe(Yn(n=>n instanceof fr||n instanceof dr||n instanceof Mc||n instanceof rs),le(n=>n instanceof fr||n instanceof rs?Sc.COMPLETE:(n instanceof dr?n.code===Nn.Redirect||n.code===Nn.SupersededByNewNavigation:!1)?Sc.REDIRECTING:Sc.FAILED),Yn(n=>n!==Sc.REDIRECTING),Ui(1)).subscribe(()=>{e()})}var HU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Y(dh);stateManager=Y(HA);options=Y(yC,{optional:!0})||{};pendingTasks=Y(Ks);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Y(FU);urlSerializer=Y(gC);location=Y(vc);urlHandlingStrategy=Y(wC);_events=new It;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Y(LU);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Y(bC,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Y(vC,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new yt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof dr&&i.code!==Nn.Redirect&&i.code!==Nn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof fr)this.navigated=!0;else if(i instanceof Ia){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=H({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||OU(r.source)},s);this.scheduleNavigation(a,Tc,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}GU(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=H({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(CC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:s,g=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":g=H(H({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let v;try{let w=r?r.snapshot:this.routerState.snapshot.root;v=SA(w)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),v=this.currentUrlTree.root}return IA(v,n,g,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=is(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Tc,null,i)}navigate(n,i={skipLocationChange:!1}){return $U(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=H({},HU):i===!1?r=H({},UU):r=i,is(n))return aA(this.currentUrlTree,n,r);let o=this.parseUrl(n);return aA(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((v,w)=>{a=v,l=w});let g=this.pendingTasks.add();return BU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(v=>Promise.reject(v))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $U(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function GU(t){return!(t instanceof Rc)&&!(t instanceof Ia)}var kt=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new It;constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof fr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(is(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:QS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:is(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||t)(j(Xt),j(et),B0("tabindex"),j(ri),j(an),j(eo))};static \u0275dir=pt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&G("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&jl("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",jo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",jo],replaceUrl:[2,"replaceUrl","replaceUrl",jo],routerLink:"routerLink"},features:[a_,Zi]})}return t})(),bn=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Mt;constructor(n,i,r,o,s){this.router=n,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof fr&&this.update()})}ngAfterContentInit(){pe(this.links.changes,pe(null)).pipe(As()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=be(n).pipe(As()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){let i=Array.isArray(n)?n:n.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(i=>{n?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let i=qU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?n.isActive(o,i):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(i){return new(i||t)(j(Xt),j(an),j(ri),j(Vo),j(kt,8))};static \u0275dir=pt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&GI(o,kt,5),i&2){let s;qI(s=zI())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Zi]})}return t})();function qU(t){return!!t.paths}var zU=new re("");function Nf(t,...e){return Bn([{provide:bC,multi:!0,useValue:t},[],{provide:et,useFactory:WU,deps:[Xt]},{provide:l_,multi:!0,useFactory:QU},e.map(n=>n.\u0275providers)])}function WU(t){return t.routerState.root}function KU(t,e){return{\u0275kind:t,\u0275providers:e}}function QU(){let t=Y(jt);return e=>{let n=t.get(Lo);if(e!==n.components[0])return;let i=t.get(Xt),r=t.get(YU);t.get(ZU)===1&&i.initialNavigation(),t.get(JU,null,Se.Optional)?.setUpPreloading(),t.get(zU,null,Se.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var YU=new re("",{factory:()=>new It}),ZU=new re("",{providedIn:"root",factory:()=>1});var JU=new re("");function UA(){return KU(6,[{provide:eo,useClass:KD}])}var JA=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||t)(j(ri),j(an))};static \u0275dir=pt({type:t})}return t})(),qc=(()=>{class t extends JA{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ei(t)))(r||t)}})();static \u0275dir=pt({type:t,features:[Dn]})}return t})(),Ra=new re(""),XU={provide:Ra,useExisting:ti(()=>DC),multi:!0},DC=(()=>{class t extends qc{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ei(t)))(r||t)}})();static \u0275dir=pt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&G("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Xi([XU]),Dn]})}return t})(),e$={provide:Ra,useExisting:ti(()=>Oe),multi:!0};function t$(){let t=ur()?ur().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var n$=new re(""),Oe=(()=>{class t extends JA{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!t$())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||t)(j(ri),j(an),j(n$,8))};static \u0275dir=pt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&G("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Xi([e$]),Dn]})}return t})();function no(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function XA(t){return t!=null&&typeof t.length=="number"}var AC=new re(""),eN=new re(""),i$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,U=class{static min(e){return r$(e)}static max(e){return o$(e)}static required(e){return tN(e)}static requiredTrue(e){return s$(e)}static email(e){return a$(e)}static minLength(e){return l$(e)}static maxLength(e){return c$(e)}static pattern(e){return u$(e)}static nullValidator(e){return Pf(e)}static compose(e){return aN(e)}static composeAsync(e){return cN(e)}};function r$(t){return e=>{if(no(e.value)||no(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function o$(t){return e=>{if(no(e.value)||no(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function tN(t){return no(t.value)?{required:!0}:null}function s$(t){return t.value===!0?null:{required:!0}}function a$(t){return no(t.value)||i$.test(t.value)?null:{email:!0}}function l$(t){return e=>no(e.value)||!XA(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function c$(t){return e=>XA(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function u$(t){if(!t)return Pf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(no(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Pf(t){return null}function nN(t){return t!=null}function iN(t){return Oo(t)?be(t):t}function rN(t){let e={};return t.forEach(n=>{e=n!=null?H(H({},e),n):e}),Object.keys(e).length===0?null:e}function oN(t,e){return e.map(n=>n(t))}function d$(t){return!t.validate}function sN(t){return t.map(e=>d$(e)?e:n=>e.validate(n))}function aN(t){if(!t)return null;let e=t.filter(nN);return e.length==0?null:function(n){return rN(oN(n,e))}}function lN(t){return t!=null?aN(sN(t)):null}function cN(t){if(!t)return null;let e=t.filter(nN);return e.length==0?null:function(n){let i=oN(n,e).map(iN);return Ym(i).pipe(le(rN))}}function uN(t){return t!=null?cN(sN(t)):null}function $A(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function dN(t){return t._rawValidators}function hN(t){return t._rawAsyncValidators}function EC(t){return t?Array.isArray(t)?t:[t]:[]}function kf(t,e){return Array.isArray(t)?t.includes(e):t===e}function GA(t,e){let n=EC(e);return EC(t).forEach(r=>{kf(n,r)||n.push(r)}),n}function qA(t,e){return EC(e).filter(n=>!kf(t,n))}var Ff=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=lN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Na=class extends Ff{name;get formDirective(){return null}get path(){return null}},Gc=class extends Ff{_parent=null;name=null;valueAccessor=null},Of=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},h$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fhe=fe(H({},h$),{"[class.ng-submitted]":"isSubmitted"}),Ge=(()=>{class t extends Of{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(j(Gc,2))};static \u0275dir=pt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&hh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Dn]})}return t})(),qe=(()=>{class t extends Of{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(j(Na,10))};static \u0275dir=pt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&hh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Dn]})}return t})();var Bc="VALID",Mf="INVALID",Da="PENDING",Hc="DISABLED",io=class{},Lf=class extends io{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Uc=class extends io{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},$c=class extends io{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Aa=class extends io{status;source;constructor(e,n){super(),this.status=e,this.source=n}},SC=class extends io{source;constructor(e){super(),this.source=e}},IC=class extends io{source;constructor(e){super(),this.source=e}};function NC(t){return(Hf(t)?t.validators:t)||null}function f$(t){return Array.isArray(t)?lN(t):t||null}function MC(t,e){return(Hf(e)?e.asyncValidators:t)||null}function p$(t){return Array.isArray(t)?uN(t):t||null}function Hf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function fN(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new z(1e3,"");if(!i[n])throw new z(1001,"")}function pN(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new z(1002,"")})}var Ma=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return er(this.statusReactive)}set status(e){er(()=>this.statusReactive.set(e))}_status=Bl(()=>this.statusReactive());statusReactive=Vl(void 0);get valid(){return this.status===Bc}get invalid(){return this.status===Mf}get pending(){return this.status==Da}get disabled(){return this.status===Hc}get enabled(){return this.status!==Hc}errors;get pristine(){return er(this.pristineReactive)}set pristine(e){er(()=>this.pristineReactive.set(e))}_pristine=Bl(()=>this.pristineReactive());pristineReactive=Vl(!0);get dirty(){return!this.pristine}get touched(){return er(this.touchedReactive)}set touched(e){er(()=>this.touchedReactive.set(e))}_touched=Bl(()=>this.touchedReactive());touchedReactive=Vl(!1);get untouched(){return!this.touched}_events=new It;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qA(e,this._rawAsyncValidators))}hasValidator(e){return kf(this._rawValidators,e)}hasAsyncValidator(e){return kf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(H({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new $c(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new $c(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(H({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Uc(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Uc(!0,i))}markAsPending(e={}){this.status=Da;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Aa(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(H({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Hc,this.errors=null,this._forEachChild(r=>{r.disable(fe(H({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lf(this.value,i)),this._events.next(new Aa(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(H({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Bc,this._forEachChild(i=>{i.enable(fe(H({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(H({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bc||this.status===Da)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lf(this.value,n)),this._events.next(new Aa(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(H({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hc:Bc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Da,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=iN(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Aa(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new Mt,this.statusChanges=new Mt}_calculateStatus(){return this._allControlsDisabled()?Hc:this.errors?Mf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Da)?Da:this._anyControlsHaveStatus(Mf)?Mf:Bc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Uc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new $c(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=f$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=p$(this._rawAsyncValidators)}},Vf=class extends Ma{constructor(e,n,i){super(NC(n),MC(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){pN(this,!0,e),Object.keys(e).forEach(i=>{fN(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var TC=class extends Vf{};var mN=new re("CallSetDisabledState",{providedIn:"root",factory:()=>RC}),RC="always";function m$(t,e){return[...e.path,t]}function zA(t,e,n=RC){PC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),_$(t,e),y$(t,e),v$(t,e),g$(t,e)}function WA(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Bf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function jf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function g$(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function PC(t,e){let n=dN(t);e.validator!==null?t.setValidators($A(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=hN(t);e.asyncValidator!==null?t.setAsyncValidators($A(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();jf(e._rawValidators,r),jf(e._rawAsyncValidators,r)}function Bf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=dN(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=hN(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return jf(e._rawValidators,i),jf(e._rawAsyncValidators,i),n}function _$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gN(t,e)})}function v$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gN(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function gN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function y$(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function C$(t,e){t==null,PC(t,e)}function b$(t,e){return Bf(t,e)}function w$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function E$(t){return Object.getPrototypeOf(t.constructor)===qc}function S$(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function I$(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Oe?n=o:E$(o)?i=o:r=o}),r||i||n||null}function T$(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function KA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function QA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Rf=class extends Ma{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,i){super(NC(n),MC(i,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(QA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){QA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var x$=t=>t instanceof Rf;var ze=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=pt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),D$={provide:Ra,useExisting:ti(()=>rt),multi:!0},rt=(()=>{class t extends qc{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ei(t)))(r||t)}})();static \u0275dir=pt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&G("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Xi([D$]),Dn]})}return t})();var _N=new re("");var A$={provide:Na,useExisting:ti(()=>je)},je=(()=>{class t extends Na{callSetDisabledState;get submitted(){return er(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Bl(()=>this._submittedReactive());_submittedReactive=Vl(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Mt;constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return zA(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){WA(n.control||null,n,!1),T$(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),S$(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new SC(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new IC(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(WA(i||null,n),x$(r)&&(zA(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);C$(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&b$(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){PC(this.form,this),this._oldForm&&Bf(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||t)(j(AC,10),j(eN,10),j(mN,8))};static \u0275dir=pt({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&G("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Xi([A$]),Dn,Zi]})}return t})();var N$={provide:Gc,useExisting:ti(()=>Be)},Be=(()=>{class t extends Gc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Mt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=I$(this,o)}ngOnChanges(n){this._added||this._setUpControl(),w$(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return m$(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||t)(j(Na,13),j(AC,10),j(eN,10),j(Ra,10),j(_N,8))};static \u0275dir=pt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Xi([N$]),Dn,Zi]})}return t})(),M$={provide:Ra,useExisting:ti(()=>yN),multi:!0};function vN(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function R$(t){return t.split(":")[0]}var yN=(()=>{class t extends qc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let i=this._getOptionId(n),r=vN(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=R$(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ei(t)))(r||t)}})();static \u0275dir=pt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&G("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xi([M$]),Dn]})}return t})(),CN=(()=>{class t{_element;_renderer;_select;id;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(vN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(j(an),j(ri),j(yN,9))};static \u0275dir=pt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),P$={provide:Ra,useExisting:ti(()=>bN),multi:!0};function YA(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function k$(t){return t.split(":")[0]}var bN=(()=>{class t extends qc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);r.push(u)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);r.push(u)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=k$(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ei(t)))(r||t)}})();static \u0275dir=pt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&G("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xi([P$]),Dn]})}return t})(),wN=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(YA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(YA(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(j(an),j(ri),j(bN,9))};static \u0275dir=pt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var F$=(()=>{class t{_validator=Pf;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Pf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(i){return new(i||t)};static \u0275dir=pt({type:t,features:[Zi]})}return t})();var O$={provide:AC,useExisting:ti(()=>$t),multi:!0};var $t=(()=>{class t extends F${required;inputName="required";normalizeInput=jo;createValidator=n=>tN;enabled(n){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ei(t)))(r||t)}})();static \u0275dir=pt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&jl("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Xi([O$]),Dn]})}return t})();var L$=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ur({type:t});static \u0275inj=Vr({})}return t})(),xC=class extends Ma{constructor(e,n,i){super(NC(n),MC(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){pN(this,!1,e),e.forEach((i,r)=>{fN(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ZA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var We=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,i=null){let r=this._reduceControls(n),o={};return ZA(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Vf(r,o)}record(n,i=null){let r=this._reduceControls(n);return new TC(r,i)}control(n,i,r){let o={};return this.useNonNullable?(ZA(i)?o=i:(o.validators=i,o.asyncValidators=r),new Rf(n,fe(H({},o),{nonNullable:!0}))):new Rf(n,i,r)}array(n,i,r){let o=n.map(s=>this._createControl(s));return new xC(o,i,r)}_reduceControls(n){let i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){if(n instanceof Rf)return n;if(n instanceof Ma)return n;if(Array.isArray(n)){let i=n[0],r=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(i,r,o)}else return this.control(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ke=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:_N,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:mN,useValue:n.callSetDisabledState??RC}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ur({type:t});static \u0275inj=Vr({imports:[L$]})}return t})();var Qe=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=te({type:t,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],[1,"spinner-grow"]],template:function(n,i){n&1&&(m(0,"div",0),T(1,"div",1),p())},styles:["label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}.spinner-grow[_ngcontent-%COMP%]{color:#37ff00}"]})};var ro=class t{constructor(e){this.db=e}dbPath="projects";getRef(){return va(this.db,this.dbPath)}getAllProjects(){let e=this.getRef();return be(hn(e)).pipe(le(n=>{let i=n.val();return i?Object.values(i):[]}))}addProject(e){let n=this.getRef(),i=ar(n);if(!i.key)throw new Error("Failed to generate a unique ID for the project.");let r=i.key;return be(lr(i,H({id:r},e))).pipe(le(()=>r))}getProjectById(e){let n=it(this.getRef(),e);return be(hn(n)).pipe(le(i=>i.val()))}updateProject(e,n){let i=it(this.getRef(),e);return be(ci(i,n))}deleteProject(e){let n=it(this.getRef(),e);return be(Xr(n))}static \u0275fac=function(n){return new(n||t)(ce(li))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})};var de=class t{constructor(){}isArabic=!1;static \u0275fac=function(n){return new(n||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})};var zc=t=>({"is-invalid":t}),V$=(t,e)=>({"float-start":t,"float-end":e});function j$(t,e){t&1&&d(0," \u0625\u0646\u0634\u0627\u0621 \u0645\u0634\u0631\u0648\u0639 \u062C\u062F\u064A\u062F ")}function B$(t,e){t&1&&d(0," create a new project ")}function H$(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 ")}function U$(t,e){t&1&&d(0," Project Number ")}function $$(t,e){t&1&&d(0," \u0627\u0644\u062A\u0627\u0631\u064A\u062E ")}function G$(t,e){t&1&&d(0," Date ")}function q$(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 ")}function z$(t,e){t&1&&d(0," client Name ")}function W$(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 ")}function K$(t,e){t&1&&d(0," Project Name ")}function Q$(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u062A\u0644\u064A\u0641\u0648\u0646 ")}function Y$(t,e){t&1&&d(0," phone Number ")}function Z$(t,e){t&1&&d(0," \u0625\u0646\u0634\u0627\u0621 ")}function J$(t,e){t&1&&d(0," Create ")}function X$(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function e5(t,e){t&1&&d(0," Close ")}function t5(t,e){if(t&1){let n=se();m(0,"form",8),G("ngSubmit",function(){Z(n);let r=E();return J(r.onSubmit())}),m(1,"div",9)(2,"div",10)(3,"label",11),y(4,H$,1,0)(5,U$,1,0),p(),T(6,"input",12),p(),m(7,"div",10)(8,"label",13),y(9,$$,1,0)(10,G$,1,0),p(),T(11,"input",14),p(),m(12,"div",15)(13,"label",16),y(14,q$,1,0)(15,z$,1,0),p(),T(16,"input",17),p(),m(17,"div",15)(18,"label",18),y(19,W$,1,0)(20,K$,1,0),p(),T(21,"input",19),p(),m(22,"div",15)(23,"label",20),y(24,Q$,1,0)(25,Y$,1,0),p(),T(26,"input",21),p(),m(27,"div",22)(28,"button",23),T(29,"i",24),y(30,Z$,1,0)(31,J$,1,0),p(),m(32,"button",25),y(33,X$,1,0)(34,e5,1,0),T(35,"i",26),p()()()()}if(t&2){let n,i,r,o,s,a=E();B("formGroup",a.newProjectForm),f(4),C(a.isArabic?4:5),f(2),B("ngClass",K(15,zc,((n=a.newProjectForm.get("projectNumber"))==null?null:n.invalid)&&((n=a.newProjectForm.get("projectNumber"))==null?null:n.touched))),f(3),C(a.isArabic?9:10),f(2),B("ngClass",K(17,zc,((i=a.newProjectForm.get("date"))==null?null:i.invalid)&&((i=a.newProjectForm.get("date"))==null?null:i.touched))),f(3),C(a.isArabic?14:15),f(2),B("ngClass",K(19,zc,((r=a.newProjectForm.get("clientName"))==null?null:r.invalid)&&((r=a.newProjectForm.get("clientName"))==null?null:r.touched))),f(3),C(a.isArabic?19:20),f(2),B("ngClass",K(21,zc,((o=a.newProjectForm.get("projectName"))==null?null:o.invalid)&&((o=a.newProjectForm.get("projectName"))==null?null:o.touched))),f(3),C(a.isArabic?24:25),f(2),B("ngClass",K(23,zc,((s=a.newProjectForm.get("phoneNumber"))==null?null:s.invalid)&&((s=a.newProjectForm.get("phoneNumber"))==null?null:s.touched))),f(),B("ngClass",Si(25,V$,a.isArabic,!a.isArabic)),f(),B("disabled",a.newProjectForm.invalid),f(2),C(a.isArabic?30:31),f(3),C(a.isArabic?33:34)}}function n5(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function i5(t,e){t&1&&d(0," Close ")}function r5(t,e){if(t&1&&(T(0,"app-loading"),m(1,"button",25),y(2,n5,1,0)(3,i5,1,0),T(4,"i",26),p()),t&2){let n=E();f(2),C(n.isArabic?2:3)}}var Uf=class t{constructor(e,n,i,r){this.fb=e;this.projectsService=n;this.dataService=i;this.router=r;let o=new Date().toISOString().split("T")[0];this.newProjectForm=this.fb.group({projectNumber:[{value:"",disabled:!0},U.required],date:[o,U.required],clientName:["",U.required],projectName:["",U.required],phoneNumber:["",U.required]})}isArabic=!1;newProjectForm;isLoading=!0;ngOnInit(){this.detectLanguageChange(),this.fetchProjects()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}fetchProjects(){this.projectsService.getAllProjects().subscribe(e=>{this.isLoading=!1;let n=e.length+1;this.newProjectForm.get("projectNumber")?.setValue(n)})}onSubmit(){if(this.newProjectForm.valid){let e=fe(H({},this.newProjectForm.getRawValue()),{projectNumber:this.newProjectForm.get("projectNumber")?.value});this.projectsService.addProject(e).subscribe(n=>{this.newProjectForm.reset(),this.fetchProjects(),this.openProject(n)})}}openProject(e){this.router.navigate(["project",e])}static \u0275fac=function(n){return new(n||t)(j(We),j(ro),j(de),j(Xt))};static \u0275cmp=te({type:t,selectors:[["app-new-project"]],decls:11,vars:2,consts:[["id","newProject","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","newProjectLabel","aria-hidden","true",1,"modal","fade","modal-lg"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","newProjectLabel",1,"modal-title","fs-5"],[1,"fa-regular","fa-folder-open","text-primary"],[1,"modal-body"],[3,"formGroup"],[3,"ngSubmit","formGroup"],[1,"row","g-2"],[1,"col-md-6"],["for","projectNumber",1,"form-label"],["type","number","id","projectNumber","formControlName","projectNumber",1,"form-control","text-center",3,"ngClass"],["for","date",1,"form-label"],["type","date","id","date","formControlName","date",1,"form-control",3,"ngClass"],[1,"col-md-12"],["for","clientName",1,"form-label"],["type","text","id","clientName","formControlName","clientName",1,"form-control",3,"ngClass"],["for","projectName",1,"form-label"],["type","text","id","projectName","formControlName","projectName",1,"form-control",3,"ngClass"],["for","phoneNumber",1,"form-label"],["type","number","id","phoneNumber","formControlName","phoneNumber",1,"form-control",3,"ngClass"],[1,"col-12","mt-2",3,"ngClass"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary","btn-sm","m-1",3,"disabled"],[1,"fa-solid","fa-arrow-up-right-from-square"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","btn-sm","m-1"],[1,"fa-solid","fa-circle-xmark"]],template:function(n,i){n&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),T(5,"i",5),y(6,j$,1,0)(7,B$,1,0),p()(),m(8,"div",6),y(9,t5,36,28,"form",7)(10,r5,5,1),p()()()()),n&2&&(f(6),C(i.isArabic?6:7),f(3),C(i.isLoading?10:9))},dependencies:[Ke,ze,Oe,rt,Ge,qe,je,Be,ye,xe,Qe],encapsulation:2})};var o5=(t,e)=>({"offcanvas-end":t,"offcanvas-start":e});function s5(t,e){t&1&&d(0," \u0623\u0643\u0645\u064A \u062A\u0627\u0644 ")}function a5(t,e){t&1&&d(0," acmeTal ")}function l5(t,e){t&1&&d(0," \u0623\u0643\u0645\u064A \u062A\u0627\u0644 ")}function c5(t,e){t&1&&d(0," acmeTal ")}function u5(t,e){t&1&&d(0," \u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u0633\u064A\u0629 ")}function d5(t,e){t&1&&d(0," Home Page ")}function h5(t,e){t&1&&d(0," \u0627\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A ")}function f5(t,e){t&1&&d(0," sectors Settings ")}function p5(t,e){t&1&&d(0," \u0625\u0646\u0634\u0627\u0621 \u0645\u0634\u0631\u0648\u0639 \u062C\u062F\u064A\u062F ")}function m5(t,e){t&1&&d(0," Create a new project ")}function g5(t,e){t&1&&d(0," \u0639\u0631\u0636 \u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639 ")}function _5(t,e){t&1&&d(0," View projects ")}function v5(t,e){t&1&&d(0," English ")}function y5(t,e){t&1&&d(0," \u0627\u0644\u0639\u0631\u0628\u064A\u0629 ")}var $f=class t{constructor(e){this.dataService=e}isArabic=!1;changeLangBtn(){this.dataService.isArabic?(this.dataService.isArabic=!1,this.isArabic=!1,localStorage.setItem("acmeTal","en")):(this.dataService.isArabic=!0,this.isArabic=!0,localStorage.setItem("acmeTal","ar"))}changeLang(){this.dataService.isArabic?this.isArabic=!0:this.isArabic=!1}ngOnInit(){this.changeLang()}static \u0275fac=function(n){return new(n||t)(j(de))};static \u0275cmp=te({type:t,selectors:[["app-navbar"]],decls:47,vars:11,consts:[[1,"navbar","navbar-expand-lg","py-2"],[1,"container-fluid"],["routerLink","main",1,"navbar-brand"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"fa-solid","fa-bars-staggered"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas",3,"ngClass"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],[1,"offcanvas-body"],[1,"navbar-nav","m-auto"],["data-bs-dismiss","offcanvas","aria-label","Close",1,"nav-item","mx-3"],["routerLink","main","routerLinkActive","active",1,"nav-link"],[1,"fa-solid","fa-house"],["routerLink","sectorsSettings","routerLinkActive","active",1,"nav-link"],[1,"fa-solid","fa-gears"],["data-bs-toggle","modal","data-bs-target","#newProject",1,"nav-link"],[1,"fa-solid","fa-circle-plus"],["routerLink","projects","routerLinkActive","active",1,"nav-link"],[1,"fa-solid","fa-eye"],[1,"navbar-nav","my-1","my-lg-0","text-center"],["data-bs-dismiss","offcanvas","aria-label","Close"],["data-bs-dismiss","offcanvas","aria-label","Close",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"mt-3","d-md-none","acme"],[1,"fa-solid","fa-heart","text-danger"],["href","https://acmecode-eg.com/","target","_blank"]],template:function(n,i){n&1&&(m(0,"nav",0)(1,"div",1)(2,"a",2),y(3,s5,1,0)(4,a5,1,0),p(),m(5,"button",3),T(6,"i",4),p(),m(7,"div",5)(8,"div",6)(9,"h5",7)(10,"a",2),y(11,l5,1,0)(12,c5,1,0),p()()(),m(13,"div",8)(14,"ul",9)(15,"li",10)(16,"a",11),T(17,"i",12),y(18,u5,1,0)(19,d5,1,0),p()(),m(20,"li",10)(21,"a",13),T(22,"i",14),y(23,h5,1,0)(24,f5,1,0),p()(),m(25,"li",10)(26,"a",15),T(27,"i",16),y(28,p5,1,0)(29,m5,1,0),p()(),m(30,"li",10)(31,"a",17),T(32,"i",18),y(33,g5,1,0)(34,_5,1,0),p()()(),m(35,"ul",19)(36,"li",20)(37,"button",21),G("click",function(){return i.changeLangBtn()}),y(38,v5,1,0)(39,y5,1,0),p()(),m(40,"li",22),d(41," Made With "),T(42,"i",23),d(43," By "),m(44,"a",24),d(45," AcmeCode "),p()()()()()()(),T(46,"app-new-project")),n&2&&(f(3),C(i.isArabic?3:4),f(4),B("ngClass",Si(8,o5,i.isArabic,!i.isArabic)),f(4),C(i.isArabic?11:12),f(7),C(i.isArabic?18:19),f(5),C(i.isArabic?23:24),f(5),C(i.isArabic?28:29),f(5),C(i.isArabic?33:34),f(5),C(i.isArabic?38:39))},dependencies:[ye,xe,kt,bn,Uf],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}.navbar[_ngcontent-%COMP%]{background-color:#e2e3e5;z-index:99}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{font-family:Cairo,serif;font-size:1.2rem;font-weight:700;color:#0079cf;text-transform:uppercase;letter-spacing:3px;text-shadow:2px 2px 5px rgba(0,0,0,.4);position:relative;transition:all .3s ease-in-out}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;width:100%;height:2px;background-color:#37ff00;transform:scaleX(0);transform-origin:right;transition:transform .3s ease-in-out}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover{color:#37ff00;text-shadow:2px 2px 10px rgb(55,255,0);transform:scale(1.05)}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:left}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover{transform:rotate(-1deg) scale(1.05)}.navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{background-color:#0079cf;border:none}.navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;transition:transform .3s ease-in-out}.navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:rotate(90deg)}.navbar[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{background-color:#01143c}.navbar[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{border-bottom:1px solid rgb(252.8909090909,252.9636363636,253.1090909091)}.navbar[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]   .offcanvas-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.navbar[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#01143c;font-size:.8rem;padding:.4rem;border-radius:.2rem;cursor:pointer;transition:all .3s}.navbar[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#0079cf33}.navbar[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;font-weight:700}.navbar[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;margin:2px 8px 2px 2px;width:8px;height:8px;background-color:#37ff00;border-radius:50%;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}.navbar[_ngcontent-%COMP%]   .acme[_ngcontent-%COMP%]{color:#0079cf;font-size:.8rem;font-weight:600;margin-top:1rem}.navbar[_ngcontent-%COMP%]   .acme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-style:italic;text-decoration:none;color:#37ff00}.navbar[_ngcontent-%COMP%]   .acme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#73ff4d}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}@media (max-width: 991.98px){.navbar[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{max-width:80%}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff!important}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:.5rem 0}}@media (max-width: 767.98px){.navbar-brand[_ngcontent-%COMP%]{font-size:1.2rem}.nav-link[_ngcontent-%COMP%]{font-size:.9rem}}']})};var Gf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=te({type:t,selectors:[["app-footer"]],decls:2,vars:0,template:function(n,i){n&1&&(m(0,"p"),d(1,"footer works!"),p())},encapsulation:2})};var qf=class t{constructor(e){this.dataService=e}title="acmetal-v2";scrollHeight=0;scrollValue=0;isNavbarHidden=!1;lastScrollPosition=0;onActivate(){window.scroll(0,0),this.calculateScrollHeight()}direction(){this.dataService.isArabic?document.querySelector(".direction")?.classList.add("rtl"):document.querySelector(".direction")?.classList.remove("rtl"),setTimeout(()=>{this.direction()},100)}calculateScrollHeight(){setTimeout(()=>{this.scrollHeight=document.documentElement.scrollHeight-window.innerHeight},100)}scrNavbar(){let e=window.pageYOffset||document.documentElement.scrollTop;e>this.lastScrollPosition?this.isNavbarHidden=!0:e<this.lastScrollPosition&&(this.isNavbarHidden=!1),this.lastScrollPosition=e}onScroll(){this.scrNavbar();let e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.scrollValue=e,this.scrollHeight<=0}ngOnInit(){this.calculateScrollHeight(),localStorage.getItem("acmeTal")=="en"?this.dataService.isArabic=!1:this.dataService.isArabic=!0,this.direction()}static \u0275fac=function(n){return new(n||t)(j(de))};static \u0275cmp=te({type:t,selectors:[["app-root"]],hostBindings:function(n,i){n&1&&G("scroll",function(){return i.onScroll()},!1,ZS)},decls:8,vars:0,consts:[["rel","preconnect","href",ih`https://fonts.googleapis.com`],["rel","preconnect","href",ih`https://fonts.gstatic.com`,"crossorigin",""],["href",ih`https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&family=Tajawal:wght@200;300;400;500;700;800;900&display=swap`,"rel","stylesheet"],[1,"direction","overflow-hidden","main-bg"],[1,"min-vh-100","mb-5"],[3,"activate"]],template:function(n,i){n&1&&(T(0,"link",0)(1,"link",1)(2,"link",2),m(3,"div",3),T(4,"app-navbar"),m(5,"div",4)(6,"router-outlet",5),G("activate",function(){return i.onActivate()}),p()(),T(7,"app-footer"),p())},dependencies:[$f,Gf,fn,ye],styles:['.rtl[_ngcontent-%COMP%]{direction:rtl}.main-bg[_ngcontent-%COMP%]{background:linear-gradient(#000c,#000c),url("./media/background2-26WKAAS2.jpg") no-repeat center center/cover;background-attachment:fixed}']})};var EN={production:!0,firebaseConfig:{apiKey:"AIzaSyA0kQwURkB4OHnKhBtmHPUUhHDrU27lLJo",authDomain:"acmetal-a3be3.firebaseapp.com",databaseURL:"https://acmetal-a3be3-default-rtdb.firebaseio.com",projectId:"acmetal-a3be3",storageBucket:"acmetal-a3be3.firebasestorage.app",messagingSenderId:"705911496102",appId:"1:705911496102:web:8a4823148b374d59f14367",measurementId:"G-78760CTLSB"}};var zf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=te({type:t,selectors:[["app-main"]],decls:2,vars:0,template:function(n,i){n&1&&(m(0,"p"),d(1,"main works!"),p())},encapsulation:2})};var C5=(t,e)=>({"end-0":t,"start-0":e});function b5(t,e){t&1&&d(0," \u062D\u062F\u062F \u0646\u0648\u0639 \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A ")}function w5(t,e){t&1&&d(0," Select Sectors Type ")}function E5(t,e){t&1&&d(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0645\u0641\u0635\u0644\u064A ")}function S5(t,e){t&1&&d(0," Hinged Sectors ")}function I5(t,e){t&1&&d(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0633\u062D\u0627\u0628 ")}function T5(t,e){t&1&&d(0," Sliding Sectors ")}function x5(t,e){t&1&&d(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0632\u062C\u0627\u062C ")}function D5(t,e){t&1&&d(0," Glass Settings ")}function A5(t,e){t&1&&d(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0645\u0641\u0635\u0644\u064A ")}function N5(t,e){t&1&&d(0," Hinged Sectors ")}function M5(t,e){t&1&&d(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0633\u062D\u0627\u0628 ")}function R5(t,e){t&1&&d(0," Sliding Sectors ")}function P5(t,e){t&1&&d(0," \u0632\u062C\u0627\u062C - \u062C\u0648\u0631\u062C\u064A\u0627 - \u0641\u0631\u0627\u063A ")}function k5(t,e){t&1&&d(0," glass - georgia - spacer ")}function F5(t,e){t&1&&d(0," \u0627\u0644\u0643\u0631\u062A\u0646 \u0648\u0648\u0644 ")}function O5(t,e){t&1&&d(0," Curtain Wall ")}var Wf=class t{constructor(e,n){this.dataService=e;this.router=n}isArabic=!1;changeLang(){this.dataService.isArabic?this.isArabic=!0:this.isArabic=!1,setTimeout(()=>{this.changeLang()},100)}navigateToSection(e){let n=e;n&&this.router.navigate([`sectorsSettings/${n}`])}onActivate(){window.scroll(0,0)}ngOnInit(){this.changeLang()}static \u0275fac=function(n){return new(n||t)(j(de),j(Xt))};static \u0275cmp=te({type:t,selectors:[["app-sectors-settings"]],decls:34,vars:12,consts:[["select",""],[1,"position-relative"],[1,"row","g-2"],[1,"d-lg-none","mt-5","px-3"],["id","sectionSelector",1,"form-select",3,"change"],["value","","selected","","disabled",""],["value","hingedSettings"],["value","slidingSettings"],["value","glassSettings"],[1,"col-lg-2"],[1,"sectorsTitles","d-none","d-lg-block","position-fixed","top-0","vh-100",3,"ngClass"],["routerLink","hingedSettings","routerLinkActive","routerLinkActive"],["routerLink","slidingSettings","routerLinkActive","routerLinkActive"],["routerLink","glassSettings","routerLinkActive","routerLinkActive"],["routerLink","curtainWallSettings","routerLinkActive","routerLinkActive"],[1,"col-lg-10","mt-0"],[1,"p-1","py-lg-3"],[3,"activate"]],template:function(n,i){if(n&1){let r=se();m(0,"div",1)(1,"div",2)(2,"div",3)(3,"select",4,0),G("change",function(){Z(r);let s=Zs(4);return J(i.navigateToSection(s.value))}),m(5,"option",5),y(6,b5,1,0)(7,w5,1,0),p(),m(8,"option",6),y(9,E5,1,0)(10,S5,1,0),p(),m(11,"option",7),y(12,I5,1,0)(13,T5,1,0),p(),m(14,"option",8),y(15,x5,1,0)(16,D5,1,0),p()()(),m(17,"div",9)(18,"div",10)(19,"a",11),y(20,A5,1,0)(21,N5,1,0),p(),m(22,"a",12),y(23,M5,1,0)(24,R5,1,0),p(),m(25,"a",13),y(26,P5,1,0)(27,k5,1,0),p(),m(28,"a",14),y(29,F5,1,0)(30,O5,1,0),p()()(),m(31,"div",15)(32,"div",16)(33,"router-outlet",17),G("activate",function(){return Z(r),J(i.onActivate())}),p()()()()()}n&2&&(f(6),C(i.isArabic?6:7),f(3),C(i.isArabic?9:10),f(3),C(i.isArabic?12:13),f(3),C(i.isArabic?15:16),f(3),B("ngClass",Si(9,C5,i.isArabic,!i.isArabic)),f(2),C(i.isArabic?20:21),f(3),C(i.isArabic?23:24),f(3),C(i.isArabic?26:27),f(3),C(i.isArabic?29:30))},dependencies:[fn,kt,bn,ye,xe],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}.sectorsTitles[_ngcontent-%COMP%]{background-color:#e2e3e5;padding:5rem .2rem 0;width:16.6%}.sectorsTitles[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}.sectorsTitles[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0079cf33;transform:scale(1.02);font-size:.9rem}.sectorsTitles[_ngcontent-%COMP%]   a.routerLinkActive[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}.sectorsTitles[_ngcontent-%COMP%]   a.routerLinkActive[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}@media (max-width: 991.98px){.sectorsTitles[_ngcontent-%COMP%]{position:static;height:auto;padding-top:1rem}}']})};var ft=class t{constructor(e){this.db=e;this.hingedSectorRef=va(this.db,"sectors")}hingedSectorRef;getAllSectors(){return be(hn(this.hingedSectorRef)).pipe(le(e=>{let n=e.val();return n?Object.keys(n).map(i=>H({id:i},n[i])):[]}))}getSectorById(e){let n=it(this.hingedSectorRef,e);return be(hn(n)).pipe(le(i=>{let r=i.val();if(r)return H({id:e},r);throw new Error("Sector not found")}))}addSector(e){let n=ar(this.hingedSectorRef).key;if(!n)return Promise.reject("Failed to generate sector ID");let i=it(this.hingedSectorRef,n);return lr(i,{name:e})}updateSector(e,n){let i=it(this.hingedSectorRef,e);return ci(i,n)}duplicateSector(e,n){return O(this,null,function*(){let i=it(this.hingedSectorRef,e),r=ar(this.hingedSectorRef).key;if(!r)return Promise.reject("Failed to generate new sector ID");let o=it(this.hingedSectorRef,r),s=yield hn(i);if(!s.exists())return Promise.reject("Existing sector does not exist");let a=s.val(),l=fe(H({},a),{name:n});return yield lr(o,l)})}deleteSector(e){let n=it(this.hingedSectorRef,e);return Xr(n)}getOudInfo(e){return O(this,null,function*(){try{let n=it(this.hingedSectorRef,`${e}/oud`),i=yield hn(n);return i.exists()?i.val():null}catch(n){throw console.error("Error fetching Oud info:",n),n}})}addOrUpdateOudForSector(e,n){return O(this,null,function*(){try{let i=it(this.hingedSectorRef,`${e}/oud`);yield ci(i,n)}catch(i){throw i}})}getSectorsBySectorId(e,n){let i=it(this.hingedSectorRef,`${e}/${n}`);return be(hn(i)).pipe(le(r=>{let o=r.val();return o?Object.keys(o).map(s=>H({id:s},o[s])):[]}))}addSectorType(e,n,i){let r=ar(it(this.hingedSectorRef,`${e}/${n}`)).key;if(!r)return Promise.reject("Failed to generate frame ID");let o=it(this.hingedSectorRef,`${e}/${n}/${r}`);return lr(o,fe(H({},i),{id:r}))}updateSectorType(e,n,i,r){let o=it(this.hingedSectorRef,`${e}/${n}/${i}`);return ci(o,r)}deleteSectorType(e,n,i){let r=it(this.hingedSectorRef,`${e}/${n}/${i}`);return Xr(r)}setPriceForAllTypes(e,n){return O(this,null,function*(){let i=it(this.hingedSectorRef,`${e}`);try{let r=yield hn(i);if(!r.exists())throw new Error(`No data found for sector ID: ${e}`);let o={};r.forEach(s=>{let a=s.key;a&&a!=="specialties"&&a!=="oud"&&a!=="Accessories"&&s.forEach(l=>{let u=l.key;u&&(o[`${a}/${u}/price`]=n)})}),yield ci(i,o)}catch(r){throw r}})}getSpecialtiesBySectorId(e){let n=it(this.hingedSectorRef,`${e}/specialties`);return be(hn(n)).pipe(le(i=>{let r=i.val();if(r)return{data:r};throw new Error("notFound")}))}updateSpecialties(e,n){let i=it(this.hingedSectorRef,`${e}/specialties`);return ci(i,n)}getAccessoriesBySectorId(e,n){let i=it(this.hingedSectorRef,`${e}/Accessories/${n}`);return be(hn(i)).pipe(le(r=>{let o=r.val();return o?Object.keys(o).map(s=>H({id:s},o[s])):[]}))}addAccessory(e,n,i){let r=ar(it(this.hingedSectorRef,`${e}/Accessories/${n}`));return r.key?lr(r,fe(H({},i),{id:r.key})):Promise.reject("Failed to generate accessory ID")}updateAccessory(e,n,i,r){let o=it(this.hingedSectorRef,`${e}/Accessories/${n}/${i}`);return ci(o,r)}deleteAccessory(e,n,i){let r=it(this.hingedSectorRef,`${e}/Accessories/${n}/${i}`);return Xr(r)}static \u0275fac=function(n){return new(n||t)(ce(li))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})};var L5=t=>({"is-invalid":t});function V5(t,e){t&1&&d(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0645\u0641\u0635\u0644\u064A ")}function j5(t,e){t&1&&d(0," Hinged Settings ")}function B5(t,e){t&1&&d(0," \u0642\u0637\u0627\u0639 ")}function H5(t,e){t&1&&d(0," Sector ")}function U5(t,e){t&1&&d(0," \u062D\u062F\u062F \u0627\u0644\u0642\u0637\u0627\u0639 ")}function $5(t,e){t&1&&d(0," select the sector ")}function G5(t,e){if(t&1&&(m(0,"option",27),d(1),p()),t&2){let n=e.$implicit;B("value",n.id),f(),F(" ",n.name," ")}}function q5(t,e){if(t&1){let n=se();m(0,"div",15)(1,"label",24),y(2,B5,1,0)(3,H5,1,0),p(),m(4,"select",25,0),G("change",function(){Z(n);let r=Zs(5),o=E(2);return J(o.onSectorChange(r.value))}),m(6,"option",26),y(7,U5,1,0)(8,$5,1,0),p(),Je(9,G5,2,2,"option",27,Ze),p()()}if(t&2){let n=E(2);f(2),C(n.isArabic?2:3),f(5),C(n.isArabic?7:8),f(2),Xe(n.sectors)}}function z5(t,e){t&1&&d(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0642\u0637\u0627\u0639\u0627\u062A \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0642\u0637\u0627\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function W5(t,e){t&1&&d(0," There is no sectors, at least one sector should be added ")}function K5(t,e){if(t&1&&(m(0,"div",16)(1,"div",28),T(2,"i",29),y(3,z5,1,0)(4,W5,1,0),p()()),t&2){let n=E(2);f(3),C(n.isArabic?3:4)}}function Q5(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Y5(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function Z5(t,e){if(t&1&&(m(0,"div",17),T(1,"i",30),y(2,Q5,1,1)(3,Y5,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function J5(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function X5(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function e9(t,e){if(t&1&&(m(0,"div",18),T(1,"i",29),y(2,J5,1,1)(3,X5,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function t9(t,e){t&1&&d(0," \u0627\u0636\u0627\u0641\u0647 \u0642\u0637\u0627\u0639 \u062C\u062F\u064A\u062F ")}function n9(t,e){t&1&&d(0," Add a new sector ")}function i9(t,e){if(t&1&&d(0),t&2){let n=E().$implicit;F(" ",n.labelAr," ")}}function r9(t,e){if(t&1&&d(0),t&2){let n=E().$implicit;F(" ",n.labelEn," ")}}function o9(t,e){if(t&1&&(m(0,"li",32)(1,"a",34),y(2,i9,1,1)(3,r9,1,1),p()()),t&2){let n=e.$implicit,i=E(3);f(),B("routerLink",n.path),f(),C(i.isArabic?2:3)}}function s9(t,e){if(t&1&&(m(0,"ul",31),Je(1,o9,4,2,"li",32,Ze),p(),T(3,"hr",33)),t&2){let n=E(2);f(),Xe(n.links)}}function a9(t,e){t&1&&d(0," \u062D\u062F\u062F \u0642\u0637\u0627\u0639 ")}function l9(t,e){t&1&&d(0," select sector ")}function c9(t,e){if(t&1&&(m(0,"div",22)(1,"div",35),T(2,"i",29),y(3,a9,1,0)(4,l9,1,0),p()()),t&2){let n=E(2);f(3),C(n.isArabic?3:4)}}function u9(t,e){if(t&1){let n=se();m(0,"div",3),y(1,q5,11,2,"div",15)(2,K5,5,1,"div",16)(3,Z5,4,1,"div",17)(4,e9,4,1,"div",18),m(5,"div",19)(6,"button",20),T(7,"i",21),y(8,t9,1,0)(9,n9,1,0),p()(),m(10,"div",16),y(11,s9,4,0)(12,c9,5,1,"div",22),p(),m(13,"router-outlet",23),G("activate",function(){Z(n);let r=E();return J(r.onActivate())}),p()()}if(t&2){let n=E();f(),C(n.sectors.length>0?1:2),f(2),C((n.showMessage==null?null:n.showMessage.type)==="success"?3:(n.showMessage==null?null:n.showMessage.type)==="error"?4:-1),f(5),C(n.isArabic?8:9),f(3),C(n.selectedSectorId!==null?11:12)}}function d9(t,e){t&1&&T(0,"app-loading")}function h9(t,e){t&1&&d(0," \u0627\u0636\u0627\u0641\u0647 \u0642\u0637\u0627\u0639 \u062C\u062F\u064A\u062F ")}function f9(t,e){t&1&&d(0," Add a new sector ")}function p9(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function m9(t,e){t&1&&d(0," cancel ")}function g9(t,e){t&1&&d(0," \u0625\u0636\u0627\u0641\u0629 ")}function _9(t,e){t&1&&d(0," add ")}var Pa=class t{constructor(e,n,i,r,o){this.dataService=e;this.hingedSettingsSectorService=n;this.router=i;this.activatedRoute=r;this.fb=o;this.newSectorForm=this.fb.group({name:["",[U.required]]})}isArabic=!1;sectors;selectedSectorId=null;newSectorForm;links=[];showMessage=null;initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.fetchSectors(),100),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}onActivate(){window.scroll(0,0)}fetchSectors(){this.hingedSettingsSectorService.getAllSectors().subscribe(e=>this.sectors=e,e=>console.error("Error fetching sectors:",e))}addSector(){if(this.newSectorForm.invalid)return;let{name:e}=this.newSectorForm.value;this.hingedSettingsSectorService.addSector(e).then(()=>{this.showMessage={type:"success",text:"Sector added Successfully",arText:"\u062A\u0645 \u0627\u0636\u0627\u0641\u0647 \u0627\u0644\u0642\u0637\u0627\u0639 \u0628\u0646\u062C\u0627\u062D"},this.fetchSectors(),this.newSectorForm.reset(),this.setLastSectorAsSelected(),this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0627\u0636\u0627\u0641\u0647. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}setLastSectorAsSelected(){setTimeout(()=>{if(this.sectors.length>0){let e=this.sectors[this.sectors.length-1].id;this.updateSelectedSector(e)}},500)}onSectorChange(e){e&&(this.selectedSectorId=e,this.links=this.generateLinks(this.selectedSectorId),this.navigateToFrames(this.selectedSectorId),this.hingedSettingsSectorService.getSectorById(e).subscribe(n=>{n&&this.navigateToFrames(e)},n=>{console.error("Error fetching sector by ID:",n)}))}generateLinks(e){return[{path:`hingedSectors/${e}`,labelAr:"\u0642\u0637\u0627\u0639\u0627\u062A",labelEn:"Sectors"},{path:`hingedSpecialties/${e}`,labelAr:"\u062A\u062E\u0635\u064A\u0645\u0627\u062A",labelEn:"Specialties"},{path:`hingedAccessories/${e}`,labelAr:"\u0625\u0643\u0633\u0633\u0648\u0627\u0631\u0627\u062A",labelEn:"Accessories"},{path:`hingedInstructions/${e}`,labelAr:"\u0625\u0631\u0634\u0627\u062F\u0627\u062A",labelEn:"Instructions"},{path:`hingedFeatures/${e}`,labelAr:"\u062E\u0635\u0627\u0626\u0635",labelEn:"Features"}]}navigateToFrames(e){this.router.navigate(["sectorsSettings/hingedSettings/hingedSectors",e,"hingedFrames"])}handleRouteParams(){this.activatedRoute.firstChild?.params.subscribe(e=>{e.sectorId&&(this.selectedSectorId=e.sectorId,this.links=this.generateLinks(e.sectorId))})}updateSelectedSector(e){this.selectedSectorId=e,this.links=this.generateLinks(e),this.navigateToFrames(e)}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}ngOnInit(){this.initializeLanguage(),this.fetchSectors(),this.handleRouteParams()}static \u0275fac=function(n){return new(n||t)(j(de),j(ft),j(Xt),j(et),j(We))};static \u0275cmp=te({type:t,selectors:[["app-hinged-settings"]],decls:23,vars:10,consts:[["sector",""],[1,"text-center","alert","alert-secondary","placeholder-lg"],[1,"alert","alert-secondary","px-4"],[1,"row","g-2"],["id","addNewSectorStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","addNewSectorStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"fa-solid","fa-bell","mx-1","text-primary"],["for","addNewSector",1,"form-label"],["type","text","formControlName","name","name","addNewSector","id","addNewSector","placeholder","Enter the sector name",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","btn-sm"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary","btn-sm",3,"disabled"],[1,"col-md-3"],[1,"col-md-12"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"col-md-3","align-self-end"],["data-bs-toggle","modal","data-bs-target","#addNewSectorStaticBackdrop",1,"btn","btn-primary"],[1,"fa-solid","fa-folder-plus"],[1,"col-md-6"],[3,"activate"],["for","sectorsNames",1,"form-label"],["name","sectorsNames","id","sectorsNames",1,"form-select",3,"change"],["value","","disabled","","selected",""],[3,"value"],[1,"alert","alert-danger","py-2"],[1,"fa-solid","fa-circle-exclamation"],[1,"fa-regular","fa-circle-check"],[1,"list-unstyled","d-flex","flex-wrap","justify-content-start"],[1,"nav-item","mx-2","flex-shrink-0"],[1,"my-0"],["routerLinkActive","active",1,"nav-link","text-nowrap",3,"routerLink"],[1,"alert","alert-primary","mt-2","p-2"]],template:function(n,i){if(n&1&&(m(0,"h2",1),y(1,V5,1,0)(2,j5,1,0),p(),m(3,"div",2),y(4,u9,14,4,"div",3)(5,d9,1,0,"app-loading"),p(),m(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"form",8),G("ngSubmit",function(){return i.addSector()}),T(11,"i",9),m(12,"label",10),y(13,h9,1,0)(14,f9,1,0),p(),T(15,"input",11),m(16,"div",12)(17,"button",13),y(18,p9,1,0)(19,m9,1,0),p(),m(20,"button",14),y(21,g9,1,0)(22,_9,1,0),p()()()()()()()),n&2){let r;f(),C(i.isArabic?1:2),f(3),C(i.sectors?4:5),f(6),B("formGroup",i.newSectorForm),f(3),C(i.isArabic?13:14),f(2),B("ngClass",K(8,L5,((r=i.newSectorForm.get("name"))==null?null:r.invalid)&&((r=i.newSectorForm.get("name"))==null?null:r.touched))),f(3),C(i.isArabic?18:19),f(2),B("disabled",i.newSectorForm.invalid),f(),C(i.isArabic?21:22)}},dependencies:[kt,bn,fn,Ke,ze,CN,wN,Oe,Ge,qe,je,Be,ye,xe,Qe],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}a.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}a.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}']})};var Kf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=te({type:t,selectors:[["app-sliding-settings"]],decls:2,vars:0,consts:[[1,"text-center","alert","alert-success"]],template:function(n,i){n&1&&(m(0,"h2",0),d(1," Sliding Settings "),p())},encapsulation:2})};function y9(t,e){if(t&1&&d(0),t&2){let n=E().$implicit;F(" ",n.labelAr," ")}}function C9(t,e){if(t&1&&d(0),t&2){let n=E().$implicit;F(" ",n.labelEn," ")}}function b9(t,e){if(t&1&&(m(0,"li",2)(1,"a",3),y(2,y9,1,1)(3,C9,1,1),p()()),t&2){let n=e.$implicit,i=E();f(),B("routerLink",n.path),f(),C(i.isArabic?2:3)}}var Qf=class t{constructor(e){this.dataService=e}isArabic=!1;links=[{path:"glass",labelAr:"\u0632\u062C\u0627\u062C",labelEn:"Glass"},{path:"georgia",labelAr:"\u062C\u0648\u0631\u062C\u064A\u0627",labelEn:"Georgia"},{path:"space",labelAr:"\u0641\u0631\u0627\u063A",labelEn:"spacer"}];ngOnInit(){this.detectLanguageChange()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}static \u0275fac=function(n){return new(n||t)(j(de))};static \u0275cmp=te({type:t,selectors:[["app-glass-settings"]],decls:5,vars:0,consts:[[1,"alert","alert-primary"],[1,"list-unstyled","d-flex","flex-wrap","justify-content-start"],[1,"nav-item","mx-2","flex-shrink-0"],["routerLinkActive","active",1,"nav-link","text-nowrap",3,"routerLink"]],template:function(n,i){n&1&&(m(0,"div",0)(1,"ul",1),Je(2,b9,4,2,"li",2,Ze),p()(),T(4,"router-outlet")),n&2&&(f(2),Xe(i.links))},dependencies:[fn,kt,bn],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}a.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}a.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}']})};var FC=t=>({"is-invalid":t});function w9(t,e){t&1&&d(0,"\u062A\u062B\u0628\u064A\u062A \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function E9(t,e){t&1&&d(0,"Fixing the price per kilo")}function S9(t,e){t&1&&d(0," \u062A\u0637\u0628\u064A\u0642 ")}function I9(t,e){t&1&&d(0," Update ")}function T9(t,e){t&1&&d(0," \u0637\u0648\u0644 \u0627\u0644\u0639\u0648\u062F ")}function x9(t,e){t&1&&d(0," Oud Length")}function D9(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0639\u0648\u062F ")}function A9(t,e){t&1&&d(0," Oud Price")}function N9(t,e){t&1&&d(0," \u062A\u0637\u0628\u064A\u0642 ")}function M9(t,e){t&1&&d(0," Update ")}function R9(t,e){t&1&&d(0," \u062A\u0637\u0628\u064A\u0642 ")}function P9(t,e){t&1&&d(0," Update ")}function k9(t,e){if(t&1&&d(0),t&2){let n=E(2);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function F9(t,e){if(t&1&&d(0),t&2){let n=E(2);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function O9(t,e){if(t&1&&(m(0,"div",17),T(1,"i",21),y(2,k9,1,1)(3,F9,1,1),p()),t&2){let n=E();f(2),C(n.isArabic?2:3)}}function L9(t,e){if(t&1&&d(0),t&2){let n=E(2);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function V9(t,e){if(t&1&&d(0),t&2){let n=E(2);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function j9(t,e){if(t&1&&(m(0,"div",18),T(1,"i",22),y(2,L9,1,1)(3,V9,1,1),p()),t&2){let n=E();f(2),C(n.isArabic?2:3)}}function B9(t,e){if(t&1&&d(0),t&2){let n=E().$implicit;F(" ",n.labelAr," ")}}function H9(t,e){if(t&1&&d(0),t&2){let n=E().$implicit;F(" ",n.labelEn," ")}}function U9(t,e){if(t&1&&(m(0,"li",20)(1,"a",23),y(2,B9,1,1)(3,H9,1,1),p()()),t&2){let n=e.$implicit,i=E();f(),B("routerLink",n.path),f(),C(i.isArabic?2:3)}}var Yf=class t{constructor(e,n,i,r){this.dataService=e;this.hingedSettingsSectorService=n;this.activatedRoute=i;this.fb=r;this.priceForm=this.fb.group({price:["",[U.required,U.min(.1)]]}),this.oudForm=this.fb.group({length:[null,[U.required,U.min(4),U.max(10)]],price:[null,[U.required,U.min(.1)]]})}isArabic=!1;selectedSectorId=null;priceForm;oudForm;showMessage=null;links=[{path:"hingedFrames",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u062D\u0644\u0648\u0642",labelEn:"Frames Types"},{path:"hingedBars",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0628\u0627\u0631\u0627\u062A",labelEn:"Bars Types"},{path:"hingedSashes",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0636\u0644\u0641",labelEn:"Sashes Types"},{path:"hingedBarCloses",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0628\u0627\u0643\u062A\u0627\u062A",labelEn:"Bar Close types"},{path:"hingedTProfiles",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0642\u0648\u0627\u0637\u0639 \u0648\u0627\u0644\u0633\u0624\u0627\u0633\u0627\u062A",labelEn:"Types of T Profiles"},{path:"hingedWireSashes",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0636\u0644\u0641 \u0627\u0644\u0633\u0644\u0643",labelEn:"Wire Sashes Types"},{path:"HingedAccessories",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0641\u0644\u062A\u0627\u062A",labelEn:"Sashes"},{path:"HingedAccessories",labelAr:"\u0627\u0644\u0645\u0631\u062F",labelEn:"Sashes"}];ngOnInit(){this.isArabic=this.dataService.isArabic,this.listenToRouteParams(),this.initializeLanguage(),this.loadOudInfo()}initializeLanguage(){setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}listenToRouteParams(){this.activatedRoute.params.subscribe(e=>{this.selectedSectorId=e.sectorId||null})}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}updatePriceForAll(){if(!this.selectedSectorId){console.warn("No sector selected to update prices.");return}if(this.priceForm.invalid){console.warn("Form is invalid. Please enter a valid price.");return}let e=this.priceForm.value.price;this.hingedSettingsSectorService.setPriceForAllTypes(this.selectedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Prices updated successfully for this sector",arText:"\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0623\u0633\u0639\u0627\u0631 \u0628\u0646\u062C\u0627\u062D \u0644\u0647\u0630\u0627 \u0627\u0644\u0642\u0637\u0627\u0639"},this.clearMessage()}).catch(n=>{this.showMessage={type:"error",text:"Error updating prices for this sector",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0623\u0633\u0639\u0627\u0631 \u0644\u0647\u0630\u0627 \u0627\u0644\u0642\u0637\u0627\u0639"},this.clearMessage()})}loadOudInfo(){return O(this,null,function*(){try{let e=yield this.hingedSettingsSectorService.getOudInfo(this.selectedSectorId);e&&this.oudForm.patchValue({length:e.length,price:e.price})}catch(e){console.error("Error loading Oud info:",e)}})}updateOud(){if(this.oudForm.valid){let{length:e,price:n}=this.oudForm.value;this.hingedSettingsSectorService.addOrUpdateOudForSector(this.selectedSectorId,{length:e,price:n}).then(()=>{this.showMessage={type:"success",text:"Oud Info updated successfully!",arText:"\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0648\u062F \u0628\u0646\u062C\u0627\u062D!"},this.clearMessage()}).catch(i=>{this.showMessage={type:"error",text:"Error Updating Oud Info!",arText:"\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u062F\u064A\u062B \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0648\u062F!"},this.clearMessage()})}}static \u0275fac=function(n){return new(n||t)(j(de),j(ft),j(et),j(We))};static \u0275cmp=te({type:t,selectors:[["app-hinged-sectors"]],decls:42,vars:21,consts:[[1,"row","g-2"],[1,"col-md-6"],[3,"ngSubmit","formGroup"],["for","kilo-price",1,"form-label"],[1,"row","g-2","align-items-center"],[1,"col-auto"],["id","kilo-price","type","number","formControlName","price",1,"form-control","d-inline-block",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fa-solid","fa-pen-to-square"],[1,"col-md-4","hover-title",3,"title"],["for","length",1,"form-label"],["id","length","type","number","formControlName","length",1,"form-control",3,"ngClass"],[1,"col-md-4"],["for","price",1,"form-label"],["id","price","type","number","formControlName","price",1,"form-control",3,"ngClass"],["for","updateOud",1,"form-label"],["id","updateOud","type","submit",1,"btn","btn-primary","form-control",3,"disabled"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"list-unstyled","d-flex","flex-wrap","justify-content-start","mt-2"],[1,"nav-item","mx-2","flex-shrink-0"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],["routerLinkActive","active",1,"nav-link","text-nowrap",3,"routerLink"]],template:function(n,i){if(n&1&&(m(0,"div",0)(1,"div",1)(2,"form",2),G("ngSubmit",function(){return i.updatePriceForAll()}),m(3,"label",3),y(4,w9,1,0)(5,E9,1,0),p(),m(6,"div",4)(7,"div",5),T(8,"input",6),p(),m(9,"div",5)(10,"button",7),y(11,S9,1,0)(12,I9,1,0),T(13,"i",8),p()()()()(),m(14,"div",1)(15,"form",2),G("ngSubmit",function(){return i.updateOud()}),m(16,"div",0)(17,"div",9)(18,"label",10),y(19,T9,1,0)(20,x9,1,0),p(),T(21,"input",11),p(),m(22,"div",12)(23,"label",13),y(24,D9,1,0)(25,A9,1,0),p(),T(26,"input",14),p(),m(27,"div",12)(28,"label",15),y(29,N9,1,0)(30,M9,1,0),p(),m(31,"button",16),y(32,R9,1,0)(33,P9,1,0),T(34,"i",8),p()()()()()(),m(35,"div"),y(36,O9,4,1,"div",17)(37,j9,4,1,"div",18),p(),m(38,"ul",19),Je(39,U9,4,2,"li",20,Ze),p(),T(41,"router-outlet")),n&2){let r,o,s;f(2),B("formGroup",i.priceForm),f(2),C(i.isArabic?4:5),f(4),B("ngClass",K(15,FC,((r=i.priceForm.get("price"))==null?null:r.invalid)&&((r=i.priceForm.get("price"))==null?null:r.touched))),f(2),B("disabled",i.priceForm.invalid),f(),C(i.isArabic?11:12),f(4),B("formGroup",i.oudForm),f(2),B("title",i.isArabic?"\u0645\u0644\u062D\u0648\u0638\u0647 : \u0637\u0648\u0644 \u0627\u0644\u0639\u0648\u062F \u0628\u0627\u0644\u0645\u062A\u0631 , \u0627\u0642\u0644 \u0637\u0648\u0644 4 \u0645\u062A\u0631 \u0648\u0627\u0644\u0627\u0642\u0635\u064A 10 \u0645\u062A\u0631":"Note : The length of the oud is in meters, the minimum length is 4 meters and the maximum length is 10 metres"),f(2),C(i.isArabic?19:20),f(2),B("ngClass",K(17,FC,((o=i.oudForm.get("length"))==null?null:o.invalid)&&((o=i.oudForm.get("length"))==null?null:o.touched))),f(3),C(i.isArabic?24:25),f(2),B("ngClass",K(19,FC,((s=i.oudForm.get("price"))==null?null:s.invalid)&&((s=i.oudForm.get("price"))==null?null:s.touched))),f(3),C(i.isArabic?29:30),f(2),B("disabled",i.oudForm.invalid),f(),C(i.isArabic?32:33),f(4),C((i.showMessage==null?null:i.showMessage.type)==="success"?36:(i.showMessage==null?null:i.showMessage.type)==="error"?37:-1),f(3),Xe(i.links)}},dependencies:[kt,bn,fn,Ke,ze,Oe,rt,Ge,qe,je,Be,ye,xe],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}a.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}a.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}.hover-title[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:help}.hover-title[title][_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;top:-90%;left:50%;transform:translate(-50%);background-color:#cfe2ff;color:#084298;font-size:.8rem;padding:.5rem;font-style:italic;border-radius:.375rem;box-shadow:0 4px 6px #0000001a;width:100%;z-index:10;opacity:0;visibility:hidden}.hover-title[title][_ngcontent-%COMP%]:hover:before{content:"";position:absolute;top:8%;left:50%;transform:translate(-50%);border-width:.5rem;border-style:solid;border-color:transparent transparent #084298 transparent;z-index:9;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease;animation:_ngcontent-%COMP%_arrowAnimation .4s ease-in-out infinite alternate}.hover-title[title][_ngcontent-%COMP%]:hover:after, .hover-title[title][_ngcontent-%COMP%]:hover:before{opacity:1;visibility:visible;transform:translate(-50%) translateY(-5px)}@keyframes _ngcontent-%COMP%_arrowAnimation{0%{top:5%}to{top:10%}}']})};var ka=t=>({"is-invalid":t});function $9(t,e){t&1&&d(0," \u0644\u0645 \u064A\u062A\u0645 \u062D\u0641\u0638 \u0627\u064A \u062A\u062E\u0635\u064A\u0645\u0627\u062A \u0644\u0647\u0630\u0627 \u0627\u0644\u0642\u0637\u0627\u0639 \u0645\u0646 \u0642\u0628\u0644 , \u064A\u062C\u0628 \u0639\u0644\u064A\u0643 \u062D\u0641\u0638\u0647\u0627 ")}function G9(t,e){t&1&&d(0," No specialties have been saved for this sector before, you must save them ")}function q9(t,e){if(t&1&&(m(0,"div",0),T(1,"i",24),y(2,$9,1,0)(3,G9,1,0),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function z9(t,e){t&1&&d(0," \u0627\u0644\u0645\u0642\u0627\u0633 \u0627\u0644\u0632\u0627\u0626\u062F \u0639\u0646\u062F \u0631\u0633\u0645 \u0627\u0644\u0636\u0644\u0641\u0629 ")}function W9(t,e){t&1&&d(0," Extra Size When Drawing The Sash ")}function K9(t,e){t&1&&d(0," \u0627\u0644\u062A\u062E\u0635\u064A\u0645 \u0628\u064A\u0646 \u0627\u0644\u0636\u0644\u0641\u062A\u064A\u0646 ( \u0633\u0645\u0643 \u0627\u0644\u0645\u0631\u062F ) ")}function Q9(t,e){t&1&&d(0," Factoring Between The Two Sashes ")}function Y9(t,e){t&1&&d(0," \u062A\u062E\u0635\u064A\u0645 \u0632\u062C\u0627\u062C \u0627\u0644\u0636\u0644\u0641 ")}function Z9(t,e){t&1&&d(0," Factoring Window Glass ")}function J9(t,e){t&1&&d(0," \u062A\u062E\u0635\u064A\u0645 \u0632\u062C\u0627\u062C \u0627\u0644\u062B\u0627\u0628\u062A ")}function X9(t,e){t&1&&d(0," Factoring Fixed Glass ")}function eG(t,e){t&1&&d(0," \u062A\u062E\u0635\u064A\u0645 \u0627\u0644\u0633\u0644\u0643 \u0627\u0644\u0645\u062A\u062D\u0631\u0643 ")}function tG(t,e){t&1&&d(0," Factoring Moving Wire ")}function nG(t,e){t&1&&d(0," \u062A\u062E\u0635\u064A\u0645 \u0627\u0644\u0633\u0644\u0643 \u0627\u0644\u062B\u0627\u0628\u062A ")}function iG(t,e){t&1&&d(0," Factoring Fixed Wire ")}function rG(t,e){t&1&&d(0," \u062D\u0641\u0638 ")}function oG(t,e){t&1&&d(0," Save ")}function sG(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function aG(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function lG(t,e){if(t&1&&(m(0,"div",19),T(1,"i",25),y(2,sG,1,1)(3,aG,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function cG(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function uG(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function dG(t,e){if(t&1&&(m(0,"div",20),T(1,"i",24),y(2,cG,1,1)(3,uG,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function hG(t,e){t&1&&d(0," \u0645\u0639\u0627\u062F\u0644\u0627\u062A \u0627\u0644\u062A\u062E\u0635\u064A\u0645 \u0644\u0644\u0645\u0641\u0635\u0644\u064A ")}function fG(t,e){t&1&&d(0," Factoring Equations For the Hinged ")}function pG(t,e){t&1&&(d(0," \u0627\u0631\u062A\u0641\u0627\u0639 \u0627\u0644\u0636\u0644\u0641\u0629 = \u0645\u0642\u0627\u0633 \u0627\u0631\u062A\u0641\u0627\u0639 \u0627\u0644\u0646\u0645\u0648\u0630\u062C - ( "),m(1,"span",26),d(2," \u0633\u0645\u0643 \u0627\u0644\u062D\u0644\u0642 "),p(),d(3," * 2 ) + "),m(4,"span",27),d(5," \u0645\u0642\u0627\u0633 \u0627\u0644\u0631\u0643\u0648\u0628 "),p())}function mG(t,e){t&1&&(d(0," Sash Height = Model Height - ( "),m(1,"span",26),d(2," Frame Thickness "),p(),d(3," * 2 ) + "),m(4,"span",27),d(5," Ride Size "),p())}function gG(t,e){t&1&&(d(0," \u0639\u0631\u0636 1 \u0636\u0644\u0641\u0629 = \u0645\u0642\u0627\u0633 \u0639\u0631\u0636 \u0627\u0644\u0646\u0645\u0648\u0630\u062C - ( "),m(1,"span",26),d(2," \u0633\u0645\u0643 \u0627\u0644\u062D\u0644\u0642 "),p(),d(3," * 2 ) + "),m(4,"span",27),d(5," \u0645\u0642\u0627\u0633 \u0627\u0644\u0631\u0643\u0648\u0628 "),p())}function _G(t,e){t&1&&(d(0," 1 Sash Width = Model Width - ( "),m(1,"span",26),d(2," Frame Thickness "),p(),d(3," * 2 ) + "),m(4,"span",27),d(5," Ride Size "),p())}function vG(t,e){t&1&&(d(0," \u0639\u0631\u0636 2 \u0636\u0644\u0641\u0629 = ( \u0645\u0642\u0627\u0633 \u0639\u0631\u0636 \u0627\u0644\u0646\u0645\u0648\u0630\u062C - ( "),m(1,"span",26),d(2," \u0633\u0645\u0643 \u0627\u0644\u062D\u0644\u0642 "),p(),d(3," * 2 ) + "),m(4,"span",27),d(5," \u0645\u0642\u0627\u0633 \u0627\u0644\u0631\u0643\u0648\u0628 "),p(),d(6," - \u062A\u062E\u0635\u064A\u0645 \u0628\u064A\u0646 \u0627\u0644\u0636\u0644\u0641\u062A\u064A\u0646 ) / 2 "))}function yG(t,e){t&1&&(d(0," 2 Sash Width = ( Model Width - ( "),m(1,"span",26),d(2," Frame Thickness "),p(),d(3," * 2 ) + "),m(4,"span",27),d(5," Ride Size "),p(),d(6," - Factoring Between the Two Sashes ) / 2 "))}function CG(t,e){t&1&&(d(0," \u0627\u0644\u0633\u0644\u0643 = \u0645\u0642\u0627\u0633 \u0627\u0644\u0646\u0645\u0648\u0630\u062C - ( "),m(1,"span",26),d(2," \u0633\u0645\u0643 \u0636\u0644\u0641\u0629 \u0627\u0644\u0633\u0644\u0643 "),p(),d(3," * 2 ) - "),m(4,"span",27),d(5," \u062A\u062E\u0635\u064A\u0645 \u0627\u0644\u0633\u0644\u0643 "),p())}function bG(t,e){t&1&&(d(0," Mesh = Model Size - ( "),m(1,"span",26),d(2," Mesh Sash Thickness "),p(),d(3," * 2 ) - "),m(4,"span",27),d(5," Mesh Factoring "),p())}function wG(t,e){t&1&&(d(0," \u0627\u0644\u0632\u062C\u0627\u062C = \u0645\u0642\u0627\u0633 \u0627\u0644\u0636\u0644\u0641\u0629 - ( "),m(1,"span",26),d(2," \u0633\u0645\u0643 \u0627\u0644\u0636\u0644\u0641\u0629 "),p(),d(3," * 2 ) - "),m(4,"span",27),d(5," \u062A\u062E\u0635\u064A\u0645 \u0627\u0644\u0632\u062C\u0627\u062C "),p())}function EG(t,e){t&1&&(d(0," Glass = Sash Size - ( "),m(1,"span",26),d(2," Sash Thickness "),p(),d(3," * 2 ) - "),m(4,"span",27),d(5," Glass Factoring "),p())}function SG(t,e){if(t&1){let n=se();y(0,q9,4,1,"div",0),m(1,"form",1),G("ngSubmit",function(){Z(n);let r=E();return J(r.updateSpecialties())}),m(2,"div",2)(3,"div",3)(4,"label",4),y(5,z9,1,0)(6,W9,1,0),p(),T(7,"input",5),p(),m(8,"div",3)(9,"label",6),y(10,K9,1,0)(11,Q9,1,0),p(),T(12,"input",7),p(),m(13,"div",3)(14,"label",8),y(15,Y9,1,0)(16,Z9,1,0),p(),T(17,"input",9),p(),m(18,"div",3)(19,"label",10),y(20,J9,1,0)(21,X9,1,0),p(),T(22,"input",11),p(),m(23,"div",3)(24,"label",12),y(25,eG,1,0)(26,tG,1,0),p(),T(27,"input",13),p(),m(28,"div",3)(29,"label",14),y(30,nG,1,0)(31,iG,1,0),p(),T(32,"input",15),p(),m(33,"div",16)(34,"button",17),y(35,rG,1,0)(36,oG,1,0),T(37,"i",18),p()()()(),y(38,lG,4,1,"div",19)(39,dG,4,1,"div",20),m(40,"div",21)(41,"h5",22),y(42,hG,1,0)(43,fG,1,0),p(),m(44,"ul")(45,"li",23),y(46,pG,6,0)(47,mG,6,0),p(),m(48,"li",23),y(49,gG,6,0)(50,_G,6,0),p(),m(51,"li",23),y(52,vG,7,0)(53,yG,7,0),p(),m(54,"li",23),y(55,CG,6,0)(56,bG,6,0),p(),m(57,"li",23),y(58,wG,6,0)(59,EG,6,0),p()()()}if(t&2){let n,i,r,o,s,a,l=E();C(l.specialties=="Error: notFound"?0:-1),f(),B("formGroup",l.specialtiesForm),f(4),C(l.isArabic?5:6),f(2),B("ngClass",K(23,ka,((n=l.specialtiesForm.get("ExtraSizeWhenDrawingTheSash"))==null?null:n.invalid)&&((n=l.specialtiesForm.get("ExtraSizeWhenDrawingTheSash"))==null?null:n.touched))),f(3),C(l.isArabic?10:11),f(2),B("ngClass",K(25,ka,((i=l.specialtiesForm.get("FactoringBetweenTheTwoSashes"))==null?null:i.invalid)&&((i=l.specialtiesForm.get("FactoringBetweenTheTwoSashes"))==null?null:i.touched))),f(3),C(l.isArabic?15:16),f(2),B("ngClass",K(27,ka,((r=l.specialtiesForm.get("FactoringWindowGlass"))==null?null:r.invalid)&&((r=l.specialtiesForm.get("FactoringWindowGlass"))==null?null:r.touched))),f(3),C(l.isArabic?20:21),f(2),B("ngClass",K(29,ka,((o=l.specialtiesForm.get("FactoringFixedGlass"))==null?null:o.invalid)&&((o=l.specialtiesForm.get("FactoringFixedGlass"))==null?null:o.touched))),f(3),C(l.isArabic?25:26),f(2),B("ngClass",K(31,ka,((s=l.specialtiesForm.get("FactoringMovingWire"))==null?null:s.invalid)&&((s=l.specialtiesForm.get("FactoringMovingWire"))==null?null:s.touched))),f(3),C(l.isArabic?30:31),f(2),B("ngClass",K(33,ka,((a=l.specialtiesForm.get("FactoringFixedWire"))==null?null:a.invalid)&&((a=l.specialtiesForm.get("FactoringFixedWire"))==null?null:a.touched))),f(2),B("disabled",l.specialtiesForm.invalid),f(),C(l.isArabic?35:36),f(3),C((l.showMessage==null?null:l.showMessage.type)==="success"?38:(l.showMessage==null?null:l.showMessage.type)==="error"?39:-1),f(4),C(l.isArabic?42:43),f(4),C(l.isArabic?46:47),f(3),C(l.isArabic?49:50),f(3),C(l.isArabic?52:53),f(3),C(l.isArabic?55:56),f(3),C(l.isArabic?58:59)}}function IG(t,e){t&1&&T(0,"app-loading")}var Zf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.specialtiesForm=this.fb.group({ExtraSizeWhenDrawingTheSash:["",U.required],FactoringBetweenTheTwoSashes:["",U.required],FactoringWindowGlass:["",U.required],FactoringFixedGlass:["",U.required],FactoringMovingWire:["",U.required],FactoringFixedWire:["",U.required]})}isArabic=!1;specialties=null;specialtiesForm;sectorId="";showMessage=null;initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}loadSpecialties(){this.hingedSettingsSectorService.getSpecialtiesBySectorId(this.sectorId).subscribe({next:e=>{this.specialties=e.data,this.specialtiesForm.patchValue(this.specialties)},error:e=>{this.specialties=e}})}updateSpecialties(){this.specialtiesForm.valid?this.hingedSettingsSectorService.updateSpecialties(this.sectorId,this.specialtiesForm.value).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062D\u0641\u0638 \u0628\u0646\u062C\u0627\u062D"}}).catch(e=>{this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0641\u0638. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},console.error("Error updating specialties:",e)}):console.warn("Form is invalid"),this.loadSpecialties(),this.clearMessage()}ngOnInit(){this.initializeLanguage(),this.activatedRoute.params.subscribe(e=>{e.sectorId&&(this.sectorId=e.sectorId,this.loadSpecialties())})}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(ft),j(et))};static \u0275cmp=te({type:t,selectors:[["app-hinged-specialties"]],decls:2,vars:1,consts:[[1,"alert","alert-danger","text-center"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-3","col-12"],["for","ExtraSizeWhenDrawingTheSash",1,"form-label"],["formControlName","ExtraSizeWhenDrawingTheSash","type","number","name","ExtraSizeWhenDrawingTheSash","id","ExtraSizeWhenDrawingTheSash","required","",1,"form-control",3,"ngClass"],["for","FactoringBetweenTheTwoSashes",1,"form-label"],["formControlName","FactoringBetweenTheTwoSashes","type","number","name","FactoringBetweenTheTwoSashes","id","FactoringBetweenTheTwoSashes","required","",1,"form-control",3,"ngClass"],["for","FactoringWindowGlass",1,"form-label"],["formControlName","FactoringWindowGlass","type","number","name","FactoringWindowGlass","id","FactoringWindowGlass","required","",1,"form-control",3,"ngClass"],["for","FactoringFixedGlass",1,"form-label"],["formControlName","FactoringFixedGlass","type","number","name","FactoringFixedGlass","id","FactoringFixedGlass","required","",1,"form-control",3,"ngClass"],["for","FactoringMovingWire",1,"form-label"],["formControlName","FactoringMovingWire","type","number","name","FactoringMovingWire","id","FactoringMovingWire","required","",1,"form-control",3,"ngClass"],["for","FactoringFixedWire",1,"form-label"],["formControlName","FactoringFixedWire","type","number","name","FactoringFixedWire","id","FactoringFixedWire","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fa-solid","fa-floppy-disk"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"factoringEquations"],[1,"text-capitalize","text-center"],[1,"my-3"],[1,"fa-solid","fa-circle-exclamation"],[1,"fa-regular","fa-circle-check"],[1,"text-danger"],[1,"text-primary"]],template:function(n,i){n&1&&y(0,SG,60,35)(1,IG,1,0,"app-loading"),n&2&&C(i.specialties?0:1)},dependencies:[Ke,ze,Oe,rt,Ge,qe,$t,je,Be,ye,xe,Qe],encapsulation:2})};function TG(t,e){if(t&1&&d(0),t&2){let n=E().$implicit;F(" ",n.labelAr," ")}}function xG(t,e){if(t&1&&d(0),t&2){let n=E().$implicit;F(" ",n.labelEn," ")}}function DG(t,e){if(t&1&&(m(0,"li",1)(1,"a",2),y(2,TG,1,1)(3,xG,1,1),p()()),t&2){let n=e.$implicit,i=E();f(),B("routerLink",n.key),f(),C(i.isArabic?2:3)}}var Jf=class t{constructor(e){this.dataService=e}isArabic=!1;hingedAccessories=[{key:"handles",labelAr:"\u0627\u0644\u0645\u0642\u0627\u0628\u0636",labelEn:"Handles"},{key:"hinges",labelAr:"\u0627\u0644\u0645\u0641\u0635\u0644\u0627\u062A",labelEn:"Hinges"},{key:"locks",labelAr:"\u0627\u0644\u0623\u0642\u0641\u0627\u0644",labelEn:"Locks"},{key:"latches",labelAr:"\u0627\u0644\u0643\u0648\u0627\u0644\u064A\u0646",labelEn:"Latches"},{key:"rubbers",labelAr:"\u0627\u0644\u0643\u0627\u0648\u062A\u0634\u0627\u062A",labelEn:"Rubbers/Gaskets"},{key:"silicone",labelAr:"\u0627\u0644\u0633\u064A\u0644\u064A\u0643\u0648\u0646",labelEn:"Silicone"},{key:"stoppers",labelAr:"\u0627\u0644\u0633\u0643\u0627\u062A",labelEn:"Stoppers"},{key:"arms",labelAr:"\u0627\u0644\u0623\u0630\u0631\u0639",labelEn:"Arms"},{key:"screws",labelAr:"\u0627\u0644\u0628\u0631\u0627\u063A\u064A",labelEn:"Screws"},{key:"brushes",labelAr:"\u0627\u0644\u0641\u0631\u0634",labelEn:"Brushes"},{key:"pivots",labelAr:"\u0627\u0644\u062A\u0631\u0648\u0633",labelEn:"Pivots"},{key:"spacers",labelAr:"\u0627\u0644\u0641\u0648\u0627\u0635\u0644",labelEn:"Spacers"},{key:"supportBrackets",labelAr:"\u0627\u0644\u062D\u0645\u0627\u0644\u0627\u062A",labelEn:"Support Brackets"},{key:"decorativeCaps",labelAr:"\u0627\u0644\u0623\u063A\u0637\u064A\u0629 \u0627\u0644\u062C\u0645\u0627\u0644\u064A\u0629",labelEn:"Decorative Caps"},{key:"edgeProtectors",labelAr:"\u062D\u0648\u0627\u0641 \u0627\u0644\u062D\u0645\u0627\u064A\u0629",labelEn:"Edge Protectors"}];ngOnInit(){this.isArabic=this.dataService.isArabic,this.initializeLanguage()}initializeLanguage(){setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}static \u0275fac=function(n){return new(n||t)(j(de))};static \u0275cmp=te({type:t,selectors:[["app-hinged-accessories"]],decls:4,vars:0,consts:[[1,"list-unstyled","d-flex","flex-wrap","justify-content-start","mt-2"],[1,"nav-item","mx-2","flex-shrink-0"],["routerLinkActive","active",1,"nav-link","text-nowrap",3,"routerLink"]],template:function(n,i){n&1&&(m(0,"ul",0),Je(1,DG,4,2,"li",1,Ze),p(),T(3,"router-outlet")),n&2&&(f(),Xe(i.hingedAccessories))},dependencies:[kt,bn,fn],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}a.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}a.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}']})};var Xf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=te({type:t,selectors:[["app-hinged-instructions"]],decls:2,vars:0,template:function(n,i){n&1&&(m(0,"p"),d(1,"hinged-instructions works!"),p())},encapsulation:2})};var SN=t=>({"is-invalid":t});function AG(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 : ")}function NG(t,e){t&1&&d(0," Sector Name : ")}function MG(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function RG(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function PG(t,e){if(t&1&&(m(0,"div",3),T(1,"i",31),y(2,MG,1,1)(3,RG,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function kG(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function FG(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function OG(t,e){if(t&1&&(m(0,"div",4),T(1,"i",32),y(2,kG,1,1)(3,FG,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function LG(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function VG(t,e){t&1&&d(0," Modify the sector name ")}function jG(t,e){t&1&&d(0," \u0646\u0633\u062E \u0627\u0644\u0642\u0637\u0627\u0639 \u0628\u0627\u0633\u0645 \u062C\u062F\u064A\u062F ")}function BG(t,e){t&1&&d(0," Copy the sector with a new name ")}function HG(t,e){t&1&&d(0," \u062D\u0630\u0641 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function UG(t,e){t&1&&d(0," Delete The Sector ")}function $G(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function GG(t,e){t&1&&d(0," are you sure you want to ")}function qG(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function zG(t,e){t&1&&d(0," Delete ? ")}function WG(t,e){t&1&&d(0," \u0644\u0627 ")}function KG(t,e){t&1&&d(0," No ")}function QG(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function YG(t,e){t&1&&d(0," Yes ")}function ZG(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function JG(t,e){t&1&&d(0," Modify the sector name ")}function XG(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function e7(t,e){t&1&&d(0," cancel ")}function t7(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function n7(t,e){t&1&&d(0," Update ")}function i7(t,e){t&1&&d(0," \u0646\u0633\u062E \u0627\u0644\u0642\u0637\u0627\u0639 \u0628\u0627\u0633\u0645 \u062C\u062F\u064A\u062F ")}function r7(t,e){t&1&&d(0," Copy the sector with a new name ")}function o7(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function s7(t,e){t&1&&d(0," cancel ")}function a7(t,e){t&1&&d(0," \u0646\u0633\u062E ")}function l7(t,e){t&1&&d(0," copy ")}function c7(t,e){if(t&1){let n=se();m(0,"div",0)(1,"div",1)(2,"h3"),y(3,AG,1,0)(4,NG,1,0),m(5,"span",2),d(6),p()()(),m(7,"div",1),y(8,PG,4,1,"div",3)(9,OG,4,1,"div",4),p()(),m(10,"div",0)(11,"div",5)(12,"button",6),y(13,LG,1,0)(14,VG,1,0),T(15,"i",7),p(),m(16,"button",8),y(17,jG,1,0)(18,BG,1,0),T(19,"i",9),p(),m(20,"button",10),y(21,HG,1,0)(22,UG,1,0),T(23,"i",11),p()()(),m(24,"div",12)(25,"div",13)(26,"div",14)(27,"div",15),T(28,"i",16),y(29,$G,1,0)(30,GG,1,0),m(31,"b",17),y(32,qG,1,0)(33,zG,1,0),m(34,"span",2),d(35),p()()(),m(36,"div",18)(37,"button",19),y(38,WG,1,0)(39,KG,1,0),p(),m(40,"button",20),G("click",function(){Z(n);let r=E();return J(r.delete())}),y(41,QG,1,0)(42,YG,1,0),p()()()()(),m(43,"div",21)(44,"div",13)(45,"div",14)(46,"div",15)(47,"form",22),G("ngSubmit",function(){Z(n);let r=E();return J(r.editSectorName())}),T(48,"i",23),m(49,"label",24),y(50,ZG,1,0)(51,JG,1,0),m(52,"span",2),d(53),p()(),T(54,"input",25),m(55,"div",18)(56,"button",26),y(57,XG,1,0)(58,e7,1,0),p(),m(59,"button",27),y(60,t7,1,0)(61,n7,1,0),p()()()()()()(),m(62,"div",28)(63,"div",13)(64,"div",14)(65,"div",15)(66,"form",22),G("ngSubmit",function(){Z(n);let r=E();return J(r.duplicateExistingSector())}),T(67,"i",23),m(68,"label",29),y(69,i7,1,0)(70,r7,1,0),m(71,"span",2),d(72),p()(),T(73,"input",30),m(74,"div",18)(75,"button",26),y(76,o7,1,0)(77,s7,1,0),p(),m(78,"button",27),y(79,a7,1,0)(80,l7,1,0),p()()()()()()()}if(t&2){let n,i,r=E();f(3),C(r.isArabic?3:4),f(3),F(" ",r.sectorInfo.name," "),f(2),C((r.showMessage==null?null:r.showMessage.type)==="success"?8:(r.showMessage==null?null:r.showMessage.type)==="error"?9:-1),f(5),C(r.isArabic?13:14),f(4),C(r.isArabic?17:18),f(4),C(r.isArabic?21:22),f(8),C(r.isArabic?29:30),f(3),C(r.isArabic?32:33),f(3),F(" ( ",r.sectorInfo.name," ) "),f(3),C(r.isArabic?38:39),f(3),C(r.isArabic?41:42),f(6),B("formGroup",r.editSectorForm),f(3),C(r.isArabic?50:51),f(3),F(" ( ",r.sectorInfo.name," ) "),f(),B("ngClass",K(25,SN,((n=r.editSectorForm.get("sectorName"))==null?null:n.invalid)&&((n=r.editSectorForm.get("sectorName"))==null?null:n.touched))),f(3),C(r.isArabic?57:58),f(2),B("disabled",r.editSectorForm.invalid),f(),C(r.isArabic?60:61),f(6),B("formGroup",r.copiedSectorForm),f(3),C(r.isArabic?69:70),f(3),F(" ( ",r.sectorInfo.name," ) "),f(),B("ngClass",K(27,SN,((i=r.copiedSectorForm.get("sectorName"))==null?null:i.invalid)&&((i=r.copiedSectorForm.get("sectorName"))==null?null:i.touched))),f(3),C(r.isArabic?76:77),f(2),B("disabled",r.copiedSectorForm.invalid),f(),C(r.isArabic?79:80)}}function u7(t,e){t&1&&T(0,"app-loading")}var ep=class t{constructor(e,n,i,r,o,s){this.dataService=e;this.hingedSettingsSectorService=n;this.activatedRoute=i;this.fb=r;this.router=o;this.hingedSettingsComponent=s;this.editSectorForm=this.fb.group({sectorName:["",[U.required,U.minLength(3)]]}),this.copiedSectorForm=this.fb.group({sectorName:["",[U.required,U.minLength(3)]]})}isArabic=!1;sectorId="";sectorInfo=null;editSectorForm;copiedSectorForm;showMessage=null;changeLang(){this.isArabic=this.dataService.isArabic,setTimeout(()=>this.changeLang(),100)}delete(){if(!this.sectorId){console.error("No sector ID provided for deletion.");return}this.hingedSettingsSectorService.deleteSector(this.sectorId).then(()=>{this.hingedSettingsComponent.selectedSectorId=null,this.router.navigate(["/sectorsSettings"]),this.sectorInfo=null}).catch(e=>{console.error("Error deleting sector:",e)})}getSectorInfo(){if(!this.sectorId){console.error("No sector ID provided to fetch information.");return}this.hingedSettingsSectorService.getSectorById(this.sectorId).subscribe({next:e=>{this.sectorInfo=e},error:e=>{console.error("Error fetching sector info:",e),this.sectorInfo=null}})}editSectorName(){if(this.editSectorForm.invalid){console.error("Form is invalid.");return}let e=this.editSectorForm.value.sectorName;this.hingedSettingsSectorService.updateSector(this.sectorId,{name:e}).then(()=>{console.log("Sector name updated successfully."),this.sectorInfo.name=e,this.editSectorForm.reset()}).catch(n=>{console.error("Error updating sector name:",n)})}duplicateExistingSector(){let e=this.copiedSectorForm.value.sectorName;this.hingedSettingsSectorService.duplicateSector(this.sectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector duplicated successfully !",arText:"\u062A\u0645 \u0646\u0633\u062E \u0627\u0644\u0642\u0637\u0627\u0639 \u0628\u0646\u062C\u0627\u062D!"},this.clearMessage()}).catch(n=>{this.showMessage={type:"error",text:"An error occurred while duplicate the sector. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0627 \u0627\u062B\u0646\u0627\u0621 \u0646\u0633\u062E \u0627\u0644\u0642\u0637\u0627\u0639. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}clearMessage(){setTimeout(()=>{this.showMessage=null},2e3)}ngOnInit(){this.changeLang(),this.activatedRoute.params.subscribe(e=>{e.sectorId&&(this.sectorId=e.sectorId,this.getSectorInfo())})}static \u0275fac=function(n){return new(n||t)(j(de),j(ft),j(et),j(We),j(Xt),j(Pa))};static \u0275cmp=te({type:t,selectors:[["app-hinged-features"]],decls:2,vars:1,consts:[[1,"row","g-3"],[1,"col-md-6"],[1,"fst-italic","text-primary"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"col-md-3"],["data-bs-toggle","modal","data-bs-target","#editSectorNameStaticBackdrop",1,"btn","btn-outline-primary","w-100","m-2"],[1,"fa-solid","fa-pen-to-square"],["data-bs-toggle","modal","data-bs-target","#copySectorWithNewNameStaticBackdrop",1,"btn","btn-outline-primary","w-100","m-2"],[1,"fa-solid","fa-copy"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-outline-danger","w-100","m-2"],[1,"fa-solid","fa-trash-can"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","editSectorNameStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","editSectorNameStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[3,"ngSubmit","formGroup"],[1,"fa-solid","fa-bell","mx-1","text-primary"],["for","newSectorName",1,"form-label"],["type","text","formControlName","sectorName","name","newSectorName","id","newSectorName","placeholder","Enter the new sector name",1,"form-control",3,"ngClass"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","btn-sm"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary","btn-sm",3,"disabled"],["id","copySectorWithNewNameStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","copySectorWithNewNameStaticBackdrop","aria-hidden","true",1,"modal","fade"],["for","copiedSectorName",1,"form-label"],["type","text","formControlName","sectorName","name","copiedSectorName","id","copiedSectorName","placeholder","Enter the name of the new sector",1,"form-control",3,"ngClass"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"]],template:function(n,i){n&1&&y(0,c7,81,29)(1,u7,1,0,"app-loading"),n&2&&C(i.sectorInfo?0:1)},dependencies:[ye,xe,Ke,ze,Oe,Ge,qe,je,Be,Qe],encapsulation:2})};var Wc=t=>({"is-invalid":t});function d7(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function h7(t,e){t&1&&d(0," Sector Number ")}function f7(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function p7(t,e){t&1&&d(0," Sector Name ")}function m7(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function g7(t,e){t&1&&d(0," Sector Weight ")}function _7(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function v7(t,e){t&1&&d(0," Sector Thickness ")}function y7(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function C7(t,e){t&1&&d(0," Price per kilo ")}function b7(t,e){t&1&&d(0," \u062A\u062D\u062F\u064A\u062B ")}function w7(t,e){t&1&&d(0," Update ")}function E7(t,e){if(t&1&&(m(0,"span"),y(1,b7,1,0)(2,w7,1,0),T(3,"i",34),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function S7(t,e){t&1&&d(0," \u0625\u0636\u0627\u0641\u0629 ")}function I7(t,e){t&1&&d(0," Add ")}function T7(t,e){if(t&1&&(m(0,"span"),y(1,S7,1,0)(2,I7,1,0),T(3,"i",35),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function x7(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function D7(t,e){t&1&&d(0," cancel ")}function A7(t,e){if(t&1){let n=se();m(0,"button",36),G("click",function(){Z(n);let r=E(2);return J(r.cancelEdit())}),m(1,"span"),y(2,x7,1,0)(3,D7,1,0),T(4,"i",37),p()()}if(t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function N7(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function M7(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function R7(t,e){if(t&1&&(m(0,"div",29),T(1,"i",38),y(2,N7,1,1)(3,M7,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function P7(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function k7(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function F7(t,e){if(t&1&&(m(0,"div",30),T(1,"i",39),y(2,P7,1,1)(3,k7,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function O7(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function L7(t,e){t&1&&d(0," Sector Number ")}function V7(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function j7(t,e){t&1&&d(0," Sector Name ")}function B7(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function H7(t,e){t&1&&d(0," Weight ")}function U7(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function $7(t,e){t&1&&d(0," Thickness ")}function G7(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function q7(t,e){t&1&&d(0," Price per kilo ")}function z7(t,e){t&1&&d(0," \u062D\u0630\u0641 \u0627\u0644\u0628\u0627\u0631 ")}function W7(t,e){t&1&&d(0," delete the bar ")}function K7(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function Q7(t,e){t&1&&d(0," Update ")}function Y7(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function Z7(t,e){t&1&&d(0," Delete ")}function J7(t,e){t&1&&T(0,"i",43)}function X7(t,e){t&1&&T(0,"i",44)}function eq(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function tq(t,e){t&1&&d(0," Update ")}function nq(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function iq(t,e){t&1&&d(0," Delete ")}function rq(t,e){if(t&1){let n=se();m(0,"tr")(1,"td"),d(2),p(),m(3,"td"),d(4),p(),m(5,"td"),d(6),p(),m(7,"td"),d(8),p(),m(9,"td"),d(10),p(),m(11,"td"),d(12),p(),m(13,"td"),y(14,J7,1,0,"i",43)(15,X7,1,0,"i",44),p(),m(16,"td")(17,"button",45),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.editSector(r))}),y(18,eq,1,0)(19,tq,1,0),T(20,"i",34),p()(),m(21,"td")(22,"button",46),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.getDeletedSector(r))}),y(23,nq,1,0)(24,iq,1,0),T(25,"i",47),p()()()}if(t&2){let n=e.$implicit,i=e.$index,r=E(3);f(2),F(" ",i+1," "),f(2),F(" ",n.sectorNumber," "),f(2),F(" ",n.sectorName," "),f(2),F(" ",n.weight," "),f(2),F(" ",n.thickness," "),f(2),F(" ",n.price," "),f(2),C(n.withoutBar==!0?14:15),f(4),C(r.isArabic?18:19),f(5),C(r.isArabic?23:24)}}function oq(t,e){if(t&1&&(m(0,"table",32)(1,"thead",40)(2,"tr")(3,"th"),d(4," # "),p(),m(5,"th"),y(6,O7,1,0)(7,L7,1,0),p(),m(8,"th"),y(9,V7,1,0)(10,j7,1,0),p(),m(11,"th"),y(12,B7,1,0)(13,H7,1,0),p(),m(14,"th"),y(15,U7,1,0)(16,$7,1,0),p(),m(17,"th"),y(18,G7,1,0)(19,q7,1,0),p(),m(20,"th"),y(21,z7,1,0)(22,W7,1,0),p(),m(23,"th",41),y(24,K7,1,0)(25,Q7,1,0),p(),m(26,"th",42),y(27,Y7,1,0)(28,Z7,1,0),p()()(),m(29,"tbody"),Je(30,rq,26,9,"tr",null,Ze),p()()),t&2){let n=E(2);f(6),C(n.isArabic?6:7),f(3),C(n.isArabic?9:10),f(3),C(n.isArabic?12:13),f(3),C(n.isArabic?15:16),f(3),C(n.isArabic?18:19),f(3),C(n.isArabic?21:22),f(3),C(n.isArabic?24:25),f(3),C(n.isArabic?27:28),f(3),Xe(n.frames)}}function sq(t,e){t&1&&d(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u062D\u0644\u0648\u0642 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function aq(t,e){t&1&&d(0," There are no types of frames, at least one type must be added ")}function lq(t,e){if(t&1&&(m(0,"div",33),T(1,"i",39),y(2,sq,1,0)(3,aq,1,0),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function cq(t,e){if(t&1){let n=se();m(0,"div",0)(1,"form",10),G("ngSubmit",function(){Z(n);let r=E();return J(r.selectedSector?r.updateSector():r.addNewSector())}),m(2,"div",11)(3,"div",12)(4,"label",13),y(5,d7,1,0)(6,h7,1,0),p(),T(7,"input",14),p(),m(8,"div",12)(9,"label",15),y(10,f7,1,0)(11,p7,1,0),p(),T(12,"input",16),p(),m(13,"div",12)(14,"label",17),y(15,m7,1,0)(16,g7,1,0),p(),T(17,"input",18),p(),m(18,"div",12)(19,"label",19),y(20,_7,1,0)(21,v7,1,0),p(),T(22,"input",20),p(),m(23,"div",12)(24,"label",21),y(25,y7,1,0)(26,C7,1,0),p(),T(27,"input",22),p(),m(28,"div",23)(29,"label",24),d(30),p(),T(31,"input",25),p(),m(32,"div",26)(33,"button",27),y(34,E7,4,1,"span")(35,T7,4,1,"span"),p(),y(36,A7,5,1,"button",28),p()()(),y(37,R7,4,1,"div",29)(38,F7,4,1,"div",30),m(39,"div",31),y(40,oq,32,8,"table",32)(41,lq,4,1,"div",33),p()()}if(t&2){let n,i,r,o,s,a=E();f(),B("formGroup",a.frameForm),f(4),C(a.isArabic?5:6),f(2),B("ngClass",K(18,Wc,((n=a.frameForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.frameForm.get("sectorNumber"))==null?null:n.touched))),f(3),C(a.isArabic?10:11),f(2),B("ngClass",K(20,Wc,((i=a.frameForm.get("sectorName"))==null?null:i.invalid)&&((i=a.frameForm.get("sectorName"))==null?null:i.touched))),f(3),C(a.isArabic?15:16),f(2),B("ngClass",K(22,Wc,((r=a.frameForm.get("weight"))==null?null:r.invalid)&&((r=a.frameForm.get("weight"))==null?null:r.touched))),f(3),C(a.isArabic?20:21),f(2),B("ngClass",K(24,Wc,((o=a.frameForm.get("thickness"))==null?null:o.invalid)&&((o=a.frameForm.get("thickness"))==null?null:o.touched))),f(3),C(a.isArabic?25:26),f(2),B("ngClass",K(26,Wc,((s=a.frameForm.get("price"))==null?null:s.invalid)&&((s=a.frameForm.get("price"))==null?null:s.touched))),f(),B("title",a.isArabic?"\u0639\u0646\u062F \u0627\u0644\u062A\u062D\u062F\u064A\u062F , \u0644\u0645 \u064A\u062A\u0645 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0628\u0627\u0631 \u0645\u0639 \u0647\u0630\u0627 \u0627\u0644\u062D\u0644\u0642":"When selected, no bar was used with this Frame"),f(2),F(" ",a.isArabic?"\u062D\u0630\u0641 \u0627\u0644\u0628\u0627\u0631":"Delete the Bar"," "),f(3),B("disabled",a.frameForm.invalid),f(),C(a.selectedSector!=null?34:35),f(2),C(a.selectedSector!=null?36:-1),f(),C((a.showMessage==null?null:a.showMessage.type)==="success"?37:(a.showMessage==null?null:a.showMessage.type)==="error"?38:-1),f(3),C(a.frames.length>0?40:41)}}function uq(t,e){t&1&&T(0,"app-loading")}function dq(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function hq(t,e){t&1&&d(0," are you sure you want to ")}function fq(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function pq(t,e){t&1&&d(0," Delete ? ")}function mq(t,e){t&1&&d(0," \u0644\u0627 ")}function gq(t,e){t&1&&d(0," No ")}function _q(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function vq(t,e){t&1&&d(0," Yes ")}var tp=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.frameForm=this.fb.group({sectorName:["",U.required],sectorNumber:["",U.required],weight:["",[U.required,U.min(.1)]],thickness:["",[U.required,U.min(.1)]],price:["",[U.required,U.min(.1)]],withoutBar:[!1]})}isArabic=!1;sectorsType="frames";frames;selectedSectorId="";EditedSectorId="";frameForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getFrames()})}getFrames(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.frames=e,error:e=>console.error("Error fetching frames:",e)})}addNewSector(){this.frameForm.valid?(this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.frameForm.value).then(()=>{this.frameForm.reset(),this.getFrames(),this.showMessage={type:"success",text:"Sector added successfully",arText:"\u062A\u0645 \u0627\u0644\u0627\u0636\u0627\u0641\u0647 \u0628\u0646\u062C\u0627\u062D"}}).catch(e=>{this.showMessage={type:"error",text:"An error occurred while adding. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0627\u0636\u0627\u0641\u0647. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"}}),this.clearMessage()):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getFrames(),this.deletedSector=null,this.showMessage={type:"success",text:"Sector deleted successfully",arText:"\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D"}}).catch(n=>{console.error("Error deleting frame:",n),this.deletedSector=null,this.showMessage={type:"error",text:"An error occurred while deleting. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"}}),this.clearMessage()}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.frameForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price,withoutBar:e.withoutBar})}cancelEdit(){this.frameForm.reset(),this.selectedSector=null}updateSector(){if(this.frameForm.valid&&this.selectedSector){let e=H(H({},this.selectedSector),this.frameForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getFrames(),this.frameForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(ft),j(et))};static \u0275cmp=te({type:t,selectors:[["app-hinged-frames"]],decls:19,vars:5,consts:[[1,"container","my-4"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-2","col-12","d-flex","align-items-center","withoutBar",3,"title"],["for","withoutBar",1,"form-check-label"],["formControlName","withoutBar","type","checkbox","id","withoutBar",1,"form-check-input","me-2"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"fa-solid","fa-check","p-1","alert","alert-primary"],[1,"fa-solid","fa-xmark","p-1","alert","alert-danger"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"]],template:function(n,i){n&1&&(y(0,cq,42,28,"div",0)(1,uq,1,0,"app-loading"),m(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),T(6,"i",5),y(7,dq,1,0)(8,hq,1,0),m(9,"b",6),y(10,fq,1,0)(11,pq,1,0),p()(),m(12,"div",7)(13,"button",8),y(14,mq,1,0)(15,gq,1,0),p(),m(16,"button",9),G("click",function(){return i.delete(i.deletedSector.id)}),y(17,_q,1,0)(18,vq,1,0),p()()()()()),n&2&&(C(i.frames?0:1),f(7),C(i.isArabic?7:8),f(3),C(i.isArabic?10:11),f(4),C(i.isArabic?14:15),f(3),C(i.isArabic?17:18))},dependencies:[Ke,ze,Oe,rt,DC,Ge,qe,$t,je,Be,ye,xe,Qe],styles:['.withoutBar[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:20px;cursor:help}.withoutBar[title][_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;top:-90%;left:50%;transform:translate(-50%);background-color:#cfe2ff;color:#084298;font-size:.8rem;padding:.5rem;font-style:italic;border-radius:.375rem;box-shadow:0 4px 6px #0000001a;width:100%;z-index:10;opacity:0;visibility:hidden}.withoutBar[title][_ngcontent-%COMP%]:hover:before{content:"";position:absolute;top:8%;left:50%;transform:translate(-50%);border-width:.5rem;border-style:solid;border-color:transparent transparent #084298 transparent;z-index:9;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease;animation:_ngcontent-%COMP%_arrowAnimation .4s ease-in-out infinite alternate}.withoutBar[title][_ngcontent-%COMP%]:hover:after, .withoutBar[title][_ngcontent-%COMP%]:hover:before{opacity:1;visibility:visible;transform:translate(-50%) translateY(-5px)}@keyframes _ngcontent-%COMP%_arrowAnimation{0%{top:5%}to{top:10%}}']})};var Kc=t=>({"is-invalid":t});function yq(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Cq(t,e){t&1&&d(0," Sector Number ")}function bq(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function wq(t,e){t&1&&d(0," Sector Name ")}function Eq(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Sq(t,e){t&1&&d(0," Sector Weight ")}function Iq(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Tq(t,e){t&1&&d(0," Sector Thickness ")}function xq(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function Dq(t,e){t&1&&d(0," Price per kilo ")}function Aq(t,e){t&1&&d(0," \u062A\u062D\u062F\u064A\u062B ")}function Nq(t,e){t&1&&d(0," Update ")}function Mq(t,e){if(t&1&&(m(0,"span"),y(1,Aq,1,0)(2,Nq,1,0),T(3,"i",31),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function Rq(t,e){t&1&&d(0," \u0625\u0636\u0627\u0641\u0629 ")}function Pq(t,e){t&1&&d(0," Add ")}function kq(t,e){if(t&1&&(m(0,"span"),y(1,Rq,1,0)(2,Pq,1,0),T(3,"i",32),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function Fq(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function Oq(t,e){t&1&&d(0," cancel ")}function Lq(t,e){if(t&1){let n=se();m(0,"button",33),G("click",function(){Z(n);let r=E(2);return J(r.cancelEdit())}),m(1,"span"),y(2,Fq,1,0)(3,Oq,1,0),T(4,"i",34),p()()}if(t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function Vq(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function jq(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function Bq(t,e){if(t&1&&(m(0,"div",26),T(1,"i",35),y(2,Vq,1,1)(3,jq,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function Hq(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Uq(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function $q(t,e){if(t&1&&(m(0,"div",27),T(1,"i",36),y(2,Hq,1,1)(3,Uq,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function Gq(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function qq(t,e){t&1&&d(0," Sector Number ")}function zq(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Wq(t,e){t&1&&d(0," Sector Name ")}function Kq(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function Qq(t,e){t&1&&d(0," Weight ")}function Yq(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Zq(t,e){t&1&&d(0," Thickness ")}function Jq(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function Xq(t,e){t&1&&d(0," Price per kilo ")}function e8(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function t8(t,e){t&1&&d(0," Update ")}function n8(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function i8(t,e){t&1&&d(0," Delete ")}function r8(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function o8(t,e){t&1&&d(0," Update ")}function s8(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function a8(t,e){t&1&&d(0," Delete ")}function l8(t,e){if(t&1){let n=se();m(0,"tr")(1,"td"),d(2),p(),m(3,"td"),d(4),p(),m(5,"td"),d(6),p(),m(7,"td"),d(8),p(),m(9,"td"),d(10),p(),m(11,"td"),d(12),p(),m(13,"td")(14,"button",40),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.editSector(r))}),y(15,r8,1,0)(16,o8,1,0),T(17,"i",31),p()(),m(18,"td")(19,"button",41),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.getDeletedSector(r))}),y(20,s8,1,0)(21,a8,1,0),T(22,"i",42),p()()()}if(t&2){let n=e.$implicit,i=e.$index,r=E(3);f(2),F(" ",i+1," "),f(2),F(" ",n.sectorNumber," "),f(2),F(" ",n.sectorName," "),f(2),F(" ",n.weight," "),f(2),F(" ",n.thickness," "),f(2),F(" ",n.price," "),f(3),C(r.isArabic?15:16),f(5),C(r.isArabic?20:21)}}function c8(t,e){if(t&1&&(m(0,"table",29)(1,"thead",37)(2,"tr")(3,"th"),d(4," # "),p(),m(5,"th"),y(6,Gq,1,0)(7,qq,1,0),p(),m(8,"th"),y(9,zq,1,0)(10,Wq,1,0),p(),m(11,"th"),y(12,Kq,1,0)(13,Qq,1,0),p(),m(14,"th"),y(15,Yq,1,0)(16,Zq,1,0),p(),m(17,"th"),y(18,Jq,1,0)(19,Xq,1,0),p(),m(20,"th",38),y(21,e8,1,0)(22,t8,1,0),p(),m(23,"th",39),y(24,n8,1,0)(25,i8,1,0),p()()(),m(26,"tbody"),Je(27,l8,23,8,"tr",null,Ze),p()()),t&2){let n=E(2);f(6),C(n.isArabic?6:7),f(3),C(n.isArabic?9:10),f(3),C(n.isArabic?12:13),f(3),C(n.isArabic?15:16),f(3),C(n.isArabic?18:19),f(3),C(n.isArabic?21:22),f(3),C(n.isArabic?24:25),f(3),Xe(n.bars)}}function u8(t,e){t&1&&d(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0628\u0627\u0631\u0627\u062A \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function d8(t,e){t&1&&d(0," There are no types of bars, at least one type must be added ")}function h8(t,e){if(t&1&&(m(0,"div",30),T(1,"i",36),y(2,u8,1,0)(3,d8,1,0),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function f8(t,e){if(t&1){let n=se();m(0,"div",0)(1,"form",10),G("ngSubmit",function(){Z(n);let r=E();return J(r.selectedSector?r.updateSector():r.addNewSector())}),m(2,"div",11)(3,"div",12)(4,"label",13),y(5,yq,1,0)(6,Cq,1,0),p(),T(7,"input",14),p(),m(8,"div",12)(9,"label",15),y(10,bq,1,0)(11,wq,1,0),p(),T(12,"input",16),p(),m(13,"div",12)(14,"label",17),y(15,Eq,1,0)(16,Sq,1,0),p(),T(17,"input",18),p(),m(18,"div",12)(19,"label",19),y(20,Iq,1,0)(21,Tq,1,0),p(),T(22,"input",20),p(),m(23,"div",12)(24,"label",21),y(25,xq,1,0)(26,Dq,1,0),p(),T(27,"input",22),p(),m(28,"div",23)(29,"button",24),y(30,Mq,4,1,"span")(31,kq,4,1,"span"),p(),y(32,Lq,5,1,"button",25),p()()(),y(33,Bq,4,1,"div",26)(34,$q,4,1,"div",27),m(35,"div",28),y(36,c8,29,7,"table",29)(37,h8,4,1,"div",30),p()()}if(t&2){let n,i,r,o,s,a=E();f(),B("formGroup",a.barForm),f(4),C(a.isArabic?5:6),f(2),B("ngClass",K(16,Kc,((n=a.barForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.barForm.get("sectorNumber"))==null?null:n.touched))),f(3),C(a.isArabic?10:11),f(2),B("ngClass",K(18,Kc,((i=a.barForm.get("sectorName"))==null?null:i.invalid)&&((i=a.barForm.get("sectorName"))==null?null:i.touched))),f(3),C(a.isArabic?15:16),f(2),B("ngClass",K(20,Kc,((r=a.barForm.get("weight"))==null?null:r.invalid)&&((r=a.barForm.get("weight"))==null?null:r.touched))),f(3),C(a.isArabic?20:21),f(2),B("ngClass",K(22,Kc,((o=a.barForm.get("thickness"))==null?null:o.invalid)&&((o=a.barForm.get("thickness"))==null?null:o.touched))),f(3),C(a.isArabic?25:26),f(2),B("ngClass",K(24,Kc,((s=a.barForm.get("price"))==null?null:s.invalid)&&((s=a.barForm.get("price"))==null?null:s.touched))),f(2),B("disabled",a.barForm.invalid),f(),C(a.selectedSector!=null?30:31),f(2),C(a.selectedSector!=null?32:-1),f(),C((a.showMessage==null?null:a.showMessage.type)==="success"?33:(a.showMessage==null?null:a.showMessage.type)==="error"?34:-1),f(3),C(a.bars.length>0?36:37)}}function p8(t,e){t&1&&T(0,"app-loading")}function m8(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function g8(t,e){t&1&&d(0," are you sure you want to ")}function _8(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function v8(t,e){t&1&&d(0," Delete ? ")}function y8(t,e){t&1&&d(0," \u0644\u0627 ")}function C8(t,e){t&1&&d(0," No ")}function b8(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function w8(t,e){t&1&&d(0," Yes ")}var np=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.barForm=this.fb.group({sectorName:["",U.required],sectorNumber:["",U.required],weight:["",[U.required,U.min(.1)]],thickness:["",[U.required,U.min(.1)]],price:["",[U.required,U.min(.1)]]})}isArabic=!1;sectorsType="bars";bars;selectedSectorId="";EditedSectorId="";barForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getBars()})}getBars(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.bars=e,error:e=>console.error("Error fetching bars:",e)})}addNewSector(){this.barForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.barForm.value).then(()=>{this.barForm.reset(),this.getBars()}).catch(e=>console.error("Error adding bar:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getBars(),this.deletedSector=null}).catch(n=>{console.error("Error deleting bar:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.barForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.barForm.reset(),this.selectedSector=null}updateSector(){if(this.barForm.valid&&this.selectedSector){let e=H(H({},this.selectedSector),this.barForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getBars(),this.barForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(ft),j(et))};static \u0275cmp=te({type:t,selectors:[["app-hinged-bars"]],decls:19,vars:5,consts:[[1,"container","my-4"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"]],template:function(n,i){n&1&&(y(0,f8,38,26,"div",0)(1,p8,1,0,"app-loading"),m(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),T(6,"i",5),y(7,m8,1,0)(8,g8,1,0),m(9,"b",6),y(10,_8,1,0)(11,v8,1,0),p()(),m(12,"div",7)(13,"button",8),y(14,y8,1,0)(15,C8,1,0),p(),m(16,"button",9),G("click",function(){return i.delete(i.deletedSector.id)}),y(17,b8,1,0)(18,w8,1,0),p()()()()()),n&2&&(C(i.bars?0:1),f(7),C(i.isArabic?7:8),f(3),C(i.isArabic?10:11),f(4),C(i.isArabic?14:15),f(3),C(i.isArabic?17:18))},dependencies:[Ke,ze,Oe,rt,Ge,qe,$t,je,Be,ye,xe,Qe],encapsulation:2})};var Qc=t=>({"is-invalid":t});function E8(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function S8(t,e){t&1&&d(0," Sector Number ")}function I8(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function T8(t,e){t&1&&d(0," Sector Name ")}function x8(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function D8(t,e){t&1&&d(0," Sector Weight ")}function A8(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function N8(t,e){t&1&&d(0," Sector Thickness ")}function M8(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function R8(t,e){t&1&&d(0," Price per kilo ")}function P8(t,e){t&1&&d(0," \u062A\u062D\u062F\u064A\u062B ")}function k8(t,e){t&1&&d(0," Update ")}function F8(t,e){if(t&1&&(m(0,"span"),y(1,P8,1,0)(2,k8,1,0),T(3,"i",31),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function O8(t,e){t&1&&d(0," \u0625\u0636\u0627\u0641\u0629 ")}function L8(t,e){t&1&&d(0," Add ")}function V8(t,e){if(t&1&&(m(0,"span"),y(1,O8,1,0)(2,L8,1,0),T(3,"i",32),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function j8(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function B8(t,e){t&1&&d(0," cancel ")}function H8(t,e){if(t&1){let n=se();m(0,"button",33),G("click",function(){Z(n);let r=E(2);return J(r.cancelEdit())}),m(1,"span"),y(2,j8,1,0)(3,B8,1,0),T(4,"i",34),p()()}if(t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function U8(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function $8(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function G8(t,e){if(t&1&&(m(0,"div",26),T(1,"i",35),y(2,U8,1,1)(3,$8,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function q8(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function z8(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function W8(t,e){if(t&1&&(m(0,"div",27),T(1,"i",36),y(2,q8,1,1)(3,z8,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function K8(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Q8(t,e){t&1&&d(0," Sector Number ")}function Y8(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Z8(t,e){t&1&&d(0," Sector Name ")}function J8(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function X8(t,e){t&1&&d(0," Weight ")}function ez(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function tz(t,e){t&1&&d(0," Thickness ")}function nz(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function iz(t,e){t&1&&d(0," Price per kilo ")}function rz(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function oz(t,e){t&1&&d(0," Update ")}function sz(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function az(t,e){t&1&&d(0," Delete ")}function lz(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function cz(t,e){t&1&&d(0," Update ")}function uz(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function dz(t,e){t&1&&d(0," Delete ")}function hz(t,e){if(t&1){let n=se();m(0,"tr")(1,"td"),d(2),p(),m(3,"td"),d(4),p(),m(5,"td"),d(6),p(),m(7,"td"),d(8),p(),m(9,"td"),d(10),p(),m(11,"td"),d(12),p(),m(13,"td")(14,"button",40),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.editSector(r))}),y(15,lz,1,0)(16,cz,1,0),T(17,"i",31),p()(),m(18,"td")(19,"button",41),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.getDeletedSector(r))}),y(20,uz,1,0)(21,dz,1,0),T(22,"i",42),p()()()}if(t&2){let n=e.$implicit,i=e.$index,r=E(3);f(2),F(" ",i+1," "),f(2),F(" ",n.sectorNumber," "),f(2),F(" ",n.sectorName," "),f(2),F(" ",n.weight," "),f(2),F(" ",n.thickness," "),f(2),F(" ",n.price," "),f(3),C(r.isArabic?15:16),f(5),C(r.isArabic?20:21)}}function fz(t,e){if(t&1&&(m(0,"table",29)(1,"thead",37)(2,"tr")(3,"th"),d(4," # "),p(),m(5,"th"),y(6,K8,1,0)(7,Q8,1,0),p(),m(8,"th"),y(9,Y8,1,0)(10,Z8,1,0),p(),m(11,"th"),y(12,J8,1,0)(13,X8,1,0),p(),m(14,"th"),y(15,ez,1,0)(16,tz,1,0),p(),m(17,"th"),y(18,nz,1,0)(19,iz,1,0),p(),m(20,"th",38),y(21,rz,1,0)(22,oz,1,0),p(),m(23,"th",39),y(24,sz,1,0)(25,az,1,0),p()()(),m(26,"tbody"),Je(27,hz,23,8,"tr",null,Ze),p()()),t&2){let n=E(2);f(6),C(n.isArabic?6:7),f(3),C(n.isArabic?9:10),f(3),C(n.isArabic?12:13),f(3),C(n.isArabic?15:16),f(3),C(n.isArabic?18:19),f(3),C(n.isArabic?21:22),f(3),C(n.isArabic?24:25),f(3),Xe(n.sashes)}}function pz(t,e){t&1&&d(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0636\u0644\u0641 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function mz(t,e){t&1&&d(0," There are no types of sashes, at least one type must be added ")}function gz(t,e){if(t&1&&(m(0,"div",30),T(1,"i",36),y(2,pz,1,0)(3,mz,1,0),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function _z(t,e){if(t&1){let n=se();m(0,"div",0)(1,"form",10),G("ngSubmit",function(){Z(n);let r=E();return J(r.selectedSector?r.updateSector():r.addNewSector())}),m(2,"div",11)(3,"div",12)(4,"label",13),y(5,E8,1,0)(6,S8,1,0),p(),T(7,"input",14),p(),m(8,"div",12)(9,"label",15),y(10,I8,1,0)(11,T8,1,0),p(),T(12,"input",16),p(),m(13,"div",12)(14,"label",17),y(15,x8,1,0)(16,D8,1,0),p(),T(17,"input",18),p(),m(18,"div",12)(19,"label",19),y(20,A8,1,0)(21,N8,1,0),p(),T(22,"input",20),p(),m(23,"div",12)(24,"label",21),y(25,M8,1,0)(26,R8,1,0),p(),T(27,"input",22),p(),m(28,"div",23)(29,"button",24),y(30,F8,4,1,"span")(31,V8,4,1,"span"),p(),y(32,H8,5,1,"button",25),p()()(),y(33,G8,4,1,"div",26)(34,W8,4,1,"div",27),m(35,"div",28),y(36,fz,29,7,"table",29)(37,gz,4,1,"div",30),p()()}if(t&2){let n,i,r,o,s,a=E();f(),B("formGroup",a.sashForm),f(4),C(a.isArabic?5:6),f(2),B("ngClass",K(16,Qc,((n=a.sashForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.sashForm.get("sectorNumber"))==null?null:n.touched))),f(3),C(a.isArabic?10:11),f(2),B("ngClass",K(18,Qc,((i=a.sashForm.get("sectorName"))==null?null:i.invalid)&&((i=a.sashForm.get("sectorName"))==null?null:i.touched))),f(3),C(a.isArabic?15:16),f(2),B("ngClass",K(20,Qc,((r=a.sashForm.get("weight"))==null?null:r.invalid)&&((r=a.sashForm.get("weight"))==null?null:r.touched))),f(3),C(a.isArabic?20:21),f(2),B("ngClass",K(22,Qc,((o=a.sashForm.get("thickness"))==null?null:o.invalid)&&((o=a.sashForm.get("thickness"))==null?null:o.touched))),f(3),C(a.isArabic?25:26),f(2),B("ngClass",K(24,Qc,((s=a.sashForm.get("price"))==null?null:s.invalid)&&((s=a.sashForm.get("price"))==null?null:s.touched))),f(2),B("disabled",a.sashForm.invalid),f(),C(a.selectedSector!=null?30:31),f(2),C(a.selectedSector!=null?32:-1),f(),C((a.showMessage==null?null:a.showMessage.type)==="success"?33:(a.showMessage==null?null:a.showMessage.type)==="error"?34:-1),f(3),C(a.sashes.length>0?36:37)}}function vz(t,e){t&1&&T(0,"app-loading")}function yz(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function Cz(t,e){t&1&&d(0," are you sure you want to ")}function bz(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function wz(t,e){t&1&&d(0," Delete ? ")}function Ez(t,e){t&1&&d(0," \u0644\u0627 ")}function Sz(t,e){t&1&&d(0," No ")}function Iz(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function Tz(t,e){t&1&&d(0," Yes ")}var ip=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.sashForm=this.fb.group({sectorName:["",U.required],sectorNumber:["",U.required],weight:["",[U.required,U.min(.1)]],thickness:["",[U.required,U.min(.1)]],price:["",[U.required,U.min(.1)]]})}isArabic=!1;sectorsType="sashes";sashes;selectedSectorId="";EditedSectorId="";sashForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getSashes()})}getSashes(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.sashes=e,error:e=>console.error("Error fetching sashes:",e)})}addNewSector(){this.sashForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.sashForm.value).then(()=>{this.sashForm.reset(),this.getSashes()}).catch(e=>console.error("Error adding sash:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getSashes(),this.deletedSector=null}).catch(n=>{console.error("Error deleting sash:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.sashForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.sashForm.reset(),this.selectedSector=null}updateSector(){if(this.sashForm.valid&&this.selectedSector){let e=H(H({},this.selectedSector),this.sashForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getSashes(),this.sashForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(ft),j(et))};static \u0275cmp=te({type:t,selectors:[["app-hinged-sashes"]],decls:19,vars:5,consts:[[1,"container","my-4"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"]],template:function(n,i){n&1&&(y(0,_z,38,26,"div",0)(1,vz,1,0,"app-loading"),m(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),T(6,"i",5),y(7,yz,1,0)(8,Cz,1,0),m(9,"b",6),y(10,bz,1,0)(11,wz,1,0),p()(),m(12,"div",7)(13,"button",8),y(14,Ez,1,0)(15,Sz,1,0),p(),m(16,"button",9),G("click",function(){return i.delete(i.deletedSector.id)}),y(17,Iz,1,0)(18,Tz,1,0),p()()()()()),n&2&&(C(i.sashes?0:1),f(7),C(i.isArabic?7:8),f(3),C(i.isArabic?10:11),f(4),C(i.isArabic?14:15),f(3),C(i.isArabic?17:18))},dependencies:[Ke,ze,Oe,rt,Ge,qe,$t,je,Be,ye,xe,Qe],encapsulation:2})};var Yc=t=>({"is-invalid":t});function xz(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Dz(t,e){t&1&&d(0," Sector Number ")}function Az(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Nz(t,e){t&1&&d(0," Sector Name ")}function Mz(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Rz(t,e){t&1&&d(0," Sector Weight ")}function Pz(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function kz(t,e){t&1&&d(0," Sector Thickness ")}function Fz(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function Oz(t,e){t&1&&d(0," Price per kilo ")}function Lz(t,e){t&1&&d(0," \u062A\u062D\u062F\u064A\u062B ")}function Vz(t,e){t&1&&d(0," Update ")}function jz(t,e){if(t&1&&(m(0,"span"),y(1,Lz,1,0)(2,Vz,1,0),T(3,"i",31),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function Bz(t,e){t&1&&d(0," \u0625\u0636\u0627\u0641\u0629 ")}function Hz(t,e){t&1&&d(0," Add ")}function Uz(t,e){if(t&1&&(m(0,"span"),y(1,Bz,1,0)(2,Hz,1,0),T(3,"i",32),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function $z(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function Gz(t,e){t&1&&d(0," cancel ")}function qz(t,e){if(t&1){let n=se();m(0,"button",33),G("click",function(){Z(n);let r=E(2);return J(r.cancelEdit())}),m(1,"span"),y(2,$z,1,0)(3,Gz,1,0),T(4,"i",34),p()()}if(t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function zz(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Wz(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function Kz(t,e){if(t&1&&(m(0,"div",26),T(1,"i",35),y(2,zz,1,1)(3,Wz,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function Qz(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Yz(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function Zz(t,e){if(t&1&&(m(0,"div",27),T(1,"i",36),y(2,Qz,1,1)(3,Yz,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function Jz(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Xz(t,e){t&1&&d(0," Sector Number ")}function eW(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function tW(t,e){t&1&&d(0," Sector Name ")}function nW(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function iW(t,e){t&1&&d(0," Weight ")}function rW(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function oW(t,e){t&1&&d(0," Thickness ")}function sW(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function aW(t,e){t&1&&d(0," Price per kilo ")}function lW(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function cW(t,e){t&1&&d(0," Update ")}function uW(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function dW(t,e){t&1&&d(0," Delete ")}function hW(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function fW(t,e){t&1&&d(0," Update ")}function pW(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function mW(t,e){t&1&&d(0," Delete ")}function gW(t,e){if(t&1){let n=se();m(0,"tr")(1,"td"),d(2),p(),m(3,"td"),d(4),p(),m(5,"td"),d(6),p(),m(7,"td"),d(8),p(),m(9,"td"),d(10),p(),m(11,"td"),d(12),p(),m(13,"td")(14,"button",40),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.editSector(r))}),y(15,hW,1,0)(16,fW,1,0),T(17,"i",31),p()(),m(18,"td")(19,"button",41),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.getDeletedSector(r))}),y(20,pW,1,0)(21,mW,1,0),T(22,"i",42),p()()()}if(t&2){let n=e.$implicit,i=e.$index,r=E(3);f(2),F(" ",i+1," "),f(2),F(" ",n.sectorNumber," "),f(2),F(" ",n.sectorName," "),f(2),F(" ",n.weight," "),f(2),F(" ",n.thickness," "),f(2),F(" ",n.price," "),f(3),C(r.isArabic?15:16),f(5),C(r.isArabic?20:21)}}function _W(t,e){if(t&1&&(m(0,"table",29)(1,"thead",37)(2,"tr")(3,"th"),d(4," # "),p(),m(5,"th"),y(6,Jz,1,0)(7,Xz,1,0),p(),m(8,"th"),y(9,eW,1,0)(10,tW,1,0),p(),m(11,"th"),y(12,nW,1,0)(13,iW,1,0),p(),m(14,"th"),y(15,rW,1,0)(16,oW,1,0),p(),m(17,"th"),y(18,sW,1,0)(19,aW,1,0),p(),m(20,"th",38),y(21,lW,1,0)(22,cW,1,0),p(),m(23,"th",39),y(24,uW,1,0)(25,dW,1,0),p()()(),m(26,"tbody"),Je(27,gW,23,8,"tr",null,Ze),p()()),t&2){let n=E(2);f(6),C(n.isArabic?6:7),f(3),C(n.isArabic?9:10),f(3),C(n.isArabic?12:13),f(3),C(n.isArabic?15:16),f(3),C(n.isArabic?18:19),f(3),C(n.isArabic?21:22),f(3),C(n.isArabic?24:25),f(3),Xe(n.barCloses)}}function vW(t,e){t&1&&d(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0628\u0627\u0643\u062A\u0627\u062A \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function yW(t,e){t&1&&d(0," There are no types of barCloses, at least one type must be added ")}function CW(t,e){if(t&1&&(m(0,"div",30),T(1,"i",36),y(2,vW,1,0)(3,yW,1,0),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function bW(t,e){if(t&1){let n=se();m(0,"div",0)(1,"form",10),G("ngSubmit",function(){Z(n);let r=E();return J(r.selectedSector?r.updateSector():r.addNewSector())}),m(2,"div",11)(3,"div",12)(4,"label",13),y(5,xz,1,0)(6,Dz,1,0),p(),T(7,"input",14),p(),m(8,"div",12)(9,"label",15),y(10,Az,1,0)(11,Nz,1,0),p(),T(12,"input",16),p(),m(13,"div",12)(14,"label",17),y(15,Mz,1,0)(16,Rz,1,0),p(),T(17,"input",18),p(),m(18,"div",12)(19,"label",19),y(20,Pz,1,0)(21,kz,1,0),p(),T(22,"input",20),p(),m(23,"div",12)(24,"label",21),y(25,Fz,1,0)(26,Oz,1,0),p(),T(27,"input",22),p(),m(28,"div",23)(29,"button",24),y(30,jz,4,1,"span")(31,Uz,4,1,"span"),p(),y(32,qz,5,1,"button",25),p()()(),y(33,Kz,4,1,"div",26)(34,Zz,4,1,"div",27),m(35,"div",28),y(36,_W,29,7,"table",29)(37,CW,4,1,"div",30),p()()}if(t&2){let n,i,r,o,s,a=E();f(),B("formGroup",a.barCloseForm),f(4),C(a.isArabic?5:6),f(2),B("ngClass",K(16,Yc,((n=a.barCloseForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.barCloseForm.get("sectorNumber"))==null?null:n.touched))),f(3),C(a.isArabic?10:11),f(2),B("ngClass",K(18,Yc,((i=a.barCloseForm.get("sectorName"))==null?null:i.invalid)&&((i=a.barCloseForm.get("sectorName"))==null?null:i.touched))),f(3),C(a.isArabic?15:16),f(2),B("ngClass",K(20,Yc,((r=a.barCloseForm.get("weight"))==null?null:r.invalid)&&((r=a.barCloseForm.get("weight"))==null?null:r.touched))),f(3),C(a.isArabic?20:21),f(2),B("ngClass",K(22,Yc,((o=a.barCloseForm.get("thickness"))==null?null:o.invalid)&&((o=a.barCloseForm.get("thickness"))==null?null:o.touched))),f(3),C(a.isArabic?25:26),f(2),B("ngClass",K(24,Yc,((s=a.barCloseForm.get("price"))==null?null:s.invalid)&&((s=a.barCloseForm.get("price"))==null?null:s.touched))),f(2),B("disabled",a.barCloseForm.invalid),f(),C(a.selectedSector!=null?30:31),f(2),C(a.selectedSector!=null?32:-1),f(),C((a.showMessage==null?null:a.showMessage.type)==="success"?33:(a.showMessage==null?null:a.showMessage.type)==="error"?34:-1),f(3),C(a.barCloses.length>0?36:37)}}function wW(t,e){t&1&&T(0,"app-loading")}function EW(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function SW(t,e){t&1&&d(0," are you sure you want to ")}function IW(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function TW(t,e){t&1&&d(0," Delete ? ")}function xW(t,e){t&1&&d(0," \u0644\u0627 ")}function DW(t,e){t&1&&d(0," No ")}function AW(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function NW(t,e){t&1&&d(0," Yes ")}var rp=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.barCloseForm=this.fb.group({sectorName:["",U.required],sectorNumber:["",U.required],weight:["",[U.required,U.min(.1)]],thickness:["",[U.required,U.min(.1)]],price:["",[U.required,U.min(.1)]]})}isArabic=!1;sectorsType="barCloses";barCloses;selectedSectorId="";EditedSectorId="";barCloseForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getBarCloses()})}getBarCloses(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.barCloses=e,error:e=>console.error("Error fetching bar closes:",e)})}addNewSector(){this.barCloseForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.barCloseForm.value).then(()=>{this.barCloseForm.reset(),this.getBarCloses()}).catch(e=>console.error("Error adding bar close:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getBarCloses(),this.deletedSector=null}).catch(n=>{console.error("Error deleting bar close:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.barCloseForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.barCloseForm.reset(),this.selectedSector=null}updateSector(){if(this.barCloseForm.valid&&this.selectedSector){let e=H(H({},this.selectedSector),this.barCloseForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getBarCloses(),this.barCloseForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(ft),j(et))};static \u0275cmp=te({type:t,selectors:[["app-hinged-bar-closes"]],decls:19,vars:5,consts:[[1,"container","my-4"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"]],template:function(n,i){n&1&&(y(0,bW,38,26,"div",0)(1,wW,1,0,"app-loading"),m(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),T(6,"i",5),y(7,EW,1,0)(8,SW,1,0),m(9,"b",6),y(10,IW,1,0)(11,TW,1,0),p()(),m(12,"div",7)(13,"button",8),y(14,xW,1,0)(15,DW,1,0),p(),m(16,"button",9),G("click",function(){return i.delete(i.deletedSector.id)}),y(17,AW,1,0)(18,NW,1,0),p()()()()()),n&2&&(C(i.barCloses?0:1),f(7),C(i.isArabic?7:8),f(3),C(i.isArabic?10:11),f(4),C(i.isArabic?14:15),f(3),C(i.isArabic?17:18))},dependencies:[Ke,ze,Oe,rt,Ge,qe,$t,je,Be,ye,xe,Qe],encapsulation:2})};var Zc=t=>({"is-invalid":t});function MW(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function RW(t,e){t&1&&d(0," Sector Number ")}function PW(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function kW(t,e){t&1&&d(0," Sector Name ")}function FW(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function OW(t,e){t&1&&d(0," Sector Weight ")}function LW(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function VW(t,e){t&1&&d(0," Sector Thickness ")}function jW(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function BW(t,e){t&1&&d(0," Price per kilo ")}function HW(t,e){t&1&&d(0," \u062A\u062D\u062F\u064A\u062B ")}function UW(t,e){t&1&&d(0," Update ")}function $W(t,e){if(t&1&&(m(0,"span"),y(1,HW,1,0)(2,UW,1,0),T(3,"i",31),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function GW(t,e){t&1&&d(0," \u0625\u0636\u0627\u0641\u0629 ")}function qW(t,e){t&1&&d(0," Add ")}function zW(t,e){if(t&1&&(m(0,"span"),y(1,GW,1,0)(2,qW,1,0),T(3,"i",32),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function WW(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function KW(t,e){t&1&&d(0," cancel ")}function QW(t,e){if(t&1){let n=se();m(0,"button",33),G("click",function(){Z(n);let r=E(2);return J(r.cancelEdit())}),m(1,"span"),y(2,WW,1,0)(3,KW,1,0),T(4,"i",34),p()()}if(t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function YW(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function ZW(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function JW(t,e){if(t&1&&(m(0,"div",26),T(1,"i",35),y(2,YW,1,1)(3,ZW,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function XW(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function eK(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function tK(t,e){if(t&1&&(m(0,"div",27),T(1,"i",36),y(2,XW,1,1)(3,eK,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function nK(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function iK(t,e){t&1&&d(0," Sector Number ")}function rK(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function oK(t,e){t&1&&d(0," Sector Name ")}function sK(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function aK(t,e){t&1&&d(0," Weight ")}function lK(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function cK(t,e){t&1&&d(0," Thickness ")}function uK(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function dK(t,e){t&1&&d(0," Price per kilo ")}function hK(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function fK(t,e){t&1&&d(0," Update ")}function pK(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function mK(t,e){t&1&&d(0," Delete ")}function gK(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function _K(t,e){t&1&&d(0," Update ")}function vK(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function yK(t,e){t&1&&d(0," Delete ")}function CK(t,e){if(t&1){let n=se();m(0,"tr")(1,"td"),d(2),p(),m(3,"td"),d(4),p(),m(5,"td"),d(6),p(),m(7,"td"),d(8),p(),m(9,"td"),d(10),p(),m(11,"td"),d(12),p(),m(13,"td")(14,"button",40),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.editSector(r))}),y(15,gK,1,0)(16,_K,1,0),T(17,"i",31),p()(),m(18,"td")(19,"button",41),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.getDeletedSector(r))}),y(20,vK,1,0)(21,yK,1,0),T(22,"i",42),p()()()}if(t&2){let n=e.$implicit,i=e.$index,r=E(3);f(2),F(" ",i+1," "),f(2),F(" ",n.sectorNumber," "),f(2),F(" ",n.sectorName," "),f(2),F(" ",n.weight," "),f(2),F(" ",n.thickness," "),f(2),F(" ",n.price," "),f(3),C(r.isArabic?15:16),f(5),C(r.isArabic?20:21)}}function bK(t,e){if(t&1&&(m(0,"table",29)(1,"thead",37)(2,"tr")(3,"th"),d(4," # "),p(),m(5,"th"),y(6,nK,1,0)(7,iK,1,0),p(),m(8,"th"),y(9,rK,1,0)(10,oK,1,0),p(),m(11,"th"),y(12,sK,1,0)(13,aK,1,0),p(),m(14,"th"),y(15,lK,1,0)(16,cK,1,0),p(),m(17,"th"),y(18,uK,1,0)(19,dK,1,0),p(),m(20,"th",38),y(21,hK,1,0)(22,fK,1,0),p(),m(23,"th",39),y(24,pK,1,0)(25,mK,1,0),p()()(),m(26,"tbody"),Je(27,CK,23,8,"tr",null,Ze),p()()),t&2){let n=E(2);f(6),C(n.isArabic?6:7),f(3),C(n.isArabic?9:10),f(3),C(n.isArabic?12:13),f(3),C(n.isArabic?15:16),f(3),C(n.isArabic?18:19),f(3),C(n.isArabic?21:22),f(3),C(n.isArabic?24:25),f(3),Xe(n.tProfiles)}}function wK(t,e){t&1&&d(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0642\u0648\u0627\u0637\u0639 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function EK(t,e){t&1&&d(0," There are no types of T Profiles, at least one type must be added ")}function SK(t,e){if(t&1&&(m(0,"div",30),T(1,"i",36),y(2,wK,1,0)(3,EK,1,0),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function IK(t,e){if(t&1){let n=se();m(0,"div",0)(1,"form",10),G("ngSubmit",function(){Z(n);let r=E();return J(r.selectedSector?r.updateSector():r.addNewSector())}),m(2,"div",11)(3,"div",12)(4,"label",13),y(5,MW,1,0)(6,RW,1,0),p(),T(7,"input",14),p(),m(8,"div",12)(9,"label",15),y(10,PW,1,0)(11,kW,1,0),p(),T(12,"input",16),p(),m(13,"div",12)(14,"label",17),y(15,FW,1,0)(16,OW,1,0),p(),T(17,"input",18),p(),m(18,"div",12)(19,"label",19),y(20,LW,1,0)(21,VW,1,0),p(),T(22,"input",20),p(),m(23,"div",12)(24,"label",21),y(25,jW,1,0)(26,BW,1,0),p(),T(27,"input",22),p(),m(28,"div",23)(29,"button",24),y(30,$W,4,1,"span")(31,zW,4,1,"span"),p(),y(32,QW,5,1,"button",25),p()()(),y(33,JW,4,1,"div",26)(34,tK,4,1,"div",27),m(35,"div",28),y(36,bK,29,7,"table",29)(37,SK,4,1,"div",30),p()()}if(t&2){let n,i,r,o,s,a=E();f(),B("formGroup",a.tProfileForm),f(4),C(a.isArabic?5:6),f(2),B("ngClass",K(16,Zc,((n=a.tProfileForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.tProfileForm.get("sectorNumber"))==null?null:n.touched))),f(3),C(a.isArabic?10:11),f(2),B("ngClass",K(18,Zc,((i=a.tProfileForm.get("sectorName"))==null?null:i.invalid)&&((i=a.tProfileForm.get("sectorName"))==null?null:i.touched))),f(3),C(a.isArabic?15:16),f(2),B("ngClass",K(20,Zc,((r=a.tProfileForm.get("weight"))==null?null:r.invalid)&&((r=a.tProfileForm.get("weight"))==null?null:r.touched))),f(3),C(a.isArabic?20:21),f(2),B("ngClass",K(22,Zc,((o=a.tProfileForm.get("thickness"))==null?null:o.invalid)&&((o=a.tProfileForm.get("thickness"))==null?null:o.touched))),f(3),C(a.isArabic?25:26),f(2),B("ngClass",K(24,Zc,((s=a.tProfileForm.get("price"))==null?null:s.invalid)&&((s=a.tProfileForm.get("price"))==null?null:s.touched))),f(2),B("disabled",a.tProfileForm.invalid),f(),C(a.selectedSector!=null?30:31),f(2),C(a.selectedSector!=null?32:-1),f(),C((a.showMessage==null?null:a.showMessage.type)==="success"?33:(a.showMessage==null?null:a.showMessage.type)==="error"?34:-1),f(3),C(a.tProfiles.length>0?36:37)}}function TK(t,e){t&1&&T(0,"app-loading")}function xK(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function DK(t,e){t&1&&d(0," are you sure you want to ")}function AK(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function NK(t,e){t&1&&d(0," Delete ? ")}function MK(t,e){t&1&&d(0," \u0644\u0627 ")}function RK(t,e){t&1&&d(0," No ")}function PK(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function kK(t,e){t&1&&d(0," Yes ")}var op=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.tProfileForm=this.fb.group({sectorName:["",U.required],sectorNumber:["",U.required],weight:["",[U.required,U.min(.1)]],thickness:["",[U.required,U.min(.1)]],price:["",[U.required,U.min(.1)]]})}isArabic=!1;sectorsType="T-profiles";tProfiles;selectedSectorId="";EditedSectorId="";tProfileForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getTProfiles()})}getTProfiles(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.tProfiles=e,error:e=>console.error("Error fetching T-profiles:",e)})}addNewSector(){this.tProfileForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.tProfileForm.value).then(()=>{this.tProfileForm.reset(),this.getTProfiles()}).catch(e=>console.error("Error adding T-profile:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getTProfiles(),this.deletedSector=null}).catch(n=>{console.error("Error deleting T-profile:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.tProfileForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.tProfileForm.reset(),this.selectedSector=null}updateSector(){if(this.tProfileForm.valid&&this.selectedSector){let e=H(H({},this.selectedSector),this.tProfileForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getTProfiles(),this.tProfileForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(ft),j(et))};static \u0275cmp=te({type:t,selectors:[["app-hinged-t-profiles"]],decls:19,vars:5,consts:[[1,"container","my-4"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"]],template:function(n,i){n&1&&(y(0,IK,38,26,"div",0)(1,TK,1,0,"app-loading"),m(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),T(6,"i",5),y(7,xK,1,0)(8,DK,1,0),m(9,"b",6),y(10,AK,1,0)(11,NK,1,0),p()(),m(12,"div",7)(13,"button",8),y(14,MK,1,0)(15,RK,1,0),p(),m(16,"button",9),G("click",function(){return i.delete(i.deletedSector.id)}),y(17,PK,1,0)(18,kK,1,0),p()()()()()),n&2&&(C(i.tProfiles?0:1),f(7),C(i.isArabic?7:8),f(3),C(i.isArabic?10:11),f(4),C(i.isArabic?14:15),f(3),C(i.isArabic?17:18))},dependencies:[Ke,ze,Oe,rt,Ge,qe,$t,je,Be,ye,xe,Qe],encapsulation:2})};var Jc=t=>({"is-invalid":t});function FK(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function OK(t,e){t&1&&d(0," Sector Number ")}function LK(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function VK(t,e){t&1&&d(0," Sector Name ")}function jK(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function BK(t,e){t&1&&d(0," Sector Weight ")}function HK(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function UK(t,e){t&1&&d(0," Sector Thickness ")}function $K(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function GK(t,e){t&1&&d(0," Price per kilo ")}function qK(t,e){t&1&&d(0," \u062A\u062D\u062F\u064A\u062B ")}function zK(t,e){t&1&&d(0," Update ")}function WK(t,e){if(t&1&&(m(0,"span"),y(1,qK,1,0)(2,zK,1,0),T(3,"i",31),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function KK(t,e){t&1&&d(0," \u0625\u0636\u0627\u0641\u0629 ")}function QK(t,e){t&1&&d(0," Add ")}function YK(t,e){if(t&1&&(m(0,"span"),y(1,KK,1,0)(2,QK,1,0),T(3,"i",32),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function ZK(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function JK(t,e){t&1&&d(0," cancel ")}function XK(t,e){if(t&1){let n=se();m(0,"button",33),G("click",function(){Z(n);let r=E(2);return J(r.cancelEdit())}),m(1,"span"),y(2,ZK,1,0)(3,JK,1,0),T(4,"i",34),p()()}if(t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function eQ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function tQ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function nQ(t,e){if(t&1&&(m(0,"div",26),T(1,"i",35),y(2,eQ,1,1)(3,tQ,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function iQ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function rQ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function oQ(t,e){if(t&1&&(m(0,"div",27),T(1,"i",36),y(2,iQ,1,1)(3,rQ,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function sQ(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function aQ(t,e){t&1&&d(0," Sector Number ")}function lQ(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function cQ(t,e){t&1&&d(0," Sector Name ")}function uQ(t,e){t&1&&d(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function dQ(t,e){t&1&&d(0," Weight ")}function hQ(t,e){t&1&&d(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function fQ(t,e){t&1&&d(0," Thickness ")}function pQ(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function mQ(t,e){t&1&&d(0," Price per kilo ")}function gQ(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function _Q(t,e){t&1&&d(0," Update ")}function vQ(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function yQ(t,e){t&1&&d(0," Delete ")}function CQ(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function bQ(t,e){t&1&&d(0," Update ")}function wQ(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function EQ(t,e){t&1&&d(0," Delete ")}function SQ(t,e){if(t&1){let n=se();m(0,"tr")(1,"td"),d(2),p(),m(3,"td"),d(4),p(),m(5,"td"),d(6),p(),m(7,"td"),d(8),p(),m(9,"td"),d(10),p(),m(11,"td"),d(12),p(),m(13,"td")(14,"button",40),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.editSector(r))}),y(15,CQ,1,0)(16,bQ,1,0),T(17,"i",31),p()(),m(18,"td")(19,"button",41),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.getDeletedSector(r))}),y(20,wQ,1,0)(21,EQ,1,0),T(22,"i",42),p()()()}if(t&2){let n=e.$implicit,i=e.$index,r=E(3);f(2),F(" ",i+1," "),f(2),F(" ",n.sectorNumber," "),f(2),F(" ",n.sectorName," "),f(2),F(" ",n.weight," "),f(2),F(" ",n.thickness," "),f(2),F(" ",n.price," "),f(3),C(r.isArabic?15:16),f(5),C(r.isArabic?20:21)}}function IQ(t,e){if(t&1&&(m(0,"table",29)(1,"thead",37)(2,"tr")(3,"th"),d(4," # "),p(),m(5,"th"),y(6,sQ,1,0)(7,aQ,1,0),p(),m(8,"th"),y(9,lQ,1,0)(10,cQ,1,0),p(),m(11,"th"),y(12,uQ,1,0)(13,dQ,1,0),p(),m(14,"th"),y(15,hQ,1,0)(16,fQ,1,0),p(),m(17,"th"),y(18,pQ,1,0)(19,mQ,1,0),p(),m(20,"th",38),y(21,gQ,1,0)(22,_Q,1,0),p(),m(23,"th",39),y(24,vQ,1,0)(25,yQ,1,0),p()()(),m(26,"tbody"),Je(27,SQ,23,8,"tr",null,Ze),p()()),t&2){let n=E(2);f(6),C(n.isArabic?6:7),f(3),C(n.isArabic?9:10),f(3),C(n.isArabic?12:13),f(3),C(n.isArabic?15:16),f(3),C(n.isArabic?18:19),f(3),C(n.isArabic?21:22),f(3),C(n.isArabic?24:25),f(3),Xe(n.wireSashes)}}function TQ(t,e){t&1&&d(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0636\u0644\u0641 \u0627\u0644\u0633\u0644\u0643 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function xQ(t,e){t&1&&d(0," There are no types of wireSashes, at least one type must be added ")}function DQ(t,e){if(t&1&&(m(0,"div",30),T(1,"i",36),y(2,TQ,1,0)(3,xQ,1,0),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function AQ(t,e){if(t&1){let n=se();m(0,"div",0)(1,"form",10),G("ngSubmit",function(){Z(n);let r=E();return J(r.selectedSector?r.updateSector():r.addNewSector())}),m(2,"div",11)(3,"div",12)(4,"label",13),y(5,FK,1,0)(6,OK,1,0),p(),T(7,"input",14),p(),m(8,"div",12)(9,"label",15),y(10,LK,1,0)(11,VK,1,0),p(),T(12,"input",16),p(),m(13,"div",12)(14,"label",17),y(15,jK,1,0)(16,BK,1,0),p(),T(17,"input",18),p(),m(18,"div",12)(19,"label",19),y(20,HK,1,0)(21,UK,1,0),p(),T(22,"input",20),p(),m(23,"div",12)(24,"label",21),y(25,$K,1,0)(26,GK,1,0),p(),T(27,"input",22),p(),m(28,"div",23)(29,"button",24),y(30,WK,4,1,"span")(31,YK,4,1,"span"),p(),y(32,XK,5,1,"button",25),p()()(),y(33,nQ,4,1,"div",26)(34,oQ,4,1,"div",27),m(35,"div",28),y(36,IQ,29,7,"table",29)(37,DQ,4,1,"div",30),p()()}if(t&2){let n,i,r,o,s,a=E();f(),B("formGroup",a.wireSashForm),f(4),C(a.isArabic?5:6),f(2),B("ngClass",K(16,Jc,((n=a.wireSashForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.wireSashForm.get("sectorNumber"))==null?null:n.touched))),f(3),C(a.isArabic?10:11),f(2),B("ngClass",K(18,Jc,((i=a.wireSashForm.get("sectorName"))==null?null:i.invalid)&&((i=a.wireSashForm.get("sectorName"))==null?null:i.touched))),f(3),C(a.isArabic?15:16),f(2),B("ngClass",K(20,Jc,((r=a.wireSashForm.get("weight"))==null?null:r.invalid)&&((r=a.wireSashForm.get("weight"))==null?null:r.touched))),f(3),C(a.isArabic?20:21),f(2),B("ngClass",K(22,Jc,((o=a.wireSashForm.get("thickness"))==null?null:o.invalid)&&((o=a.wireSashForm.get("thickness"))==null?null:o.touched))),f(3),C(a.isArabic?25:26),f(2),B("ngClass",K(24,Jc,((s=a.wireSashForm.get("price"))==null?null:s.invalid)&&((s=a.wireSashForm.get("price"))==null?null:s.touched))),f(2),B("disabled",a.wireSashForm.invalid),f(),C(a.selectedSector!=null?30:31),f(2),C(a.selectedSector!=null?32:-1),f(),C((a.showMessage==null?null:a.showMessage.type)==="success"?33:(a.showMessage==null?null:a.showMessage.type)==="error"?34:-1),f(3),C(a.wireSashes.length>0?36:37)}}function NQ(t,e){t&1&&T(0,"app-loading")}function MQ(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function RQ(t,e){t&1&&d(0," are you sure you want to ")}function PQ(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function kQ(t,e){t&1&&d(0," Delete ? ")}function FQ(t,e){t&1&&d(0," \u0644\u0627 ")}function OQ(t,e){t&1&&d(0," No ")}function LQ(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function VQ(t,e){t&1&&d(0," Yes ")}var sp=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.wireSashForm=this.fb.group({sectorName:["",U.required],sectorNumber:["",U.required],weight:["",[U.required,U.min(.1)]],thickness:["",[U.required,U.min(.1)]],price:["",[U.required,U.min(.1)]]})}isArabic=!1;sectorsType="wire-sashes";wireSashes;selectedSectorId="";EditedSectorId="";wireSashForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getWireSashes()})}getWireSashes(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.wireSashes=e,error:e=>console.error("Error fetching wire-sashes:",e)})}addNewSector(){this.wireSashForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.wireSashForm.value).then(()=>{this.wireSashForm.reset(),this.getWireSashes()}).catch(e=>console.error("Error adding wire-sash:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getWireSashes(),this.deletedSector=null}).catch(n=>{console.error("Error deleting wire-sash:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.wireSashForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.wireSashForm.reset(),this.selectedSector=null}updateSector(){if(this.wireSashForm.valid&&this.selectedSector){let e=H(H({},this.selectedSector),this.wireSashForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getWireSashes(),this.wireSashForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(ft),j(et))};static \u0275cmp=te({type:t,selectors:[["app-hinged-wire-sashes"]],decls:19,vars:5,consts:[[1,"container","my-4"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"]],template:function(n,i){n&1&&(y(0,AQ,38,26,"div",0)(1,NQ,1,0,"app-loading"),m(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),T(6,"i",5),y(7,MQ,1,0)(8,RQ,1,0),m(9,"b",6),y(10,PQ,1,0)(11,kQ,1,0),p()(),m(12,"div",7)(13,"button",8),y(14,FQ,1,0)(15,OQ,1,0),p(),m(16,"button",9),G("click",function(){return i.delete(i.deletedSector.id)}),y(17,LQ,1,0)(18,VQ,1,0),p()()()()()),n&2&&(C(i.wireSashes?0:1),f(7),C(i.isArabic?7:8),f(3),C(i.isArabic?10:11),f(4),C(i.isArabic?14:15),f(3),C(i.isArabic?17:18))},dependencies:[Ke,ze,Oe,rt,Ge,qe,$t,je,Be,ye,xe,Qe],encapsulation:2})};var ap=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=te({type:t,selectors:[["app-curtain-wall-settings"]],decls:2,vars:0,consts:[[1,"text-center","alert","alert-info"]],template:function(n,i){n&1&&(m(0,"h2",0),d(1," Curtain Wall Settings "),p())},encapsulation:2})};var oo=class t{constructor(e){this.db=e}getRef(e){return va(this.db,e)}getAllItems(e){let n=this.getRef(e);return be(hn(n)).pipe(le(i=>i.val()))}addItem(e,n){let i=this.getRef(e),r=ar(i),o=r.key;return be(lr(r,H({id:o},n)))}getItemById(e,n){let i=it(this.getRef(e),n);return be(hn(i)).pipe(le(r=>r.val()))}updateItem(e,n,i){let r=it(this.getRef(e),n);return be(ci(r,i))}deleteItem(e,n){let i=it(this.getRef(e),n);return be(Xr(i))}static \u0275fac=function(n){return new(n||t)(ce(li))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})};var IN=t=>({"is-invalid":t});function jQ(t,e){t&1&&d(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0632\u062C\u0627\u062C ")}function BQ(t,e){t&1&&d(0," Glass Settings ")}function HQ(t,e){t&1&&d(0," \u0627\u0644\u0627\u0633\u0645 ")}function UQ(t,e){t&1&&d(0," Name ")}function $Q(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function GQ(t,e){t&1&&d(0," Meter Price ")}function qQ(t,e){t&1&&d(0," \u062A\u062D\u062F\u064A\u062B ")}function zQ(t,e){t&1&&d(0," Update ")}function WQ(t,e){if(t&1&&(m(0,"span"),y(1,qQ,1,0)(2,zQ,1,0),T(3,"i",28),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function KQ(t,e){t&1&&d(0," \u0625\u0636\u0627\u0641\u0629 ")}function QQ(t,e){t&1&&d(0," Add ")}function YQ(t,e){if(t&1&&(m(0,"span"),y(1,KQ,1,0)(2,QQ,1,0),T(3,"i",29),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function ZQ(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function JQ(t,e){t&1&&d(0," cancel ")}function XQ(t,e){if(t&1){let n=se();m(0,"button",30),G("click",function(){Z(n);let r=E(2);return J(r.cancelEdit())}),m(1,"span"),y(2,ZQ,1,0)(3,JQ,1,0),T(4,"i",31),p()()}if(t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function eY(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function tY(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function nY(t,e){if(t&1&&(m(0,"div",24),T(1,"i",32),y(2,eY,1,1)(3,tY,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function iY(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function rY(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function oY(t,e){if(t&1&&(m(0,"div",25),T(1,"i",33),y(2,iY,1,1)(3,rY,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function sY(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0632\u062C\u0627\u062C ")}function aY(t,e){t&1&&d(0," Glass Name ")}function lY(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function cY(t,e){t&1&&d(0," Meter Price ")}function uY(t,e){if(t&1){let n=se();m(0,"tr")(1,"th"),d(2),p(),m(3,"td"),d(4),p(),m(5,"td")(6,"button",40),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.editGlass(r))}),d(7," Update "),p()(),m(8,"td")(9,"button",41),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.getDeletedGlass(r))}),d(10," Delete "),p()()()}if(t&2){let n=e.$implicit;f(2),F(" ",n.glassName," "),f(2),F(" ",n.meterPrice," ")}}function dY(t,e){if(t&1&&(m(0,"table",26)(1,"thead")(2,"tr",34)(3,"th",35),y(4,sY,1,0)(5,aY,1,0),p(),m(6,"th",35),y(7,lY,1,0)(8,cY,1,0),p(),m(9,"th",36),T(10,"i",37),p(),m(11,"th",38),T(12,"i",39),p()()(),m(13,"tbody"),Je(14,uY,11,2,"tr",null,Ze),p()()),t&2){let n=E(2);f(4),C(n.isArabic?4:5),f(3),C(n.isArabic?7:8),f(7),Xe(n.glassList)}}function hY(t,e){t&1&&d(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0645\u0646 \u0627\u0644\u0632\u062C\u0627\u062C\u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function fY(t,e){t&1&&d(0," There are no types of glass, at least one type must be added ")}function pY(t,e){if(t&1&&(m(0,"div",27),T(1,"i",33),y(2,hY,1,0)(3,fY,1,0),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function mY(t,e){if(t&1){let n=se();m(0,"form",11),G("ngSubmit",function(){Z(n);let r=E();return J(r.selectedGlass?r.updateGlassItem():r.addGlassItem())}),m(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15)(5,"div",16),T(6,"input",17),m(7,"label",18),y(8,HQ,1,0)(9,UQ,1,0),p()()(),m(10,"div",15)(11,"div",19),T(12,"input",20),m(13,"label",18),y(14,$Q,1,0)(15,GQ,1,0),p()()(),m(16,"div",21)(17,"div",1)(18,"button",22),y(19,WQ,4,1,"span")(20,YQ,4,1,"span"),p(),y(21,XQ,5,1,"button",23),p()()()()()(),y(22,nY,4,1,"div",24)(23,oY,4,1,"div",25),m(24,"div",13),y(25,dY,16,2,"table",26)(26,pY,4,1,"div",27),p()}if(t&2){let n,i,r=E();B("formGroup",r.glassForm),f(5),B("dir",r.isArabic?"rtl":"ltr"),f(),B("ngClass",K(11,IN,((n=r.glassForm.get("glassName"))==null?null:n.invalid)&&((n=r.glassForm.get("glassName"))==null?null:n.touched))),f(2),C(r.isArabic?8:9),f(4),B("ngClass",K(13,IN,((i=r.glassForm.get("meterPrice"))==null?null:i.invalid)&&((i=r.glassForm.get("meterPrice"))==null?null:i.touched))),f(2),C(r.isArabic?14:15),f(4),B("disabled",r.glassForm.invalid),f(),C(r.selectedGlass!=null?19:20),f(2),C(r.selectedGlass!=null?21:-1),f(),C((r.showMessage==null?null:r.showMessage.type)==="success"?22:(r.showMessage==null?null:r.showMessage.type)==="error"?23:-1),f(3),C(r.glassList.length>0?25:26)}}function gY(t,e){t&1&&T(0,"app-loading")}function _Y(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function vY(t,e){t&1&&d(0," are you sure you want to ")}function yY(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function CY(t,e){t&1&&d(0," Delete ? ")}function bY(t,e){t&1&&d(0," \u0644\u0627 ")}function wY(t,e){t&1&&d(0," No ")}function EY(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function SY(t,e){t&1&&d(0," Yes ")}var lp=class t{constructor(e,n,i){this.fb=e;this.dataService=n;this.glassSettingsService=i;this.glassForm=this.fb.group({glassName:["",U.required],meterPrice:[null,[U.required,U.min(1)]]})}path="glass-Settings";isArabic=!1;glassForm;glassList;selectedGlass=null;deletedGlass=null;editedGlassId="";showMessage=null;ngOnInit(){this.detectLanguageChange(),this.loadGlassItems()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}loadGlassItems(){this.glassSettingsService.getAllItems(this.path).subscribe(e=>{this.glassList=e?Object.values(e):[]})}addGlassItem(){if(this.glassForm.invalid)return;let e=this.glassForm.value;this.glassSettingsService.addItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item added successfully","\u062A\u0645\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062C\u0627\u062D")})}editGlass(e){this.selectedGlass=e,this.editedGlassId=e.id,this.glassForm.patchValue({glassName:e.glassName,meterPrice:e.meterPrice})}updateGlassItem(){if(this.glassForm.invalid||!this.editedGlassId)return;let e=this.glassForm.value;this.glassSettingsService.updateItem(this.path,this.editedGlassId,e).subscribe(()=>{this.onSuccess("Glass item updated successfully","\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D")})}deleteGlassItem(e){this.glassSettingsService.deleteItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item deleted successfully","\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D")})}cancelEdit(){this.glassForm.reset(),this.selectedGlass=null,this.editedGlassId=""}getDeletedGlass(e){this.deletedGlass=e}onSuccess(e,n){this.showMessage={type:"success",text:e,arText:n},this.loadGlassItems(),this.cancelEdit(),this.clearMessage()}clearMessage(){setTimeout(()=>{this.showMessage=null},2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(oo))};static \u0275cmp=te({type:t,selectors:[["app-glass"]],decls:23,vars:6,consts:[[1,"alert","alert-primary","my-3","px-4"],[1,"text-center"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"row","g-3","my-3"],[1,"col-md-5"],[1,"form-floating",3,"dir"],["id","glassName","name","glassName","formControlName","glassName","placeholder","","type","text",1,"form-control",3,"ngClass"],["for","glassName"],[1,"form-floating"],["id","meterPrice","name","meterPrice","formControlName","meterPrice","placeholder","Meter Price","type","number",1,"form-control",3,"ngClass"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"table","table-inalert-primary","table-hover","table-striped","text-center","table-bordered"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"text-white"],["scope","col"],["scope","col",1,"bg-warning-subtle"],[1,"fa-solid","fa-pen-to-square","text-warning"],["scope","col",1,"bg-danger-subtle"],[1,"fa-solid","fa-trash-can","text-danger"],[1,"btn","btn-warning","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(n,i){n&1&&(m(0,"div",0)(1,"h2",1),y(2,jQ,1,0)(3,BQ,1,0),p(),y(4,mY,27,15)(5,gY,1,0,"app-loading"),p(),m(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5),T(10,"i",6),y(11,_Y,1,0)(12,vY,1,0),m(13,"b",7),y(14,yY,1,0)(15,CY,1,0),p()(),m(16,"div",8)(17,"button",9),y(18,bY,1,0)(19,wY,1,0),p(),m(20,"button",10),G("click",function(){return i.deleteGlassItem(i.deletedGlass.id)}),y(21,EY,1,0)(22,SY,1,0),p()()()()()),n&2&&(f(2),C(i.isArabic?2:3),f(2),C(i.glassList?4:5),f(7),C(i.isArabic?11:12),f(3),C(i.isArabic?14:15),f(4),C(i.isArabic?18:19),f(3),C(i.isArabic?21:22))},dependencies:[Ke,ze,Oe,rt,Ge,qe,je,Be,ye,xe,Qe],encapsulation:2})};var TN=t=>({"is-invalid":t});function IY(t,e){t&1&&d(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062C\u0648\u0631\u062C\u064A\u0627 ")}function TY(t,e){t&1&&d(0," georgia Settings ")}function xY(t,e){t&1&&d(0," \u0646\u0648\u0639 \u0627\u0644\u062C\u0648\u0631\u062C\u064A\u0627 ")}function DY(t,e){t&1&&d(0," georgia Type ")}function AY(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function NY(t,e){t&1&&d(0," Meter Price ")}function MY(t,e){t&1&&d(0," \u062A\u062D\u062F\u064A\u062B ")}function RY(t,e){t&1&&d(0," Update ")}function PY(t,e){if(t&1&&(m(0,"span"),y(1,MY,1,0)(2,RY,1,0),T(3,"i",28),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function kY(t,e){t&1&&d(0," \u0625\u0636\u0627\u0641\u0629 ")}function FY(t,e){t&1&&d(0," Add ")}function OY(t,e){if(t&1&&(m(0,"span"),y(1,kY,1,0)(2,FY,1,0),T(3,"i",29),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function LY(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function VY(t,e){t&1&&d(0," cancel ")}function jY(t,e){if(t&1){let n=se();m(0,"button",30),G("click",function(){Z(n);let r=E(2);return J(r.cancelEdit())}),m(1,"span"),y(2,LY,1,0)(3,VY,1,0),T(4,"i",31),p()()}if(t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function BY(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function HY(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function UY(t,e){if(t&1&&(m(0,"div",24),T(1,"i",32),y(2,BY,1,1)(3,HY,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function $Y(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function GY(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function qY(t,e){if(t&1&&(m(0,"div",25),T(1,"i",33),y(2,$Y,1,1)(3,GY,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function zY(t,e){t&1&&d(0," \u0646\u0648\u0639 \u0627\u0644\u062C\u0648\u0631\u062C\u064A\u0627")}function WY(t,e){t&1&&d(0," georgia Type ")}function KY(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function QY(t,e){t&1&&d(0," Meter Price ")}function YY(t,e){if(t&1){let n=se();m(0,"tr")(1,"th"),d(2),p(),m(3,"td"),d(4),p(),m(5,"td")(6,"button",40),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.editGlass(r))}),d(7," Update "),p()(),m(8,"td")(9,"button",41),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.getDeletedGlass(r))}),d(10," Delete "),p()()()}if(t&2){let n=e.$implicit;f(2),F(" ",n.glassName," "),f(2),F(" ",n.meterPrice," ")}}function ZY(t,e){if(t&1&&(m(0,"table",26)(1,"thead")(2,"tr",34)(3,"th",35),y(4,zY,1,0)(5,WY,1,0),p(),m(6,"th",35),y(7,KY,1,0)(8,QY,1,0),p(),m(9,"th",36),T(10,"i",37),p(),m(11,"th",38),T(12,"i",39),p()()(),m(13,"tbody"),Je(14,YY,11,2,"tr",null,Ze),p()()),t&2){let n=E(2);f(4),C(n.isArabic?4:5),f(3),C(n.isArabic?7:8),f(7),Xe(n.glassList)}}function JY(t,e){t&1&&d(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0645\u0646 \u0627\u0644\u062C\u0648\u0631\u062C\u064A\u0627, \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function XY(t,e){t&1&&d(0," There are no types of georgia, at least one type must be added ")}function eZ(t,e){if(t&1&&(m(0,"div",27),T(1,"i",33),y(2,JY,1,0)(3,XY,1,0),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function tZ(t,e){if(t&1){let n=se();m(0,"form",11),G("ngSubmit",function(){Z(n);let r=E();return J(r.selectedGlass?r.updateGlassItem():r.addGlassItem())}),m(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15)(5,"div",16),T(6,"input",17),m(7,"label",18),y(8,xY,1,0)(9,DY,1,0),p()()(),m(10,"div",15)(11,"div",19),T(12,"input",20),m(13,"label",18),y(14,AY,1,0)(15,NY,1,0),p()()(),m(16,"div",21)(17,"div",1)(18,"button",22),y(19,PY,4,1,"span")(20,OY,4,1,"span"),p(),y(21,jY,5,1,"button",23),p()()()()()(),y(22,UY,4,1,"div",24)(23,qY,4,1,"div",25),m(24,"div",13),y(25,ZY,16,2,"table",26)(26,eZ,4,1,"div",27),p()}if(t&2){let n,i,r=E();B("formGroup",r.glassForm),f(5),B("dir",r.isArabic?"rtl":"ltr"),f(),B("ngClass",K(11,TN,((n=r.glassForm.get("glassName"))==null?null:n.invalid)&&((n=r.glassForm.get("glassName"))==null?null:n.touched))),f(2),C(r.isArabic?8:9),f(4),B("ngClass",K(13,TN,((i=r.glassForm.get("meterPrice"))==null?null:i.invalid)&&((i=r.glassForm.get("meterPrice"))==null?null:i.touched))),f(2),C(r.isArabic?14:15),f(4),B("disabled",r.glassForm.invalid),f(),C(r.selectedGlass!=null?19:20),f(2),C(r.selectedGlass!=null?21:-1),f(),C((r.showMessage==null?null:r.showMessage.type)==="success"?22:(r.showMessage==null?null:r.showMessage.type)==="error"?23:-1),f(3),C(r.glassList.length>0?25:26)}}function nZ(t,e){t&1&&T(0,"app-loading")}function iZ(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function rZ(t,e){t&1&&d(0," are you sure you want to ")}function oZ(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function sZ(t,e){t&1&&d(0," Delete ? ")}function aZ(t,e){t&1&&d(0," \u0644\u0627 ")}function lZ(t,e){t&1&&d(0," No ")}function cZ(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function uZ(t,e){t&1&&d(0," Yes ")}var cp=class t{constructor(e,n,i){this.fb=e;this.dataService=n;this.glassSettingsService=i;this.glassForm=this.fb.group({glassName:["",U.required],meterPrice:[null,[U.required,U.min(1)]]})}path="georgia-Settings";isArabic=!1;glassForm;glassList;selectedGlass=null;deletedGlass=null;editedGlassId="";showMessage=null;ngOnInit(){this.detectLanguageChange(),this.loadGlassItems()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}loadGlassItems(){this.glassSettingsService.getAllItems(this.path).subscribe(e=>{this.glassList=e?Object.values(e):[]})}addGlassItem(){if(this.glassForm.invalid)return;let e=this.glassForm.value;this.glassSettingsService.addItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item added successfully","\u062A\u0645\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062C\u0627\u062D")})}editGlass(e){this.selectedGlass=e,this.editedGlassId=e.id,this.glassForm.patchValue({glassName:e.glassName,meterPrice:e.meterPrice})}updateGlassItem(){if(this.glassForm.invalid||!this.editedGlassId)return;let e=this.glassForm.value;this.glassSettingsService.updateItem(this.path,this.editedGlassId,e).subscribe(()=>{this.onSuccess("Glass item updated successfully","\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D")})}deleteGlassItem(e){this.glassSettingsService.deleteItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item deleted successfully","\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D")})}cancelEdit(){this.glassForm.reset(),this.selectedGlass=null,this.editedGlassId=""}getDeletedGlass(e){this.deletedGlass=e}onSuccess(e,n){this.showMessage={type:"success",text:e,arText:n},this.loadGlassItems(),this.cancelEdit(),this.clearMessage()}clearMessage(){setTimeout(()=>{this.showMessage=null},2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(oo))};static \u0275cmp=te({type:t,selectors:[["app-georgia"]],decls:23,vars:6,consts:[[1,"alert","alert-primary","my-3","px-4"],[1,"text-center"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"row","g-3","my-3"],[1,"col-md-5"],[1,"form-floating",3,"dir"],["id","glassName","name","glassName","formControlName","glassName","placeholder","","type","text",1,"form-control",3,"ngClass"],["for","glassName"],[1,"form-floating"],["id","meterPrice","name","meterPrice","formControlName","meterPrice","placeholder","Meter Price","type","number",1,"form-control",3,"ngClass"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"table","table-inalert-primary","table-hover","table-striped","text-center","table-bordered"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"text-white"],["scope","col"],["scope","col",1,"bg-warning-subtle"],[1,"fa-solid","fa-pen-to-square","text-warning"],["scope","col",1,"bg-danger-subtle"],[1,"fa-solid","fa-trash-can","text-danger"],[1,"btn","btn-warning","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(n,i){n&1&&(m(0,"div",0)(1,"h2",1),y(2,IY,1,0)(3,TY,1,0),p(),y(4,tZ,27,15)(5,nZ,1,0,"app-loading"),p(),m(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5),T(10,"i",6),y(11,iZ,1,0)(12,rZ,1,0),m(13,"b",7),y(14,oZ,1,0)(15,sZ,1,0),p()(),m(16,"div",8)(17,"button",9),y(18,aZ,1,0)(19,lZ,1,0),p(),m(20,"button",10),G("click",function(){return i.deleteGlassItem(i.deletedGlass.id)}),y(21,cZ,1,0)(22,uZ,1,0),p()()()()()),n&2&&(f(2),C(i.isArabic?2:3),f(2),C(i.glassList?4:5),f(7),C(i.isArabic?11:12),f(3),C(i.isArabic?14:15),f(4),C(i.isArabic?18:19),f(3),C(i.isArabic?21:22))},dependencies:[Ke,ze,Oe,rt,Ge,qe,je,Be,ye,xe,Qe],encapsulation:2})};var xN=t=>({"is-invalid":t});function dZ(t,e){t&1&&d(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0641\u0631\u0627\u063A ")}function hZ(t,e){t&1&&d(0," Spacer Settings ")}function fZ(t,e){t&1&&d(0," \u0646\u0648\u0639 \u0627\u0644\u0641\u0631\u0627\u063A ")}function pZ(t,e){t&1&&d(0," Spacer Type ")}function mZ(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function gZ(t,e){t&1&&d(0," Meter Price ")}function _Z(t,e){t&1&&d(0," \u062A\u062D\u062F\u064A\u062B ")}function vZ(t,e){t&1&&d(0," Update ")}function yZ(t,e){if(t&1&&(m(0,"span"),y(1,_Z,1,0)(2,vZ,1,0),T(3,"i",28),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function CZ(t,e){t&1&&d(0," \u0625\u0636\u0627\u0641\u0629 ")}function bZ(t,e){t&1&&d(0," Add ")}function wZ(t,e){if(t&1&&(m(0,"span"),y(1,CZ,1,0)(2,bZ,1,0),T(3,"i",29),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function EZ(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function SZ(t,e){t&1&&d(0," cancel ")}function IZ(t,e){if(t&1){let n=se();m(0,"button",30),G("click",function(){Z(n);let r=E(2);return J(r.cancelEdit())}),m(1,"span"),y(2,EZ,1,0)(3,SZ,1,0),T(4,"i",31),p()()}if(t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function TZ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function xZ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function DZ(t,e){if(t&1&&(m(0,"div",24),T(1,"i",32),y(2,TZ,1,1)(3,xZ,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function AZ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function NZ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function MZ(t,e){if(t&1&&(m(0,"div",25),T(1,"i",33),y(2,AZ,1,1)(3,NZ,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function RZ(t,e){t&1&&d(0," \u0646\u0648\u0639 \u0627\u0644\u0641\u0631\u0627\u063A")}function PZ(t,e){t&1&&d(0," Spacer Type ")}function kZ(t,e){t&1&&d(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function FZ(t,e){t&1&&d(0," Meter Price ")}function OZ(t,e){if(t&1){let n=se();m(0,"tr")(1,"th"),d(2),p(),m(3,"td"),d(4),p(),m(5,"td")(6,"button",40),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.editGlass(r))}),d(7," Update "),p()(),m(8,"td")(9,"button",41),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.getDeletedGlass(r))}),d(10," Delete "),p()()()}if(t&2){let n=e.$implicit;f(2),F(" ",n.glassName," "),f(2),F(" ",n.meterPrice," ")}}function LZ(t,e){if(t&1&&(m(0,"table",26)(1,"thead")(2,"tr",34)(3,"th",35),y(4,RZ,1,0)(5,PZ,1,0),p(),m(6,"th",35),y(7,kZ,1,0)(8,FZ,1,0),p(),m(9,"th",36),T(10,"i",37),p(),m(11,"th",38),T(12,"i",39),p()()(),m(13,"tbody"),Je(14,OZ,11,2,"tr",null,Ze),p()()),t&2){let n=E(2);f(4),C(n.isArabic?4:5),f(3),C(n.isArabic?7:8),f(7),Xe(n.glassList)}}function VZ(t,e){t&1&&d(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0645\u0646 \u0627\u0644\u0641\u0631\u0627\u063A, \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function jZ(t,e){t&1&&d(0," There are no types of Spacer, at least one type must be added ")}function BZ(t,e){if(t&1&&(m(0,"div",27),T(1,"i",33),y(2,VZ,1,0)(3,jZ,1,0),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function HZ(t,e){if(t&1){let n=se();m(0,"form",11),G("ngSubmit",function(){Z(n);let r=E();return J(r.selectedGlass?r.updateGlassItem():r.addGlassItem())}),m(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",15)(5,"div",16),T(6,"input",17),m(7,"label",18),y(8,fZ,1,0)(9,pZ,1,0),p()()(),m(10,"div",15)(11,"div",19),T(12,"input",20),m(13,"label",18),y(14,mZ,1,0)(15,gZ,1,0),p()()(),m(16,"div",21)(17,"div",1)(18,"button",22),y(19,yZ,4,1,"span")(20,wZ,4,1,"span"),p(),y(21,IZ,5,1,"button",23),p()()()()()(),y(22,DZ,4,1,"div",24)(23,MZ,4,1,"div",25),m(24,"div",13),y(25,LZ,16,2,"table",26)(26,BZ,4,1,"div",27),p()}if(t&2){let n,i,r=E();B("formGroup",r.glassForm),f(5),B("dir",r.isArabic?"rtl":"ltr"),f(),B("ngClass",K(11,xN,((n=r.glassForm.get("glassName"))==null?null:n.invalid)&&((n=r.glassForm.get("glassName"))==null?null:n.touched))),f(2),C(r.isArabic?8:9),f(4),B("ngClass",K(13,xN,((i=r.glassForm.get("meterPrice"))==null?null:i.invalid)&&((i=r.glassForm.get("meterPrice"))==null?null:i.touched))),f(2),C(r.isArabic?14:15),f(4),B("disabled",r.glassForm.invalid),f(),C(r.selectedGlass!=null?19:20),f(2),C(r.selectedGlass!=null?21:-1),f(),C((r.showMessage==null?null:r.showMessage.type)==="success"?22:(r.showMessage==null?null:r.showMessage.type)==="error"?23:-1),f(3),C(r.glassList.length>0?25:26)}}function UZ(t,e){t&1&&T(0,"app-loading")}function $Z(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function GZ(t,e){t&1&&d(0," are you sure you want to ")}function qZ(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function zZ(t,e){t&1&&d(0," Delete ? ")}function WZ(t,e){t&1&&d(0," \u0644\u0627 ")}function KZ(t,e){t&1&&d(0," No ")}function QZ(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function YZ(t,e){t&1&&d(0," Yes ")}var up=class t{constructor(e,n,i){this.fb=e;this.dataService=n;this.glassSettingsService=i;this.glassForm=this.fb.group({glassName:["",U.required],meterPrice:[null,[U.required,U.min(1)]]})}path="space-Settings";isArabic=!1;glassForm;glassList;selectedGlass=null;deletedGlass=null;editedGlassId="";showMessage=null;ngOnInit(){this.detectLanguageChange(),this.loadGlassItems()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}loadGlassItems(){this.glassSettingsService.getAllItems(this.path).subscribe(e=>{this.glassList=e?Object.values(e):[]})}addGlassItem(){if(this.glassForm.invalid)return;let e=this.glassForm.value;this.glassSettingsService.addItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item added successfully","\u062A\u0645\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062C\u0627\u062D")})}editGlass(e){this.selectedGlass=e,this.editedGlassId=e.id,this.glassForm.patchValue({glassName:e.glassName,meterPrice:e.meterPrice})}updateGlassItem(){if(this.glassForm.invalid||!this.editedGlassId)return;let e=this.glassForm.value;this.glassSettingsService.updateItem(this.path,this.editedGlassId,e).subscribe(()=>{this.onSuccess("Glass item updated successfully","\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D")})}deleteGlassItem(e){this.glassSettingsService.deleteItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item deleted successfully","\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D")})}cancelEdit(){this.glassForm.reset(),this.selectedGlass=null,this.editedGlassId=""}getDeletedGlass(e){this.deletedGlass=e}onSuccess(e,n){this.showMessage={type:"success",text:e,arText:n},this.loadGlassItems(),this.cancelEdit(),this.clearMessage()}clearMessage(){setTimeout(()=>{this.showMessage=null},2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(oo))};static \u0275cmp=te({type:t,selectors:[["app-space"]],decls:23,vars:6,consts:[[1,"alert","alert-primary","my-3","px-4"],[1,"text-center"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"row","g-3","my-3"],[1,"col-md-5"],[1,"form-floating",3,"dir"],["id","glassName","name","glassName","formControlName","glassName","placeholder","","type","text",1,"form-control",3,"ngClass"],["for","glassName"],[1,"form-floating"],["id","meterPrice","name","meterPrice","formControlName","meterPrice","placeholder","Meter Price","type","number",1,"form-control",3,"ngClass"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"table","table-inalert-primary","table-hover","table-striped","text-center","table-bordered"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"text-white"],["scope","col"],["scope","col",1,"bg-warning-subtle"],[1,"fa-solid","fa-pen-to-square","text-warning"],["scope","col",1,"bg-danger-subtle"],[1,"fa-solid","fa-trash-can","text-danger"],[1,"btn","btn-warning","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(n,i){n&1&&(m(0,"div",0)(1,"h2",1),y(2,dZ,1,0)(3,hZ,1,0),p(),y(4,HZ,27,15)(5,UZ,1,0,"app-loading"),p(),m(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5),T(10,"i",6),y(11,$Z,1,0)(12,GZ,1,0),m(13,"b",7),y(14,qZ,1,0)(15,zZ,1,0),p()(),m(16,"div",8)(17,"button",9),y(18,WZ,1,0)(19,KZ,1,0),p(),m(20,"button",10),G("click",function(){return i.deleteGlassItem(i.deletedGlass.id)}),y(21,QZ,1,0)(22,YZ,1,0),p()()()()()),n&2&&(f(2),C(i.isArabic?2:3),f(2),C(i.glassList?4:5),f(7),C(i.isArabic?11:12),f(3),C(i.isArabic?14:15),f(4),C(i.isArabic?18:19),f(3),C(i.isArabic?21:22))},dependencies:[Ke,ze,Oe,rt,Ge,qe,je,Be,ye,xe,Qe],encapsulation:2})};var DN=t=>({"is-invalid":t});function ZZ(t,e){t&1&&d(0," \u0627\u0644\u0627\u0633\u0645 ")}function JZ(t,e){t&1&&d(0," Name ")}function XZ(t,e){t&1&&d(0," \u0627\u0644\u0633\u0639\u0631 ")}function eJ(t,e){t&1&&d(0," price ")}function tJ(t,e){t&1&&d(0," \u062A\u062D\u062F\u064A\u062B ")}function nJ(t,e){t&1&&d(0," Update ")}function iJ(t,e){if(t&1&&(m(0,"span"),y(1,tJ,1,0)(2,nJ,1,0),T(3,"i",24),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function rJ(t,e){t&1&&d(0," \u0625\u0636\u0627\u0641\u0629 ")}function oJ(t,e){t&1&&d(0," Add ")}function sJ(t,e){if(t&1&&(m(0,"span"),y(1,rJ,1,0)(2,oJ,1,0),T(3,"i",25),p()),t&2){let n=E(2);f(),C(n.isArabic?1:2)}}function aJ(t,e){t&1&&d(0," \u0625\u0644\u063A\u0627\u0621 ")}function lJ(t,e){t&1&&d(0," cancel ")}function cJ(t,e){if(t&1){let n=se();m(0,"button",26),G("click",function(){Z(n);let r=E(2);return J(r.cancelEdit())}),m(1,"span"),y(2,aJ,1,0)(3,lJ,1,0),T(4,"i",27),p()()}if(t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function uJ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function dJ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function hJ(t,e){if(t&1&&(m(0,"div",19),T(1,"i",28),y(2,uJ,1,1)(3,dJ,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function fJ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function pJ(t,e){if(t&1&&d(0),t&2){let n=E(3);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function mJ(t,e){if(t&1&&(m(0,"div",20),T(1,"i",29),y(2,fJ,1,1)(3,pJ,1,1),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function gJ(t,e){t&1&&d(0," \u0627\u0644\u0627\u0633\u0645 ")}function _J(t,e){t&1&&d(0," Name ")}function vJ(t,e){t&1&&d(0," \u0627\u0644\u0633\u0639\u0631 ")}function yJ(t,e){t&1&&d(0," price ")}function CJ(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function bJ(t,e){t&1&&d(0," Update ")}function wJ(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function EJ(t,e){t&1&&d(0," Delete ")}function SJ(t,e){t&1&&d(0," \u062A\u0639\u062F\u064A\u0644 ")}function IJ(t,e){t&1&&d(0," Update ")}function TJ(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function xJ(t,e){t&1&&d(0," Delete ")}function DJ(t,e){if(t&1){let n=se();m(0,"tr")(1,"td"),d(2),p(),m(3,"td"),d(4),p(),m(5,"td"),d(6),p(),m(7,"td")(8,"button",33),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.selectAccessoryForEdit(r))}),y(9,SJ,1,0)(10,IJ,1,0),T(11,"i",24),p()(),m(12,"td")(13,"button",34),G("click",function(){let r=Z(n).$implicit,o=E(3);return J(o.getDeletedAccessory(r))}),y(14,TJ,1,0)(15,xJ,1,0),T(16,"i",35),p()()()}if(t&2){let n=e.$implicit,i=e.$index,r=E(3);f(2),F(" ",i+1," "),f(2),F(" ",n.name," "),f(2),F(" ",n.price," "),f(3),C(r.isArabic?9:10),f(5),C(r.isArabic?14:15)}}function AJ(t,e){if(t&1&&(m(0,"table",22)(1,"thead",30)(2,"tr")(3,"th"),d(4," # "),p(),m(5,"th"),y(6,gJ,1,0)(7,_J,1,0),p(),m(8,"th"),y(9,vJ,1,0)(10,yJ,1,0),p(),m(11,"th",31),y(12,CJ,1,0)(13,bJ,1,0),p(),m(14,"th",32),y(15,wJ,1,0)(16,EJ,1,0),p()()(),m(17,"tbody"),Je(18,DJ,17,5,"tr",null,Ze),p()()),t&2){let n=E(2);f(6),C(n.isArabic?6:7),f(3),C(n.isArabic?9:10),f(3),C(n.isArabic?12:13),f(3),C(n.isArabic?15:16),f(3),Xe(n.accessoriesList)}}function NJ(t,e){t&1&&d(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0645\u0642\u0627\u0628\u0636 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function MJ(t,e){t&1&&d(0," There are no types of Handles , at least one type must be added ")}function RJ(t,e){if(t&1&&(m(0,"div",23),T(1,"i",29),y(2,NJ,1,0)(3,MJ,1,0),p()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function PJ(t,e){if(t&1){let n=se();m(0,"form",9),G("ngSubmit",function(){Z(n);let r=E();return J(r.selectedAccessory?r.updateAccessory():r.addAccessory())}),m(1,"div",10)(2,"div",11)(3,"label",12),y(4,ZZ,1,0)(5,JZ,1,0),p(),T(6,"input",13),p(),m(7,"div",11)(8,"label",14),y(9,XZ,1,0)(10,eJ,1,0),p(),T(11,"input",15),p(),m(12,"div",16)(13,"button",17),y(14,iJ,4,1,"span")(15,sJ,4,1,"span"),p(),y(16,cJ,5,1,"button",18),p()()(),y(17,hJ,4,1,"div",19)(18,mJ,4,1,"div",20),m(19,"div",21),y(20,AJ,20,4,"table",22)(21,RJ,4,1,"div",23),p()}if(t&2){let n,i,r=E();B("formGroup",r.accessoriesForm),f(4),C(r.isArabic?4:5),f(2),B("ngClass",K(10,DN,((n=r.accessoriesForm.get("name"))==null?null:n.invalid)&&((n=r.accessoriesForm.get("name"))==null?null:n.touched))),f(3),C(r.isArabic?9:10),f(2),B("ngClass",K(12,DN,((i=r.accessoriesForm.get("price"))==null?null:i.invalid)&&((i=r.accessoriesForm.get("price"))==null?null:i.touched))),f(2),B("disabled",r.accessoriesForm.invalid),f(),C(r.selectedAccessory!=null?14:15),f(2),C(r.selectedAccessory!=null?16:-1),f(),C((r.showMessage==null?null:r.showMessage.type)==="success"?17:(r.showMessage==null?null:r.showMessage.type)==="error"?18:-1),f(3),C(r.accessoriesList.length>0?20:21)}}function kJ(t,e){t&1&&T(0,"app-loading")}function FJ(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function OJ(t,e){t&1&&d(0," are you sure you want to ")}function LJ(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function VJ(t,e){t&1&&d(0," Delete ? ")}function jJ(t,e){t&1&&d(0," \u0644\u0627 ")}function BJ(t,e){t&1&&d(0," No ")}function HJ(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function UJ(t,e){t&1&&d(0," Yes ")}var dp=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.accessoriesForm=this.fb.group({name:["",U.required],price:[null,[U.required,U.min(.1)]]})}type="handles";isArabic=!1;sectorId="";accessoriesForm;accessoriesList;selectedAccessory=null;editedAccessoryId="";deletedAccessory;showMessage=null;ngOnInit(){this.isArabic=this.dataService.isArabic,this.initializeRouteParams()}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.sectorId=e.sectorId,this.loadAccessories()})}loadAccessories(){this.hingedSettingsSectorService.getAccessoriesBySectorId(this.sectorId,this.type).subscribe(e=>{this.accessoriesList=e},()=>this.displayMessage("Error loading accessories","\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0625\u0643\u0633\u0633\u0648\u0627\u0631\u0627\u062A","error"))}addAccessory(){if(this.accessoriesForm.invalid)return;let e=this.accessoriesForm.value;this.hingedSettingsSectorService.addAccessory(this.sectorId,this.type,e).then(()=>{this.displayMessage("Accessory added successfully","\u062A\u0645\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062C\u0627\u062D","success"),this.loadAccessories(),this.accessoriesForm.reset()})}selectAccessoryForEdit(e){this.selectedAccessory=e,this.editedAccessoryId=e.id,this.accessoriesForm.patchValue(e)}updateAccessory(){if(this.accessoriesForm.invalid||!this.editedAccessoryId)return;let e=this.accessoriesForm.value;this.hingedSettingsSectorService.updateAccessory(this.sectorId,this.type,this.editedAccessoryId,e).then(()=>{this.displayMessage("Accessory updated successfully","\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D","success"),this.loadAccessories(),this.cancelEdit()})}getDeletedAccessory(e){this.deletedAccessory=e}deleteAccessory(){this.hingedSettingsSectorService.deleteAccessory(this.sectorId,this.type,this.deletedAccessory.id).then(()=>{this.displayMessage("Accessory deleted successfully","\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D","success"),this.loadAccessories()})}cancelEdit(){this.accessoriesForm.reset(),this.selectedAccessory=null,this.editedAccessoryId=""}displayMessage(e,n,i){this.showMessage={type:i,text:e,arText:n},setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(ft),j(et))};static \u0275cmp=te({type:t,selectors:[["app-hinged-handles"]],decls:19,vars:5,consts:[["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-4","col-12"],["for","name",1,"form-label"],["formControlName","name","type","text","name","name","id","name","placeholder","Name","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","price","required","",1,"form-control",3,"ngClass"],[1,"col-md-12","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"]],template:function(n,i){n&1&&(y(0,PJ,22,14)(1,kJ,1,0,"app-loading"),m(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3),T(6,"i",4),y(7,FJ,1,0)(8,OJ,1,0),m(9,"b",5),y(10,LJ,1,0)(11,VJ,1,0),p()(),m(12,"div",6)(13,"button",7),y(14,jJ,1,0)(15,BJ,1,0),p(),m(16,"button",8),G("click",function(){return i.deleteAccessory()}),y(17,HJ,1,0)(18,UJ,1,0),p()()()()()),n&2&&(C(i.accessoriesList?0:1),f(7),C(i.isArabic?7:8),f(3),C(i.isArabic?10:11),f(4),C(i.isArabic?14:15),f(3),C(i.isArabic?17:18))},dependencies:[Ke,ze,Oe,rt,Ge,qe,$t,je,Be,ye,xe,Qe],encapsulation:2})};var $J=t=>["/project",t];function GJ(t,e){t&1&&d(0," \u0639\u062F\u062F \u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639 : ")}function qJ(t,e){t&1&&d(0," number of projects : ")}function zJ(t,e){t&1&&d(0," \u0627\u0644\u0628\u062D\u062B \u062D\u0633\u0628 \u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639\u060C \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644\u060C \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 ")}function WJ(t,e){t&1&&d(0," Search by project name, client name, or phone number ")}function KJ(t,e){t&1&&d(0," \u0639\u062F\u062F \u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639 \u062D\u0633\u0628 \u0627\u0644\u0628\u062D\u062B : ")}function QJ(t,e){t&1&&d(0," Number of projects according to search : ")}function YJ(t,e){t&1&&d(0," \u0627\u0644\u062A\u0627\u0631\u064A\u062E ")}function ZJ(t,e){t&1&&d(0," Date ")}function JJ(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 ")}function XJ(t,e){t&1&&d(0," Client Name ")}function eX(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 ")}function tX(t,e){t&1&&d(0," Project Name ")}function nX(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 ")}function iX(t,e){t&1&&d(0," Phone Number ")}function rX(t,e){t&1&&d(0," \u062E\u0635\u0627\u0626\u0635 ")}function oX(t,e){t&1&&d(0," Features ")}function sX(t,e){t&1&&d(0," \u062D\u0630\u0641 ")}function aX(t,e){t&1&&d(0," Delete ")}function lX(t,e){t&1&&d(0," \u0641\u062A\u062D ")}function cX(t,e){t&1&&d(0," open ")}function uX(t,e){if(t&1){let n=se();m(0,"tr")(1,"th",23),d(2),p(),m(3,"td",18),d(4),p(),m(5,"td"),d(6),p(),m(7,"td"),d(8),p(),m(9,"td"),d(10),p(),m(11,"td")(12,"button",25),G("click",function(){let r=Z(n).$implicit,o=E(4);return J(o.getDeletedProjectId(r.id))}),y(13,sX,1,0)(14,aX,1,0),T(15,"i",26),p(),m(16,"button",27),y(17,lX,1,0)(18,cX,1,0),T(19,"i",28),p()()()}if(t&2){let n=e.$implicit,i=e.$index,r=E(4);f(2),F(" ",i+1," "),f(2),Js(n.date),f(2),Js(n.clientName),f(2),Js(n.projectName),f(2),Js(n.phoneNumber),f(3),C(r.isArabic?13:14),f(3),B("routerLink",K(8,$J,n.id)),f(),C(r.isArabic?17:18)}}function dX(t,e){if(t&1&&(m(0,"div",19)(1,"table",21)(2,"thead",22)(3,"tr")(4,"th",23),d(5," # "),p(),m(6,"th",24),y(7,YJ,1,0)(8,ZJ,1,0),p(),m(9,"th",24),y(10,JJ,1,0)(11,XJ,1,0),p(),m(12,"th",24),y(13,eX,1,0)(14,tX,1,0),p(),m(15,"th",24),y(16,nX,1,0)(17,iX,1,0),p(),m(18,"th",24),y(19,rX,1,0)(20,oX,1,0),p()()(),m(21,"tbody"),Je(22,uX,20,10,"tr",null,Ze),p()()()),t&2){let n=E(3);f(7),C(n.isArabic?7:8),f(3),C(n.isArabic?10:11),f(3),C(n.isArabic?13:14),f(3),C(n.isArabic?16:17),f(3),C(n.isArabic?19:20),f(3),Xe(n.filteredProjects)}}function hX(t,e){t&1&&d(0," \u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u062A\u0627\u0626\u062C \u0644\u0628\u062D\u062B\u0643 ")}function fX(t,e){t&1&&d(0," There are no results for your search ")}function pX(t,e){if(t&1&&(m(0,"div",20)(1,"h5",11),y(2,hX,1,0)(3,fX,1,0),p()()),t&2){let n=E(3);f(2),C(n.isArabic?2:3)}}function mX(t,e){if(t&1){let n=se();m(0,"div",13)(1,"div",14)(2,"label",15),y(3,zJ,1,0)(4,WJ,1,0),p(),m(5,"input",16,0),G("keyup",function(){Z(n);let r=Zs(6),o=E(2);return J(o.filterProjectsBySearch(r.value))}),p()(),m(7,"div",14)(8,"span",17),y(9,KJ,1,0)(10,QJ,1,0),m(11,"b",18),d(12),p()()()(),y(13,dX,24,5,"div",19)(14,pX,4,1,"div",20)}if(t&2){let n=E(2);f(3),C(n.isArabic?3:4),f(6),C(n.isArabic?9:10),f(3),F(" ",n.filteredProjects.length," "),f(),C(n.filteredProjects.length>0?13:14)}}function gX(t,e){t&1&&d(0," \u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0634\u0627\u0631\u064A\u0639 \u062D\u062A\u0649 \u0627\u0644\u0622\u0646 ")}function _X(t,e){t&1&&d(0," There are no projects yet ")}function vX(t,e){if(t&1&&(m(0,"div",12)(1,"h5",11),y(2,gX,1,0)(3,_X,1,0),p()()),t&2){let n=E(2);f(2),C(n.isArabic?2:3)}}function yX(t,e){if(t&1&&(m(0,"h5",11),y(1,GJ,1,0)(2,qJ,1,0),d(3),p(),y(4,mX,15,4)(5,vX,4,1,"div",12)),t&2){let n=E();f(),C(n.isArabic?1:2),f(2),F(" ( ",n.projects.length," ) "),f(),C(n.projects.length>0?4:5)}}function CX(t,e){t&1&&T(0,"app-loading")}function bX(t,e){t&1&&d(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function wX(t,e){t&1&&d(0," are you sure you want to ")}function EX(t,e){t&1&&d(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function SX(t,e){t&1&&d(0," Delete ? ")}function IX(t,e){t&1&&d(0," \u0644\u0627 ")}function TX(t,e){t&1&&d(0," No ")}function xX(t,e){t&1&&d(0," \u0646\u0639\u0645 ")}function DX(t,e){t&1&&d(0," Yes ")}var hp=class t{constructor(e,n,i){this.projectsService=e;this.dataService=n;this.router=i}isArabic=!1;projects;filteredProjects;deletedProjectId="";ngOnInit(){this.detectLanguageChange(),this.fetchProjects()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}fetchProjects(){this.projectsService.getAllProjects().subscribe(e=>{this.projects=e,this.filteredProjects=e})}filterProjectsBySearch(e){this.filteredProjects=this.projects.filter(n=>n.clientName.toLowerCase().includes(e)||n.phoneNumber.toString().includes(e)||n.projectName.toLowerCase().includes(e))}getDeletedProjectId(e){this.deletedProjectId=e}deleteProject(){this.projectsService.deleteProject(this.deletedProjectId).subscribe(()=>{this.deletedProjectId="",this.fetchProjects()})}static \u0275fac=function(n){return new(n||t)(j(ro),j(de),j(Xt))};static \u0275cmp=te({type:t,selectors:[["app-projects"]],decls:20,vars:5,consts:[["searchValue",""],[1,"alert","alert-primary","min-vh-100","m-2"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"text-center","fst-italic"],[1,"alert","alert-danger","py-1","mt-1"],[1,"row","g-2","my-3"],[1,"col-md-6"],["for","filterProjects",1,"form-label"],["type","search","name","filterProjects","id","filterProjects",1,"form-control",3,"keyup"],[1,"small","fst-italic","mx-2"],[1,"text-primary"],[1,"overflow-x-auto"],[1,"alert","alert-warning","py-1","mt-1"],[1,"table","table-bordered","text-center","table-hover","table-primary"],[1,"table-primary"],[1,"text-muted"],["scope","col"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"btn","btn-primary","btn-sm","m-1",3,"routerLink"],[1,"fa-solid","fa-folder-open"]],template:function(n,i){n&1&&(m(0,"div",1),y(1,yX,6,3)(2,CX,1,0,"app-loading"),p(),m(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),T(7,"i",6),y(8,bX,1,0)(9,wX,1,0),m(10,"b",7),y(11,EX,1,0)(12,SX,1,0),p()(),m(13,"div",8)(14,"button",9),y(15,IX,1,0)(16,TX,1,0),p(),m(17,"button",10),G("click",function(){return i.deleteProject()}),y(18,xX,1,0)(19,DX,1,0),p()()()()()),n&2&&(f(),C(i.filteredProjects?1:2),f(7),C(i.isArabic?8:9),f(3),C(i.isArabic?11:12),f(4),C(i.isArabic?15:16),f(3),C(i.isArabic?18:19))},dependencies:[kt,Qe],encapsulation:2})};var AX=(t,e)=>({"end-0":t,"start-0":e});function NX(t,e){t&1&&d(0," \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0634\u0631\u0648\u0639 ")}function MX(t,e){t&1&&d(0," project information ")}var fp=class t{constructor(e,n){this.dataService=e;this.router=n}isArabic=!1;ngOnInit(){this.detectLanguageChange()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}navigateToSection(e){let n=e;n&&this.router.navigate([`project/${n}`])}onActivate(){window.scroll(0,0)}static \u0275fac=function(n){return new(n||t)(j(de),j(Xt))};static \u0275cmp=te({type:t,selectors:[["app-project"]],decls:11,vars:5,consts:[[1,"position-relative"],[1,"row","g-2"],[1,"col-lg-2"],[1,"sectorsTitles","d-none","d-lg-block","position-fixed","top-0","vh-100",3,"ngClass"],["routerLink","generalInfo","routerLinkActive","routerLinkActive"],[1,"fa-solid","fa-circle-info"],[1,"col-lg-10"],[1,"p-1","py-lg-3"],[3,"activate"]],template:function(n,i){n&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),T(5,"i",5),y(6,NX,1,0)(7,MX,1,0),p()()(),m(8,"div",6)(9,"div",7)(10,"router-outlet",8),G("activate",function(){return i.onActivate()}),p()()()()()),n&2&&(f(3),B("ngClass",Si(2,AX,i.isArabic,!i.isArabic)),f(3),C(i.isArabic?6:7))},dependencies:[kt,bn,ye,xe,fn],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}.sectorsTitles[_ngcontent-%COMP%]{background-color:#e2e3e5;padding:5rem .2rem;width:16.6%}.sectorsTitles[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}.sectorsTitles[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}.sectorsTitles[_ngcontent-%COMP%]   a.routerLinkActive[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}.sectorsTitles[_ngcontent-%COMP%]   a.routerLinkActive[_ngcontent-%COMP%]:before{content:"";display:inline-block;margin:2px 8px 2px 2px;width:8px;height:8px;background-color:#37ff00;border-radius:50%;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}@media (max-width: 991.98px){.sectorsTitles[_ngcontent-%COMP%]{position:static;height:auto;padding-top:1rem}}']})};var Xc=t=>({"is-invalid":t}),RX=(t,e)=>({"float-start":t,"float-end":e});function PX(t,e){t&1&&d(0," \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0634\u0631\u0648\u0639 ")}function kX(t,e){t&1&&d(0," Project Information ")}function FX(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 ")}function OX(t,e){t&1&&d(0," Project Number ")}function LX(t,e){t&1&&d(0," \u0627\u0644\u062A\u0627\u0631\u064A\u062E ")}function VX(t,e){t&1&&d(0," Date ")}function jX(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 ")}function BX(t,e){t&1&&d(0," client Name ")}function HX(t,e){t&1&&d(0," \u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 ")}function UX(t,e){t&1&&d(0," Project Name ")}function $X(t,e){t&1&&d(0," \u0631\u0642\u0645 \u0627\u0644\u062A\u0644\u064A\u0641\u0648\u0646 ")}function GX(t,e){t&1&&d(0," phone Number ")}function qX(t,e){t&1&&(T(0,"span",21),m(1,"span",22),d(2,"Loading..."),p())}function zX(t,e){t&1&&d(0," \u062D\u0641\u0638 ")}function WX(t,e){t&1&&d(0," save ")}function KX(t,e){if(t&1&&(T(0,"i",23),y(1,zX,1,0)(2,WX,1,0)),t&2){let n=E();f(),C(n.isArabic?1:2)}}function QX(t,e){if(t&1&&d(0),t&2){let n=E(2);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function YX(t,e){if(t&1&&d(0),t&2){let n=E(2);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function ZX(t,e){if(t&1&&(m(0,"div",19),T(1,"i",24),y(2,QX,1,1)(3,YX,1,1),p()),t&2){let n=E();f(2),C(n.isArabic?2:3)}}function JX(t,e){if(t&1&&d(0),t&2){let n=E(2);F(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function XX(t,e){if(t&1&&d(0),t&2){let n=E(2);F(" ",n.showMessage==null?null:n.showMessage.text," ")}}function eee(t,e){if(t&1&&(m(0,"div",20),T(1,"i",25),y(2,JX,1,1)(3,XX,1,1),p()),t&2){let n=E();f(2),C(n.isArabic?2:3)}}var pp=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.projectsService=i;this.activatedRoute=r;this.generalInfoForm=this.fb.group({projectNumber:[{value:"",disabled:!0}],date:[{value:"",disabled:!0}],clientName:["",U.required],projectName:["",U.required],phoneNumber:["",U.required]})}isArabic=!1;projectId="";generalInfoForm;showMessage=null;isLoading=!1;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{e.projectId&&(this.projectId=e.projectId,this.loadProjectData(this.projectId))})}loadProjectData(e){this.projectsService.getProjectById(e).subscribe(n=>{n&&this.generalInfoForm.patchValue({projectNumber:n.projectNumber,date:n.date,clientName:n.clientName,projectName:n.projectName,phoneNumber:n.phoneNumber})},n=>{console.error("Error fetching project data:",n)})}onUpdate(){if(this.isLoading=!0,this.generalInfoForm.valid){let e=this.generalInfoForm.getRawValue();this.projectsService.updateProject(this.projectId,e).subscribe(()=>{this.isLoading=!1,this.displayMessage("Project Info saved successfully!","\u062A\u0645 \u0627\u0644\u062D\u0641\u0638 \u0628\u0646\u062C\u0627\u062D!","success")})}}displayMessage(e,n,i){this.showMessage={type:i,text:e,arText:n},setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(j(We),j(de),j(ro),j(et))};static \u0275cmp=te({type:t,selectors:[["app-general-info"]],decls:39,vars:29,consts:[[1,"container"],[1,"text-center","alert","alert-secondary"],[1,"alert","alert-secondary"],[3,"ngSubmit","formGroup"],[1,"row","g-2"],[1,"col-md-6"],["for","projectNumber",1,"form-label"],["type","number","id","projectNumber","formControlName","projectNumber",1,"form-control","text-center",3,"ngClass"],["for","date",1,"form-label"],["type","date","id","date","formControlName","date",1,"form-control",3,"ngClass"],[1,"col-md-12"],["for","clientName",1,"form-label"],["type","text","id","clientName","formControlName","clientName",1,"form-control",3,"ngClass"],["for","projectName",1,"form-label"],["type","text","id","projectName","formControlName","projectName",1,"form-control",3,"ngClass"],["for","phoneNumber",1,"form-label"],["type","number","id","phoneNumber","formControlName","phoneNumber",1,"form-control",3,"ngClass"],[1,"col-12"],["type","submit",1,"btn","btn-primary","mt-2",3,"ngClass","disabled"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"],[1,"visually-hidden"],[1,"fa-solid","fa-floppy-disk"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"]],template:function(n,i){if(n&1&&(m(0,"div",0)(1,"div",1)(2,"h4"),y(3,PX,1,0)(4,kX,1,0),p()(),m(5,"div",2)(6,"form",3),G("ngSubmit",function(){return i.onUpdate()}),m(7,"div",4)(8,"div",5)(9,"label",6),y(10,FX,1,0)(11,OX,1,0),p(),T(12,"input",7),p(),m(13,"div",5)(14,"label",8),y(15,LX,1,0)(16,VX,1,0),p(),T(17,"input",9),p(),m(18,"div",10)(19,"label",11),y(20,jX,1,0)(21,BX,1,0),p(),T(22,"input",12),p(),m(23,"div",10)(24,"label",13),y(25,HX,1,0)(26,UX,1,0),p(),T(27,"input",14),p(),m(28,"div",10)(29,"label",15),y(30,$X,1,0)(31,GX,1,0),p(),T(32,"input",16),p(),m(33,"div",17)(34,"button",18),y(35,qX,3,0)(36,KX,3,1),p()()()()(),y(37,ZX,4,1,"div",19)(38,eee,4,1,"div",20),p()),n&2){let r,o,s,a,l;f(3),C(i.isArabic?3:4),f(3),B("formGroup",i.generalInfoForm),f(4),C(i.isArabic?10:11),f(2),B("ngClass",K(16,Xc,((r=i.generalInfoForm.get("projectNumber"))==null?null:r.invalid)&&((r=i.generalInfoForm.get("projectNumber"))==null?null:r.touched))),f(3),C(i.isArabic?15:16),f(2),B("ngClass",K(18,Xc,((o=i.generalInfoForm.get("date"))==null?null:o.invalid)&&((o=i.generalInfoForm.get("date"))==null?null:o.touched))),f(3),C(i.isArabic?20:21),f(2),B("ngClass",K(20,Xc,((s=i.generalInfoForm.get("clientName"))==null?null:s.invalid)&&((s=i.generalInfoForm.get("clientName"))==null?null:s.touched))),f(3),C(i.isArabic?25:26),f(2),B("ngClass",K(22,Xc,((a=i.generalInfoForm.get("projectName"))==null?null:a.invalid)&&((a=i.generalInfoForm.get("projectName"))==null?null:a.touched))),f(3),C(i.isArabic?30:31),f(2),B("ngClass",K(24,Xc,((l=i.generalInfoForm.get("phoneNumber"))==null?null:l.invalid)&&((l=i.generalInfoForm.get("phoneNumber"))==null?null:l.touched))),f(2),B("ngClass",Si(26,RX,i.isArabic,!i.isArabic))("disabled",i.generalInfoForm.invalid||i.isLoading),f(),C(i.isLoading?35:36),f(2),C((i.showMessage==null?null:i.showMessage.type)==="success"?37:(i.showMessage==null?null:i.showMessage.type)==="error"?38:-1)}},dependencies:[Ke,ze,Oe,rt,Ge,qe,je,Be,ye,xe],encapsulation:2})};var mp=[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",title:"main page",component:zf},{path:"projects",title:"projects",component:hp},{path:"project/:projectId",title:"project",component:fp,children:[{path:"",redirectTo:"generalInfo",pathMatch:"full"},{path:"generalInfo",title:"project general information",component:pp}]},{path:"sectorsSettings",title:"sectors settings",component:Wf,children:[{path:"",redirectTo:"hingedSettings",pathMatch:"full"},{path:"hingedSettings",title:"Hinged Settings",component:Pa,children:[{path:"hingedSectors/:sectorId",title:"hinged sectors",component:Yf,children:[{path:"",redirectTo:"hingedFrames",pathMatch:"full"},{path:"hingedFrames",title:"hinged sectors frames",component:tp},{path:"hingedBars",title:"hinged sectors Bars",component:np},{path:"hingedSashes",title:"hinged sectors Sashes",component:ip},{path:"hingedBarCloses",title:"hinged sectors Sashes",component:rp},{path:"hingedTProfiles",title:"hinged sectors Sashes",component:op},{path:"hingedWireSashes",title:"hinged sectors Sashes",component:sp}]},{path:"hingedSpecialties/:sectorId",title:"hinged sectors",component:Zf},{path:"hingedAccessories/:sectorId",title:"hinged sectors",component:Jf,children:[{path:"",redirectTo:"handles",pathMatch:"full"},{path:"handles",title:"hinged Accessories handles",component:dp}]},{path:"hingedInstructions/:sectorId",title:"hinged sectors",component:Xf},{path:"hingedFeatures/:sectorId",title:"hinged sectors",component:ep}]},{path:"slidingSettings",title:"Sliding Settings",component:Kf},{path:"glassSettings",title:"Glass Settings",component:Qf,children:[{path:"",redirectTo:"glass",pathMatch:"full"},{path:"glass",title:"glass",component:lp},{path:"georgia",title:"georgia",component:cp},{path:"space",title:"space",component:up}]},{path:"curtainWallSettings",title:"Curtain Wall Settings",component:ap}]}];var AN={providers:[ZI({eventCoalescing:!0}),Nf(mp,UA())]};var De=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(De||{}),Ai="*";function NN(t,e=null){return{type:De.Sequence,steps:t,options:e}}function LC(t){return{type:De.Style,styles:t,offset:null}}var so=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,n=0){this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},eu=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},gp="!";function MN(t){return new z(3e3,!1)}function tee(){return new z(3100,!1)}function nee(){return new z(3101,!1)}function iee(t){return new z(3001,!1)}function ree(t){return new z(3003,!1)}function oee(t){return new z(3004,!1)}function see(t,e){return new z(3005,!1)}function aee(){return new z(3006,!1)}function lee(){return new z(3007,!1)}function cee(t,e){return new z(3008,!1)}function uee(t){return new z(3002,!1)}function dee(t,e,n,i,r){return new z(3010,!1)}function hee(){return new z(3011,!1)}function fee(){return new z(3012,!1)}function pee(){return new z(3200,!1)}function mee(){return new z(3202,!1)}function gee(){return new z(3013,!1)}function _ee(t){return new z(3014,!1)}function vee(t){return new z(3015,!1)}function yee(t){return new z(3016,!1)}function Cee(t,e){return new z(3404,!1)}function bee(t){return new z(3502,!1)}function wee(t){return new z(3503,!1)}function Eee(){return new z(3300,!1)}function See(t){return new z(3504,!1)}function Iee(t){return new z(3301,!1)}function Tee(t,e){return new z(3302,!1)}function xee(t){return new z(3303,!1)}function Dee(t,e){return new z(3400,!1)}function Aee(t){return new z(3401,!1)}function Nee(t){return new z(3402,!1)}function Mee(t,e){return new z(3505,!1)}function ao(t){switch(t.length){case 0:return new so;case 1:return t[0];default:return new eu(t)}}function qN(t,e,n=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),g=u==s,v=g&&a||new Map;l.forEach((w,S)=>{let x=S,L=w;if(S!=="offset")switch(x=t.normalizePropertyName(x,r),L){case gp:L=n.get(S);break;case Ai:L=i.get(S);break;default:L=t.normalizeStyleValue(S,x,L,r);break}v.set(x,L)}),g||o.push(v),a=v,s=u}),r.length)throw bee(r);return o}function ob(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&VC(n,"start",t)));break;case"done":t.onDone(()=>i(n&&VC(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&VC(n,"destroy",t)));break}}function VC(t,e,n){let i=n.totalTime,r=!!n.disabled,o=sb(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function sb(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Rn(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function RN(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var Ree=typeof document>"u"?null:document.documentElement;function ab(t){let e=t.parentNode||t.host||null;return e===Ree?null:e}function Pee(t){return t.substring(1,6)=="ebkit"}var os=null,PN=!1;function kee(t){os||(os=Fee()||{},PN=os.style?"WebkitAppearance"in os.style:!1);let e=!0;return os.style&&!Pee(t)&&(e=t in os.style,!e&&PN&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in os.style)),e}function Fee(){return typeof document<"u"?document.body:null}function zN(t,e){for(;e;){if(e===t)return!0;e=ab(e)}return!1}function WN(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var lb=(()=>{class t{validateStyleProperty(n){return kee(n)}containsElement(n,i){return zN(n,i)}getParentElement(n){return ab(n)}query(n,i,r){return WN(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,o,s,a=[],l){return new so(r,o)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),ls=class{static NOOP=new lb},cs=class{};var Oee=1e3,KN="{{",Lee="}}",QN="ng-enter",GC="ng-leave",_p="ng-trigger",wp=".ng-trigger",kN="ng-animating",qC=".ng-animating";function pr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:zC(parseFloat(e[1]),e[2])}function zC(t,e){switch(e){case"s":return t*Oee;default:return t}}function Ep(t,e,n){return t.hasOwnProperty("duration")?t:Vee(t,e,n)}function Vee(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(i);if(a===null)return e.push(MN(t)),{duration:0,delay:0,easing:""};r=zC(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=zC(parseFloat(l),a[4]));let u=a[5];u&&(s=u)}else r=t;if(!n){let a=!1,l=e.length;r<0&&(e.push(tee()),a=!0),o<0&&(e.push(nee()),a=!0),a&&e.splice(l,0,MN(t))}return{duration:r,delay:o,easing:s}}function jee(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ni(t,e,n){e.forEach((i,r)=>{let o=cb(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function as(t,e){e.forEach((n,i)=>{let r=cb(i);t.style[r]=""})}function tu(t){return Array.isArray(t)?t.length==1?t[0]:NN(t):t}function Bee(t,e,n){let i=e.params||{},r=YN(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(iee(o))})}var WC=new RegExp(`${KN}\\s*(.+?)\\s*${Lee}`,"g");function YN(t){let e=[];if(typeof t=="string"){let n;for(;n=WC.exec(t);)e.push(n[1]);WC.lastIndex=0}return e}function iu(t,e,n){let i=`${t}`,r=i.replace(WC,(o,s)=>{let a=e[s];return a==null&&(n.push(ree(s)),a=""),a.toString()});return r==i?t:r}var Hee=/-+([a-z0-9])/g;function cb(t){return t.replace(Hee,(...e)=>e[1].toUpperCase())}function Uee(t,e){return t===0||e===0}function $ee(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,ub(t,a)))}}return e}function Mn(t,e,n){switch(e.type){case De.Trigger:return t.visitTrigger(e,n);case De.State:return t.visitState(e,n);case De.Transition:return t.visitTransition(e,n);case De.Sequence:return t.visitSequence(e,n);case De.Group:return t.visitGroup(e,n);case De.Animate:return t.visitAnimate(e,n);case De.Keyframes:return t.visitKeyframes(e,n);case De.Style:return t.visitStyle(e,n);case De.Reference:return t.visitReference(e,n);case De.AnimateChild:return t.visitAnimateChild(e,n);case De.AnimateRef:return t.visitAnimateRef(e,n);case De.Query:return t.visitQuery(e,n);case De.Stagger:return t.visitStagger(e,n);default:throw oee(e.type)}}function ub(t,e){return window.getComputedStyle(t)[e]}var Gee=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Sp=class extends cs{normalizePropertyName(e,n){return cb(e)}normalizeStyleValue(e,n,i,r){let o="",s=i.toString().trim();if(Gee.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(see(e,i))}return s+o}};var Ip="*";function qee(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>zee(i,n,e)):n.push(t),n}function zee(t,e,n){if(t[0]==":"){let l=Wee(t,n);if(typeof l=="function"){e.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(vee(t)),e;let r=i[1],o=i[2],s=i[3];e.push(FN(r,s));let a=r==Ip&&s==Ip;o[0]=="<"&&!a&&e.push(FN(s,r))}function Wee(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(yee(t)),"* => *"}}var vp=new Set(["true","1"]),yp=new Set(["false","0"]);function FN(t,e){let n=vp.has(t)||yp.has(t),i=vp.has(e)||yp.has(e);return(r,o)=>{let s=t==Ip||t==r,a=e==Ip||e==o;return!s&&n&&typeof r=="boolean"&&(s=r?vp.has(t):yp.has(t)),!a&&i&&typeof o=="boolean"&&(a=o?vp.has(e):yp.has(e)),s&&a}}var ZN=":self",Kee=new RegExp(`s*${ZN}s*,?`,"g");function JN(t,e,n,i){return new KC(t).build(e,n,i)}var ON="",KC=class{_driver;constructor(e){this._driver=e}build(e,n,i){let r=new QC(n);return this._resetContextStyleTimingState(r),Mn(this,tu(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=ON,e.collectedStyles=new Map,e.collectedStyles.set(ON,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(aee()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==De.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(g=>{l.name=g,o.push(this.visitState(l,n))}),l.name=u}else if(a.type==De.Transition){let l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,s.push(l)}else n.errors.push(lee())}),{type:De.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{YN(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&n.errors.push(cee(e.name,[...o.values()]))}return{type:De.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Mn(this,tu(e.animation),n),r=qee(e.expr,n.errors);return{type:De.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:ss(e.options)}}visitSequence(e,n){return{type:De.Sequence,steps:e.steps.map(i=>Mn(this,i,n)),options:ss(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(s=>{n.currentTime=i;let a=Mn(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:De.Group,steps:o,options:ss(e.options)}}visitAnimate(e,n){let i=Jee(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:LC({});if(o.type==De.Keyframes)r=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};i.easing&&(u.easing=i.easing),s=LC(u)}n.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:De.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Ai?i.push(a):n.errors.push(uee(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(KN)>=0){o=!0;break}}}),{type:De.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=n.collectedStyles.get(n.currentQuerySelector),g=u.get(l),v=!0;g&&(o!=r&&o>=g.startTime&&r<=g.endTime&&(n.errors.push(dee(l,g.startTime,g.endTime,o,r)),v=!1),o=g.startTime),v&&u.set(l,{startTime:o,endTime:r}),n.options&&Bee(a,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:De.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(hee()),i;let r=1,o=0,s=[],a=!1,l=!1,u=0,g=e.steps.map(Q=>{let ie=this._makeStyleAst(Q,n),ae=ie.offset!=null?ie.offset:Zee(ie.styles),ge=0;return ae!=null&&(o++,ge=ie.offset=ae),l=l||ge<0||ge>1,a=a||ge<u,u=ge,s.push(ge),ie});l&&n.errors.push(fee()),a&&n.errors.push(pee());let v=e.steps.length,w=0;o>0&&o<v?n.errors.push(mee()):o==0&&(w=r/(v-1));let S=v-1,x=n.currentTime,L=n.currentAnimateTimings,$=L.duration;return g.forEach((Q,ie)=>{let ae=w>0?ie==S?1:w*ie:s[ie],ge=ae*$;n.currentTime=x+L.delay+ge,L.duration=ge,this._validateStyleAst(Q,n),Q.offset=ae,i.styles.push(Q)}),i}visitReference(e,n){return{type:De.Reference,animation:Mn(this,tu(e.animation),n),options:ss(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:De.AnimateChild,options:ss(e.options)}}visitAnimateRef(e,n){return{type:De.AnimateRef,animation:this.visitReference(e.animation,n),options:ss(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=Qee(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Rn(n.collectedStyles,n.currentQuerySelector,new Map);let a=Mn(this,tu(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:De.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ss(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(gee());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ep(e.timings,n.errors,!0);return{type:De.Stagger,animation:Mn(this,tu(e.animation),n),timings:i,options:null}}};function Qee(t){let e=!!t.split(/\s*,\s*/).find(n=>n==ZN);return e&&(t=t.replace(Kee,"")),t=t.replace(/@\*/g,wp).replace(/@\w+/g,n=>wp+"-"+n.slice(1)).replace(/:animating/g,qC),[t,e]}function Yee(t){return t?H({},t):null}var QC=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Zee(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Jee(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=Ep(t,e).duration;return jC(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=jC(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=Ep(n,e);return jC(r.duration,r.delay,r.easing)}function ss(t){return t?(t=H({},t),t.params&&(t.params=Yee(t.params))):t={},t}function jC(t,e,n){return{duration:t,delay:e,easing:n}}function db(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var ru=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Xee=1,ete=":enter",tte=new RegExp(ete,"g"),nte=":leave",ite=new RegExp(nte,"g");function XN(t,e,n,i,r,o=new Map,s=new Map,a,l,u=[]){return new YC().buildKeyframes(t,e,n,i,r,o,s,a,l,u)}var YC=class{buildKeyframes(e,n,i,r,o,s,a,l,u,g=[]){u=u||new ru;let v=new ZC(e,n,u,r,o,g,[]);v.options=l;let w=l.delay?pr(l.delay):0;v.currentTimeline.delayNextStep(w),v.currentTimeline.setStyles([s],null,v.errors,l),Mn(this,i,v);let S=v.timelines.filter(x=>x.containsAnimation());if(S.length&&a.size){let x;for(let L=S.length-1;L>=0;L--){let $=S[L];if($.element===n){x=$;break}}x&&!x.allowOnlyTimelineStyles()&&x.setStyles([a],null,v.errors,l)}return S.length?S.map(x=>x.buildKeyframes()):[db(n,[],[],[],0,w,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:pr(iu(o,r?.params??{},n.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,s=i.duration!=null?pr(i.duration):null,a=i.delay!=null?pr(i.delay):null;return s!==0&&e.forEach(l=>{let u=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Mn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==De.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Tp);let s=pr(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Mn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?pr(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),Mn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?iu(i,n.params,n.errors):i;return Ep(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==De.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?pr(r.delay):0;o&&(n.previousNode.type===De.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Tp);let s=i,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((u,g)=>{n.currentQueryIndex=g;let v=n.createSubContext(e.options,u);o&&v.delayNextStep(o),u===n.element&&(l=v.currentTimeline),Mn(this,e.animation,v),v.currentTimeline.applyStylesToKeyframe();let w=v.currentTimeline.currentTime;s=Math.max(s,w)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let g=n.currentTimeline;l&&g.delayNextStep(l);let v=g.currentTime;Mn(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}},Tp={},ZC=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Tp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,n,i,r,o,s,a,l){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new xp(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=pr(i.duration)),i.delay!=null&&(r.delay=pr(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=iu(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Tp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new JC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(tte,"."+this._enterClassName),e=e.replace(ite,"."+this._leaveClassName);let l=i!=1,u=this._driver.query(this.element,e,l);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&a.length==0&&s.push(_ee(n)),a}},xp=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Xee,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Ai),this._currentKeyframe.set(n,Ai);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},s=rte(e,this._globalTimelineStyles);for(let[a,l]of s){let u=iu(l,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ai),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((g,v)=>{g===gp?e.add(v):g===Ai&&n.add(v)}),i||u.set("offset",l/this.duration),r.push(u)});let o=[...e.values()],s=[...n.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return db(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},JC=class extends xp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,n,i,r,o,s,a=!1){super(e,n,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=i+n,a=n/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let u=new Map(e[0]);u.set("offset",LN(a)),o.push(u);let g=e.length-1;for(let v=1;v<=g;v++){let w=new Map(e[v]),S=w.get("offset"),x=n+S*i;w.set("offset",LN(x/s)),o.push(w)}i=s,n=0,r="",e=o}return db(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function LN(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function rte(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,Ai)}else for(let[o,s]of r)n.set(o,s)}),n}function VN(t,e,n,i,r,o,s,a,l,u,g,v,w){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:g,totalTime:v,errors:w}}var BC={},Dp=class{_triggerName;ast;_stateStyles;constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return ote(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,s,a,l,u,g){let v=[],w=this.ast.options&&this.ast.options.params||BC,S=a&&a.params||BC,x=this.buildStyles(i,S,v),L=l&&l.params||BC,$=this.buildStyles(r,L,v),Q=new Set,ie=new Map,ae=new Map,ge=r==="void",wt={params:eM(L,w),delay:this.ast.options?.delay},Ee=g?[]:XN(e,n,this.ast.animation,o,s,x,$,wt,u,v),N=0;return Ee.forEach(I=>{N=Math.max(I.duration+I.delay,N)}),v.length?VN(n,this._triggerName,i,r,ge,x,$,[],[],ie,ae,N,v):(Ee.forEach(I=>{let D=I.element,M=Rn(ie,D,new Set);I.preStyleProps.forEach(k=>M.add(k));let R=Rn(ae,D,new Set);I.postStyleProps.forEach(k=>R.add(k)),D!==n&&Q.add(D)}),VN(n,this._triggerName,i,r,ge,x,$,Ee,[...Q.values()],ie,ae,N))}};function ote(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function eM(t,e){let n=H({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var XC=class{styles;defaultParams;normalizer;constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=eM(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=iu(s,r,n));let l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),i.set(a,s)})}),i}};function ste(t,e,n){return new eb(t,e,n)}var eb=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new XC(r.style,o,i))}),jN(this.states,"true","1"),jN(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new Dp(e,r,this.states))}),this.fallbackTransition=ate(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(s=>s.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function ate(t,e,n){let i=[(s,a)=>!0],r={type:De.Sequence,steps:[],options:null},o={type:De.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Dp(t,o,e)}function jN(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var lte=new ru,tb=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i}register(e,n){let i=[],r=[],o=JN(this._driver,n,i,r);if(i.length)throw wee(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=qN(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=XN(this._driver,n,o,QN,GC,new Map,new Map,i,lte,r),s.forEach(g=>{let v=Rn(a,g.element,new Map);g.postStyleProps.forEach(w=>v.set(w,null))})):(r.push(Eee()),s=[]),r.length)throw See(r);a.forEach((g,v)=>{g.forEach((w,S)=>{g.set(S,this._driver.computeStyle(v,S,Ai))})});let l=s.map(g=>{let v=a.get(g.element);return this._buildPlayer(g,new Map,v)}),u=ao(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw Iee(e);return n}listen(e,n,i,r){let o=sb(n,"","","");return ob(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},BN="ng-animate-queued",cte=".ng-animate-queued",HC="ng-animate-disabled",ute=".ng-animate-disabled",dte="ng-star-inserted",hte=".ng-star-inserted",fte=[],tM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hi="__ng_removed",ou=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=gte(r),i){let o=e,{value:s}=o,a=kw(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},nu="void",UC=new ou(nu),nb=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this._hostClassName="ng-tns-"+e,zn(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw Tee(i,n);if(i==null||i.length==0)throw xee(n);if(!_te(i))throw Dee(i,n);let o=Rn(this._elementListeners,e,[]),s={name:n,phase:i,callback:r};o.push(s);let a=Rn(this._engine.statesByElement,e,new Map);return a.has(n)||(zn(e,_p),zn(e,_p+"-"+n),a.set(n,UC)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw Aee(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),s=new su(this.id,n,e),a=this._engine.statesByElement.get(e);a||(zn(e,_p),zn(e,_p+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),u=new ou(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(n,u),l||(l=UC),!(u.value===nu)&&l.value===u.value){if(!Cte(l.params,u.params)){let L=[],$=o.matchStyles(l.value,l.params,L),Q=o.matchStyles(u.value,u.params,L);L.length?this._engine.reportError(L):this._engine.afterFlush(()=>{as(e,$),Ni(e,Q)})}return}let w=Rn(this._engine.playersByElement,e,[]);w.forEach(L=>{L.namespaceId==this.id&&L.triggerName==n&&L.queued&&L.destroy()});let S=o.matchTransition(l.value,u.value,e,u.params),x=!1;if(!S){if(!r)return;S=o.fallbackTransition,x=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:S,fromState:l,toState:u,player:s,isFallbackTransition:x}),x||(zn(e,BN),s.onStart(()=>{Fa(e,BN)})),s.onDone(()=>{let L=this.players.indexOf(s);L>=0&&this.players.splice(L,1);let $=this._engine.playersByElement.get(e);if($){let Q=$.indexOf(s);Q>=0&&$.splice(Q,1)}}),this.players.push(s),w.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,wp,!0);i.forEach(r=>{if(r[hi])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let g=this.trigger(e,u,nu,r);g&&a.push(g)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),i&&ao(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,u=i.get(s)||UC,g=new ou(nu),v=new su(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:g,player:v,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[hi];(!o||o===tM)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){zn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=sb(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,ob(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ib=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,n)=>{};_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new nb(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let l=r.get(a);if(l){let u=i.indexOf(l);i.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(Cp(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!Cp(n))return;let o=n[hi];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),zn(e,HC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fa(e,HC))}removeNode(e,n,i){if(Cp(n)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[hi]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return Cp(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,wp,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,qC,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ao(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[hi];if(n&&n.setForRemoval){if(e[hi]=tM,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(HC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,ute,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];zn(r,dte)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?ao(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw Nee(e)}_flushAnimations(e,n){let i=new ru,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,g=new Set;this.disabledNodes.forEach(X=>{g.add(X);let ne=this.driver.query(X,cte,!0);for(let oe=0;oe<ne.length;oe++)g.add(ne[oe])});let v=this.bodyNode,w=Array.from(this.statesByElement.keys()),S=$N(w,this.collectedEnterElements),x=new Map,L=0;S.forEach((X,ne)=>{let oe=QN+L++;x.set(ne,oe),X.forEach(Ae=>zn(Ae,oe))});let $=[],Q=new Set,ie=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){let ne=this.collectedLeaveElements[X],oe=ne[hi];oe&&oe.setForRemoval&&($.push(ne),Q.add(ne),oe.hasAnimation?this.driver.query(ne,hte,!0).forEach(Ae=>Q.add(Ae)):ie.add(ne))}let ae=new Map,ge=$N(w,Array.from(Q));ge.forEach((X,ne)=>{let oe=GC+L++;ae.set(ne,oe),X.forEach(Ae=>zn(Ae,oe))}),e.push(()=>{S.forEach((X,ne)=>{let oe=x.get(ne);X.forEach(Ae=>Fa(Ae,oe))}),ge.forEach((X,ne)=>{let oe=ae.get(ne);X.forEach(Ae=>Fa(Ae,oe))}),$.forEach(X=>{this.processLeaveNode(X)})});let wt=[],Ee=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(n).forEach(oe=>{let Ae=oe.player,Et=oe.element;if(wt.push(Ae),this.collectedEnterElements.length){let _t=Et[hi];if(_t&&_t.setForMove){if(_t.previousTriggersValues&&_t.previousTriggersValues.has(oe.triggerName)){let Pi=_t.previousTriggersValues.get(oe.triggerName),mn=this.statesByElement.get(oe.element);if(mn&&mn.has(oe.triggerName)){let ki=mn.get(oe.triggerName);ki.value=Pi,mn.set(oe.triggerName,ki)}}Ae.destroy();return}}let kn=!v||!this.driver.containsElement(v,Et),gt=ae.get(Et),ct=x.get(Et),ut=this._buildInstruction(oe,i,ct,gt,kn);if(ut.errors&&ut.errors.length){Ee.push(ut);return}if(kn){Ae.onStart(()=>as(Et,ut.fromStyles)),Ae.onDestroy(()=>Ni(Et,ut.toStyles)),r.push(Ae);return}if(oe.isFallbackTransition){Ae.onStart(()=>as(Et,ut.fromStyles)),Ae.onDestroy(()=>Ni(Et,ut.toStyles)),r.push(Ae);return}let _r=[];ut.timelines.forEach(_t=>{_t.stretchStartingKeyframe=!0,this.disabledNodes.has(_t.element)||_r.push(_t)}),ut.timelines=_r,i.append(Et,ut.timelines);let Hp={instruction:ut,player:Ae,element:Et};s.push(Hp),ut.queriedElements.forEach(_t=>Rn(a,_t,[]).push(Ae)),ut.preStyleProps.forEach((_t,Pi)=>{if(_t.size){let mn=l.get(Pi);mn||l.set(Pi,mn=new Set),_t.forEach((ki,vr)=>mn.add(vr))}}),ut.postStyleProps.forEach((_t,Pi)=>{let mn=u.get(Pi);mn||u.set(Pi,mn=new Set),_t.forEach((ki,vr)=>mn.add(vr))})});if(Ee.length){let X=[];Ee.forEach(ne=>{X.push(Mee(ne.triggerName,ne.errors))}),wt.forEach(ne=>ne.destroy()),this.reportError(X)}let N=new Map,I=new Map;s.forEach(X=>{let ne=X.element;i.has(ne)&&(I.set(ne,ne),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,N))}),r.forEach(X=>{let ne=X.element;this._getPreviousPlayers(ne,!1,X.namespaceId,X.triggerName,null).forEach(Ae=>{Rn(N,ne,[]).push(Ae),Ae.destroy()})});let D=$.filter(X=>GN(X,l,u)),M=new Map;UN(M,this.driver,ie,u,Ai).forEach(X=>{GN(X,l,u)&&D.push(X)});let k=new Map;S.forEach((X,ne)=>{UN(k,this.driver,new Set(X),l,gp)}),D.forEach(X=>{let ne=M.get(X),oe=k.get(X);M.set(X,new Map([...ne?.entries()??[],...oe?.entries()??[]]))});let A=[],Pn=[],gr={};s.forEach(X=>{let{element:ne,player:oe,instruction:Ae}=X;if(i.has(ne)){if(g.has(ne)){oe.onDestroy(()=>Ni(ne,Ae.toStyles)),oe.disabled=!0,oe.overrideTotalTime(Ae.totalTime),r.push(oe);return}let Et=gr;if(I.size>1){let gt=ne,ct=[];for(;gt=gt.parentNode;){let ut=I.get(gt);if(ut){Et=ut;break}ct.push(gt)}ct.forEach(ut=>I.set(ut,Et))}let kn=this._buildAnimation(oe.namespaceId,Ae,N,o,k,M);if(oe.setRealPlayer(kn),Et===gr)A.push(oe);else{let gt=this.playersByElement.get(Et);gt&&gt.length&&(oe.parentPlayer=ao(gt)),r.push(oe)}}else as(ne,Ae.fromStyles),oe.onDestroy(()=>Ni(ne,Ae.toStyles)),Pn.push(oe),g.has(ne)&&r.push(oe)}),Pn.forEach(X=>{let ne=o.get(X.element);if(ne&&ne.length){let oe=ao(ne);X.setRealPlayer(oe)}}),r.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<$.length;X++){let ne=$[X],oe=ne[hi];if(Fa(ne,GC),oe&&oe.hasAnimation)continue;let Ae=[];if(a.size){let kn=a.get(ne);kn&&kn.length&&Ae.push(...kn);let gt=this.driver.query(ne,qC,!0);for(let ct=0;ct<gt.length;ct++){let ut=a.get(gt[ct]);ut&&ut.length&&Ae.push(...ut)}}let Et=Ae.filter(kn=>!kn.destroyed);Et.length?vte(this,ne,Et):this.processLeaveNode(ne)}return $.length=0,A.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();let ne=this.players.indexOf(X);this.players.splice(ne,1)}),X.play()}),A}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==nu;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let l of n.timelines){let u=l.element,g=u!==o,v=Rn(i,u,[]);this._getPreviousPlayers(u,g,s,a,n.toState).forEach(S=>{let x=S.getRealPlayer();x.beforeDestroy&&x.beforeDestroy(),S.destroy(),v.push(S)})}as(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,s){let a=n.triggerName,l=n.element,u=[],g=new Set,v=new Set,w=n.timelines.map(x=>{let L=x.element;g.add(L);let $=L[hi];if($&&$.removedBeforeQueried)return new so(x.duration,x.delay);let Q=L!==l,ie=yte((i.get(L)||fte).map(N=>N.getRealPlayer())).filter(N=>{let I=N;return I.element?I.element===L:!1}),ae=o.get(L),ge=s.get(L),wt=qN(this._normalizer,x.keyframes,ae,ge),Ee=this._buildPlayer(x,wt,ie);if(x.subTimeline&&r&&v.add(L),Q){let N=new su(e,a,L);N.setRealPlayer(Ee),u.push(N)}return Ee});u.forEach(x=>{Rn(this.playersByQueriedElement,x.element,[]).push(x),x.onDone(()=>mte(this.playersByQueriedElement,x.element,x))}),g.forEach(x=>zn(x,kN));let S=ao(w);return S.onDestroy(()=>{g.forEach(x=>Fa(x,kN)),Ni(l,n.toStyles)}),v.forEach(x=>{Rn(r,x,[]).push(S)}),S}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new so(e.duration,e.delay)}},su=class{namespaceId;triggerName;element;_player=new so;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>ob(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Rn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function mte(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function gte(t){return t??null}function Cp(t){return t&&t.nodeType===1}function _te(t){return t=="start"||t=="done"}function HN(t,e){let n=t.style.display;return t.style.display=e??"none",n}function UN(t,e,n,i,r){let o=[];n.forEach(l=>o.push(HN(l)));let s=[];i.forEach((l,u)=>{let g=new Map;l.forEach(v=>{let w=e.computeStyle(u,v,r);g.set(v,w),(!w||w.length==0)&&(u[hi]=pte,s.push(u))}),t.set(u,g)});let a=0;return n.forEach(l=>HN(l,o[a++])),s}function $N(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;let u=a.parentNode;return n.has(u)?l=u:r.has(u)?l=i:l=s(u),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==i&&n.get(l).push(a)}),n}function zn(t,e){t.classList?.add(e)}function Fa(t,e){t.classList?.remove(e)}function vte(t,e,n){ao(n).onDone(()=>t.processLeaveNode(e))}function yte(t){let e=[];return nM(t,e),e}function nM(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof eu?nM(i.players,e):e.push(i)}}function Cte(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function GN(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var Oa=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,n)=>{};constructor(e,n,i){this._driver=n,this._normalizer=i,this._transitionEngine=new ib(e.body,n,i),this._timelineEngine=new tb(e.body,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,n,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let l=[],u=[],g=JN(this._driver,o,l,u);if(l.length)throw Cee(r,l);u.length&&void 0,a=ste(r,g,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,s]=RN(i),a=r;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[s,a]=RN(i);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function bte(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=$C(e[0]),e.length>1&&(i=$C(e[e.length-1]))):e instanceof Map&&(n=$C(e)),n||i?new wte(t,n,i):null}var wte=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r;let o=t.initialStylesByElement.get(n);o||t.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ni(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ni(this._element,this._initialStyles),this._endStyles&&(Ni(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(as(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(as(this._element,this._endStyles),this._endStyles=null),Ni(this._element,this._initialStyles),this._state=3)}}return t})();function $C(t){let e=null;return t.forEach((n,i)=>{Ete(i)&&(e=e||new Map,e.set(i,n))}),e}function Ete(t){return t==="display"||t==="position"}var Ap=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:ub(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Np=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return zN(e,n)}getParentElement(e){return ab(e)}query(e,n,i){return WN(e,n,i)}computeStyle(e,n,i){return ub(e,n)}animate(e,n,i,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};o&&(l.easing=o);let u=new Map,g=s.filter(S=>S instanceof Ap);Uee(i,r)&&g.forEach(S=>{S.currentSnapshot.forEach((x,L)=>u.set(L,x))});let v=jee(n).map(S=>new Map(S));v=$ee(e,v,u);let w=bte(e,v);return new Ap(e,v,l,w)}};var bp="@",iM="@.disabled",Mp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==bp&&n==iM?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},rb=class extends Mp{factory;constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==bp?n.charAt(1)=="."&&n==iM?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==bp){let r=Ste(e),o=n.slice(1),s="";return o.charAt(0)!=bp&&([o,s]=Ite(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,n,i)}};function Ste(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function Ite(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var Rp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,n.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,g=u.get(r);if(!g){let v=()=>u.delete(r);g=new Mp(i,r,this.engine,v),u.set(r,g)}return g}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return n.data.animation.forEach(a),new rb(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var xte=(()=>{class t extends Oa{constructor(n,i,r){super(n,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||t)(ce(Cn),ce(ls),ce(cs))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();function Dte(){return new Sp}function Ate(t,e,n){return new Rp(t,e,n)}var rM=[{provide:cs,useFactory:Dte},{provide:Oa,useClass:xte},{provide:Or,useFactory:Ate,deps:[hf,Oa,Ye]}],Nte=[{provide:ls,useFactory:()=>new Np},{provide:q0,useValue:"BrowserAnimations"},...rM],wge=[{provide:ls,useClass:lb},{provide:q0,useValue:"NoopAnimations"},...rM];function oM(){return Ji("NgEagerAnimations"),[...Nte]}var sM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aM={};var hb,lM;(function(){var t;function e(N,I){function D(){}D.prototype=I.prototype,N.D=I.prototype,N.prototype=new D,N.prototype.constructor=N,N.C=function(M,R,k){for(var A=Array(arguments.length-2),Pn=2;Pn<arguments.length;Pn++)A[Pn-2]=arguments[Pn];return I.prototype[R].apply(M,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,I,D){D||(D=0);var M=Array(16);if(typeof I=="string")for(var R=0;16>R;++R)M[R]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(R=0;16>R;++R)M[R]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=N.g[0],D=N.g[1],R=N.g[2];var k=N.g[3],A=I+(k^D&(R^k))+M[0]+3614090360&4294967295;I=D+(A<<7&4294967295|A>>>25),A=k+(R^I&(D^R))+M[1]+3905402710&4294967295,k=I+(A<<12&4294967295|A>>>20),A=R+(D^k&(I^D))+M[2]+606105819&4294967295,R=k+(A<<17&4294967295|A>>>15),A=D+(I^R&(k^I))+M[3]+3250441966&4294967295,D=R+(A<<22&4294967295|A>>>10),A=I+(k^D&(R^k))+M[4]+4118548399&4294967295,I=D+(A<<7&4294967295|A>>>25),A=k+(R^I&(D^R))+M[5]+1200080426&4294967295,k=I+(A<<12&4294967295|A>>>20),A=R+(D^k&(I^D))+M[6]+2821735955&4294967295,R=k+(A<<17&4294967295|A>>>15),A=D+(I^R&(k^I))+M[7]+4249261313&4294967295,D=R+(A<<22&4294967295|A>>>10),A=I+(k^D&(R^k))+M[8]+1770035416&4294967295,I=D+(A<<7&4294967295|A>>>25),A=k+(R^I&(D^R))+M[9]+2336552879&4294967295,k=I+(A<<12&4294967295|A>>>20),A=R+(D^k&(I^D))+M[10]+4294925233&4294967295,R=k+(A<<17&4294967295|A>>>15),A=D+(I^R&(k^I))+M[11]+2304563134&4294967295,D=R+(A<<22&4294967295|A>>>10),A=I+(k^D&(R^k))+M[12]+1804603682&4294967295,I=D+(A<<7&4294967295|A>>>25),A=k+(R^I&(D^R))+M[13]+4254626195&4294967295,k=I+(A<<12&4294967295|A>>>20),A=R+(D^k&(I^D))+M[14]+2792965006&4294967295,R=k+(A<<17&4294967295|A>>>15),A=D+(I^R&(k^I))+M[15]+1236535329&4294967295,D=R+(A<<22&4294967295|A>>>10),A=I+(R^k&(D^R))+M[1]+4129170786&4294967295,I=D+(A<<5&4294967295|A>>>27),A=k+(D^R&(I^D))+M[6]+3225465664&4294967295,k=I+(A<<9&4294967295|A>>>23),A=R+(I^D&(k^I))+M[11]+643717713&4294967295,R=k+(A<<14&4294967295|A>>>18),A=D+(k^I&(R^k))+M[0]+3921069994&4294967295,D=R+(A<<20&4294967295|A>>>12),A=I+(R^k&(D^R))+M[5]+3593408605&4294967295,I=D+(A<<5&4294967295|A>>>27),A=k+(D^R&(I^D))+M[10]+38016083&4294967295,k=I+(A<<9&4294967295|A>>>23),A=R+(I^D&(k^I))+M[15]+3634488961&4294967295,R=k+(A<<14&4294967295|A>>>18),A=D+(k^I&(R^k))+M[4]+3889429448&4294967295,D=R+(A<<20&4294967295|A>>>12),A=I+(R^k&(D^R))+M[9]+568446438&4294967295,I=D+(A<<5&4294967295|A>>>27),A=k+(D^R&(I^D))+M[14]+3275163606&4294967295,k=I+(A<<9&4294967295|A>>>23),A=R+(I^D&(k^I))+M[3]+4107603335&4294967295,R=k+(A<<14&4294967295|A>>>18),A=D+(k^I&(R^k))+M[8]+1163531501&4294967295,D=R+(A<<20&4294967295|A>>>12),A=I+(R^k&(D^R))+M[13]+2850285829&4294967295,I=D+(A<<5&4294967295|A>>>27),A=k+(D^R&(I^D))+M[2]+4243563512&4294967295,k=I+(A<<9&4294967295|A>>>23),A=R+(I^D&(k^I))+M[7]+1735328473&4294967295,R=k+(A<<14&4294967295|A>>>18),A=D+(k^I&(R^k))+M[12]+2368359562&4294967295,D=R+(A<<20&4294967295|A>>>12),A=I+(D^R^k)+M[5]+4294588738&4294967295,I=D+(A<<4&4294967295|A>>>28),A=k+(I^D^R)+M[8]+2272392833&4294967295,k=I+(A<<11&4294967295|A>>>21),A=R+(k^I^D)+M[11]+1839030562&4294967295,R=k+(A<<16&4294967295|A>>>16),A=D+(R^k^I)+M[14]+4259657740&4294967295,D=R+(A<<23&4294967295|A>>>9),A=I+(D^R^k)+M[1]+2763975236&4294967295,I=D+(A<<4&4294967295|A>>>28),A=k+(I^D^R)+M[4]+1272893353&4294967295,k=I+(A<<11&4294967295|A>>>21),A=R+(k^I^D)+M[7]+4139469664&4294967295,R=k+(A<<16&4294967295|A>>>16),A=D+(R^k^I)+M[10]+3200236656&4294967295,D=R+(A<<23&4294967295|A>>>9),A=I+(D^R^k)+M[13]+681279174&4294967295,I=D+(A<<4&4294967295|A>>>28),A=k+(I^D^R)+M[0]+3936430074&4294967295,k=I+(A<<11&4294967295|A>>>21),A=R+(k^I^D)+M[3]+3572445317&4294967295,R=k+(A<<16&4294967295|A>>>16),A=D+(R^k^I)+M[6]+76029189&4294967295,D=R+(A<<23&4294967295|A>>>9),A=I+(D^R^k)+M[9]+3654602809&4294967295,I=D+(A<<4&4294967295|A>>>28),A=k+(I^D^R)+M[12]+3873151461&4294967295,k=I+(A<<11&4294967295|A>>>21),A=R+(k^I^D)+M[15]+530742520&4294967295,R=k+(A<<16&4294967295|A>>>16),A=D+(R^k^I)+M[2]+3299628645&4294967295,D=R+(A<<23&4294967295|A>>>9),A=I+(R^(D|~k))+M[0]+4096336452&4294967295,I=D+(A<<6&4294967295|A>>>26),A=k+(D^(I|~R))+M[7]+1126891415&4294967295,k=I+(A<<10&4294967295|A>>>22),A=R+(I^(k|~D))+M[14]+2878612391&4294967295,R=k+(A<<15&4294967295|A>>>17),A=D+(k^(R|~I))+M[5]+4237533241&4294967295,D=R+(A<<21&4294967295|A>>>11),A=I+(R^(D|~k))+M[12]+1700485571&4294967295,I=D+(A<<6&4294967295|A>>>26),A=k+(D^(I|~R))+M[3]+2399980690&4294967295,k=I+(A<<10&4294967295|A>>>22),A=R+(I^(k|~D))+M[10]+4293915773&4294967295,R=k+(A<<15&4294967295|A>>>17),A=D+(k^(R|~I))+M[1]+2240044497&4294967295,D=R+(A<<21&4294967295|A>>>11),A=I+(R^(D|~k))+M[8]+1873313359&4294967295,I=D+(A<<6&4294967295|A>>>26),A=k+(D^(I|~R))+M[15]+4264355552&4294967295,k=I+(A<<10&4294967295|A>>>22),A=R+(I^(k|~D))+M[6]+2734768916&4294967295,R=k+(A<<15&4294967295|A>>>17),A=D+(k^(R|~I))+M[13]+1309151649&4294967295,D=R+(A<<21&4294967295|A>>>11),A=I+(R^(D|~k))+M[4]+4149444226&4294967295,I=D+(A<<6&4294967295|A>>>26),A=k+(D^(I|~R))+M[11]+3174756917&4294967295,k=I+(A<<10&4294967295|A>>>22),A=R+(I^(k|~D))+M[2]+718787259&4294967295,R=k+(A<<15&4294967295|A>>>17),A=D+(k^(R|~I))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+R&4294967295,N.g[3]=N.g[3]+k&4294967295}i.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var D=I-this.blockSize,M=this.B,R=this.h,k=0;k<I;){if(R==0)for(;k<=D;)r(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<I;)if(M[R++]=N.charCodeAt(k++),R==this.blockSize){r(this,M),R=0;break}}else for(;k<I;)if(M[R++]=N[k++],R==this.blockSize){r(this,M),R=0;break}}this.h=R,this.o+=I},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var D=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=D&255,D/=256;for(this.u(N),N=Array(16),I=D=0;4>I;++I)for(var M=0;32>M;M+=8)N[D++]=this.g[I]>>>M&255;return N};function o(N,I){var D=a;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=I(N)}function s(N,I){this.h=I;for(var D=[],M=!0,R=N.length-1;0<=R;R--){var k=N[R]|0;M&&k==I||(D[R]=k,M=!1)}this.g=D}var a={};function l(N){return-128<=N&&128>N?o(N,function(I){return new s([I|0],0>I?-1:0)}):new s([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return $(u(-N));for(var I=[],D=1,M=0;N>=D;M++)I[M]=N/D|0,D*=4294967296;return new s(I,0)}function g(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return $(g(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(I,8)),M=v,R=0;R<N.length;R+=8){var k=Math.min(8,N.length-R),A=parseInt(N.substring(R,R+k),I);8>k?(k=u(Math.pow(I,k)),M=M.j(k).add(u(A))):(M=M.j(D),M=M.add(u(A)))}return M}var v=l(0),w=l(1),S=l(16777216);t=s.prototype,t.m=function(){if(L(this))return-$(this).m();for(var N=0,I=1,D=0;D<this.g.length;D++){var M=this.i(D);N+=(0<=M?M:4294967296+M)*I,I*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(L(this))return"-"+$(this).toString(N);for(var I=u(Math.pow(N,6)),D=this,M="";;){var R=ge(D,I).g;D=Q(D,R.j(I));var k=((0<D.g.length?D.g[0]:D.h)>>>0).toString(N);if(D=R,x(D))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function L(N){return N.h==-1}t.l=function(N){return N=Q(this,N),L(N)?-1:x(N)?0:1};function $(N){for(var I=N.g.length,D=[],M=0;M<I;M++)D[M]=~N.g[M];return new s(D,~N.h).add(w)}t.abs=function(){return L(this)?$(this):this},t.add=function(N){for(var I=Math.max(this.g.length,N.g.length),D=[],M=0,R=0;R<=I;R++){var k=M+(this.i(R)&65535)+(N.i(R)&65535),A=(k>>>16)+(this.i(R)>>>16)+(N.i(R)>>>16);M=A>>>16,k&=65535,A&=65535,D[R]=A<<16|k}return new s(D,D[D.length-1]&-2147483648?-1:0)};function Q(N,I){return N.add($(I))}t.j=function(N){if(x(this)||x(N))return v;if(L(this))return L(N)?$(this).j($(N)):$($(this).j(N));if(L(N))return $(this.j($(N)));if(0>this.l(S)&&0>N.l(S))return u(this.m()*N.m());for(var I=this.g.length+N.g.length,D=[],M=0;M<2*I;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(var R=0;R<N.g.length;R++){var k=this.i(M)>>>16,A=this.i(M)&65535,Pn=N.i(R)>>>16,gr=N.i(R)&65535;D[2*M+2*R]+=A*gr,ie(D,2*M+2*R),D[2*M+2*R+1]+=k*gr,ie(D,2*M+2*R+1),D[2*M+2*R+1]+=A*Pn,ie(D,2*M+2*R+1),D[2*M+2*R+2]+=k*Pn,ie(D,2*M+2*R+2)}for(M=0;M<I;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=I;M<2*I;M++)D[M]=0;return new s(D,0)};function ie(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function ae(N,I){this.g=N,this.h=I}function ge(N,I){if(x(I))throw Error("division by zero");if(x(N))return new ae(v,v);if(L(N))return I=ge($(N),I),new ae($(I.g),$(I.h));if(L(I))return I=ge(N,$(I)),new ae($(I.g),I.h);if(30<N.g.length){if(L(N)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var D=w,M=I;0>=M.l(N);)D=wt(D),M=wt(M);var R=Ee(D,1),k=Ee(M,1);for(M=Ee(M,2),D=Ee(D,2);!x(M);){var A=k.add(M);0>=A.l(N)&&(R=R.add(D),k=A),M=Ee(M,1),D=Ee(D,1)}return I=Q(N,R.j(I)),new ae(R,I)}for(R=v;0<=N.l(I);){for(D=Math.max(1,Math.floor(N.m()/I.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=u(D),A=k.j(I);L(A)||0<A.l(N);)D-=M,k=u(D),A=k.j(I);x(k)&&(k=w),R=R.add(k),N=Q(N,A)}return new ae(R,N)}t.A=function(N){return ge(this,N).h},t.and=function(N){for(var I=Math.max(this.g.length,N.g.length),D=[],M=0;M<I;M++)D[M]=this.i(M)&N.i(M);return new s(D,this.h&N.h)},t.or=function(N){for(var I=Math.max(this.g.length,N.g.length),D=[],M=0;M<I;M++)D[M]=this.i(M)|N.i(M);return new s(D,this.h|N.h)},t.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),D=[],M=0;M<I;M++)D[M]=this.i(M)^N.i(M);return new s(D,this.h^N.h)};function wt(N){for(var I=N.g.length+1,D=[],M=0;M<I;M++)D[M]=N.i(M)<<1|N.i(M-1)>>>31;return new s(D,N.h)}function Ee(N,I){var D=I>>5;I%=32;for(var M=N.g.length-D,R=[],k=0;k<M;k++)R[k]=0<I?N.i(k+D)>>>I|N.i(k+D+1)<<32-I:N.i(k+D);return new s(R,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lM=aM.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=g,hb=aM.Integer=s}).apply(typeof sM<"u"?sM:typeof self<"u"?self:typeof window<"u"?window:{});var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mr={};var cM,Mte,uM,dM,hM,fM,pM,mM,gM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,_){return c==Array.prototype||c==Object.prototype||(c[h]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pp=="object"&&Pp];for(var h=0;h<c.length;++h){var _=c[h];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function r(c,h){if(h)e:{var _=i;c=c.split(".");for(var b=0;b<c.length-1;b++){var P=c[b];if(!(P in _))break e;_=_[P]}c=c[c.length-1],b=_[c],h=h(b),h!=b&&h!=null&&e(_,c,{configurable:!0,writable:!0,value:h})}}function o(c,h){c instanceof String&&(c+="");var _=0,b=!1,P={next:function(){if(!b&&_<c.length){var V=_++;return{value:h(V,c[V]),done:!1}}return b=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}r("Array.prototype.values",function(c){return c||function(){return o(this,function(h,_){return _})}});var s=s||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function g(c,h,_){return c.call.apply(c.bind,arguments)}function v(c,h,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,b),c.apply(h,P)}}return function(){return c.apply(h,arguments)}}function w(c,h,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,w.apply(null,arguments)}function S(c,h){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function x(c,h){function _(){}_.prototype=h.prototype,c.aa=h.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,P,V){for(var W=Array(arguments.length-2),st=2;st<arguments.length;st++)W[st-2]=arguments[st];return h.prototype[P].apply(b,W)}}function L(c){let h=c.length;if(0<h){let _=Array(h);for(let b=0;b<h;b++)_[b]=c[b];return _}return[]}function $(c,h){for(let _=1;_<arguments.length;_++){let b=arguments[_];if(l(b)){let P=c.length||0,V=b.length||0;c.length=P+V;for(let W=0;W<V;W++)c[P+W]=b[W]}else c.push(b)}}class Q{constructor(h,_){this.i=h,this.j=_,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function ie(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var wt=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function Ee(c,h,_){for(let b in c)h.call(_,c[b],b,c)}function N(c,h){for(let _ in c)h.call(void 0,c[_],_,c)}function I(c){let h={};for(let _ in c)h[_]=c[_];return h}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,h){let _,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(_ in b)c[_]=b[_];for(let V=0;V<D.length;V++)_=D[V],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function R(c){var h=1;c=c.split(":");let _=[];for(;0<h&&c.length;)_.push(c.shift()),h--;return c.length&&_.push(c.join(":")),_}function k(c){a.setTimeout(()=>{throw c},0)}function A(){var c=Ae;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class Pn{constructor(){this.h=this.g=null}add(h,_){let b=gr.get();b.set(h,_),this.h?this.h.next=b:this.g=b,this.h=b}}var gr=new Q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(h,_){this.h=h,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,oe=!1,Ae=new Pn,Et=()=>{let c=a.Promise.resolve(void 0);ne=()=>{c.then(kn)}};var kn=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(_){k(_)}var h=gr;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}oe=!1};function gt(){this.s=this.s,this.C=this.C}gt.prototype.s=!1,gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let _=()=>{};a.addEventListener("test",_,h),a.removeEventListener("test",_,h)}catch{}return c}();function _r(c,h){if(ct.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(wt){e:{try{ge(h.nodeName);var P=!0;break e}catch{}P=!1}P||(h=null)}}else _=="mouseover"?h=c.fromElement:_=="mouseout"&&(h=c.toElement);this.relatedTarget=h,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Hp[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_r.aa.h.call(this)}}x(_r,ct);var Hp={2:"touch",3:"pen",4:"mouse"};_r.prototype.h=function(){_r.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),Pi=0;function mn(c,h,_,b,P){this.listener=c,this.proxy=null,this.src=h,this.type=_,this.capture=!!b,this.ha=P,this.key=++Pi,this.da=this.fa=!1}function ki(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vr(c){this.src=c,this.g={},this.h=0}vr.prototype.add=function(c,h,_,b,P){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var W=$p(c,h,b,P);return-1<W?(h=c[W],_||(h.fa=!1)):(h=new mn(h,this.src,V,!!b,P),h.fa=_,c.push(h)),h};function Up(c,h){var _=h.type;if(_ in c.g){var b=c.g[_],P=Array.prototype.indexOf.call(b,h,void 0),V;(V=0<=P)&&Array.prototype.splice.call(b,P,1),V&&(ki(h),c.g[_].length==0&&(delete c.g[_],c.h--))}}function $p(c,h,_,b){for(var P=0;P<c.length;++P){var V=c[P];if(!V.da&&V.listener==h&&V.capture==!!_&&V.ha==b)return P}return-1}var Gp="closure_lm_"+(1e6*Math.random()|0),qp={};function Mb(c,h,_,b,P){if(b&&b.once)return Pb(c,h,_,b,P);if(Array.isArray(h)){for(var V=0;V<h.length;V++)Mb(c,h[V],_,b,P);return null}return _=Qp(_),c&&c[_t]?c.K(h,_,u(b)?!!b.capture:!!b,P):Rb(c,h,_,!1,b,P)}function Rb(c,h,_,b,P,V){if(!h)throw Error("Invalid event type");var W=u(P)?!!P.capture:!!P,st=Wp(c);if(st||(c[Gp]=st=new vr(c)),_=st.add(h,_,b,W,V),_.proxy)return _;if(b=AM(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ut||(P=W),P===void 0&&(P=!1),c.addEventListener(h.toString(),b,P);else if(c.attachEvent)c.attachEvent(Fb(h.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function AM(){function c(_){return h.call(c.src,c.listener,_)}let h=NM;return c}function Pb(c,h,_,b,P){if(Array.isArray(h)){for(var V=0;V<h.length;V++)Pb(c,h[V],_,b,P);return null}return _=Qp(_),c&&c[_t]?c.L(h,_,u(b)?!!b.capture:!!b,P):Rb(c,h,_,!0,b,P)}function kb(c,h,_,b,P){if(Array.isArray(h))for(var V=0;V<h.length;V++)kb(c,h[V],_,b,P);else b=u(b)?!!b.capture:!!b,_=Qp(_),c&&c[_t]?(c=c.i,h=String(h).toString(),h in c.g&&(V=c.g[h],_=$p(V,_,b,P),-1<_&&(ki(V[_]),Array.prototype.splice.call(V,_,1),V.length==0&&(delete c.g[h],c.h--)))):c&&(c=Wp(c))&&(h=c.g[h.toString()],c=-1,h&&(c=$p(h,_,b,P)),(_=-1<c?h[c]:null)&&zp(_))}function zp(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[_t])Up(h.i,c);else{var _=c.type,b=c.proxy;h.removeEventListener?h.removeEventListener(_,b,c.capture):h.detachEvent?h.detachEvent(Fb(_),b):h.addListener&&h.removeListener&&h.removeListener(b),(_=Wp(h))?(Up(_,c),_.h==0&&(_.src=null,h[Gp]=null)):ki(c)}}}function Fb(c){return c in qp?qp[c]:qp[c]="on"+c}function NM(c,h){if(c.da)c=!0;else{h=new _r(h,this);var _=c.listener,b=c.ha||c.src;c.fa&&zp(c),c=_.call(b,h)}return c}function Wp(c){return c=c[Gp],c instanceof vr?c:null}var Kp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qp(c){return typeof c=="function"?c:(c[Kp]||(c[Kp]=function(h){return c.handleEvent(h)}),c[Kp])}function zt(){gt.call(this),this.i=new vr(this),this.M=this,this.F=null}x(zt,gt),zt.prototype[_t]=!0,zt.prototype.removeEventListener=function(c,h,_,b){kb(this,c,h,_,b)};function nn(c,h){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=h.type||h,typeof h=="string")h=new ct(h,c);else if(h instanceof ct)h.target=h.target||c;else{var P=h;h=new ct(b,c),M(h,P)}if(P=!0,_)for(var V=_.length-1;0<=V;V--){var W=h.g=_[V];P=uu(W,b,!0,h)&&P}if(W=h.g=c,P=uu(W,b,!0,h)&&P,P=uu(W,b,!1,h)&&P,_)for(V=0;V<_.length;V++)W=h.g=_[V],P=uu(W,b,!1,h)&&P}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var _=c.g[h],b=0;b<_.length;b++)ki(_[b]);delete c.g[h],c.h--}}this.F=null},zt.prototype.K=function(c,h,_,b){return this.i.add(String(c),h,!1,_,b)},zt.prototype.L=function(c,h,_,b){return this.i.add(String(c),h,!0,_,b)};function uu(c,h,_,b){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var P=!0,V=0;V<h.length;++V){var W=h[V];if(W&&!W.da&&W.capture==_){var st=W.listener,Ft=W.ha||W.src;W.fa&&Up(c.i,W),P=st.call(Ft,b)!==!1&&P}}return P&&!b.defaultPrevented}function Ob(c,h,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function Lb(c){c.g=Ob(()=>{c.g=null,c.i&&(c.i=!1,Lb(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class MM extends gt{constructor(h,_){super(),this.m=h,this.l=_,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Lb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ha(c){gt.call(this),this.h=c,this.g={}}x(Ha,gt);var Vb=[];function jb(c){Ee(c.g,function(h,_){this.g.hasOwnProperty(_)&&zp(h)},c),c.g={}}Ha.prototype.N=function(){Ha.aa.N.call(this),jb(this)},Ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yp=a.JSON.stringify,RM=a.JSON.parse,PM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Zp(){}Zp.prototype.h=null;function Bb(c){return c.h||(c.h=c.i())}function Hb(){}var Ua={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jp(){ct.call(this,"d")}x(Jp,ct);function Xp(){ct.call(this,"c")}x(Xp,ct);var co={},Ub=null;function du(){return Ub=Ub||new zt}co.La="serverreachability";function $b(c){ct.call(this,co.La,c)}x($b,ct);function $a(c){let h=du();nn(h,new $b(h))}co.STAT_EVENT="statevent";function Gb(c,h){ct.call(this,co.STAT_EVENT,c),this.stat=h}x(Gb,ct);function rn(c){let h=du();nn(h,new Gb(h,c))}co.Ma="timingevent";function qb(c,h){ct.call(this,co.Ma,c),this.size=h}x(qb,ct);function Ga(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function qa(){this.g=!0}qa.prototype.xa=function(){this.g=!1};function kM(c,h,_,b,P,V){c.info(function(){if(c.g)if(V)for(var W="",st=V.split("&"),Ft=0;Ft<st.length;Ft++){var He=st[Ft].split("=");if(1<He.length){var Wt=He[0];He=He[1];var Kt=Wt.split("_");W=2<=Kt.length&&Kt[1]=="type"?W+(Wt+"="+He+"&"):W+(Wt+"=redacted&")}}else W=null;else W=V;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+h+`
`+_+`
`+W})}function FM(c,h,_,b,P,V,W){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+h+`
`+_+`
`+V+" "+W})}function fs(c,h,_,b){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+LM(c,_)+(b?" "+b:"")})}function OM(c,h){c.info(function(){return"TIMEOUT: "+h})}qa.prototype.info=function(){};function LM(c,h){if(!c.g)return h;if(!h)return null;try{var _=JSON.parse(h);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var P=b[1];if(Array.isArray(P)&&!(1>P.length)){var V=P[0];if(V!="noop"&&V!="stop"&&V!="close")for(var W=1;W<P.length;W++)P[W]=""}}}}return Yp(_)}catch{return h}}var hu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},em;function fu(){}x(fu,Zp),fu.prototype.g=function(){return new XMLHttpRequest},fu.prototype.i=function(){return{}},em=new fu;function yr(c,h,_,b){this.j=c,this.i=h,this.l=_,this.R=b||1,this.U=new Ha(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wb}function Wb(){this.i=null,this.g="",this.h=!1}var Kb={},tm={};function nm(c,h,_){c.L=1,c.v=_u(Fi(h)),c.m=_,c.P=!0,Qb(c,null)}function Qb(c,h){c.F=Date.now(),pu(c),c.A=Fi(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),cw(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Wb,c.g=xw(c.j,_?h:null,!c.m),0<c.O&&(c.M=new MM(w(c.Y,c,c.g),c.O)),h=c.U,_=c.g,b=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(Vb[0]=P.toString()),P=Vb);for(var V=0;V<P.length;V++){var W=Mb(_,P[V],b||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),$a(),kM(c.i,c.u,c.A,c.l,c.R,c.m)}yr.prototype.ca=function(c){c=c.target;let h=this.M;h&&Oi(c)==3?h.j():this.Y(c)},yr.prototype.Y=function(c){try{if(c==this.g)e:{let Kt=Oi(this.g);var h=this.g.Ba();let gs=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||gw(this.g)))){this.J||Kt!=4||h==7||(h==8||0>=gs?$a(3):$a(2)),im(this);var _=this.g.Z();this.X=_;t:if(Yb(this)){var b=gw(this.g);c="";var P=b.length,V=Oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){uo(this),za(this);var W="";break t}this.h.i=new a.TextDecoder}for(h=0;h<P;h++)this.h.h=!0,c+=this.h.i.decode(b[h],{stream:!(V&&h==P-1)});b.length=0,this.h.g+=c,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=_==200,FM(this.i,this.u,this.A,this.l,this.R,Kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Ft=this.g;if((st=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(st)){var He=st;break t}}He=null}if(_=He)fs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rm(this,_);else{this.o=!1,this.s=3,rn(12),uo(this),za(this);break e}}if(this.P){_=!0;let Wn;for(;!this.J&&this.C<W.length;)if(Wn=VM(this,W),Wn==tm){Kt==4&&(this.s=4,rn(14),_=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==Kb){this.s=4,rn(15),fs(this.i,this.l,W,"[Invalid Chunk]"),_=!1;break}else fs(this.i,this.l,Wn,null),rm(this,Wn);if(Yb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||W.length!=0||this.h.h||(this.s=1,rn(16),_=!1),this.o=this.o&&_,!_)fs(this.i,this.l,W,"[Invalid Chunked Response]"),uo(this),za(this);else if(0<W.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),um(Wt),Wt.M=!0,rn(11))}}else fs(this.i,this.l,W,null),rm(this,W);Kt==4&&uo(this),this.o&&!this.J&&(Kt==4?Ew(this.j,this):(this.o=!1,pu(this)))}else t2(this.g),_==400&&0<W.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),uo(this),za(this)}}}catch{}finally{}};function Yb(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function VM(c,h){var _=c.C,b=h.indexOf(`
`,_);return b==-1?tm:(_=Number(h.substring(_,b)),isNaN(_)?Kb:(b+=1,b+_>h.length?tm:(h=h.slice(b,b+_),c.C=b+_,h)))}yr.prototype.cancel=function(){this.J=!0,uo(this)};function pu(c){c.S=Date.now()+c.I,Zb(c,c.I)}function Zb(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ga(w(c.ba,c),h)}function im(c){c.B&&(a.clearTimeout(c.B),c.B=null)}yr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(OM(this.i,this.A),this.L!=2&&($a(),rn(17)),uo(this),this.s=2,za(this)):Zb(this,this.S-c)};function za(c){c.j.G==0||c.J||Ew(c.j,c)}function uo(c){im(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,jb(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function rm(c,h){try{var _=c.j;if(_.G!=0&&(_.g==c||om(_.h,c))){if(!c.K&&om(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(h)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)wu(_),Cu(_);else break e;cm(_),rn(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ga(w(_.Za,_),6e3));if(1>=ew(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else fo(_,11)}else if((c.K||_.g==c)&&wu(_),!ie(h))for(P=_.Da.g.parse(h),h=0;h<P.length;h++){let He=P[h];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];let Wt=He[3];Wt!=null&&(_.la=Wt,_.j.info("VER="+_.la));let Kt=He[4];Kt!=null&&(_.Aa=Kt,_.j.info("SVER="+_.Aa));let gs=He[5];gs!=null&&typeof gs=="number"&&0<gs&&(b=1.5*gs,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;let Wn=c.g;if(Wn){let Su=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var V=b.h;V.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(sm(V,V.h),V.h=null))}if(b.D){let dm=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;dm&&(b.ya=dm,dt(b.I,b.D,dm))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var W=c;if(b.qa=Tw(b,b.J?b.ia:null,b.W),W.K){tw(b.h,W);var st=W,Ft=b.L;Ft&&(st.I=Ft),st.B&&(im(st),pu(st)),b.g=W}else bw(b);0<_.i.length&&bu(_)}else He[0]!="stop"&&He[0]!="close"||fo(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?fo(_,7):lm(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}$a(4)}catch{}}var jM=class{constructor(c,h){this.g=c,this.map=h}};function Jb(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xb(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ew(c){return c.h?1:c.g?c.g.size:0}function om(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function sm(c,h){c.g?c.g.add(h):c.h=h}function tw(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}Jb.prototype.cancel=function(){if(this.i=nw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function nw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let _ of c.g.values())h=h.concat(_.D);return h}return L(c.i)}function BM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],_=c.length,b=0;b<_;b++)h.push(c[b]);return h}h=[],_=0;for(b in c)h[_++]=c[b];return h}function HM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var _=0;_<c;_++)h.push(_);return h}h=[],_=0;for(let b in c)h[_++]=b;return h}}}function iw(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var _=HM(c),b=BM(c),P=b.length,V=0;V<P;V++)h.call(void 0,b[V],_&&_[V],c)}var rw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UM(c,h){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),P=null;if(0<=b){var V=c[_].substring(0,b);P=c[_].substring(b+1)}else V=c[_];h(V,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ho(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ho){this.h=c.h,mu(this,c.j),this.o=c.o,this.g=c.g,gu(this,c.s),this.l=c.l;var h=c.i,_=new Qa;_.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),ow(this,_),this.m=c.m}else c&&(h=String(c).match(rw))?(this.h=!1,mu(this,h[1]||"",!0),this.o=Wa(h[2]||""),this.g=Wa(h[3]||"",!0),gu(this,h[4]),this.l=Wa(h[5]||"",!0),ow(this,h[6]||"",!0),this.m=Wa(h[7]||"")):(this.h=!1,this.i=new Qa(null,this.h))}ho.prototype.toString=function(){var c=[],h=this.j;h&&c.push(Ka(h,sw,!0),":");var _=this.g;return(_||h=="file")&&(c.push("//"),(h=this.o)&&c.push(Ka(h,sw,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ka(_,_.charAt(0)=="/"?qM:GM,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ka(_,WM)),c.join("")};function Fi(c){return new ho(c)}function mu(c,h,_){c.j=_?Wa(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function gu(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function ow(c,h,_){h instanceof Qa?(c.i=h,KM(c.i,c.h)):(_||(h=Ka(h,zM)),c.i=new Qa(h,c.h))}function dt(c,h,_){c.i.set(h,_)}function _u(c){return dt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Wa(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ka(c,h,_){return typeof c=="string"?(c=encodeURI(c).replace(h,$M),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $M(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sw=/[#\/\?@]/g,GM=/[#\?:]/g,qM=/[#\?]/g,zM=/[#\?@]/g,WM=/#/g;function Qa(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function Cr(c){c.g||(c.g=new Map,c.h=0,c.i&&UM(c.i,function(h,_){c.add(decodeURIComponent(h.replace(/\+/g," ")),_)}))}t=Qa.prototype,t.add=function(c,h){Cr(this),this.i=null,c=ps(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(h),this.h+=1,this};function aw(c,h){Cr(c),h=ps(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function lw(c,h){return Cr(c),h=ps(c,h),c.g.has(h)}t.forEach=function(c,h){Cr(this),this.g.forEach(function(_,b){_.forEach(function(P){c.call(h,P,b,this)},this)},this)},t.na=function(){Cr(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),_=[];for(let b=0;b<h.length;b++){let P=c[b];for(let V=0;V<P.length;V++)_.push(h[b])}return _},t.V=function(c){Cr(this);let h=[];if(typeof c=="string")lw(this,c)&&(h=h.concat(this.g.get(ps(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)h=h.concat(c[_])}return h},t.set=function(c,h){return Cr(this),this.i=null,c=ps(this,c),lw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},t.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function cw(c,h,_){aw(c,h),0<_.length&&(c.i=null,c.g.set(ps(c,h),L(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var _=0;_<h.length;_++){var b=h[_];let V=encodeURIComponent(String(b)),W=this.V(b);for(b=0;b<W.length;b++){var P=V;W[b]!==""&&(P+="="+encodeURIComponent(String(W[b]))),c.push(P)}}return this.i=c.join("&")};function ps(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function KM(c,h){h&&!c.j&&(Cr(c),c.i=null,c.g.forEach(function(_,b){var P=b.toLowerCase();b!=P&&(aw(this,b),cw(this,P,_))},c)),c.j=h}function QM(c,h){let _=new qa;if(a.Image){let b=new Image;b.onload=S(br,_,"TestLoadImage: loaded",!0,h,b),b.onerror=S(br,_,"TestLoadImage: error",!1,h,b),b.onabort=S(br,_,"TestLoadImage: abort",!1,h,b),b.ontimeout=S(br,_,"TestLoadImage: timeout",!1,h,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else h(!1)}function YM(c,h){let _=new qa,b=new AbortController,P=setTimeout(()=>{b.abort(),br(_,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:b.signal}).then(V=>{clearTimeout(P),V.ok?br(_,"TestPingServer: ok",!0,h):br(_,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),br(_,"TestPingServer: error",!1,h)})}function br(c,h,_,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(_)}catch{}}function ZM(){this.g=new PM}function JM(c,h,_){let b=_||"";try{iw(c,function(P,V){let W=P;u(P)&&(W=Yp(P)),h.push(b+V+"="+encodeURIComponent(W))})}catch(P){throw h.push(b+"type="+encodeURIComponent("_badmap")),P}}function Ya(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Ya,Zp),Ya.prototype.g=function(){return new vu(this.l,this.j)},Ya.prototype.i=function(c){return function(){return c}}({});function vu(c,h){zt.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(vu,zt),t=vu.prototype,t.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,Ja(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Za(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ja(this)),this.g&&(this.readyState=3,Ja(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function uw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?Za(this):Ja(this),this.readyState==3&&uw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Za(this))},t.Qa=function(c){this.g&&(this.response=c,Za(this))},t.ga=function(){this.g&&Za(this)};function Za(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ja(c)}t.setRequestHeader=function(c,h){this.u.append(c,h)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var _=h.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=h.next();return c.join(`\r
`)};function Ja(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function dw(c){let h="";return Ee(c,function(_,b){h+=b,h+=":",h+=_,h+=`\r
`}),h}function am(c,h,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=dw(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):dt(c,h,_))}function vt(c){zt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(vt,zt);var XM=/^https?$/i,e2=["POST","PUT"];t=vt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,h,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():em.g(),this.v=this.o?Bb(this.o):Bb(em),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(V){hw(this,V);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)_.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let V of b.keys())_.set(V,b.get(V));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(V=>V.toLowerCase()=="content-type"),P=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(e2,h,void 0))||b||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[V,W]of _)this.g.setRequestHeader(V,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mw(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){hw(this,V)}};function hw(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,fw(c),yu(c)}function fw(c){c.A||(c.A=!0,nn(c,"complete"),nn(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,nn(this,"complete"),nn(this,"abort"),yu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yu(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pw(this):this.bb())},t.bb=function(){pw(this)};function pw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Oi(c)!=4||c.Z()!=2)){if(c.u&&Oi(c)==4)Ob(c.Ea,0,c);else if(nn(c,"readystatechange"),Oi(c)==4){c.h=!1;try{let W=c.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var _;if(!(_=h)){var b;if(b=W===0){var P=String(c.D).match(rw)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),b=!XM.test(P?P.toLowerCase():"")}_=b}if(_)nn(c,"complete"),nn(c,"success");else{c.m=6;try{var V=2<Oi(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",fw(c)}}finally{yu(c)}}}}function yu(c,h){if(c.g){mw(c);let _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||nn(c,"ready");try{_.onreadystatechange=b}catch{}}}function mw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Oi(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),RM(h)}};function gw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function t2(c){let h={};c=(c.g&&2<=Oi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ie(c[b]))continue;var _=R(c[b]);let P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();let V=h[P]||[];h[P]=V,V.push(_)}N(h,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(c,h,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||h}function _w(c){this.Aa=0,this.i=[],this.j=new qa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xa("baseRetryDelayMs",5e3,c),this.cb=Xa("retryDelaySeedMs",1e4,c),this.Wa=Xa("forwardChannelMaxRetries",2,c),this.wa=Xa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Jb(c&&c.concurrentRequestLimit),this.Da=new ZM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_w.prototype,t.la=8,t.G=1,t.connect=function(c,h,_,b){rn(0),this.W=c,this.H=h||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Tw(this,null,this.W),bu(this)};function lm(c){if(vw(c),c.G==3){var h=c.U++,_=Fi(c.I);if(dt(_,"SID",c.K),dt(_,"RID",h),dt(_,"TYPE","terminate"),el(c,_),h=new yr(c,c.j,h),h.L=2,h.v=_u(Fi(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=h.v,_=!0),_||(h.g=xw(h.j,null),h.g.ea(h.v)),h.F=Date.now(),pu(h)}Iw(c)}function Cu(c){c.g&&(um(c),c.g.cancel(),c.g=null)}function vw(c){Cu(c),c.u&&(a.clearTimeout(c.u),c.u=null),wu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function bu(c){if(!Xb(c.h)&&!c.s){c.s=!0;var h=c.Ga;ne||Et(),oe||(ne(),oe=!0),Ae.add(h,c),c.B=0}}function n2(c,h){return ew(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ga(w(c.Ga,c,h),Sw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let P=new yr(this,this.j,c),V=this.o;if(this.S&&(V?(V=I(V),M(V,this.S)):V=this.S),this.m!==null||this.O||(P.H=V,V=null),this.P)e:{for(var h=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(h+=b,4096<h){h=_;break e}if(h===4096||_===this.i.length-1){h=_+1;break e}}h=1e3}else h=1e3;h=Cw(this,P,h),_=Fi(this.I),dt(_,"RID",c),dt(_,"CVER",22),this.D&&dt(_,"X-HTTP-Session-Id",this.D),el(this,_),V&&(this.O?h="headers="+encodeURIComponent(String(dw(V)))+"&"+h:this.m&&am(_,this.m,V)),sm(this.h,P),this.Ua&&dt(_,"TYPE","init"),this.P?(dt(_,"$req",h),dt(_,"SID","null"),P.T=!0,nm(P,_,null)):nm(P,_,h),this.G=2}}else this.G==3&&(c?yw(this,c):this.i.length==0||Xb(this.h)||yw(this))};function yw(c,h){var _;h?_=h.l:_=c.U++;let b=Fi(c.I);dt(b,"SID",c.K),dt(b,"RID",_),dt(b,"AID",c.T),el(c,b),c.m&&c.o&&am(b,c.m,c.o),_=new yr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),h&&(c.i=h.D.concat(c.i)),h=Cw(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sm(c.h,_),nm(_,b,h)}function el(c,h){c.H&&Ee(c.H,function(_,b){dt(h,b,_)}),c.l&&iw({},function(_,b){dt(h,b,_)})}function Cw(c,h,_){_=Math.min(c.i.length,_);var b=c.l?w(c.l.Na,c.l,c):null;e:{var P=c.i;let V=-1;for(;;){let W=["count="+_];V==-1?0<_?(V=P[0].g,W.push("ofs="+V)):V=0:W.push("ofs="+V);let st=!0;for(let Ft=0;Ft<_;Ft++){let He=P[Ft].g,Wt=P[Ft].map;if(He-=V,0>He)V=Math.max(0,P[Ft].g-100),st=!1;else try{JM(Wt,W,"req"+He+"_")}catch{b&&b(Wt)}}if(st){b=W.join("&");break e}}}return c=c.i.splice(0,_),h.D=c,b}function bw(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;ne||Et(),oe||(ne(),oe=!0),Ae.add(h,c),c.v=0}}function cm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ga(w(c.Fa,c),Sw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ww(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ga(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),Cu(this),ww(this))};function um(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function ww(c){c.g=new yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=Fi(c.qa);dt(h,"RID","rpc"),dt(h,"SID",c.K),dt(h,"AID",c.T),dt(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&dt(h,"TO",c.ja),dt(h,"TYPE","xmlhttp"),el(c,h),c.m&&c.o&&am(h,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_u(Fi(h)),_.m=null,_.P=!0,Qb(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Cu(this),cm(this),rn(19))};function wu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ew(c,h){var _=null;if(c.g==h){wu(c),um(c),c.g=null;var b=2}else if(om(c.h,h))_=h.D,tw(c.h,h),b=1;else return;if(c.G!=0){if(h.o)if(b==1){_=h.m?h.m.length:0,h=Date.now()-h.F;var P=c.B;b=du(),nn(b,new qb(b,_)),bu(c)}else bw(c);else if(P=h.s,P==3||P==0&&0<h.X||!(b==1&&n2(c,h)||b==2&&cm(c)))switch(_&&0<_.length&&(h=c.h,h.i=h.i.concat(_)),P){case 1:fo(c,5);break;case 4:fo(c,10);break;case 3:fo(c,6);break;default:fo(c,2)}}}function Sw(c,h){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*h}function fo(c,h){if(c.j.info("Error code "+h),h==2){var _=w(c.fb,c),b=c.Xa;let P=!b;b=new ho(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||mu(b,"https"),_u(b),P?QM(b.toString(),_):YM(b.toString(),_)}else rn(2);c.G=0,c.l&&c.l.sa(h),Iw(c),vw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Iw(c){if(c.G=0,c.ka=[],c.l){let h=nw(c.h);(h.length!=0||c.i.length!=0)&&($(c.ka,h),$(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function Tw(c,h,_){var b=_ instanceof ho?Fi(_):new ho(_);if(b.g!="")h&&(b.g=h+"."+b.g),gu(b,b.s);else{var P=a.location;b=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;var V=new ho(null);b&&mu(V,b),h&&(V.g=h),P&&gu(V,P),_&&(V.l=_),b=V}return _=c.D,h=c.ya,_&&h&&dt(b,_,h),dt(b,"VER",c.la),el(c,b),b}function xw(c,h,_){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new vt(new Ya({eb:_})):new vt(c.pa),h.Ha(c.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dw(){}t=Dw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Eu(){}Eu.prototype.g=function(c,h){return new En(c,h)};function En(c,h){zt.call(this),this.g=new _w(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!ie(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!ie(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new ms(this)}x(En,zt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){lm(this.g)},En.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Yp(c),c=_);h.i.push(new jM(h.Ya++,c)),h.G==3&&bu(h)},En.prototype.N=function(){this.g.l=null,delete this.j,lm(this.g),delete this.g,En.aa.N.call(this)};function Aw(c){Jp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let _ in h){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}x(Aw,Jp);function Nw(){Xp.call(this),this.status=1}x(Nw,Xp);function ms(c){this.g=c}x(ms,Dw),ms.prototype.ua=function(){nn(this.g,"a")},ms.prototype.ta=function(c){nn(this.g,new Aw(c))},ms.prototype.sa=function(c){nn(this.g,new Nw)},ms.prototype.ra=function(){nn(this.g,"b")},Eu.prototype.createWebChannel=Eu.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,gM=mr.createWebChannelTransport=function(){return new Eu},mM=mr.getStatEventTarget=function(){return du()},pM=mr.Event=co,fM=mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hu.NO_ERROR=0,hu.TIMEOUT=8,hu.HTTP_ERROR=6,hM=mr.ErrorCode=hu,zb.COMPLETE="complete",dM=mr.EventType=zb,Hb.EventType=Ua,Ua.OPEN="a",Ua.CLOSE="b",Ua.ERROR="c",Ua.MESSAGE="d",zt.prototype.listen=zt.prototype.K,uM=mr.WebChannel=Hb,Mte=mr.FetchXmlHttpFactory=Ya,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,cM=mr.XhrIo=vt}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});var _M="@firebase/firestore";var Gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");var lu="10.14.0";var Va=new mi("@firebase/firestore");function fi(t,...e){if(Va.logLevel<=Ve.DEBUG){let n=e.map(Db);Va.debug(`Firestore (${lu}): ${t}`,...n)}}function wM(t,...e){if(Va.logLevel<=Ve.ERROR){let n=e.map(Db);Va.error(`Firestore (${lu}): ${t}`,...n)}}function Rte(t,...e){if(Va.logLevel<=Ve.WARN){let n=e.map(Db);Va.warn(`Firestore (${lu}): ${t}`,...n)}}function Db(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function wn(t="Unexpected state"){let e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+t;throw wM(e),new Error(e)}function us(t,e){t||wn()}var pn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qt=class extends Sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ds=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var kp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},pb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}},mb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},gb=class{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){us(this.o===void 0);let i=this.i,r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve(),o=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ds,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>O(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{fi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(fi("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ds)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(fi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(us(typeof i.accessToken=="string"),new kp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return us(e===null||typeof e=="string"),new Gt(e)}},_b=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},vb=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new _b(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},yb=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Cb=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){us(this.o===void 0);let i=o=>{o.error!=null&&fi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,fi("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{fi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):fi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(us(typeof n.token=="string"),this.R=n.token,new yb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function EM(t,e){return t<e?-1:t>e?1:0}var bb=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&wn(),i===void 0?i=e.length-n:i>e.length-n&&wn(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},lo=class t extends bb{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new qt(pn.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}};var hs=class t{constructor(e){this.path=e}static fromPath(e){return new t(lo.fromString(e))}static fromName(e){return new t(lo.fromString(e).popFirst(5))}static empty(){return new t(lo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lo.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lo.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new lo(e.slice()))}};var wb=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};wb.UNKNOWN_ID=-1;function Pte(t){return t.name==="IndexedDbTransactionError"}function kte(t){return t===0&&1/t==-1/0}var Fte=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Oge=[...Fte,"documentOverlays"],Ote=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lte=Ote,Vte=[...Lte,"indexConfiguration","indexState","indexEntries"];var Lge=[...Vte,"globals"];var ja=class t{constructor(e,n){this.comparator=e,this.root=n||Ri.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new La(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new La(this.root,e,this.comparator,!1)}getReverseIterator(){return new La(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new La(this.root,e,this.comparator,!0)}},La=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ri=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wn();let e=this.left.check();if(e!==this.right.check())throw wn();return e+(this.isRed()?0:1)}};Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1;Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw wn()}get value(){throw wn()}get color(){throw wn()}get left(){throw wn()}get right(){throw wn()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Ri(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Fp=class t{constructor(e){this.comparator=e,this.data=new ja(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Op(this.data.getIterator())}getIteratorFrom(e){return new Op(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Op=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Eb=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ba=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Eb("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return EM(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ba.EMPTY_BYTE_STRING=new Ba("");var jte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bte(t){if(us(!!t),typeof t=="string"){let e=0,n=jte.exec(t);if(us(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:au(t.seconds),nanos:au(t.nanos)}}function au(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hte(t){return typeof t=="string"?Ba.fromBase64String(t):Ba.fromUint8Array(t)}var Sb=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function Ute(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function $te(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var jge=new ja(hs.comparator);var Bge=new ja(hs.comparator);var Hge=new ja(hs.comparator),Uge=new Fp(hs.comparator);var $ge=new Fp(EM);var vM,Le;(Le=vM||(vM={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";var Gge=new hb([4294967295,4294967295],0);var Lp=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(au(e.integerValue));else if("doubleValue"in e){let i=au(e.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),kte(i)?n.At(0):n.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(n,20),typeof i=="string"&&(i=Bte(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Hte(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in e?$te(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Ute(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):wn()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let i=e.fields||{};this.dt(n,55);for(let r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}wt(e,n){var i,r;let o=e.fields||{};this.dt(n,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(n,15),n.At(au(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let i=e.values||[];this.dt(n,50);for(let r of i)this.Tt(r,n)}yt(e,n){this.dt(n,37),hs.fromName(e).path.forEach(i=>{this.dt(n,60),this.Dt(i,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Lp.vt=new Lp;var qge=new Uint8Array(0);var Mi=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Mi.DEFAULT_COLLECTION_PERCENTILE=10,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mi.DEFAULT=new Mi(41943040,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mi.DISABLED=new Mi(-1,0,0);function fb(){return typeof document<"u"?document:null}var Ib=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&fi("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Tb=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qt(pn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var yM,CM;(CM=yM||(yM={})).ea="default",CM.Cache="cache";function Gte(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var bM=new Map;function qte(t,e,n,i){if(e===!0&&i===!0)throw new qt(pn.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zte(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":wn()}function Wte(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qt(pn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=zte(t);throw new qt(pn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Vp=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new qt(pn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new qt(pn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gte((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new qt(pn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new qt(pn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new qt(pn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},jp=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qt(pn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qt(pn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vp(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new pb;switch(i.type){case"firstParty":return new vb(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new qt(pn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return O(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=bM.get(n);i&&(fi("ComponentProvider","Removing Datastore"),bM.delete(n),i.terminate())}(this),Promise.resolve()}};function SM(t,e,n,i={}){var r;let o=(t=Wte(t,jp))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Rte("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Gt.MOCK_USER;else{a=Au(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new qt(pn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gt(u)}t._authCredentials=new mb(new kp(a,l))}}var Bp=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ib(this,"async_queue_retry"),this.Vu=()=>{let i=fb();i&&fi("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let n=fb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=fb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new ds;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return O(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pte(e))throw e;fi("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw wM("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let r=Tb.createAndSchedule(this,e,n,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&wn()}verifyOperationInProgress(){}wu(){return O(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var xb=class extends jp{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Bp,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return O(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Bp(e),this._firestoreClient=void 0,yield e}})}};function IM(t,e){let n=typeof t=="object"?t:Sr(),i=typeof t=="string"?t:e||"(default)",r=yo(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=Du("firestore");o&&SM(r,...o)}return r}var zge=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(r){lu=r})(vi),_i(new gn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new xb(new gb(i.getProvider("auth-internal")),new Cb(i.getProvider("app-check-internal")),function(u,g){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new qt(pn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sb(u.options.projectId,g)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ht(_M,"4.7.3",e),ht(_M,"4.7.3","esm2017")})();var cu=class{constructor(e){return e}},TM="firestore",Ab=class{constructor(){return Ho(TM)}};var Nb=new re("angularfire2.firestore-instances");function Kte(t,e){let n=ea(TM,t,e);return n&&new cu(n)}function Qte(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new cu(i)}}var Yte={provide:Ab,deps:[[new Rt,Nb]]},Zte={provide:cu,useFactory:Kte,deps:[[new Rt,Nb],oi]};function xM(t,...e){return ht("angularfire",tr.full,"fst"),Bn([Zte,Yte,{provide:Nb,useFactory:Qte(t),multi:!0,deps:[Ye,jt,Gr,nr,[new Rt,zo],[new Rt,$r],...e]}])}var DM=ln(IM,!0);oA(qf,{providers:[AN.providers,Nf(mp),oM(),eT(()=>tT(EN.firebaseConfig)),qT(()=>zT()),jD(()=>BD()),xM(()=>DM())]}).catch(t=>console.error(t));
