var kR=Object.defineProperty,OR=Object.defineProperties;var FR=Object.getOwnPropertyDescriptors;var fu=Object.getOwnPropertySymbols,LR=Object.getPrototypeOf,hE=Object.prototype.hasOwnProperty,fE=Object.prototype.propertyIsEnumerable,VR=Reflect.get;var dE=(t,e,n)=>e in t?kR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})hE.call(e,n)&&dE(t,n,e[n]);if(fu)for(var n of fu(e))fE.call(e,n)&&dE(t,n,e[n]);return t},_e=(t,e)=>OR(t,FR(e));var pE=(t,e)=>{var n={};for(var i in t)hE.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&fu)for(var i of fu(t))e.indexOf(i)<0&&fE.call(t,i)&&(n[i]=t[i]);return n};var mr=(t,e,n)=>VR(LR(t),n,e);var L=(t,e,n)=>new Promise((i,r)=>{var o=c=>{try{a(n.next(c))}catch(u){r(u)}},s=c=>{try{a(n.throw(c))}catch(u){r(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var Yp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var H=function(t,e){if(!t)throw ro(e)},ro=function(t){return new Error("Firebase Database ("+Yp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var gE=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},BR=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],s=t[n++],a=t[n++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,a=s?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,h=o>>2,p=(o&3)<<4|a>>4,C=(a&15)<<2|u>>6,w=u&63;c||(w=64,s||(C=64)),i.push(n[h],n[p],n[C],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let p=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||a==null||u==null||p==null)throw new Zp;let C=o<<2|a>>4;if(i.push(C),u!==64){let w=a<<4&240|u>>2;if(i.push(w),p!==64){let S=u<<6&192|p;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Zp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Xp=function(t){let e=gE(t);return mu.encodeByteArray(e,!0)},Ha=function(t){return Xp(t).replace(/\./g,"")},$a=function(t){try{return mu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _E(t){return yE(void 0,t)}function yE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!UR(n)||(t[n]=yE(t[n],e[n]));return t}function UR(t){return t!=="__proto__"}function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var HR=()=>jR().__FIREBASE_DEFAULTS__,$R=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$a(t[1]);return e&&JSON.parse(e)},em=()=>{try{return HR()||$R()||qR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tm=t=>{var e,n;return(n=(e=em())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gu=t=>{let e=tm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},nm=()=>{var t;return(t=em())===null||t===void 0?void 0:t.config},im=t=>{var e;return(e=em())===null||e===void 0?void 0:e[`_${t}`]};var xi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function _u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ha(JSON.stringify(n)),Ha(JSON.stringify(s)),""].join(".")}function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qa(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function vE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wE(){let t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ii(){return Yp.NODE_CLIENT===!0||Yp.NODE_ADMIN===!0}function rm(){try{return typeof indexedDB=="object"}catch{return!1}}function EE(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var GR="FirebaseError",mn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=GR,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ni.prototype.create)}},Ni=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?zR(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new mn(r,a,i)}};function zR(t,e){return t.replace(WR,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var WR=/\{\$([^}]+)}/g;function cs(t){return JSON.parse(t)}function ut(t){return JSON.stringify(t)}var IE=function(t){let e={},n={},i={},r="";try{let o=t.split(".");e=cs($a(o[0])||""),n=cs($a(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}};var bE=function(t){let e=IE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},SE=function(t){let e=IE(t).claims;return typeof e=="object"&&e.admin===!0};function Un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function oo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ga(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function za(t,e,n){let i={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function so(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],s=e[r];if(mE(o)&&mE(s)){if(!so(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function mE(t){return t!==null&&typeof t=="object"}function ao(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}var pu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let i=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)i[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)i[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){let C=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(C<<1|C>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,h;for(let p=0;p<80;p++){p<40?p<20?(u=a^o&(s^a),h=1518500249):(u=o^s^a,h=1859775393):p<60?(u=o&s|a&(o|s),h=2400959708):(u=o^s^a,h=3395469782);let C=(r<<5|r>>>27)+u+c+h+i[p]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=C}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let i=n-this.blockSize,r=0,o=this.buf_,s=this.inbuf_;for(;r<n;){if(s===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<n;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}};function TE(t,e){let n=new Jp(t,e);return n.subscribe.bind(n)}var Jp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");KR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Qp),r.error===void 0&&(r.error=Qp),r.complete===void 0&&(r.complete=Qp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function KR(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qp(){}function Wa(t,e){return`${t} failed: ${e} argument `}var DE=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){let o=r-55296;i++,H(i<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Ka=function(t){let e=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};var aQ=4*60*60*1e3;function $t(t){return t&&t._delegate?t._delegate:t}var sn=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var lo="[DEFAULT]";var vu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new xi;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YR(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return L(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function QR(t){return t===lo?void 0:t}function YR(t){return t.instantiationMode==="EAGER"}var Qa=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new vu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ZR=[],Me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Me||{}),JR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},XR=Me.INFO,eM={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},tM=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=eM[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ri=class{constructor(e){this.name=e,this._logLevel=XR,this._logHandler=tM,this._userLogHandler=null,ZR.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}};var nM=(t,e)=>e.some(n=>t instanceof n),AE,xE;function iM(){return AE||(AE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rM(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var NE=new WeakMap,sm=new WeakMap,RE=new WeakMap,om=new WeakMap,lm=new WeakMap;function oM(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(oi(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&NE.set(n,t)}).catch(()=>{}),lm.set(e,t),e}function sM(t){if(sm.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});sm.set(t,e)}var am={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ME(t){am=t(am)}function aM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(Cu(this),e,...n);return RE.set(i,e.sort?e.sort():[e]),oi(i)}:rM().includes(t)?function(...e){return t.apply(Cu(this),e),oi(NE.get(this))}:function(...e){return oi(t.apply(Cu(this),e))}}function lM(t){return typeof t=="function"?aM(t):(t instanceof IDBTransaction&&sM(t),nM(t,iM())?new Proxy(t,am):t)}function oi(t){if(t instanceof IDBRequest)return oM(t);if(om.has(t))return om.get(t);let e=lM(t);return e!==t&&(om.set(t,e),lm.set(e,t)),e}var Cu=t=>lm.get(t);function kE(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(t,e),a=oi(s);return i&&s.addEventListener("upgradeneeded",c=>{i(oi(s.result),c.oldVersion,c.newVersion,oi(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var cM=["get","getKey","getAll","getAllKeys","count"],uM=["put","add","delete","clear"],cm=new Map;function PE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=uM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||cM.includes(n)))return;let o=function(s,...a){return L(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&c.done]))[0]})};return cm.set(e,o),o}ME(t=>_e(V({},t),{get:(e,n,i)=>PE(e,n)||t.get(e,n,i),has:(e,n)=>!!PE(e,n)||t.has(e,n)}));var dm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dM(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function dM(t){let e=t.getComponent();return e?.type==="VERSION"}var hm="@firebase/app",OE="0.10.13";var Ri=new ri("@firebase/app"),hM="@firebase/app-compat",fM="@firebase/analytics-compat",pM="@firebase/analytics",mM="@firebase/app-check-compat",gM="@firebase/app-check",_M="@firebase/auth",yM="@firebase/auth-compat",vM="@firebase/database",CM="@firebase/data-connect",wM="@firebase/database-compat",EM="@firebase/functions",IM="@firebase/functions-compat",bM="@firebase/installations",SM="@firebase/installations-compat",TM="@firebase/messaging",DM="@firebase/messaging-compat",AM="@firebase/performance",xM="@firebase/performance-compat",NM="@firebase/remote-config",RM="@firebase/remote-config-compat",MM="@firebase/storage",PM="@firebase/storage-compat",kM="@firebase/firestore",OM="@firebase/vertexai-preview",FM="@firebase/firestore-compat",LM="firebase",VM="10.14.1";var fm="[DEFAULT]",BM={[hm]:"fire-core",[hM]:"fire-core-compat",[pM]:"fire-analytics",[fM]:"fire-analytics-compat",[gM]:"fire-app-check",[mM]:"fire-app-check-compat",[_M]:"fire-auth",[yM]:"fire-auth-compat",[vM]:"fire-rtdb",[CM]:"fire-data-connect",[wM]:"fire-rtdb-compat",[EM]:"fire-fn",[IM]:"fire-fn-compat",[bM]:"fire-iid",[SM]:"fire-iid-compat",[TM]:"fire-fcm",[DM]:"fire-fcm-compat",[AM]:"fire-perf",[xM]:"fire-perf-compat",[NM]:"fire-rc",[RM]:"fire-rc-compat",[MM]:"fire-gcs",[PM]:"fire-gcs-compat",[kM]:"fire-fst",[FM]:"fire-fst-compat",[OM]:"fire-vertex","fire-js":"fire-js",[LM]:"fire-js-all"};var Ya=new Map,UM=new Map,pm=new Map;function FE(t,e){try{t.container.addComponent(e)}catch(n){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function si(t){let e=t.name;if(pm.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,t);for(let n of Ya.values())FE(n,t);for(let n of UM.values())FE(n,t);return!0}function co(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mi(t){return t.settings!==void 0}var jM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new Ni("app","Firebase",jM);var mm=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}};var ai=VM;function ym(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:fm,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw gr.create("bad-app-name",{appName:String(r)});if(n||(n=nm()),!n)throw gr.create("no-options");let o=Ya.get(r);if(o){if(so(n,o.options)&&so(i,o.config))return o;throw gr.create("duplicate-app",{appName:r})}let s=new Qa(r);for(let c of pm.values())s.addComponent(c);let a=new mm(n,i,s);return Ya.set(r,a),a}function _r(t=fm){let e=Ya.get(t);if(!e&&t===fm&&nm())return ym();if(!e)throw gr.create("no-app",{appName:t});return e}function wu(){return Array.from(Ya.values())}function Ye(t,e,n){var i;let r=(i=BM[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(a.join(" "));return}si(new sn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var HM="firebase-heartbeat-database",$M=1,Za="firebase-heartbeat-store",um=null;function UE(){return um||(um=kE(HM,$M,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Za)}catch(n){console.warn(n)}}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),um}function qM(t){return L(this,null,function*(){try{let n=(yield UE()).transaction(Za),i=yield n.objectStore(Za).get(jE(t));return yield n.done,i}catch(e){if(e instanceof mn)Ri.warn(e.message);else{let n=gr.create("idb-get",{originalErrorMessage:e?.message});Ri.warn(n.message)}}})}function LE(t,e){return L(this,null,function*(){try{let i=(yield UE()).transaction(Za,"readwrite");yield i.objectStore(Za).put(e,jE(t)),yield i.done}catch(n){if(n instanceof mn)Ri.warn(n.message);else{let i=gr.create("idb-set",{originalErrorMessage:n?.message});Ri.warn(i.message)}}})}function jE(t){return`${t.name}!${t.options.appId}`}var GM=1024,zM=30*24*60*60*1e3,gm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new _m(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return L(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=zM}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ri.warn(i)}})}getHeartbeatsHeader(){return L(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=VE(),{heartbeatsToSend:i,unsentEntries:r}=WM(this._heartbeatsCache.heartbeats),o=Ha(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ri.warn(n),""}})}};function VE(){return new Date().toISOString().substring(0,10)}function WM(t,e=GM){let n=[],i=t.slice();for(let r of t){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),BE(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),BE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var _m=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return L(this,null,function*(){return rm()?EE().then(()=>!0).catch(()=>!1):!1})}read(){return L(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield qM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return L(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return LE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return L(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return LE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function BE(t){return Ha(JSON.stringify({version:2,heartbeats:t})).length}function KM(t){si(new sn("platform-logger",e=>new dm(e),"PRIVATE")),si(new sn("heartbeat",e=>new gm(e),"PRIVATE")),Ye(hm,OE,t),Ye(hm,OE,"esm2017"),Ye("fire-js","")}KM("");var QM="firebase",YM="10.14.1";Ye(QM,YM,"app");function he(t){return typeof t=="function"}function us(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Eu=us(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function uo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var nt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(he(i))try{i()}catch(o){e=o instanceof Eu?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{HE(o)}catch(s){e=e??[],s instanceof Eu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Eu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)HE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&uo(n,e)}remove(e){let{_finalizers:n}=this;n&&uo(n,e),e instanceof t&&e._removeParent(this)}};nt.EMPTY=(()=>{let t=new nt;return t.closed=!0,t})();var vm=nt.EMPTY;function Iu(t){return t instanceof nt||t&&"closed"in t&&he(t.remove)&&he(t.add)&&he(t.unsubscribe)}function HE(t){he(t)?t():t.unsubscribe()}var jn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ds={setTimeout(t,e,...n){let{delegate:i}=ds;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ds;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function bu(t){ds.setTimeout(()=>{let{onUnhandledError:e}=jn;if(e)e(t);else throw t})}function Ja(){}var $E=Cm("C",void 0,void 0);function qE(t){return Cm("E",void 0,t)}function GE(t){return Cm("N",t,void 0)}function Cm(t,e,n){return{kind:t,value:e,error:n}}var ho=null;function hs(t){if(jn.useDeprecatedSynchronousErrorHandling){let e=!ho;if(e&&(ho={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=ho;if(ho=null,n)throw i}}else t()}function zE(t){jn.useDeprecatedSynchronousErrorHandling&&ho&&(ho.errorThrown=!0,ho.error=t)}var fo=class extends nt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Iu(e)&&e.add(this)):this.destination=XM}static create(e,n,i){return new fs(e,n,i)}next(e){this.isStopped?Em(GE(e),this):this._next(e)}error(e){this.isStopped?Em(qE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Em($E,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ZM=Function.prototype.bind;function wm(t,e){return ZM.call(t,e)}var Im=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Su(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Su(i)}else Su(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Su(n)}}},fs=class extends fo{constructor(e,n,i){super();let r;if(he(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&jn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&wm(e.next,o),error:e.error&&wm(e.error,o),complete:e.complete&&wm(e.complete,o)}):r=e}this.destination=new Im(r)}};function Su(t){jn.useDeprecatedSynchronousErrorHandling?zE(t):bu(t)}function JM(t){throw t}function Em(t,e){let{onStoppedNotification:n}=jn;n&&ds.setTimeout(()=>n(t,e))}var XM={closed:!0,next:Ja,error:JM,complete:Ja};var ps=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gn(t){return t}function bm(...t){return Sm(t)}function Sm(t){return t.length===0?gn:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var xe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=tP(n)?n:new fs(n,i,r);return hs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=WE(i),new i((r,o)=>{let s=new fs({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[ps](){return this}pipe(...n){return Sm(n)(this)}toPromise(n){return n=WE(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function WE(t){var e;return(e=t??jn.Promise)!==null&&e!==void 0?e:Promise}function eP(t){return t&&he(t.next)&&he(t.error)&&he(t.complete)}function tP(t){return t&&t instanceof fo||eP(t)&&Iu(t)}function Tm(t){return he(t?.lift)}function Ne(t){return e=>{if(Tm(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(t,e,n,i,r){return new Dm(t,e,n,i,r)}var Dm=class extends fo{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ms(){return Ne((t,e)=>{let n=null;t._refCount++;let i=Te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var gs=class extends xe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Tm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nt;let n=this.getSubject();e.add(this.source.subscribe(Te(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nt.EMPTY)}return e}refCount(){return ms()(this)}};var KE=us(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var dt=(()=>{class t extends xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Tu(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new KE}next(n){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?vm:(this.currentObservers=null,o.push(n),new nt(()=>{this.currentObservers=null,uo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new xe;return n.source=this,n}}return t.create=(e,n)=>new Tu(e,n),t})(),Tu=class extends dt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:vm}};var Rt=class extends dt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Am={now(){return(Am.delegate||Date).now()},delegate:void 0};var Du=class extends nt{constructor(e,n){super()}schedule(e,n=0){return this}};var Xa={setInterval(t,e,...n){let{delegate:i}=Xa;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Xa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var _s=class extends Du{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Xa.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Xa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,uo(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ys=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};ys.now=Am.now;var vs=class extends ys{constructor(e,n=ys.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var xm=new vs(_s);var Au=class extends _s{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var xu=class extends vs{};var Nm=new xu(Au);var _n=new xe(t=>t.complete());function QE(t){return t&&he(t.schedule)}function YE(t){return t[t.length-1]}function Nu(t){return he(YE(t))?t.pop():void 0}function yr(t){return QE(YE(t))?t.pop():void 0}function Rm(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function JE(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function c(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):r(h.value).then(a,c)}u((i=i.apply(t,e||[])).next())})}function ZE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function po(t){return this instanceof po?(this.v=t,this):new po(t)}function XE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(w){return function(S){return Promise.resolve(S).then(w,p)}}function a(w,S){i[w]&&(r[w]=function(O){return new Promise(function(B,z){o.push([w,O,B,z])>1||c(w,O)})},S&&(r[w]=S(r[w])))}function c(w,S){try{u(i[w](S))}catch(O){C(o[0][3],O)}}function u(w){w.value instanceof po?Promise.resolve(w.value.v).then(h,p):C(o[0][2],w)}function h(w){c("next",w)}function p(w){c("throw",w)}function C(w,S){w(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function eI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ZE=="function"?ZE(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Ru=t=>t&&typeof t.length=="number"&&typeof t!="function";function Mu(t){return he(t?.then)}function Pu(t){return he(t[ps])}function ku(t){return Symbol.asyncIterator&&he(t?.[Symbol.asyncIterator])}function Ou(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function nP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fu=nP();function Lu(t){return he(t?.[Fu])}function Vu(t){return XE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield po(n.read());if(r)return yield po(void 0);yield yield po(i)}}finally{n.releaseLock()}})}function Bu(t){return he(t?.getReader)}function ht(t){if(t instanceof xe)return t;if(t!=null){if(Pu(t))return iP(t);if(Ru(t))return rP(t);if(Mu(t))return oP(t);if(ku(t))return tI(t);if(Lu(t))return sP(t);if(Bu(t))return aP(t)}throw Ou(t)}function iP(t){return new xe(e=>{let n=t[ps]();if(he(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rP(t){return new xe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function oP(t){return new xe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,bu)})}function sP(t){return new xe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function tI(t){return new xe(e=>{lP(t,e).catch(n=>e.error(n))})}function aP(t){return tI(Vu(t))}function lP(t,e){var n,i,r,o;return JE(this,void 0,void 0,function*(){try{for(n=eI(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function an(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function vr(t,e=0){return Ne((n,i)=>{n.subscribe(Te(i,r=>an(i,t,()=>i.next(r),e),()=>an(i,t,()=>i.complete(),e),r=>an(i,t,()=>i.error(r),e)))})}function Cr(t,e=0){return Ne((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function nI(t,e){return ht(t).pipe(Cr(e),vr(e))}function iI(t,e){return ht(t).pipe(Cr(e),vr(e))}function rI(t,e){return new xe(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function oI(t,e){return new xe(n=>{let i;return an(n,e,()=>{i=t[Fu](),an(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>he(i?.return)&&i.return()})}function Uu(t,e){if(!t)throw new Error("Iterable cannot be null");return new xe(n=>{an(n,e,()=>{let i=t[Symbol.asyncIterator]();an(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function sI(t,e){return Uu(Vu(t),e)}function aI(t,e){if(t!=null){if(Pu(t))return nI(t,e);if(Ru(t))return rI(t,e);if(Mu(t))return iI(t,e);if(ku(t))return Uu(t,e);if(Lu(t))return oI(t,e);if(Bu(t))return sI(t,e)}throw Ou(t)}function ke(t,e){return e?aI(t,e):ht(t)}function ae(...t){let e=yr(t);return ke(t,e)}function Cs(t,e){let n=he(t)?t:()=>t,i=r=>r.error(n());return new xe(e?r=>e.schedule(i,0,r):i)}function Mm(t){return!!t&&(t instanceof xe||he(t.lift)&&he(t.subscribe))}var Pi=us(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function fe(t,e){return Ne((n,i)=>{let r=0;n.subscribe(Te(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:cP}=Array;function uP(t,e){return cP(e)?t(...e):t(e)}function ju(t){return fe(e=>uP(t,e))}var{isArray:dP}=Array,{getPrototypeOf:hP,prototype:fP,keys:pP}=Object;function Hu(t){if(t.length===1){let e=t[0];if(dP(e))return{args:e,keys:null};if(mP(e)){let n=pP(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function mP(t){return t&&typeof t=="object"&&hP(t)===fP}function $u(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function qu(...t){let e=yr(t),n=Nu(t),{args:i,keys:r}=Hu(t);if(i.length===0)return ke([],e);let o=new xe(gP(i,e,r?s=>$u(r,s):gn));return n?o.pipe(ju(n)):o}function gP(t,e,n=gn){return i=>{lI(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)lI(e,()=>{let u=ke(t[c],e),h=!1;u.subscribe(Te(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function lI(t,e,n){t?an(n,t,e):e()}function cI(t,e,n,i,r,o,s,a){let c=[],u=0,h=0,p=!1,C=()=>{p&&!c.length&&!u&&e.complete()},w=O=>u<i?S(O):c.push(O),S=O=>{o&&e.next(O),u++;let B=!1;ht(n(O,h++)).subscribe(Te(e,z=>{r?.(z),o?w(z):e.next(z)},()=>{B=!0},void 0,()=>{if(B)try{for(u--;c.length&&u<i;){let z=c.shift();s?an(e,s,()=>S(z)):S(z)}C()}catch(z){e.error(z)}}))};return t.subscribe(Te(e,w,()=>{p=!0,C()})),()=>{a?.()}}function vt(t,e,n=1/0){return he(e)?vt((i,r)=>fe((o,s)=>e(i,o,r,s))(ht(t(i,r))),n):(typeof e=="number"&&(n=e),Ne((i,r)=>cI(i,r,t,n)))}function ws(t=1/0){return vt(gn,t)}function uI(){return ws(1)}function Es(...t){return uI()(ke(t,yr(t)))}function Gu(t){return new xe(e=>{ht(t()).subscribe(e)})}function Pm(...t){let e=Nu(t),{args:n,keys:i}=Hu(t),r=new xe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let h=0;h<s;h++){let p=!1;ht(n[h]).subscribe(Te(o,C=>{p||(p=!0,u--),a[h]=C},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(i?$u(i,a):a),o.complete())}))}});return e?r.pipe(ju(e)):r}function Hn(t,e){return Ne((n,i)=>{let r=0;n.subscribe(Te(i,o=>t.call(e,o,r++)&&i.next(o)))})}function wr(t){return Ne((e,n)=>{let i=null,r=!1,o;i=e.subscribe(Te(n,void 0,void 0,s=>{o=ht(t(s,wr(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function dI(t,e,n,i,r){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(Te(s,h=>{let p=u++;c=a?t(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Is(t,e){return he(e)?vt(t,e,1):vt(t,1)}function Er(t){return Ne((e,n)=>{let i=!1;e.subscribe(Te(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function ki(t){return t<=0?()=>_n:Ne((e,n)=>{let i=0;e.subscribe(Te(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function km(t){return fe(()=>t)}function zu(t=_P){return Ne((e,n)=>{let i=!1;e.subscribe(Te(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function _P(){return new Pi}function el(t){return Ne((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Oi(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Hn((r,o)=>t(r,o,i)):gn,ki(1),n?Er(e):zu(()=>new Pi))}function bs(t){return t<=0?()=>_n:Ne((e,n)=>{let i=[];e.subscribe(Te(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Om(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Hn((r,o)=>t(r,o,i)):gn,bs(1),n?Er(e):zu(()=>new Pi))}function Fm(t,e){return Ne(dI(t,e,arguments.length>=2,!0))}function Lm(...t){let e=yr(t);return Ne((n,i)=>{(e?Es(t,n,e):Es(t,n)).subscribe(i)})}function $n(t,e){return Ne((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(Te(i,c=>{r?.unsubscribe();let u=0,h=o++;ht(t(c,h)).subscribe(r=Te(i,p=>i.next(e?e(c,p,h,u++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Vm(t){return Ne((e,n)=>{ht(t).subscribe(Te(n,()=>n.complete(),Ja)),!n.closed&&e.subscribe(n)})}function Ct(t,e,n){let i=he(t)||e||n?{next:t,error:e,complete:n}:t;return i?Ne((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Te(o,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),o.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):gn}function Hm(t,e){return Object.is(t,e)}var wt=null,Wu=!1,$m=1,Dn=Symbol("SIGNAL");function be(t){let e=wt;return wt=t,e}function hI(){return wt}var nl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qu(t){if(Wu)throw new Error("");if(wt===null)return;wt.consumerOnSignalRead(t);let e=wt.nextProducerIndex++;if(Ju(wt),e<wt.producerNode.length&&wt.producerNode[e]!==t&&tl(wt)){let n=wt.producerNode[e];Zu(n,wt.producerIndexOfThis[e])}wt.producerNode[e]!==t&&(wt.producerNode[e]=t,wt.producerIndexOfThis[e]=tl(wt)?mI(t,wt,e):0),wt.producerLastReadVersion[e]=t.version}function yP(){$m++}function qm(t){if(!(tl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===$m)){if(!t.producerMustRecompute(t)&&!zm(t)){jm(t);return}t.producerRecomputeValue(t),jm(t)}}function fI(t){if(t.liveConsumerNode===void 0)return;let e=Wu;Wu=!0;try{for(let n of t.liveConsumerNode)n.dirty||vP(n)}finally{Wu=e}}function pI(){return wt?.consumerAllowSignalWrites!==!1}function vP(t){t.dirty=!0,fI(t),t.consumerMarkedDirty?.(t)}function jm(t){t.dirty=!1,t.lastCleanEpoch=$m}function Yu(t){return t&&(t.nextProducerIndex=0),be(t)}function Gm(t,e){if(be(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(tl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Zu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function zm(t){Ju(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(qm(n),i!==n.version))return!0}return!1}function Wm(t){if(Ju(t),tl(t))for(let e=0;e<t.producerNode.length;e++)Zu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function mI(t,e,n){if(gI(t),t.liveConsumerNode.length===0&&_I(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=mI(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Zu(t,e){if(gI(t),t.liveConsumerNode.length===1&&_I(t))for(let i=0;i<t.producerNode.length;i++)Zu(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Ju(r),r.producerIndexOfThis[i]=e}}function tl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ju(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function gI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function _I(t){return t.producerNode!==void 0}function yI(t){let e=Object.create(CP);e.computation=t;let n=()=>{if(qm(e),Qu(e),e.value===Ku)throw e.error;return e.value};return n[Dn]=e,n}var Bm=Symbol("UNSET"),Um=Symbol("COMPUTING"),Ku=Symbol("ERRORED"),CP=_e(V({},nl),{value:Bm,dirty:!0,error:null,equal:Hm,producerMustRecompute(t){return t.value===Bm||t.value===Um},producerRecomputeValue(t){if(t.value===Um)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Um;let n=Yu(t),i;try{i=t.computation()}catch(r){i=Ku,t.error=r}finally{Gm(t,n)}if(e!==Bm&&e!==Ku&&i!==Ku&&t.equal(e,i)){t.value=e;return}t.value=i,t.version++}});function wP(){throw new Error}var vI=wP;function CI(){vI()}function wI(t){vI=t}var EP=null;function EI(t){let e=Object.create(Km);e.value=t;let n=()=>(Qu(e),e.value);return n[Dn]=e,n}function Xu(t,e){pI()||CI(),t.equal(t.value,e)||(t.value=e,IP(t))}function II(t,e){pI()||CI(),Xu(t,e(t.value))}var Km=_e(V({},nl),{equal:Hm,value:void 0});function IP(t){t.version++,yP(),fI(t),EP?.()}var cb="https://g.co/ng/security#xss",$=class extends Error{code;constructor(e,n){super(l_(e,n)),this.code=e}};function l_(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var ub=Symbol("InputSignalNode#UNSET"),bP=_e(V({},Km),{transformFn:void 0,applyValueToInputSignal(t,e){Xu(t,e)}});function db(t,e){let n=Object.create(bP);n.value=t,n.transformFn=e?.transform;function i(){if(Qu(n),n.value===ub)throw new $(-950,!1);return n.value}return i[Dn]=n,i}function vl(t){return{toString:t}.toString()}var ed="__parameters__";function SP(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function TP(t,e,n){return vl(()=>{let i=SP(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,u,h){let p=c.hasOwnProperty(ed)?c[ed]:Object.defineProperty(c,ed,{value:[]})[ed];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var lg=globalThis;function $e(t){for(let e in t)if(t[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function DP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ln(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ln).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function bI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var AP=$e({__forward_ref__:$e});function Wn(t){return t.__forward_ref__=Wn,t.toString=function(){return ln(this())},t}function Qt(t){return hb(t)?t():t}function hb(t){return typeof t=="function"&&t.hasOwnProperty(AP)&&t.__forward_ref__===Wn}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rr(t){return{providers:t.providers||[],imports:t.imports||[]}}function kd(t){return SI(t,pb)||SI(t,mb)}function fb(t){return kd(t)!==null}function SI(t,e){return t.hasOwnProperty(e)?t[e]:null}function xP(t){let e=t&&(t[pb]||t[mb]);return e||null}function TI(t){return t&&(t.hasOwnProperty(DI)||t.hasOwnProperty(NP))?t[DI]:null}var pb=$e({\u0275prov:$e}),DI=$e({\u0275inj:$e}),mb=$e({ngInjectableDef:$e}),NP=$e({ngInjectorDef:$e}),X=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gb(t){return t&&!!t.\u0275providers}var RP=$e({\u0275cmp:$e}),MP=$e({\u0275dir:$e}),PP=$e({\u0275pipe:$e}),kP=$e({\u0275mod:$e}),dd=$e({\u0275fac:$e}),ol=$e({__NG_ELEMENT_ID__:$e}),AI=$e({__NG_ENV_ID__:$e});function Od(t){return typeof t=="string"?t:t==null?"":String(t)}function OP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Od(t)}function FP(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function c_(t,e){throw new $(-201,!1)}var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{}),cg;function _b(){return cg}function An(t){let e=cg;return cg=t,e}function yb(t,e,n){let i=kd(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&ve.Optional)return null;if(e!==void 0)return e;c_(t,"Injector")}var LP={},sl=LP,ug="__NG_DI_FLAG__",hd="ngTempTokenPath",VP="ngTokenPath",BP=/\n/gm,UP="\u0275",xI="__source",As;function jP(){return As}function Ir(t){let e=As;return As=t,e}function HP(t,e=ve.Default){if(As===void 0)throw new $(-203,!1);return As===null?yb(t,void 0,e):As.get(t,e&ve.Optional?null:void 0,e)}function re(t,e=ve.Default){return(_b()||HP)(Qt(t),e)}function W(t,e=ve.Default){return re(t,Fd(e))}function Fd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dg(t){let e=[];for(let n=0;n<t.length;n++){let i=Qt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new $(900,!1);let r,o=ve.Default;for(let s=0;s<i.length;s++){let a=i[s],c=qP(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(re(r,o))}else e.push(re(i))}return e}function $P(t,e){return t[ug]=e,t.prototype[ug]=e,t}function qP(t){return t[ug]}function GP(t,e,n,i){let r=t[hd];throw e[xI]&&r.unshift(e[xI]),t.message=zP(`
`+t.message,r,n,i),t[VP]=r,t[hd]=null,t}function zP(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==UP?t.slice(2):t;let r=ln(e);if(Array.isArray(e))r=e.map(ln).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ln(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(BP,`
  `)}`}var It=$P(TP("Optional"),8);function Ns(t,e){let n=t.hasOwnProperty(dd);return n?t[dd]:null}function WP(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function KP(t){return t.flat(Number.POSITIVE_INFINITY)}function u_(t,e){t.forEach(n=>Array.isArray(n)?u_(n,e):e(n))}function vb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function QP(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function YP(t,e,n){let i=Cl(t,e);return i>=0?t[i|1]=n:(i=~i,QP(t,i,e,n)),i}function Qm(t,e){let n=Cl(t,e);if(n>=0)return t[n|1]}function Cl(t,e){return ZP(t,e,1)}function ZP(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var Rs={},xn=[],Ms=new X(""),Cb=new X("",-1),wb=new X(""),pd=class{get(e,n=sl){if(n===sl){let i=new Error(`NullInjectorError: No provider for ${ln(e)}!`);throw i.name="NullInjectorError",i}return n}};function Eb(t,e){let n=t[kP]||null;if(!n&&e===!0)throw new Error(`Type ${ln(t)} does not have '\u0275mod' property.`);return n}function go(t){return t[RP]||null}function Ib(t){return t[MP]||null}function bb(t){return t[PP]||null}function Sb(t){let e=go(t)||Ib(t)||bb(t);return e!==null?e.standalone:!1}function Mn(t){return{\u0275providers:t}}function JP(...t){return{\u0275providers:Tb(!0,t),\u0275fromNgModule:!0}}function Tb(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return u_(e,s=>{let a=s;hg(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Db(r,o),n}function Db(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];d_(r,o=>{e(o,i)})}}function hg(t,e,n,i){if(t=Qt(t),!t)return!1;let r=null,o=TI(t),s=!o&&go(t);if(!o&&!s){let c=t.ngModule;if(o=TI(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)hg(u,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{u_(o.imports,h=>{hg(h,e,n,i)&&(u||=[],u.push(h))})}finally{}u!==void 0&&Db(u,e)}if(!a){let u=Ns(r)||(()=>new r);e({provide:r,useFactory:u,deps:xn},r),e({provide:wb,useValue:r,multi:!0},r),e({provide:Ms,useValue:()=>re(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let u=t;d_(c,h=>{e(h,u)})}}else return!1;return r!==t&&t.providers!==void 0}function d_(t,e){for(let n of t)gb(n)&&(n=n.\u0275providers),Array.isArray(n)?d_(n,e):e(n)}var XP=$e({provide:String,useValue:$e});function Ab(t){return t!==null&&typeof t=="object"&&XP in t}function ek(t){return!!(t&&t.useExisting)}function tk(t){return!!(t&&t.useFactory)}function Ps(t){return typeof t=="function"}function nk(t){return!!t.useClass}var Ld=new X(""),od={},ik={},Ym;function h_(){return Ym===void 0&&(Ym=new pd),Ym}var Nn=class{},al=class extends Nn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,pg(e,s=>this.processProvider(s)),this.records.set(Cb,Ss(void 0,this)),r.has("environment")&&this.records.set(Nn,Ss(void 0,this));let o=this.records.get(Ld);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wb,xn,ve.Self))}destroy(){il(this),this._destroyed=!0;let e=be(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),be(e)}}onDestroy(e){return il(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){il(this);let n=Ir(this),i=An(void 0),r;try{return e()}finally{Ir(n),An(i)}}get(e,n=sl,i=ve.Default){if(il(this),e.hasOwnProperty(AI))return e[AI](this);i=Fd(i);let r,o=Ir(this),s=An(void 0);try{if(!(i&ve.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=lk(e)&&kd(e);u&&this.injectableDefInScope(u)?c=Ss(fg(e),od):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&ve.Self?h_():this.parent;return n=i&ve.Optional&&n===sl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[hd]=a[hd]||[]).unshift(ln(e)),o)throw a;return GP(a,e,"R3InjectorError",this.source)}else throw a}finally{An(s),Ir(o)}}resolveInjectorInitializers(){let e=be(null),n=Ir(this),i=An(void 0),r;try{let o=this.get(Ms,xn,ve.Self);for(let s of o)s()}finally{Ir(n),An(i),be(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(ln(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Qt(e);let n=Ps(e)?e:Qt(e&&e.provide),i=ok(e);if(!Ps(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Ss(void 0,od,!0),r.factory=()=>dg(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=be(null);try{return n.value===od&&(n.value=ik,n.value=n.factory()),typeof n.value=="object"&&n.value&&ak(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{be(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Qt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function fg(t){let e=kd(t),n=e!==null?e.factory:Ns(t);if(n!==null)return n;if(t instanceof X)throw new $(204,!1);if(t instanceof Function)return rk(t);throw new $(204,!1)}function rk(t){if(t.length>0)throw new $(204,!1);let n=xP(t);return n!==null?()=>n.factory(t):()=>new t}function ok(t){if(Ab(t))return Ss(void 0,t.useValue);{let e=xb(t);return Ss(e,od)}}function xb(t,e,n){let i;if(Ps(t)){let r=Qt(t);return Ns(r)||fg(r)}else if(Ab(t))i=()=>Qt(t.useValue);else if(tk(t))i=()=>t.useFactory(...dg(t.deps||[]));else if(ek(t))i=()=>re(Qt(t.useExisting));else{let r=Qt(t&&(t.useClass||t.provide));if(sk(t))i=()=>new r(...dg(t.deps));else return Ns(r)||fg(r)}return i}function il(t){if(t.destroyed)throw new $(205,!1)}function Ss(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sk(t){return!!t.deps}function ak(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function lk(t){return typeof t=="function"||typeof t=="object"&&t instanceof X}function pg(t,e){for(let n of t)Array.isArray(n)?pg(n,e):n&&gb(n)?pg(n.\u0275providers,e):e(n)}function Kn(t,e){t instanceof al&&il(t);let n,i=Ir(t),r=An(void 0);try{return e()}finally{Ir(i),An(r)}}function ck(){return _b()!==void 0||jP()!=null}function uk(t){return typeof t=="function"}var ji=0,le=1,ie=2,zt=3,Gn=4,Qn=5,ll=6,md=7,qt=8,ks=9,Fi=10,Mt=11,cl=12,NI=13,Bs=14,zn=15,_o=16,Ts=17,Li=18,Vd=19,Nb=20,br=21,Zm=22,gd=23,yn=24,Rn=25,Rb=1;var yo=7,_d=8,Os=9,Gt=10,yd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(yd||{});function Sr(t){return Array.isArray(t)&&typeof t[Rb]=="object"}function Hi(t){return Array.isArray(t)&&t[Rb]===!0}function Mb(t){return(t.flags&4)!==0}function Bd(t){return t.componentOffset>-1}function f_(t){return(t.flags&1)===1}function Tr(t){return!!t.template}function mg(t){return(t[ie]&512)!==0}var gg=class{previousValue;currentValue;firstChange;constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Pb(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}var $i=(()=>{let t=()=>kb;return t.ngInherit=!0,t})();function kb(t){return t.type.prototype.ngOnChanges&&(t.setInput=hk),dk}function dk(){let t=Fb(this),e=t?.current;if(e){let n=t.previous;if(n===Rs)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function hk(t,e,n,i,r){let o=this.declaredInputs[i],s=Fb(t)||fk(t,{previous:Rs,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new gg(u&&u.currentValue,n,c===Rs),Pb(t,e,r,n)}var Ob="__ngSimpleChanges__";function Fb(t){return t[Ob]||null}function fk(t,e){return t[Ob]=e}var RI=null;var li=function(t,e,n){RI?.(t,e,n)},pk="svg",mk="math";function ui(t){for(;Array.isArray(t);)t=t[ji];return t}function Lb(t,e){return ui(e[t])}function Pn(t,e){return ui(e[t.index])}function p_(t,e){return t.data[e]}function gk(t,e){return t[e]}function Mr(t,e){let n=e[t];return Sr(n)?n:n[ji]}function _k(t){return(t[ie]&4)===4}function m_(t){return(t[ie]&128)===128}function yk(t){return Hi(t[zt])}function Fs(t,e){return e==null?null:t[e]}function Vb(t){t[Ts]=0}function g_(t){t[ie]&1024||(t[ie]|=1024,m_(t)&&jd(t))}function vk(t,e){for(;t>0;)e=e[Bs],t--;return e}function Ud(t){return!!(t[ie]&9216||t[yn]?.dirty)}function _g(t){t[Fi].changeDetectionScheduler?.notify(9),t[ie]&64&&(t[ie]|=1024),Ud(t)&&jd(t)}function jd(t){t[Fi].changeDetectionScheduler?.notify(0);let e=vo(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!m_(e)));)e=vo(e)}function Bb(t,e){if((t[ie]&256)===256)throw new $(911,!1);t[br]===null&&(t[br]=[]),t[br].push(e)}function Ck(t,e){if(t[br]===null)return;let n=t[br].indexOf(e);n!==-1&&t[br].splice(n,1)}function vo(t){let e=t[zt];return Hi(e)?e[zt]:e}var Ce={lFrame:Kb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yg=!1;function wk(){return Ce.lFrame.elementDepthCount}function Ek(){Ce.lFrame.elementDepthCount++}function Ik(){Ce.lFrame.elementDepthCount--}function Ub(){return Ce.bindingsEnabled}function bk(){return Ce.skipHydrationRootTNode!==null}function Sk(t){return Ce.skipHydrationRootTNode===t}function Tk(){Ce.skipHydrationRootTNode=null}function Oe(){return Ce.lFrame.lView}function cn(){return Ce.lFrame.tView}function ce(t){return Ce.lFrame.contextLView=t,t[qt]}function ue(t){return Ce.lFrame.contextLView=null,t}function Yt(){let t=jb();for(;t!==null&&t.type===64;)t=t.parent;return t}function jb(){return Ce.lFrame.currentTNode}function Dk(){let t=Ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function wl(t,e){let n=Ce.lFrame;n.currentTNode=t,n.isParent=e}function Hb(){return Ce.lFrame.isParent}function Ak(){Ce.lFrame.isParent=!1}function xk(){return Ce.lFrame.contextLView}function $b(){return yg}function MI(t){let e=yg;return yg=t,e}function qb(){let t=Ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Nk(t){return Ce.lFrame.bindingIndex=t}function El(){return Ce.lFrame.bindingIndex++}function Rk(t){let e=Ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Mk(){return Ce.lFrame.inI18n}function Pk(t,e){let n=Ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,vg(e)}function kk(){return Ce.lFrame.currentDirectiveIndex}function vg(t){Ce.lFrame.currentDirectiveIndex=t}function Ok(t){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Gb(){return Ce.lFrame.currentQueryIndex}function __(t){Ce.lFrame.currentQueryIndex=t}function Fk(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[Qn]:null}function zb(t,e,n){if(n&ve.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&ve.Host);)if(r=Fk(o),r===null||(o=o[Bs],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=Ce.lFrame=Wb();return i.currentTNode=e,i.lView=t,!0}function y_(t){let e=Wb(),n=t[le];Ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Wb(){let t=Ce.lFrame,e=t===null?null:t.child;return e===null?Kb(t):e}function Kb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Qb(){let t=Ce.lFrame;return Ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Yb=Qb;function v_(){let t=Qb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Lk(t){return(Ce.lFrame.contextLView=vk(t,Ce.lFrame.contextLView))[qt]}function To(){return Ce.lFrame.selectedIndex}function Co(t){Ce.lFrame.selectedIndex=t}function Zb(){let t=Ce.lFrame;return p_(t.tView,t.selectedIndex)}function Vk(){return Ce.lFrame.currentNamespace}var Jb=!0;function C_(){return Jb}function w_(t){Jb=t}function Bk(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=kb(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function E_(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function sd(t,e,n){Xb(t,e,3,n)}function ad(t,e,n,i){(t[ie]&3)===n&&Xb(t,e,n,i)}function Jm(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function Xb(t,e,n,i){let r=i!==void 0?t[Ts]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[Ts]+=65536),(a<o||o==-1)&&(Uk(t,n,e,c),t[Ts]=(t[Ts]&4294901760)+c+2),c++}function PI(t,e){li(4,t,e);let n=be(null);try{e.call(t)}finally{be(n),li(5,t,e)}}function Uk(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[ie]>>14<t[Ts]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,PI(a,o)):PI(a,o)}var xs=-1,wo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,i){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=i}};function jk(t){return t instanceof wo}function Hk(t){return(t.flags&8)!==0}function $k(t){return(t.flags&16)!==0}function Cg(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];qk(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function eS(t){return t===3||t===4||t===6}function qk(t){return t.charCodeAt(0)===64}function ul(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?kI(t,n,r,null,e[++i]):kI(t,n,r,null,null))}}return t}function kI(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var Xm={},wg=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Fd(i);let r=this.injector.get(e,Xm,i);return r!==Xm||n===Xm?r:this.parentInjector.get(e,n,i)}};function tS(t){return t!==xs}function vd(t){return t&32767}function Gk(t){return t>>16}function Cd(t,e){let n=Gk(t),i=e;for(;n>0;)i=i[Bs],n--;return i}var Eg=!0;function OI(t){let e=Eg;return Eg=t,e}var zk=256,nS=zk-1,iS=5,Wk=0,ci={};function Kk(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(ol)&&(i=n[ol]),i==null&&(i=n[ol]=Wk++);let r=i&nS,o=1<<r;e.data[t+(r>>iS)]|=o}function wd(t,e){let n=rS(t,e);if(n!==-1)return n;let i=e[le];i.firstCreatePass&&(t.injectorIndex=e.length,eg(i.data,t),eg(e,null),eg(i.blueprint,null));let r=I_(t,e),o=t.injectorIndex;if(tS(r)){let s=vd(r),a=Cd(r,e),c=a[le].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=r,o}function eg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function I_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=cS(r),i===null)return xs;if(n++,r=r[Bs],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return xs}function Ig(t,e,n){Kk(t,e,n)}function Qk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(eS(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function oS(t,e,n){if(n&ve.Optional||t!==void 0)return t;c_(e,"NodeInjector")}function sS(t,e,n,i){if(n&ve.Optional&&i===void 0&&(i=null),!(n&(ve.Self|ve.Host))){let r=t[ks],o=An(void 0);try{return r?r.get(e,i,n&ve.Optional):yb(e,i,n&ve.Optional)}finally{An(o)}}return oS(i,e,n)}function aS(t,e,n,i=ve.Default,r){if(t!==null){if(e[ie]&2048&&!(i&ve.Self)){let s=Xk(t,e,n,i,ci);if(s!==ci)return s}let o=lS(t,e,n,i,ci);if(o!==ci)return o}return sS(e,n,i,r)}function lS(t,e,n,i,r){let o=Zk(n);if(typeof o=="function"){if(!zb(e,t,i))return i&ve.Host?oS(r,n,i):sS(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&ve.Optional))c_(n);else return s}finally{Yb()}}else if(typeof o=="number"){let s=null,a=rS(t,e),c=xs,u=i&ve.Host?e[zn][Qn]:null;for((a===-1||i&ve.SkipSelf)&&(c=a===-1?I_(t,e):e[a+8],c===xs||!LI(i,!1)?a=-1:(s=e[le],a=vd(c),e=Cd(c,e)));a!==-1;){let h=e[le];if(FI(o,a,h.data)){let p=Yk(a,e,n,s,i,u);if(p!==ci)return p}c=e[a+8],c!==xs&&LI(i,e[le].data[a+8]===u)&&FI(o,a,e)?(s=h,a=vd(c),e=Cd(c,e)):a=-1}}return r}function Yk(t,e,n,i,r,o){let s=e[le],a=s.data[t+8],c=i==null?Bd(a)&&Eg:i!=s&&(a.type&3)!==0,u=r&ve.Host&&o===a,h=ld(a,s,n,c,u);return h!==null?Eo(e,s,h,a):ci}function ld(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,h=o>>20,p=i?a:a+h,C=r?a+h:u;for(let w=p;w<C;w++){let S=s[w];if(w<c&&n===S||w>=c&&S.type===n)return w}if(r){let w=s[c];if(w&&Tr(w)&&w.type===n)return c}return null}function Eo(t,e,n,i){let r=t[n],o=e.data;if(jk(r)){let s=r;s.resolving&&FP(OP(o[n]));let a=OI(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?An(s.injectImpl):null,h=zb(t,i,ve.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&Bk(n,o[n],e)}finally{u!==null&&An(u),OI(a),s.resolving=!1,Yb()}}return r}function Zk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ol)?t[ol]:void 0;return typeof e=="number"?e>=0?e&nS:Jk:e}function FI(t,e,n){let i=1<<t;return!!(n[e+(t>>iS)]&i)}function LI(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var mo=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return aS(this._tNode,this._lView,e,Fd(i),n)}};function Jk(){return new mo(Yt(),Oe())}function hi(t){return vl(()=>{let e=t.prototype.constructor,n=e[dd]||bg(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[dd]||bg(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function bg(t){return hb(t)?()=>{let e=bg(Qt(t));return e&&e()}:Ns(t)}function Xk(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!(s[ie]&512);){let a=lS(o,s,n,i|ve.Self,ci);if(a!==ci)return a;let c=o.parent;if(!c){let u=s[Nb];if(u){let h=u.get(n,ci,i);if(h!==ci)return h}c=cS(s),s=s[Bs]}o=c}return r}function cS(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[Qn]:null}function b_(t){return Qk(Yt(),t)}function VI(t,e=null,n=null,i){let r=uS(t,e,n,i);return r.resolveInjectorInitializers(),r}function uS(t,e=null,n=null,i,r=new Set){let o=[n||xn,JP(t)];return i=i||(typeof t=="object"?void 0:ln(t)),new al(o,e||h_(),i||null,r)}var Pt=class t{static THROW_IF_NOT_FOUND=sl;static NULL=new pd;static create(e,n){if(Array.isArray(e))return VI({name:""},n,e,"");{let i=e.name??"";return VI({name:i},e.parent,e.providers,i)}}static \u0275prov=ee({token:t,providedIn:"any",factory:()=>re(Cb)});static __NG_ELEMENT_ID__=-1};var eO=new X("");eO.__NG_ELEMENT_ID__=t=>{let e=Yt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&ve.Optional)return null;throw new $(204,!1)};var dS=!1,hS=(()=>{class t{static __NG_ELEMENT_ID__=tO;static __NG_ENV_ID__=n=>n}return t})(),Sg=class extends hS{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Bb(this._lView,e),()=>Ck(this._lView,e)}};function tO(){return new Sg(Oe())}var dl=class{},Hd=new X("",{providedIn:"root",factory:()=>!1});var fS=new X(""),pS=new X(""),Us=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Rt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}return t})();var Tg=class extends dt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ck()&&(this.destroyRef=W(hS,{optional:!0})??void 0,this.pendingTasks=W(Us,{optional:!0})??void 0)}emit(e){let n=be(null);try{super.next(e)}finally{be(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof nt&&e.add(a),a}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},Et=Tg;function Ed(...t){}function mS(t){let e,n;function i(){t=Ed;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),i()})),()=>i()}function BI(t){return queueMicrotask(()=>t()),()=>{t=Ed}}var S_="isAngularZone",Id=S_+"_ID",nO=0,Le=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Et(!1);onMicrotaskEmpty=new Et(!1);onStable=new Et(!1);onError=new Et(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=dS}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,oO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(S_)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,iO,Ed,Ed);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},iO={};function T_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rO(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){mS(()=>{t.callbackScheduled=!1,Dg(t),t.isCheckStableRunning=!0,T_(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Dg(t)}function oO(t){let e=()=>{rO(t)},n=nO++;t._inner=t._inner.fork({name:"angular",properties:{[S_]:!0,[Id]:n,[Id+n]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(sO(c))return i.invokeTask(o,s,a,c);try{return UI(t),i.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),jI(t)}},onInvoke:(i,r,o,s,a,c,u)=>{try{return UI(t),i.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!aO(c)&&e(),jI(t)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Dg(t),T_(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Dg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function UI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jI(t){t._nesting--,T_(t)}var Ag=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Et;onMicrotaskEmpty=new Et;onStable=new Et;onError=new Et;run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function sO(t){return gS(t,"__ignore_ng_zone__")}function aO(t){return gS(t,"__scheduler_tick__")}function gS(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Dr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},lO=new X("",{providedIn:"root",factory:()=>{let t=W(Le),e=W(Dr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function HI(t,e){return db(t,e)}function cO(t){return db(ub,t)}var _S=(HI.required=cO,HI);function uO(){return js(Yt(),Oe())}function js(t,e){return new Zt(Pn(t,e))}var Zt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=uO}return t})();function dO(t){return t instanceof Zt?t.nativeElement:t}function hO(){return this._results[Symbol.iterator]()}var xg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new dt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=KP(e);(this._changesDetected=!WP(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=hO};function yS(t){return(t.flags&128)===128}var vS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vS||{}),CS=new Map,fO=0;function pO(){return fO++}function mO(t){CS.set(t[Vd],t)}function Ng(t){CS.delete(t[Vd])}var $I="__ngContext__";function Io(t,e){Sr(e)?(t[$I]=e[Vd],mO(e)):t[$I]=e}function wS(t){return IS(t[cl])}function ES(t){return IS(t[Gn])}function IS(t){for(;t!==null&&!Hi(t);)t=t[Gn];return t}var Rg;function bS(t){Rg=t}function gO(){if(Rg!==void 0)return Rg;if(typeof document<"u")return document;throw new $(210,!1)}var D_=new X("",{providedIn:"root",factory:()=>_O}),_O="ng",A_=new X(""),Pr=new X("",{providedIn:"platform",factory:()=>"unknown"});var x_=new X(""),N_=new X("",{providedIn:"root",factory:()=>gO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yO="h",vO="b";var SS=!1,CO=new X("",{providedIn:"root",factory:()=>SS});var TS=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(TS||{}),DS=new X(""),qI=new Set;function qi(t){qI.has(t)||(qI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var wO=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}return t})();var EO=()=>null;function R_(t,e,n=!1){return EO(t,e,n)}var di=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(di||{});var td;function IO(){if(td===void 0&&(td=null,lg.trustedTypes))try{td=lg.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return td}function GI(t){return IO()?.createScriptURL(t)||t}var bd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cb})`}};function Il(t){return t instanceof bd?t.changingThisBreaksApplicationSecurity:t}function M_(t,e){let n=bO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${cb})`)}return n===e}function bO(t){return t instanceof bd&&t.getTypeName()||null}var SO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function AS(t){return t=String(t),t.match(SO)?t:"unsafe:"+t}var $d=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}($d||{});function TO(t){let e=NS();return e?e.sanitize($d.URL,t)||"":M_(t,"URL")?Il(t):AS(Od(t))}function DO(t){let e=NS();if(e)return GI(e.sanitize($d.RESOURCE_URL,t)||"");if(M_(t,"ResourceURL"))return GI(Il(t));throw new $(904,!1)}function AO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?DO:TO}function xS(t,e,n){return AO(e,n)(t)}function NS(){let t=Oe();return t&&t[Fi].sanitizer}function RS(t){return t.ownerDocument.defaultView}function MS(t){return t instanceof Function?t():t}var Ar=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ar||{}),Vi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vi||{}),xO;function P_(t,e){return xO(t,e)}function Ds(t,e,n,i,r){if(i!=null){let o,s=!1;Hi(i)?o=i:Sr(i)&&(s=!0,i=i[ji]);let a=ui(i);t===0&&n!==null?r==null?FS(e,n,a):Sd(e,n,a,r||null,!0):t===1&&n!==null?Sd(e,n,a,r||null,!0):t===2?qO(e,a,s):t===3&&e.destroyNode(a),o!=null&&zO(e,t,o,n,r)}}function NO(t,e){return t.createText(e)}function RO(t,e,n){t.setValue(e,n)}function PS(t,e,n){return t.createElement(e,n)}function MO(t,e){kS(t,e),e[ji]=null,e[Qn]=null}function PO(t,e,n,i,r,o){i[ji]=r,i[Qn]=e,Gd(t,i,n,1,r,o)}function kS(t,e){e[Fi].changeDetectionScheduler?.notify(10),Gd(t,e,e[Mt],2,null,null)}function kO(t){let e=t[cl];if(!e)return tg(t[le],t);for(;e;){let n=null;if(Sr(e))n=e[cl];else{let i=e[Gt];i&&(n=i)}if(!n){for(;e&&!e[Gn]&&e!==t;)Sr(e)&&tg(e[le],e),e=e[zt];e===null&&(e=t),Sr(e)&&tg(e[le],e),n=e&&e[Gn]}e=n}}function OO(t,e,n,i){let r=Gt+i,o=n.length;i>0&&(n[r-1][Gn]=e),i<o-Gt?(e[Gn]=n[r],vb(n,Gt+i,e)):(n.push(e),e[Gn]=null),e[zt]=n;let s=e[_o];s!==null&&n!==s&&OS(s,e);let a=e[Li];a!==null&&a.insertView(t),_g(e),e[ie]|=128}function OS(t,e){let n=t[Os],i=e[zt];if(Sr(i))t[ie]|=yd.HasTransplantedViews;else{let r=i[zt][zn];e[zn]!==r&&(t[ie]|=yd.HasTransplantedViews)}n===null?t[Os]=[e]:n.push(e)}function k_(t,e){let n=t[Os],i=n.indexOf(e);n.splice(i,1)}function hl(t,e){if(t.length<=Gt)return;let n=Gt+e,i=t[n];if(i){let r=i[_o];r!==null&&r!==t&&k_(r,i),e>0&&(t[n-1][Gn]=i[Gn]);let o=fd(t,Gt+e);MO(i[le],i);let s=o[Li];s!==null&&s.detachView(o[le]),i[zt]=null,i[Gn]=null,i[ie]&=-129}return i}function qd(t,e){if(!(e[ie]&256)){let n=e[Mt];n.destroyNode&&Gd(t,e,n,3,null,null),kO(e)}}function tg(t,e){if(e[ie]&256)return;let n=be(null);try{e[ie]&=-129,e[ie]|=256,e[yn]&&Wm(e[yn]),LO(t,e),FO(t,e),e[le].type===1&&e[Mt].destroy();let i=e[_o];if(i!==null&&Hi(e[zt])){i!==e[zt]&&k_(i,e);let r=e[Li];r!==null&&r.detachView(t)}Ng(e)}finally{be(n)}}function FO(t,e){let n=t.cleanup,i=e[md];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(e[md]=null);let r=e[br];if(r!==null){e[br]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[gd];if(o!==null){e[gd]=null;for(let s of o)s.destroy()}}function LO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof wo)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];li(4,a,c);try{c.call(a)}finally{li(5,a,c)}}else{li(4,r,o);try{o.call(r)}finally{li(5,r,o)}}}}}function VO(t,e,n){return BO(t,e.parent,n)}function BO(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[ji];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===di.None||o===di.Emulated)return null}return Pn(i,n)}}function Sd(t,e,n,i,r){t.insertBefore(e,n,i,r)}function FS(t,e,n){t.appendChild(e,n)}function zI(t,e,n,i,r){i!==null?Sd(t,e,n,i,r):FS(t,e,n)}function LS(t,e){return t.parentNode(e)}function UO(t,e){return t.nextSibling(e)}function jO(t,e,n){return $O(t,e,n)}function HO(t,e,n){return t.type&40?Pn(t,n):null}var $O=HO,WI;function O_(t,e,n,i){let r=VO(t,i,e),o=e[Mt],s=i.parent||e[Qn],a=jO(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)zI(o,r,n[c],a,!1);else zI(o,r,n,a,!1);WI!==void 0&&WI(o,i,e,n,r)}function rl(t,e){if(e!==null){let n=e.type;if(n&3)return Pn(e,t);if(n&4)return Mg(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return rl(t,i);{let r=t[e.index];return Hi(r)?Mg(-1,r):ui(r)}}else{if(n&128)return rl(t,e.next);if(n&32)return P_(e,t)()||ui(t[e.index]);{let i=VS(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=vo(t[zn]);return rl(r,i)}else return rl(t,e.next)}}}return null}function VS(t,e){if(e!==null){let i=t[zn][Qn],r=e.projection;return i.projection[r]}return null}function Mg(t,e){let n=Gt+t+1;if(n<e.length){let i=e[n],r=i[le].firstChild;if(r!==null)return rl(i,r)}return e[yo]}function qO(t,e,n){t.removeChild(null,e,n)}function F_(t,e,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],c=n.type;if(s&&e===0&&(a&&Io(ui(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)F_(t,e,n.child,i,r,o,!1),Ds(e,t,r,a,o);else if(c&32){let u=P_(n,i),h;for(;h=u();)Ds(e,t,r,h,o);Ds(e,t,r,a,o)}else c&16?GO(t,e,i,n,r,o):Ds(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Gd(t,e,n,i,r,o){F_(n,i,t.firstChild,e,r,o,!1)}function GO(t,e,n,i,r,o){let s=n[zn],c=s[Qn].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let h=c[u];Ds(e,t,r,h,o)}else{let u=c,h=s[zt];yS(i)&&(u.flags|=128),F_(t,e,u,h,r,o,!0)}}function zO(t,e,n,i,r){let o=n[yo],s=ui(n);o!==s&&Ds(e,t,i,o,r);for(let a=Gt;a<n.length;a++){let c=n[a];Gd(c[le],c,t,e,i,o)}}function WO(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Vi.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Vi.Important),t.setStyle(n,i,r,o))}}function KO(t,e,n){t.setAttribute(e,"style",n)}function BS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function US(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Cg(t,e,i),r!==null&&BS(t,e,r),o!==null&&KO(t,e,o)}function QO(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}var jS="ng-template";function YO(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&QO(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(L_(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function L_(t){return t.type===4&&t.value!==jS}function ZO(t,e,n){let i=t.type===4&&!n?jS:t.value;return e===i}function JO(t,e,n){let i=4,r=t.attrs,o=r!==null?tF(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!qn(i)&&!qn(c))return!1;if(s&&qn(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!ZO(t,c,n)||c===""&&e.length===1){if(qn(i))return!1;s=!0}}else if(i&8){if(r===null||!YO(t,r,c,n)){if(qn(i))return!1;s=!0}}else{let u=e[++a],h=XO(c,r,L_(t),n);if(h===-1){if(qn(i))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=r[h+1].toLowerCase(),i&2&&u!==p){if(qn(i))return!1;s=!0}}}}return qn(i)||s}function qn(t){return(t&1)===0}function XO(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return nF(e,t)}function eF(t,e,n=!1){for(let i=0;i<e.length;i++)if(JO(t,e[i],n))return!0;return!1}function tF(t){for(let e=0;e<t.length;e++){let n=t[e];if(eS(n))return e}return t.length}function nF(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function KI(t,e){return t?":not("+e.trim()+")":e}function iF(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!qn(s)&&(e+=KI(o,r),r=""),i=s,o=o||!qn(i);n++}return r!==""&&(e+=KI(o,r)),e}function rF(t){return t.map(iF).join(",")}function oF(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!qn(r))break;r=o}i++}return{attrs:e,classes:n}}var kr={};function _(t=1){HS(cn(),Oe(),To()+t,!1)}function HS(t,e,n,i){if(!i)if((e[ie]&3)===3){let o=t.preOrderCheckHooks;o!==null&&sd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ad(e,o,0,n)}Co(n)}function U(t,e=ve.Default){let n=Oe();if(n===null)return re(t,e);let i=Yt();return aS(i,n,Qt(t),e)}function $S(t,e,n,i,r,o){let s=be(null);try{let a=null;r&Ar.SignalBased&&(a=e[i][Dn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Ar.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):Pb(e,a,i,o)}finally{be(s)}}function sF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Co(~r);else{let o=r,s=n[++i],a=n[++i];Pk(s,o);let c=e[o];a(2,c)}}}finally{Co(-1)}}function zd(t,e,n,i,r,o,s,a,c,u,h){let p=e.blueprint.slice();return p[ji]=r,p[ie]=i|4|128|8|64|1024,(u!==null||t&&t[ie]&2048)&&(p[ie]|=2048),Vb(p),p[zt]=p[Bs]=t,p[qt]=n,p[Fi]=s||t&&t[Fi],p[Mt]=a||t&&t[Mt],p[ks]=c||t&&t[ks]||null,p[Qn]=o,p[Vd]=pO(),p[ll]=h,p[Nb]=u,p[zn]=e.type==2?t[zn]:p,p}function Wd(t,e,n,i,r){let o=t.data[e];if(o===null)o=aF(t,e,n,i,r),Mk()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=Dk();o.injectorIndex=s===null?-1:s.injectorIndex}return wl(o,!0),o}function aF(t,e,n,i,r){let o=jb(),s=Hb(),a=s?o:o&&o.parent,c=t.data[e]=fF(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function qS(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function GS(t,e,n,i,r){let o=To(),s=i&2;try{Co(-1),s&&e.length>Rn&&HS(t,e,Rn,!1),li(s?2:0,r),n(i,r)}finally{Co(o),li(s?3:1,r)}}function zS(t,e,n){if(Mb(e)){let i=be(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{be(i)}}}function WS(t,e,n){Ub()&&(CF(t,e,n,Pn(n,e)),(n.flags&64)===64&&JS(t,e,n))}function KS(t,e,n=Pn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function QS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=V_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function V_(t,e,n,i,r,o,s,a,c,u,h){let p=Rn+i,C=p+r,w=lF(p,C),S=typeof u=="function"?u():u;return w[le]={type:t,blueprint:w,template:n,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:S,incompleteFirstPass:!1,ssrId:h}}function lF(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:kr);return n}function cF(t,e,n,i){let o=i.get(CO,SS)||n===di.ShadowDom,s=t.selectRootElement(e,o);return uF(s),s}function uF(t){dF(t)}var dF=()=>null;function hF(t,e,n,i){let r=nT(e);r.push(n),t.firstCreatePass&&iT(t).push(i,r.length-1)}function fF(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return bk()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function QI(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=Ar.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}t===0?YI(i,n,u,a,c):YI(i,n,u,a)}return i}function YI(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function pF(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let h=i;h<r;h++){let p=o[h],C=n?n.get(p):null,w=C?C.inputs:null,S=C?C.outputs:null;c=QI(0,p.inputs,h,c,w),u=QI(1,p.outputs,h,u,S);let O=c!==null&&s!==null&&!L_(e)?RF(c,h,s):null;a.push(O)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function mF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function gF(t,e,n,i,r,o,s,a){let c=Pn(e,n),u=e.inputs,h;!a&&u!=null&&(h=u[i])?(B_(t,n,h,i,r),Bd(e)&&_F(n,e.index)):e.type&3?(i=mF(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function _F(t,e){let n=Mr(e,t);n[ie]&16||(n[ie]|=64)}function YS(t,e,n,i){if(Ub()){let r=i===null?null:{"":-1},o=EF(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&ZS(t,e,n,s,r,a),r&&IF(n,i,r)}n.mergedAttrs=ul(n.mergedAttrs,n.attrs)}function ZS(t,e,n,i,r,o){for(let u=0;u<i.length;u++)Ig(wd(n,e),t,i[u].type);SF(n,t.data.length,i.length);for(let u=0;u<i.length;u++){let h=i[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=qS(t,e,i.length,null);for(let u=0;u<i.length;u++){let h=i[u];n.mergedAttrs=ul(n.mergedAttrs,h.hostAttrs),TF(t,n,e,c,h),bF(c,h,r),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}pF(t,n,o)}function yF(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;vF(s)!=a&&s.push(a),s.push(n,i,o)}}function vF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function CF(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;Bd(n)&&DF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||wd(n,e),Io(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],u=Eo(e,t,a,n);if(Io(u,e),s!==null&&NF(e,a-r,u,c,n,s),Tr(c)){let h=Mr(n.index,e);h[qt]=Eo(e,t,a,n)}}}function JS(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=kk();try{Co(o);for(let a=i;a<r;a++){let c=t.data[a],u=e[a];vg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&wF(c,u)}}finally{Co(-1),vg(s)}}function wF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function EF(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(eF(e,s.selectors,!1))if(i||(i=[]),Tr(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;Pg(t,e,c)}else i.unshift(s),Pg(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Pg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function IF(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new $(-301,!1);i.push(e[r],o)}}}function bF(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Tr(e)&&(n[""]=t)}}function SF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function TF(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Ns(r.type,!0)),s=new wo(o,Tr(r),U);t.blueprint[i]=s,n[i]=s,yF(t,e,i,qS(t,n,r.hostVars,kr),r)}function XS(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function DF(t,e,n){let i=Pn(e,t),r=QS(n),o=t[Fi].rendererFactory,s=Kd(t,zd(t,r,null,XS(n),i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=s}function AF(t,e,n,i,r,o){let s=Pn(t,e);xF(e[Mt],s,o,t.value,n,i,r)}function xF(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Od(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function NF(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],h=s[a++],p=s[a++];$S(i,n,c,u,h,p)}}function RF(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function eT(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function tT(t,e){let n=t.contentQueries;if(n!==null){let i=be(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];__(o),a.contentQueries(2,e[s],s)}}}finally{be(i)}}}function Kd(t,e){return t[cl]?t[NI][Gn]=e:t[cl]=e,t[NI]=e,e}function kg(t,e,n){__(0);let i=be(null);try{e(t,n)}finally{be(i)}}function nT(t){return t[md]??=[]}function iT(t){return t.cleanup??=[]}function rT(t,e){let n=t[ks],i=n?n.get(Dr,null):null;i&&i.handleError(e)}function B_(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],h=t.data[s];$S(h,u,i,a,c,r)}}function MF(t,e,n){let i=Lb(e,t);RO(t[Mt],i,n)}function PF(t,e){let n=Mr(e,t),i=n[le];kF(i,n);let r=n[ji];r!==null&&n[ll]===null&&(n[ll]=R_(r,n[ks])),U_(i,n,n[qt])}function kF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function U_(t,e,n){y_(e);try{let i=t.viewQuery;i!==null&&kg(1,i,n);let r=t.template;r!==null&&GS(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Li]?.finishViewCreation(t),t.staticContentQueries&&tT(t,e),t.staticViewQueries&&kg(2,t.viewQuery,n);let o=t.components;o!==null&&OF(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[ie]&=-5,v_()}}function OF(t,e){for(let n=0;n<e.length;n++)PF(t,e[n])}function Qd(t,e,n,i){let r=be(null);try{let o=e.tView,a=t[ie]&4096?4096:16,c=zd(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=t[e.index];c[_o]=u;let h=t[Li];return h!==null&&(c[Li]=h.createEmbeddedView(o)),U_(o,c,n),c}finally{be(r)}}function oT(t,e){let n=Gt+e;if(n<t.length)return t[n]}function fl(t,e){return!e||e.firstChild===null||yS(t)}function Yd(t,e,n,i=!0){let r=e[le];if(OO(r,e,t,n),i){let s=Mg(n,t),a=e[Mt],c=LS(a,t[yo]);c!==null&&PO(r,t[Qn],a,e,c,s)}let o=e[ll];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sT(t,e){let n=hl(t,e);return n!==void 0&&qd(n[le],n),n}function Td(t,e,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&i.push(ui(o)),Hi(o)&&FF(o,i);let s=n.type;if(s&8)Td(t,e,n.child,i);else if(s&32){let a=P_(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=VS(e,n);if(Array.isArray(a))i.push(...a);else{let c=vo(e[zn]);Td(c[le],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function FF(t,e){for(let n=Gt;n<t.length;n++){let i=t[n],r=i[le].firstChild;r!==null&&Td(i[le],i,r,e)}t[yo]!==t[ji]&&e.push(t[yo])}var aT=[];function LF(t){return t[yn]??VF(t)}function VF(t){let e=aT.pop()??Object.create(UF);return e.lView=t,e}function BF(t){t.lView[yn]!==t&&(t.lView=null,aT.push(t))}var UF=_e(V({},nl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{jd(t.lView)},consumerOnSignalRead(){this.lView[yn]=this}});function jF(t){let e=t[yn]??Object.create(HF);return e.lView=t,e}var HF=_e(V({},nl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=vo(t.lView);for(;e&&!lT(e[le]);)e=vo(e);e&&g_(e)},consumerOnSignalRead(){this.lView[yn]=this}});function lT(t){return t.type!==2}function cT(t){if(t[gd]===null)return;let e=!0;for(;e;){let n=!1;for(let i of t[gd])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=n&&!!(t[ie]&8192)}}var $F=100;function uT(t,e=!0,n=0){let r=t[Fi].rendererFactory,o=!1;o||r.begin?.();try{qF(t,n)}catch(s){throw e&&rT(t,s),s}finally{o||r.end?.()}}function qF(t,e){let n=$b();try{MI(!0),Og(t,e);let i=0;for(;Ud(t);){if(i===$F)throw new $(103,!1);i++,Og(t,1)}}finally{MI(n)}}function GF(t,e,n,i){let r=e[ie];if((r&256)===256)return;let o=!1,s=!1;y_(e);let a=!0,c=null,u=null;o||(lT(t)?(u=LF(e),c=Yu(u)):hI()===null?(a=!1,u=jF(e),c=Yu(u)):e[yn]&&(Wm(e[yn]),e[yn]=null));try{Vb(e),Nk(t.bindingStartIndex),n!==null&&GS(t,e,n,2,i);let h=(r&3)===3;if(!o)if(h){let w=t.preOrderCheckHooks;w!==null&&sd(e,w,null)}else{let w=t.preOrderHooks;w!==null&&ad(e,w,0,null),Jm(e,0)}if(s||zF(e),cT(e),dT(e,0),t.contentQueries!==null&&tT(t,e),!o)if(h){let w=t.contentCheckHooks;w!==null&&sd(e,w)}else{let w=t.contentHooks;w!==null&&ad(e,w,1),Jm(e,1)}sF(t,e);let p=t.components;p!==null&&fT(e,p,0);let C=t.viewQuery;if(C!==null&&kg(2,C,i),!o)if(h){let w=t.viewCheckHooks;w!==null&&sd(e,w)}else{let w=t.viewHooks;w!==null&&ad(e,w,2),Jm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zm]){for(let w of e[Zm])w();e[Zm]=null}o||(e[ie]&=-73)}catch(h){throw o||jd(e),h}finally{u!==null&&(Gm(u,c),a&&BF(u)),v_()}}function dT(t,e){for(let n=wS(t);n!==null;n=ES(n))for(let i=Gt;i<n.length;i++){let r=n[i];hT(r,e)}}function zF(t){for(let e=wS(t);e!==null;e=ES(e)){if(!(e[ie]&yd.HasTransplantedViews))continue;let n=e[Os];for(let i=0;i<n.length;i++){let r=n[i];g_(r)}}}function WF(t,e,n){let i=Mr(e,t);hT(i,n)}function hT(t,e){m_(t)&&Og(t,e)}function Og(t,e){let i=t[le],r=t[ie],o=t[yn],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&zm(o)),s||=!1,o&&(o.dirty=!1),t[ie]&=-9217,s)GF(i,t,i.template,t[qt]);else if(r&8192){cT(t),dT(t,1);let a=i.components;a!==null&&fT(t,a,1)}}function fT(t,e,n){for(let i=0;i<e.length;i++)WF(t,e[i],n)}function j_(t,e){let n=$b()?64:1088;for(t[Fi].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let i=vo(t);if(mg(t)&&!i)return t;t=i}return null}var bo=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[le];return Td(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i}get context(){return this._lView[qt]}get dirty(){return!!(this._lView[ie]&9280)||!!this._lView[yn]?.dirty}set context(e){this._lView[qt]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[zt];if(Hi(e)){let n=e[_d],i=n?n.indexOf(this):-1;i>-1&&(hl(e,i),fd(n,i))}this._attachedToViewContainer=!1}qd(this._lView[le],this._lView)}onDestroy(e){Bb(this._lView,e)}markForCheck(){j_(this._cdRefInjectingView||this._lView,4)}markForRefresh(){g_(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){_g(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,uT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=mg(this._lView),n=this._lView[_o];n!==null&&!e&&k_(n,this._lView),kS(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=mg(this._lView),i=this._lView[_o];i!==null&&!n&&OS(i,this._lView),_g(this._lView)}},pl=(()=>{class t{static __NG_ELEMENT_ID__=YF}return t})(),KF=pl,QF=class extends KF{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=Qd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new bo(r)}};function YF(){return H_(Yt(),Oe())}function H_(t,e){return t.type&4?new QF(e,t,js(t,e)):null}var Zte=new RegExp(`^(\\d+)*(${vO}|${yO})*(.*)`);var ZF=()=>null;function ml(t,e){return ZF(t,e)}var Fg=class{},Dd=class{},Lg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${ln(e)}.`)}},Ls=class{static NULL=new Lg},xr=class{},Yn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>JF()}return t})();function JF(){let t=Oe(),e=Yt(),n=Mr(e.index,t);return(Sr(n)?n:t)[Mt]}var XF=(()=>{class t{static \u0275prov=ee({token:t,providedIn:"root",factory:()=>null})}return t})();function Vg(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=bI(r,a);else if(o==2){let c=a,u=e[++s];i=bI(i,c+": "+u+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Ad=class extends Ls{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=go(e);return new gl(n,this.ngModule)}};function ZI(t,e){let n=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let r=t[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Ar.None;e?n.push({propName:s,templateName:i,isSignal:(a&Ar.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function e2(t){let e=t.toLowerCase();return e==="svg"?pk:e==="math"?mk:null}var gl=class extends Dd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,i=ZI(e.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return ZI(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=rF(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=be(null);try{r=r||this.ngModule;let s=r instanceof Nn?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new wg(e,s):e,c=a.get(xr,null);if(c===null)throw new $(407,!1);let u=a.get(XF,null),h=a.get(dl,null),p={rendererFactory:c,sanitizer:u,changeDetectionScheduler:h},C=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",S=i?cF(C,i,this.componentDef.encapsulation,a):PS(C,w,e2(w)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let B=null;S!==null&&(B=R_(S,a,!0));let z=V_(0,null,null,1,0,null,null,null,null,null,null),J=zd(null,z,null,O,null,null,p,C,a,null,B);y_(J);let ne,de,st=null;try{let ye=this.componentDef,A,E=null;ye.findHostDirectiveDefs?(A=[],E=new Map,ye.findHostDirectiveDefs(ye,A,E),A.push(ye)):A=[ye];let T=t2(J,S);st=n2(T,S,ye,A,J,p,C),de=p_(z,Rn),S&&o2(C,ye,S,i),n!==void 0&&s2(de,this.ngContentSelectors,n),ne=r2(st,ye,A,E,J,[a2]),U_(z,J,null)}catch(ye){throw st!==null&&Ng(st),Ng(J),ye}finally{v_()}return new Bg(this.componentType,ne,js(de,J),J,de)}finally{be(o)}}},Bg=class extends Fg{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new bo(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;B_(o[le],o,r,e,n),this.previousInputValues.set(e,n);let s=Mr(this._tNode.index,o);j_(s,1)}}get injector(){return new mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function t2(t,e){let n=t[le],i=Rn;return t[i]=e,Wd(n,i,2,"#host",null)}function n2(t,e,n,i,r,o,s){let a=r[le];i2(i,t,e,s);let c=null;e!==null&&(c=R_(e,r[ks]));let u=o.rendererFactory.createRenderer(e,n),h=zd(r,QS(n),null,XS(n),r[t.index],t,o,u,null,null,c);return a.firstCreatePass&&Pg(a,t,i.length-1),Kd(r,h),r[t.index]=h}function i2(t,e,n,i){for(let r of t)e.mergedAttrs=ul(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Vg(e,e.mergedAttrs,!0),n!==null&&US(i,n,e))}function r2(t,e,n,i,r,o){let s=Yt(),a=r[le],c=Pn(s,r);ZS(a,r,s,n,null,i);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,C=Eo(r,a,p,s);Io(C,r)}JS(a,r,s),c&&Io(c,r);let u=Eo(r,a,s.directiveStart+s.componentOffset,s);if(t[qt]=r[qt]=u,o!==null)for(let h of o)h(u,e);return zS(a,s,r),u}function o2(t,e,n,i){if(i)Cg(t,n,["ng-version","19.0.3"]);else{let{attrs:r,classes:o}=oF(e.selectors[0]);r&&Cg(t,n,r),o&&o.length>0&&BS(t,n,o.join(" "))}}function s2(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}function a2(){let t=Yt();E_(Oe()[le],t)}var Hs=(()=>{class t{static __NG_ELEMENT_ID__=l2}return t})();function l2(){let t=Yt();return mT(t,Oe())}var c2=Hs,pT=class extends c2{_lContainer;_hostTNode;_hostLView;constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return js(this._hostTNode,this._hostLView)}get injector(){return new mo(this._hostTNode,this._hostLView)}get parentInjector(){let e=I_(this._hostTNode,this._hostLView);if(tS(e)){let n=Cd(e,this._hostLView),i=vd(e),r=n[le].data[i+8];return new mo(r,n)}else return new mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=JI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=ml(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,fl(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!uk(e),a;if(s)a=n;else{let S=n||{};a=S.index,i=S.injector,r=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let c=s?e:new gl(go(e)),u=i||this.parentInjector;if(!o&&c.ngModule==null){let O=(s?u:this.parentInjector).get(Nn,null);O&&(o=O)}let h=go(c.componentType??{}),p=ml(this._lContainer,h?.id??null),C=p?.firstChild??null,w=c.create(u,r,C,o);return this.insertImpl(w.hostView,a,fl(this._hostTNode,p)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(yk(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[zt],u=new pT(c,c[Qn],c[zt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Yd(s,r,o,i),e.attachToViewContainerRef(),vb(ng(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=JI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=hl(this._lContainer,n);i&&(fd(ng(this._lContainer),n),qd(i[le],i))}detach(e){let n=this._adjustIndex(e,-1),i=hl(this._lContainer,n);return i&&fd(ng(this._lContainer),n)!=null?new bo(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function JI(t){return t[_d]}function ng(t){return t[_d]||(t[_d]=[])}function mT(t,e){let n,i=e[t.index];return Hi(i)?n=i:(n=eT(i,e,null,t),e[t.index]=n,Kd(e,n)),d2(n,e,t,i),new pT(n,t,e)}function u2(t,e){let n=t[Mt],i=n.createComment(""),r=Pn(e,t),o=LS(n,r);return Sd(n,o,i,UO(n,r),!1),i}var d2=p2,h2=()=>!1;function f2(t,e,n){return h2(t,e,n)}function p2(t,e,n,i){if(t[yo])return;let r;n.type&8?r=ui(i):r=u2(e,n),t[yo]=r}var Ug=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},jg=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)$_(e,n).matches!==null&&this.queries[n].setDirty()}},Hg=class{flags;read;predicate;constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=E2(e):this.predicate=e}},$g=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},qg=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,m2(n,o)),this.matchTNodeWithReadOption(e,n,ld(n,e,o,!1,!1))}else i===pl?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ld(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Zt||r===Hs||r===pl&&n.type&4)this.addMatch(n.index,-2);else{let o=ld(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function m2(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function g2(t,e){return t.type&11?js(t,e):t.type&4?H_(t,e):null}function _2(t,e,n,i){return n===-1?g2(e,t):n===-2?y2(t,e,i):Eo(t,t[le],n,e)}function y2(t,e,n){if(n===Zt)return js(e,t);if(n===pl)return H_(e,t);if(n===Hs)return mT(e,t)}function gT(t,e,n,i){let r=e[Li].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let h=o[u];a.push(_2(e,h,s[c+1],n.metadata.read))}}r.matches=a}return r.matches}function Gg(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=gT(t,e,r,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let u=o[a+1],h=e[-c];for(let p=Gt;p<h.length;p++){let C=h[p];C[_o]===C[zt]&&Gg(C[le],C,u,i)}if(h[Os]!==null){let p=h[Os];for(let C=0;C<p.length;C++){let w=p[C];Gg(w[le],w,u,i)}}}}}return i}function v2(t,e){return t[Li].queries[e].queryList}function C2(t,e,n){let i=new xg((n&4)===4);return hF(t,e,i,i.destroy),(e[Li]??=new jg).queries.push(new Ug(i))-1}function w2(t,e,n,i){let r=cn();if(r.firstCreatePass){let o=Yt();I2(r,new Hg(e,n,i),o.index),b2(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return C2(r,Oe(),n)}function E2(t){return t.split(",").map(e=>e.trim())}function I2(t,e,n){t.queries===null&&(t.queries=new $g),t.queries.track(new qg(e,n))}function b2(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function $_(t,e){return t.queries.getByIndex(e)}function S2(t,e){let n=t[le],i=$_(n,e);return i.crossesNgTemplate?Gg(n,t,e,[]):gT(n,t,i,e)}function bl(t,e){qi("NgSignals");let n=EI(t),i=n[Dn];return e?.equal&&(i.equal=e.equal),n.set=r=>Xu(i,r),n.update=r=>II(i,r),n.asReadonly=T2.bind(n),n}function T2(){let t=this[Dn];if(t.readonlyFn===void 0){let e=()=>this();e[Dn]=t,t.readonlyFn=e}return t.readonlyFn}var Nr=class{},_l=class{};var zg=class extends Nr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ad(this);constructor(e,n,i,r=!0){super(),this.ngModuleType=e,this._parent=n;let o=Eb(e);this._bootstrapComponents=MS(o.bootstrap),this._r3Injector=uS(e,n,[{provide:Nr,useValue:this},{provide:Ls,useValue:this.componentFactoryResolver},...i],ln(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wg=class extends _l{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new zg(this.moduleType,e,[])}};var xd=class extends Nr{injector;componentFactoryResolver=new Ad(this);instance=null;constructor(e){super();let n=new al([...e.providers,{provide:Nr,useValue:this},{provide:Ls,useValue:this.componentFactoryResolver}],e.parent||h_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function q_(t,e,n=null){return new xd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var D2=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Tb(!1,n.type),r=i.length>0?q_([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ee({token:t,providedIn:"environment",factory:()=>new t(re(Nn))})}return t})();function pe(t){return vl(()=>{let e=_T(t),n=_e(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(D2).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||di.Emulated,styles:t.styles||xn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&qi("NgStandalone"),yT(n);let i=t.dependencies;return n.directiveDefs=eb(i,!1),n.pipeDefs=eb(i,!0),n.id=N2(n),n})}function A2(t){return go(t)||Ib(t)}function x2(t){return t!==null}function Or(t){return vl(()=>({type:t.type,bootstrap:t.bootstrap||xn,declarations:t.declarations||xn,imports:t.imports||xn,exports:t.exports||xn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function XI(t,e){if(t==null)return Rs;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=Ar.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==Ar.None?[i,a]:i,e[o]=s):n[o]=i}return n}function Je(t){return vl(()=>{let e=_T(t);return yT(e),e})}function _T(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Rs,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||xn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XI(t.inputs,e),outputs:XI(t.outputs),debugInfo:null}}function yT(t){t.features?.forEach(e=>e(t))}function eb(t,e){if(!t)return null;let n=e?bb:A2;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(x2)}function N2(t){let e=0,n=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function R2(t){return Object.getPrototypeOf(t.prototype).constructor}function vn(t){let e=R2(t.type),n=!0,i=[t];for(;e;){let r;if(Tr(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=nd(t.inputs),s.inputTransforms=nd(t.inputTransforms),s.declaredInputs=nd(t.declaredInputs),s.outputs=nd(t.outputs);let a=r.hostBindings;a&&F2(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&k2(t,c),u&&O2(t,u),M2(t,r),DP(t.outputs,r.outputs),Tr(r)&&r.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===vn&&(n=!1)}}e=Object.getPrototypeOf(e)}P2(i)}function M2(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function P2(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ul(r.hostAttrs,n=ul(n,r.hostAttrs))}}function nd(t){return t===Rs?{}:t===xn?[]:t}function k2(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function O2(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function F2(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function G_(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}function vT(t,e,n){return t[e]=n}function Bi(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function L2(t,e,n,i){let r=Bi(t,e,n);return Bi(t,e+1,i)||r}function V2(t){return(t.flags&32)===32}function B2(t,e,n,i,r,o,s,a,c){let u=e.consts,h=Wd(e,t,4,s||null,a||null);YS(e,n,h,Fs(u,c)),E_(e,h);let p=h.tView=V_(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Kg(t,e,n,i,r,o,s,a,c,u){let h=n+Rn,p=e.firstCreatePass?B2(h,e,t,i,r,o,s,a,c):e.data[h];wl(p,!1);let C=U2(e,t,p,n);C_()&&O_(e,t,C,p),Io(C,t);let w=eT(C,t,C,p);return t[h]=w,Kd(t,w),f2(w,p,t),f_(p)&&WS(e,t,p),c!=null&&KS(t,p,u),p}function I(t,e,n,i,r,o,s,a){let c=Oe(),u=cn(),h=Fs(u.consts,o);return Kg(c,u,t,e,n,i,r,h,s,a),I}var U2=j2;function j2(t,e,n,i){return w_(!0),e[Mt].createComment("")}var Zd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var CT=new X("");function Do(t){return!!t&&typeof t.then=="function"}function wT(t){return!!t&&typeof t.subscribe=="function"}var ET=new X("");var IT=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=W(ET,{optional:!0})??[];injector=W(Pt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=Kn(this.injector,r);if(Do(o))n.push(o);else if(wT(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),H2=(()=>{class t{static \u0275prov=ee({token:t,providedIn:"root",factory:()=>new Qg})}return t})(),Qg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},z_=new X("");function $2(){wI(()=>{throw new $(600,!1)})}function q2(t){return t.isBoundToModule}var G2=10;function z2(t,e,n){try{let i=n();return Do(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var Ao=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=W(lO);afterRenderManager=W(wO);zonelessEnabled=W(Hd);rootEffectScheduler=W(H2);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new dt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=W(Us).hasPendingTasks.pipe(fe(n=>!n));constructor(){W(DS,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=W(Nn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){let r=n instanceof Dd;if(!this._injector.get(IT).done){let C=!r&&Sb(n),w=!1;throw new $(405,w)}let s;r?s=n:s=this._injector.get(Ls).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=q2(s)?void 0:this._injector.get(Nr),c=i||s.selector,u=s.create(Pt.NULL,[],c,a),h=u.location.nativeElement,p=u.injector.get(CT,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),cd(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let i=this.tracingSnapshot;this.tracingSnapshot=null,i.run(TS.CHANGE_DETECTION,this._tick),i.dispose();return}if(this._runningTick)throw new $(101,!1);let n=be(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,be(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(xr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<G2;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)W2(i,r,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ud(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;cd(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(z_,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>cd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function W2(t,e,n,i){if(!n&&!Ud(t))return;uT(t,e,n&&!i?0:1)}function Sl(t,e,n,i){let r=Oe(),o=El();if(Bi(r,o,e)){let s=cn(),a=Zb();AF(a,r,t,e,n,i)}return Sl}function K2(t,e,n,i){return Bi(t,El(),n)?e+Od(n)+i:kr}function id(t,e){return t<<17|e<<2}function So(t){return t>>17&32767}function Q2(t){return(t&2)==2}function Y2(t,e){return t&131071|e<<17}function Yg(t){return t|2}function Vs(t){return(t&131068)>>2}function ig(t,e){return t&-131069|e<<2}function Z2(t){return(t&1)===1}function Zg(t){return t|1}function J2(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=So(s),c=Vs(s);t[i]=n;let u=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Cl(p,h)>0)&&(u=!0)}else h=n;if(r)if(c!==0){let C=So(t[a+1]);t[i+1]=id(C,a),C!==0&&(t[C+1]=ig(t[C+1],i)),t[a+1]=Y2(t[a+1],i)}else t[i+1]=id(a,0),a!==0&&(t[a+1]=ig(t[a+1],i)),a=i;else t[i+1]=id(c,0),a===0?a=i:t[c+1]=ig(t[c+1],i),c=i;u&&(t[i+1]=Yg(t[i+1])),tb(t,h,i,!0),tb(t,h,i,!1),X2(e,h,t,i,o),s=id(a,c),o?e.classBindings=s:e.styleBindings=s}function X2(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Cl(o,e)>=0&&(n[i+1]=Zg(n[i+1]))}function tb(t,e,n,i){let r=t[n+1],o=e===null,s=i?So(r):Vs(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];eL(c,e)&&(a=!0,t[s+1]=i?Zg(u):Yg(u)),s=i?So(u):Vs(u)}a&&(t[n+1]=i?Yg(r):Zg(r))}function eL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Cl(t,e)>=0:!1}function G(t,e,n){let i=Oe(),r=El();if(Bi(i,r,e)){let o=cn(),s=Zb();gF(o,s,i,t,e,i[Mt],n,!1)}return G}function nb(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";B_(t,n,o[s],s,i)}function Jd(t,e){return tL(t,e,null,!0),Jd}function tL(t,e,n,i){let r=Oe(),o=cn(),s=Rk(2);if(o.firstUpdatePass&&iL(o,t,s,i),e!==kr&&Bi(r,s,e)){let a=o.data[To()];lL(o,a,r,r[Mt],t,r[s+1]=cL(e,n),i,s)}}function nL(t,e){return e>=t.expandoStartIndex}function iL(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[To()],s=nL(t,n);uL(o,i)&&e===null&&!s&&(e=!1),e=rL(r,o,e,i),J2(r,o,e,n,s,i)}}function rL(t,e,n,i){let r=Ok(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=rg(null,t,e,n,i),n=yl(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=rg(r,t,e,n,i),o===null){let c=oL(t,e,i);c!==void 0&&Array.isArray(c)&&(c=rg(null,t,e,c[1],i),c=yl(c,e.attrs,i),sL(t,e,i,c))}else o=aL(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function oL(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Vs(i)!==0)return t[So(i)]}function sL(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[So(r)]=i}function aL(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=yl(i,s,n)}return yl(i,e.attrs,n)}function rg(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=yl(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function yl(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),YP(t,s,n?!0:e[++o]))}return t===void 0?null:t}function lL(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],h=Z2(u)?ib(c,e,n,r,Vs(u),s):void 0;if(!Nd(h)){Nd(o)||Q2(u)&&(o=ib(c,null,n,r,a,s));let p=Lb(To(),n);WO(i,s,p,r,o)}}function ib(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),h=u?c[1]:c,p=h===null,C=n[r+1];C===kr&&(C=p?xn:void 0);let w=p?Qm(C,i):h===i?C:void 0;if(u&&!Nd(w)&&(w=Qm(c,i)),Nd(w)&&(a=w,s))return a;let S=t[r+1];r=s?So(S):Vs(S)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Qm(c,i))}return a}function Nd(t){return t!==void 0}function cL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ln(Il(t)))),t}function uL(t,e){return(t.flags&(e?8:16))!==0}var Jg=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,n){this.attach(n,this.detach(e))}};function og(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function dL(t,e,n){let i,r,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=t.at(o),h=e[o],p=og(o,u,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let C=t.at(s),w=e[c],S=og(s,C,c,w,n);if(S!==0){S<0&&t.updateValue(s,w),s--,c--;continue}let O=n(o,u),B=n(s,C),z=n(o,h);if(Object.is(z,B)){let J=n(c,w);Object.is(J,O)?(t.swap(o,s),t.updateValue(s,w),c--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(i??=new Rd,r??=ob(t,o,s,n),Xg(t,i,o,z))t.updateValue(o,h),o++,s++;else if(r.has(z))i.set(O,t.detach(o)),s--;else{let J=t.create(o,e[o]);t.attach(o,J),o++,s++}}for(;o<=c;)rb(t,i,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let h=t.at(o),p=u.value,C=og(o,h,o,p,n);if(C!==0)C<0&&t.updateValue(o,p),o++,u=c.next();else{i??=new Rd,r??=ob(t,o,s,n);let w=n(o,p);if(Xg(t,i,o,w))t.updateValue(o,p),o++,s++,u=c.next();else if(!r.has(w))t.attach(o,t.create(o,p)),o++,s++,u=c.next();else{let S=n(o,h);i.set(S,t.detach(o)),s--}}}for(;!u.done;)rb(t,i,n,t.length,u.value),u=c.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(c=>{t.destroy(c)})}function Xg(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function rb(t,e,n,i,r){if(Xg(t,e,i,n(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function ob(t,e,n,i){let r=new Set;for(let o=e;o<=n;o++)r.add(i(o,t.at(o)));return r}var Rd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function b(t,e){qi("NgControlFlow");let n=Oe(),i=El(),r=n[i]!==kr?n[i]:-1,o=r!==-1?Md(n,Rn+r):void 0,s=0;if(Bi(n,i,t)){let a=be(null);try{if(o!==void 0&&sT(o,s),t!==-1){let c=Rn+t,u=Md(n,c),h=i_(n[le],c),p=ml(u,h.tView.ssrId),C=Qd(n,h,e,{dehydratedView:p});Yd(u,C,s,fl(h,p))}}finally{be(a)}}else if(o!==void 0){let a=oT(o,s);a!==void 0&&(a[qt]=e)}}var e_=class{lContainer;$implicit;$index;constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-Gt}};function bt(t){return t}var t_=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function St(t,e,n,i,r,o,s,a,c,u,h,p,C){qi("NgControlFlow");let w=Oe(),S=cn(),O=c!==void 0,B=Oe(),z=a?s.bind(B[zn][qt]):s,J=new t_(O,z);B[Rn+t]=J,Kg(w,S,t+1,e,n,i,r,Fs(S.consts,o)),O&&Kg(w,S,t+2,c,u,h,p,Fs(S.consts,C))}var n_=class extends Jg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-Gt}at(e){return this.getLView(e)[qt].$implicit}attach(e,n){let i=n[ll];this.needsIndexUpdate||=e!==this.length,Yd(this.lContainer,n,e,fl(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,hL(this.lContainer,e)}create(e,n){let i=ml(this.lContainer,this.templateTNode.tView.ssrId),r=Qd(this.hostLView,this.templateTNode,new e_(this.lContainer,n,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){qd(e[le],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[qt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[qt].$index=e}getLView(e){return fL(this.lContainer,e)}};function Tt(t){let e=be(null),n=To();try{let i=Oe(),r=i[le],o=i[n],s=n+1,a=Md(i,s);if(o.liveCollection===void 0){let u=i_(r,s);o.liveCollection=new n_(a,i,u)}else o.liveCollection.reset();let c=o.liveCollection;if(dL(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=El(),h=c.length===0;if(Bi(i,u,h)){let p=n+2,C=Md(i,p);if(h){let w=i_(r,p),S=ml(C,w.tView.ssrId),O=Qd(i,w,void 0,{dehydratedView:S});Yd(C,O,0,fl(w,S))}else sT(C,0)}}}finally{be(e)}}function Md(t,e){return t[e]}function hL(t,e){return hl(t,e)}function fL(t,e){return oT(t,e)}function i_(t,e){return p_(t,e)}function pL(t,e,n,i,r,o){let s=e.consts,a=Fs(s,r),c=Wd(e,t,2,i,a);return YS(e,n,c,Fs(s,o)),c.attrs!==null&&Vg(c,c.attrs,!1),c.mergedAttrs!==null&&Vg(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function g(t,e,n,i){let r=Oe(),o=cn(),s=Rn+t,a=r[Mt],c=o.firstCreatePass?pL(s,o,r,e,n,i):o.data[s],u=mL(o,r,c,a,e,t);r[s]=u;let h=f_(c);return wl(c,!0),US(a,u,c),!V2(c)&&C_()&&O_(o,r,u,c),wk()===0&&Io(u,r),Ek(),h&&(WS(o,r,c),zS(o,c,r)),i!==null&&KS(r,c),g}function v(){let t=Yt();Hb()?Ak():(t=t.parent,wl(t,!1));let e=t;Sk(e)&&Tk(),Ik();let n=cn();return n.firstCreatePass&&(E_(n,t),Mb(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Hk(e)&&nb(n,e,Oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$k(e)&&nb(n,e,Oe(),e.stylesWithoutHost,!1),v}function k(t,e,n,i){return g(t,e,n,i),v(),k}var mL=(t,e,n,i,r,o)=>(w_(!0),PS(i,r,Vk()));function Ae(){return Oe()}var Pd="en-US";var gL=Pd;function _L(t){typeof t=="string"&&(gL=t.toLowerCase().replace(/_/g,"-"))}var yL=(t,e,n)=>{};function K(t,e,n,i){let r=Oe(),o=cn(),s=Yt();return CL(o,r,r[Mt],s,t,e,i),K}function vL(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[md],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function CL(t,e,n,i,r,o,s){let a=f_(i),u=t.firstCreatePass&&iT(t),h=e[qt],p=nT(e),C=!0;if(i.type&3||s){let O=Pn(i,e),B=s?s(O):O,z=p.length,J=s?de=>s(ui(de[i.index])):i.index,ne=null;if(!s&&a&&(ne=vL(t,e,r,i.index)),ne!==null){let de=ne.__ngLastListenerFn__||ne;de.__ngNextListenerFn__=o,ne.__ngLastListenerFn__=o,C=!1}else{o=ab(i,e,h,o),yL(O,r,o);let de=n.listen(B,r,o);p.push(o,de),u&&u.push(r,J,z,z+1)}}else o=ab(i,e,h,o);let w=i.outputs,S;if(C&&w!==null&&(S=w[r])){let O=S.length;if(O)for(let B=0;B<O;B+=2){let z=S[B],J=S[B+1],st=e[z][J].subscribe(o),ye=p.length;p.push(o,st),u&&u.push(r,i.index,ye,-(ye+1))}}}function sb(t,e,n,i){let r=be(null);try{return li(6,e,n),n(i)!==!1}catch(o){return rT(t,o),!1}finally{li(7,e,n),be(r)}}function ab(t,e,n,i){return function r(o){if(o===Function)return i;let s=t.componentOffset>-1?Mr(t.index,e):e;j_(s,5);let a=sb(e,n,i,o),c=r.__ngNextListenerFn__;for(;c;)a=sb(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function P(t=1){return Lk(t)}function bT(t,e,n,i){w2(t,e,n,i)}function ST(t){let e=Oe(),n=cn(),i=Gb();__(i+1);let r=$_(n,i);if(t.dirty&&_k(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=S2(e,i);t.reset(o,dO),t.notifyOnChanges()}return!0}return!1}function TT(){return v2(Oe(),Gb())}function Xd(t){let e=xk();return gk(e,Rn+t)}function m(t,e=""){let n=Oe(),i=cn(),r=t+Rn,o=i.firstCreatePass?Wd(i,r,1,e,null):i.data[r],s=wL(i,n,o,e,t);n[r]=s,C_()&&O_(i,n,s,o),wl(o,!1)}var wL=(t,e,n,i,r)=>(w_(!0),NO(e[Mt],i));function j(t,e,n){let i=Oe(),r=K2(i,t,e,n);return r!==kr&&MF(i,To(),r),j}function EL(t,e,n){let i=cn();if(i.firstCreatePass){let r=Tr(t);r_(n,i.data,i.blueprint,r,!0),r_(e,i.data,i.blueprint,r,!1)}}function r_(t,e,n,i,r){if(t=Qt(t),Array.isArray(t))for(let o=0;o<t.length;o++)r_(t[o],e,n,i,r);else{let o=cn(),s=Oe(),a=Yt(),c=Ps(t)?t:Qt(t.provide),u=xb(t),h=a.providerIndexes&1048575,p=a.directiveStart,C=a.providerIndexes>>20;if(Ps(t)||!t.multi){let w=new wo(u,r,U),S=ag(c,e,r?h:h+C,p);S===-1?(Ig(wd(a,s),o,c),sg(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(w),s.push(w)):(n[S]=w,s[S]=w)}else{let w=ag(c,e,h+C,p),S=ag(c,e,h,h+C),O=w>=0&&n[w],B=S>=0&&n[S];if(r&&!B||!r&&!O){Ig(wd(a,s),o,c);let z=SL(r?bL:IL,n.length,r,i,u);!r&&B&&(n[S].providerFactory=z),sg(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(z),s.push(z)}else{let z=DT(n[r?S:w],u,!r&&i);sg(o,t,w>-1?w:S,z)}!r&&i&&B&&n[S].componentProviders++}}}function sg(t,e,n,i){let r=Ps(e),o=nk(e);if(r||o){let c=(o?Qt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let h=u.indexOf(n);h===-1?u.push(n,[i,c]):u[h+1].push(i,c)}else u.push(n,c)}}}function DT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ag(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function IL(t,e,n,i){return o_(this.multi,[])}function bL(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Eo(n,n[le],this.providerFactory.index,i);o=a.slice(0,s),o_(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],o_(r,o);return o}function o_(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function SL(t,e,n,i,r){let o=new wo(t,n,U);return o.multi=[],o.index=e,o.componentProviders=0,DT(o,r,i&&!n),o}function Gi(t,e=[]){return n=>{n.providersResolver=(i,r)=>EL(i,r?r(t):t,e)}}function oe(t,e,n,i){return TL(Oe(),qb(),t,e,n,i)}function eh(t,e,n,i,r){return DL(Oe(),qb(),t,e,n,i,r)}function AT(t,e){let n=t[e];return n===kr?void 0:n}function TL(t,e,n,i,r,o){let s=e+n;return Bi(t,s,r)?vT(t,s+1,o?i.call(o,r):i(r)):AT(t,s+1)}function DL(t,e,n,i,r,o,s){let a=e+n;return L2(t,a,r,o)?vT(t,a+2,s?i.call(s,r,o):i(r,o)):AT(t,a+2)}var Ui=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xT=new Ui("19.0.3"),s_=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},W_=(()=>{class t{compileModuleSync(n){return new Wg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=Eb(n),o=MS(r.declarations).reduce((s,a)=>{let c=go(a);return c&&s.push(new gl(c)),s},[]);return new s_(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var AL=(()=>{class t{zone=W(Le);changeDetectionScheduler=W(dl);applicationRef=W(Ao);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xL=new X("",{factory:()=>!1});function NT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Le(_e(V({},MT()),{scheduleInRootZone:n})),[{provide:Le,useFactory:t},{provide:Ms,multi:!0,useFactory:()=>{let i=W(AL,{optional:!0});return()=>i.initialize()}},{provide:Ms,multi:!0,useFactory:()=>{let i=W(NL);return()=>{i.initialize()}}},e===!0?{provide:fS,useValue:!0}:[],{provide:pS,useValue:n??dS}]}function RT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,i=NT({ngZoneFactory:()=>{let r=MT(t);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&qi("NgZone_CoalesceEvent"),new Le(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Mn([{provide:xL,useValue:!0},{provide:Hd,useValue:!1},i])}function MT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var NL=(()=>{class t{subscription=new nt;initialized=!1;zone=W(Le);pendingTasks=W(Us);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var RL=(()=>{class t{appRef=W(Ao);taskService=W(Us);ngZone=W(Le);zonelessEnabled=W(Hd);tracing=W(DS,{optional:!0});disableScheduling=W(fS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new nt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Id):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(W(pS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ag||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 13:{this.appRef.dirtyFlags|=16,i=!0;break}case 14:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{i=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?BI:mS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Id+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,BI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ML(){return typeof $localize<"u"&&$localize.locale||Pd}var K_=new X("",{providedIn:"root",factory:()=>W(K_,ve.Optional|ve.SkipSelf)||ML()});var a_=new X("");function rd(t){return!t.moduleRef}function PL(t){let e=rd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Le);return n.run(()=>{rd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=e.get(Dr,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),rd(t)){let o=()=>e.destroy(),s=t.platformInjector.get(a_);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(a_);s.add(o),t.moduleRef.onDestroy(()=>{cd(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(o)})}return z2(i,n,()=>{let o=e.get(IT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(K_,Pd);if(_L(s||Pd),rd(t)){let a=e.get(Ao);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return kL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function kL(t,e){let n=t.injector.get(Ao);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var ud=null;function OL(t=[],e){return Pt.create({name:e,providers:[{provide:Ld,useValue:"platform"},{provide:a_,useValue:new Set([()=>ud=null])},...t]})}function FL(t=[]){if(ud)return ud;let e=OL(t);return ud=e,$2(),LL(e),e}function LL(t){let e=t.get(A_,null);Kn(t,()=>{e?.forEach(n=>n())})}var xo=(()=>{class t{static __NG_ELEMENT_ID__=VL}return t})();function VL(t){return BL(Yt(),Oe(),(t&16)===16)}function BL(t,e,n){if(Bd(t)&&!n){let i=Mr(t.index,e);return new bo(i,i)}else if(t.type&175){let i=e[zn];return new bo(i,e)}return null}function PT(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=FL(i),o=[NT({}),{provide:dl,useExisting:RL},...n||[]],s=new xd({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return PL({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function No(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Tl(t,e){qi("NgSignals");let n=yI(t);return e?.equal&&(n[Dn].equal=e.equal),n}function zi(t){let e=be(null);try{return t()}finally{be(e)}}var lb=class{[Dn];constructor(e){this[Dn]=e}destroy(){this[Dn].destroy()}};var Wi=new Ui("ANGULARFIRE2_VERSION");function qs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Mo=(t,e)=>{let n=e?[e]:wu(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Fr=class{constructor(){return Mo(UL)}},UL="app-check";function $s(){}var th=class{zone;delegate;constructor(e,n=Nm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},Q_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)),n.pipe(Ct({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Lr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new th(Zone.current)),this.insideAngular=n.run(()=>new th(Zone.current,xm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(re(Le))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function jL(t){return nh().ngZone.runOutsideAngular(()=>t())}function Ro(t){return nh().ngZone.run(()=>t())}function HL(t){return $L(nh())(t)}function $L(t){return function(n){return n=n.lift(new Q_(t.ngZone)),n.pipe(Cr(t.outsideAngular),vr(t.insideAngular))}}var qL=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ro(()=>t.apply(void 0,i))},Jt=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Ro(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s))),i[o]=qL(i[o],n));let r=jL(()=>t.apply(this,i));if(!e)if(r instanceof xe){let o=nh();return r.pipe(Cr(o.outsideAngular),vr(o.insideAngular))}else return Ro(()=>r);return r instanceof xe?r.pipe(HL):r instanceof Promise?Ro(()=>new Promise((o,s)=>r.then(a=>Ro(()=>o(a)),a=>Ro(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Ro(()=>r)};var Zn=class{constructor(e){return e}},Ki=class{constructor(){return wu()}};function GL(t){return t&&t.length===1?t[0]:new Zn(_r())}var Y_=new X("angularfire2._apps"),zL={provide:Zn,useFactory:GL,deps:[[new It,Y_]]},WL={provide:Ki,deps:[[new It,Y_]]};function KL(t){return(e,n)=>{let i=n.get(Pr);Ye("angularfire",Wi.full,"core"),Ye("angularfire",Wi.full,"app"),Ye("angular",xT.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new Zn(r)}}function kT(t,...e){return Mn([zL,WL,{provide:Y_,useFactory:KL(t),multi:!0,deps:[Le,Pt,Lr,...e]}])}var OT=Jt(ym,!0);function YT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ZT=YT,JT=new Ni("auth","Firebase",YT());var lh=new ri("@firebase/auth");function QL(t,...e){lh.logLevel<=Me.WARN&&lh.warn(`Auth (${ai}): ${t}`,...e)}function rh(t,...e){lh.logLevel<=Me.ERROR&&lh.error(`Auth (${ai}): ${t}`,...e)}function Br(t,...e){throw gy(t,...e)}function ko(t,...e){return gy(t,...e)}function XT(t,e,n){let i=Object.assign(Object.assign({},ZT()),{[e]:n});return new Ni("auth","Firebase",i).create(e,{appName:t.name})}function Po(t){return XT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gy(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return JT.create(t,...e)}function se(t,e,...n){if(!t)throw gy(e,...n)}function Qi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function Ur(t,e){t||Qi(e)}function ey(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YL(){return FT()==="http:"||FT()==="https:"}function FT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ZL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YL()||CE()||"connection"in navigator)?navigator.onLine:!0}function JL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Oo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ur(n>e,"Short delay should be less than long delay!"),this.isMobile=qa()||yu()}get(){return ZL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _y(t,e){Ur(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ch=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var eV=new Oo(3e4,6e4);function yy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function zs(o,s,a,c){return L(this,arguments,function*(t,e,n,i,r={}){return eD(t,r,()=>L(this,null,function*(){let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});let p=ao(Object.assign({key:t.config.apiKey},h)).slice(1),C=yield t._getAdditionalHeaders();C["Content-Type"]="application/json",t.languageCode&&(C["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:C},u);return vE()||(w.referrerPolicy="no-referrer"),ch.fetch()(tD(t,t.config.apiHost,n,p),w)}))})}function eD(t,e,n){return L(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},XL),e);try{let r=new ty(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ih(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ih(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw ih(t,"user-disabled",s);let h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw XT(t,h,u);Br(t,h)}}catch(r){if(r instanceof mn)throw r;Br(t,"network-request-failed",{message:String(r)})}})}function tV(o,s,a,c){return L(this,arguments,function*(t,e,n,i,r={}){let u=yield zs(t,e,n,i,r);return"mfaPendingCredential"in u&&Br(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function tD(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?_y(t.config,r):`${t.config.apiScheme}://${r}`}var ty=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ko(this.auth,"network-request-failed")),eV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ih(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=ko(t,e,i);return r.customData._tokenResponse=n,r}function nV(t,e){return L(this,null,function*(){return zs(t,"POST","/v1/accounts:delete",e)})}function nD(t,e){return L(this,null,function*(){return zs(t,"POST","/v1/accounts:lookup",e)})}function Dl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vy(t,e=!1){return L(this,null,function*(){let n=$t(t),i=yield n.getIdToken(e),r=Cy(i);se(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Dl(Z_(r.auth_time)),issuedAtTime:Dl(Z_(r.iat)),expirationTime:Dl(Z_(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Z_(t){return Number(t)*1e3}function Cy(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{let r=$a(n);return r?JSON.parse(r):(rh("Failed to decode base64 JWT payload"),null)}catch(r){return rh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function LT(t){let e=Cy(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xl(t,e,n=!1){return L(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof mn&&iV(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function iV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ny=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>L(this,null,function*(){yield this.iteration()}),n)}iteration(){return L(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Nl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function uh(t){return L(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield xl(t,nD(n,{idToken:i}));se(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?iD(o.providerUserInfo):[],a=rV(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,h=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Nl(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function wy(t){return L(this,null,function*(){let e=$t(t);yield uh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function rV(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function iD(t){return t.map(e=>{var{providerId:n}=e,i=Rm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function oV(t,e){return L(this,null,function*(){let n=yield eD(t,{},()=>L(this,null,function*(){let i=ao({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=tD(t,r,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ch.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function sV(t,e){return L(this,null,function*(){return zs(t,"POST","/v2/accounts:revokeToken",yy(t,e))})}var Al=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");let n=LT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return L(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return L(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield oV(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new t;return i&&(se(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(se(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Qi("not implemented")}};function Vr(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Gs=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=Rm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ny(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return L(this,null,function*(){let n=yield xl(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return vy(this,e)}reload(){return wy(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return L(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield uh(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return L(this,null,function*(){if(Mi(this.auth.app))return Promise.reject(Po(this.auth));let e=yield this.getIdToken();return yield xl(this,nV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,a,c,u,h;let p=(i=n.displayName)!==null&&i!==void 0?i:void 0,C=(r=n.email)!==null&&r!==void 0?r:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,B=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,z=(u=n.createdAt)!==null&&u!==void 0?u:void 0,J=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ne,emailVerified:de,isAnonymous:st,providerData:ye,stsTokenManager:A}=n;se(ne&&A,e,"internal-error");let E=Al.fromJSON(this.name,A);se(typeof ne=="string",e,"internal-error"),Vr(p,e.name),Vr(C,e.name),se(typeof de=="boolean",e,"internal-error"),se(typeof st=="boolean",e,"internal-error"),Vr(w,e.name),Vr(S,e.name),Vr(O,e.name),Vr(B,e.name),Vr(z,e.name),Vr(J,e.name);let T=new t({uid:ne,auth:e,email:C,emailVerified:de,displayName:p,isAnonymous:st,photoURL:S,phoneNumber:w,tenantId:O,stsTokenManager:E,createdAt:z,lastLoginAt:J});return ye&&Array.isArray(ye)&&(T.providerData=ye.map(x=>Object.assign({},x))),B&&(T._redirectEventId=B),T}static _fromIdTokenResponse(e,n,i=!1){return L(this,null,function*(){let r=new Al;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield uh(o),o})}static _fromGetAccountInfoResponse(e,n,i){return L(this,null,function*(){let r=n.users[0];se(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?iD(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Al;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Nl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var VT=new Map;function Yi(t){Ur(t instanceof Function,"Expected a class definition");let e=VT.get(t);return e?(Ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VT.set(t,e),e)}var aV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return L(this,null,function*(){return!0})}_set(n,i){return L(this,null,function*(){this.storage[n]=i})}_get(n){return L(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return L(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),iy=aV;function oh(t,e,n){return`firebase:${t}:${e}:${n}`}var dh=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=oh(this.userKey,r.apiKey,o),this.fullPersistenceKey=oh("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return L(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Gs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return L(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return L(this,null,function*(){if(!n.length)return new t(Yi(iy),e,i);let r=(yield Promise.all(n.map(u=>L(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=r[0]||Yi(iy),s=oh(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let h=yield u._get(s);if(h){let p=Gs._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>L(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,i))})}};function BT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cD(e))return"Blackberry";if(uD(e))return"Webos";if(oD(e))return"Safari";if((e.includes("chrome/")||sD(e))&&!e.includes("edge/"))return"Chrome";if(lD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function rD(t=Nt()){return/firefox\//i.test(t)}function oD(t=Nt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sD(t=Nt()){return/crios\//i.test(t)}function aD(t=Nt()){return/iemobile/i.test(t)}function lD(t=Nt()){return/android/i.test(t)}function cD(t=Nt()){return/blackberry/i.test(t)}function uD(t=Nt()){return/webos/i.test(t)}function Ey(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lV(t=Nt()){var e;return Ey(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cV(){return wE()&&document.documentMode===10}function dD(t=Nt()){return Ey(t)||lD(t)||uD(t)||cD(t)||/windows phone/i.test(t)||aD(t)}function hD(t,e=[]){let n;switch(t){case"Browser":n=BT(Nt());break;case"Worker":n=`${BT(Nt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ai}/${i}`}var ry=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return L(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function uV(n){return L(this,arguments,function*(t,e={}){return zs(t,"GET","/v2/passwordPolicy",yy(t,e))})}var dV=6,oy=class{constructor(e){var n,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:dV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var sy=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hh(this),this.idTokenSubscription=new hh(this),this.beforeStateQueue=new ry(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(()=>L(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield dh.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return L(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return L(this,null,function*(){try{let n=yield nD(this,{idToken:e}),i=yield Gs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return L(this,null,function*(){var n;if(Mi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return L(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return L(this,null,function*(){try{yield uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=JL()}_delete(){return L(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return L(this,null,function*(){if(Mi(this.app))return Promise.reject(Po(this));let n=e?$t(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return L(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>L(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return L(this,null,function*(){return Mi(this.app)?Promise.reject(Po(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Mi(this.app)?Promise.reject(Po(this)):this.queue(()=>L(this,null,function*(){yield this.assertedPersistence.setPersistence(Yi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return L(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return L(this,null,function*(){let e=yield uV(this),n=new oy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ni("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return L(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield sV(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return L(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return L(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Yi(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=yield dh.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return L(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>L(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return L(this,null,function*(){if(e===this.currentUser)return this.queue(()=>L(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return L(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return L(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return L(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&QL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Iy(t){return $t(t)}var hh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=TE(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var by={loadJS(){return L(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hV(t){by=t}function fV(t){return by.loadJS(t)}function pV(){return by.gapiScript}function fD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Sy(t,e){let n=co(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(so(o,e??{}))return r;Br(r,"already-initialized")}return n.initialize({options:e})}function mV(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Yi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Ty(t,e,n){let i=Iy(t);se(i._canInitEmulator,i,"emulator-config-failed"),se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=pD(e),{host:s,port:a}=gV(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${o}//${s}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||_V()}function pD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gV(t){let e=pD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:UT(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:UT(s)}}}function UT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function _V(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var fh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}};function J_(t,e){return L(this,null,function*(){return tV(t,"POST","/v1/accounts:signInWithIdp",yy(t,e))})}var ph=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ay=class extends ph{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Rl=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return L(this,null,function*(){let o=yield Gs._fromIdTokenResponse(e,i,r),s=jT(i);return new t({user:o,providerId:s,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return L(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=jT(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function jT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ly=class t extends mn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function mD(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ly._fromErrorAndOperation(t,o,e,i):o})}function yV(t,e,n=!1){return L(this,null,function*(){let i=yield xl(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Rl._forOperation(t,"link",i)})}function vV(t,e,n=!1){return L(this,null,function*(){let{auth:i}=t;if(Mi(i.app))return Promise.reject(Po(i));let r="reauthenticate";try{let o=yield xl(t,mD(i,r,e,t),n);se(o.idToken,i,"internal-error");let s=Cy(o.idToken);se(s,i,"internal-error");let{sub:a}=s;return se(t.uid===a,i,"user-mismatch"),Rl._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Br(i,"user-mismatch"),o}})}function CV(t,e,n=!1){return L(this,null,function*(){if(Mi(t.app))return Promise.reject(Po(t));let i="signIn",r=yield mD(t,i,e),o=yield Rl._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function Dy(t,e,n,i){return $t(t).onIdTokenChanged(e,n,i)}function Ay(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}var mh="__sak";var gh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var wV=1e3,EV=10,IV=(()=>{class t extends gh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=n.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);cV()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,EV):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},wV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return L(this,null,function*(){yield mr(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return L(this,null,function*(){let i=yield mr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return L(this,null,function*(){yield mr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),gD=IV;var bV=(()=>{class t extends gh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),xy=bV;function SV(t){return Promise.all(t.map(e=>L(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var TV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return L(this,null,function*(){let i=n,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(a).map(h=>L(this,null,function*(){return h(i.origin,s)})),u=yield SV(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function _D(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var cy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return L(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=_D("",20);r.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(p){let C=p;if(C.data.eventId===u)switch(C.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(C.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function fi(){return window}function DV(t){fi().location.href=t}function yD(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}function AV(){return L(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function xV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NV(){return yD()?self:null}var vD="firebaseLocalStorageDb",RV=1,_h="firebaseLocalStorage",CD="fbase_key",Fo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function vh(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function MV(){let t=indexedDB.deleteDatabase(vD);return new Fo(t).toPromise()}function uy(){let t=indexedDB.open(vD,RV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(_h,{keyPath:CD})}catch(r){n(r)}}),t.addEventListener("success",()=>L(this,null,function*(){let i=t.result;i.objectStoreNames.contains(_h)?e(i):(i.close(),yield MV(),e(yield uy()))}))})}function HT(t,e,n){return L(this,null,function*(){let i=vh(t,!0).put({[CD]:e,value:n});return new Fo(i).toPromise()})}function PV(t,e){return L(this,null,function*(){let n=vh(t,!1).get(e),i=yield new Fo(n).toPromise();return i===void 0?null:i.value})}function $T(t,e){let n=vh(t,!0).delete(e);return new Fo(n).toPromise()}var kV=800,OV=3,FV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return L(this,null,function*(){return this.db?this.db:(this.db=yield uy(),this.db)})}_withRetries(n){return L(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>OV)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return L(this,null,function*(){return yD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return L(this,null,function*(){this.receiver=TV._getInstance(NV()),this.receiver._subscribe("keyChanged",(n,i)=>L(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>L(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return L(this,null,function*(){var n,i;if(this.activeServiceWorker=yield AV(),!this.activeServiceWorker)return;this.sender=new cy(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return L(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||xV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return L(this,null,function*(){try{if(!indexedDB)return!1;let n=yield uy();return yield HT(n,mh,"1"),yield $T(n,mh),!0}catch{}return!1})}_withPendingWrite(n){return L(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return L(this,null,function*(){return this._withPendingWrite(()=>L(this,null,function*(){return yield this._withRetries(r=>HT(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return L(this,null,function*(){let i=yield this._withRetries(r=>PV(r,n));return this.localCache[n]=i,i})}_remove(n){return L(this,null,function*(){return this._withPendingWrite(()=>L(this,null,function*(){return yield this._withRetries(i=>$T(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return L(this,null,function*(){let n=yield this._withRetries(o=>{let s=vh(o,!1).getAll();return new Fo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>L(this,null,function*(){return this._poll()}),kV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),wD=FV;var bne=fD("rcb"),Sne=new Oo(3e4,6e4);function LV(t,e){return e?Yi(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ml=class extends fh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return J_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return J_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return J_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function VV(t){return CV(t.auth,new Ml(t),t.bypassAuthState)}function BV(t){let{auth:e,user:n}=t;return se(n,e,"internal-error"),vV(n,new Ml(t),t.bypassAuthState)}function UV(t){return L(this,null,function*(){let{auth:e,user:n}=t;return se(n,e,"internal-error"),yV(n,new Ml(t),t.bypassAuthState)})}var dy=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>L(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return L(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VV;case"linkViaPopup":case"linkViaRedirect":return UV;case"reauthViaPopup":case"reauthViaRedirect":return BV;default:Br(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Tne=new Oo(2e3,1e4);var jV="pendingRedirect",sh=new Map,hy=class t extends dy{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return L(this,null,function*(){let e=sh.get(this.auth._key());if(!e){try{let i=(yield HV(this.resolver,this.auth))?yield mr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return L(this,null,function*(){if(e.type==="signInViaRedirect")return mr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,mr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return L(this,null,function*(){})}cleanUp(){}};function HV(t,e){return L(this,null,function*(){let n=GV(e),i=qV(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function $V(t,e){sh.set(t._key(),e)}function qV(t){return Yi(t._redirectPersistence)}function GV(t){return oh(jV,t.config.apiKey,t.name)}function zV(t,e,n=!1){return L(this,null,function*(){if(Mi(t.app))return Promise.reject(Po(t));let i=Iy(t),r=LV(i,e),s=yield new hy(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var WV=10*60*1e3,fy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ED(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ko(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WV&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}};function qT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ED({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function KV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ED(t);default:return!1}}function QV(n){return L(this,arguments,function*(t,e={}){return zs(t,"GET","/v1/projects",e)})}var YV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZV=/^https?/;function JV(t){return L(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield QV(t);for(let n of e)try{if(XV(n))return}catch{}Br(t,"unauthorized-domain")})}function XV(t){let e=ey(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!ZV.test(n))return!1;if(YV.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var e6=new Oo(3e4,6e4);function GT(){let t=fi().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function t6(t){return new Promise((e,n)=>{var i,r,o;function s(){GT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GT(),n(ko(t,"network-request-failed"))},timeout:e6.get()})}if(!((r=(i=fi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=fi().gapi)===null||o===void 0)&&o.load)s();else{let a=fD("iframefcb");return fi()[a]=()=>{gapi.load?s():n(ko(t,"network-request-failed"))},fV(`${pV()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ah=null,e})}var ah=null;function n6(t){return ah=ah||t6(t),ah}var i6=new Oo(5e3,15e3),r6="__/auth/iframe",o6="emulator/auth/iframe",s6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l6(t){let e=t.config;se(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?_y(e,o6):`https://${t.config.authDomain}/${r6}`,i={apiKey:e.apiKey,appName:t.name,v:ai},r=a6.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${ao(i).slice(1)}`}function c6(t){return L(this,null,function*(){let e=yield n6(t),n=fi().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:l6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s6,dontclear:!0},i=>new Promise((r,o)=>L(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=ko(t,"network-request-failed"),a=fi().setTimeout(()=>{o(s)},i6.get());function c(){fi().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{o(s)})})))})}var u6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d6=500,h6=600,f6="_blank",p6="http://localhost",yh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function m6(t,e,n,i=d6,r=h6){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},u6),{width:i.toString(),height:r.toString(),top:o,left:s}),u=Nt().toLowerCase();n&&(a=sD(u)?f6:n),rD(u)&&(e=e||p6,c.scrollbars="yes");let h=Object.entries(c).reduce((C,[w,S])=>`${C}${w}=${S},`,"");if(lV(u)&&a!=="_self")return g6(e||"",a),new yh(null);let p=window.open(e||"",a,h);se(p,t,"popup-blocked");try{p.focus()}catch{}return new yh(p)}function g6(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var _6="__/auth/handler",y6="emulator/auth/handler",v6=encodeURIComponent("fac");function zT(t,e,n,i,r,o){return L(this,null,function*(){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ai,eventId:r};if(e instanceof ph){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Ga(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof ay){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield t._getAppCheckToken(),u=c?`#${v6}=${encodeURIComponent(c)}`:"";return`${C6(t)}?${ao(a).slice(1)}${u}`})}function C6({config:t}){return t.emulator?_y(t,y6):`https://${t.authDomain}/${_6}`}var X_="webStorageSupport",py=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xy,this._completeRedirectFn=zV,this._overrideRedirectResult=$V}_openPopup(e,n,i,r){return L(this,null,function*(){var o;Ur((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield zT(e,n,i,ey(),r);return m6(e,s,_D())})}_openRedirect(e,n,i,r){return L(this,null,function*(){yield this._originValidation(e);let o=yield zT(e,n,i,ey(),r);return DV(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Ur(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return L(this,null,function*(){let n=yield c6(e),i=new fy(e);return n.register("authEvent",r=>(se(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(X_,{type:X_},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[X_];s!==void 0&&n(!!s),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dD()||oD()||Ey()}},ID=py;var WT="@firebase/auth",KT="1.7.9";var my=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return L(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function w6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E6(t){si(new sn("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hD(t)},u=new sy(i,r,o,c);return mV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),si(new sn("auth-internal",e=>{let n=Iy(e.getProvider("auth").getImmediate());return(i=>new my(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(WT,KT,w6(t)),Ye(WT,KT,"esm2017")}var I6=5*60,b6=im("authIdTokenMaxAge")||I6,QT=null,S6=t=>e=>L(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>b6)return;let r=n?.token;QT!==r&&(QT=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Ny(t=_r()){let e=co(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Sy(t,{popupRedirectResolver:ID,persistence:[wD,gD,xy]}),i=im("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=S6(o.toString());Ay(n,s,()=>s(n.currentUser)),Dy(n,a=>s(a))}}let r=tm("auth");return r&&Ty(n,`http://${r}`),n}function T6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}hV({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=ko("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",T6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E6("Browser");var bD="auth",Pl=class{constructor(e){return e}},Lo=class{constructor(){return Mo(bD)}};var Ry=new X("angularfire2.auth-instances");function C4(t,e){let n=qs(bD,t,e);return n&&new Pl(n)}function w4(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Pl(i)}}var E4={provide:Lo,deps:[[new It,Ry]]},I4={provide:Pl,useFactory:C4,deps:[[new It,Ry],Zn]};function SD(t,...e){return Ye("angularfire",Wi.full,"auth"),Mn([I4,E4,{provide:Ry,useFactory:w4(t),multi:!0,deps:[Le,Pt,Lr,Ki,[new It,Fr],...e]}])}var TD=Jt(Ny,!0);var DD="@firebase/database",AD="1.0.8";var Fv="";function b4(t){Fv=t}var By=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ut(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:cs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Uy=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var o1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new By(e)}}catch{}return new Uy},Bo=o1("localStorage"),jy=o1("sessionStorage");var Qs=new ri("@firebase/database"),S4=function(){let t=1;return function(){return t++}}(),s1=function(t){let e=DE(t),n=new pu;n.update(e);let i=n.digest();return mu.encodeByteArray(i)},Jl=function(...t){let e="";for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Jl.apply(null,i):typeof i=="object"?e+=ut(i):e+=i,e+=" "}return e},Uo=null,xD=!0,T4=function(t,e){H(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Qs.logLevel=Me.VERBOSE,Uo=Qs.log.bind(Qs),e&&jy.set("logging_enabled",!0)):typeof t=="function"?Uo=t:(Uo=null,jy.remove("logging_enabled"))},kt=function(...t){if(xD===!0&&(xD=!1,Uo===null&&jy.get("logging_enabled")===!0&&T4(!0)),Uo){let e=Jl.apply(null,t);Uo(e)}},Xl=function(t){return function(...e){kt(t,...e)}},Hy=function(...t){let e="FIREBASE INTERNAL ERROR: "+Jl(...t);Qs.error(e)},Zi=function(...t){let e=`FIREBASE FATAL ERROR: ${Jl(...t)}`;throw Qs.error(e),new Error(e)},en=function(...t){let e="FIREBASE WARNING: "+Jl(...t);Qs.warn(e)},D4=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&en("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},A4=function(t){if(ii()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zs="[MIN_NAME]",jo="[MAX_NAME]",qo=function(t,e){if(t===e)return 0;if(t===Zs||e===jo)return-1;if(e===Zs||t===jo)return 1;{let n=ND(t),i=ND(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},x4=function(t,e){return t===e?0:t<e?-1:1},kl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ut(e))},Vv=function(t){if(typeof t!="object"||t===null)return ut(t);let e=[];for(let i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=ut(e[i]),n+=":",n+=Vv(t[e[i]]);return n+="}",n},a1=function(t,e){let n=t.length;if(n<=e)return[t];let i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Ot(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var l1=function(t){H(!Lv(t),"Invalid JSON number");let e=11,n=52,i=(1<<e-1)-1,r,o,s,a,c;t===0?(o=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=a+i,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-i-n))));let u=[];for(c=n;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(r?1:0),u.reverse();let h=u.join(""),p="";for(c=0;c<64;c+=8){let C=parseInt(h.substr(c,8),2).toString(16);C.length===1&&(C="0"+C),p=p+C}return p.toLowerCase()},N4=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},R4=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function M4(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}var P4=new RegExp("^-?(0*)\\d{1,10}$"),k4=-2147483648,O4=2147483647,ND=function(t){if(P4.test(t)){let e=Number(t);if(e>=k4&&e<=O4)return e}return null},oa=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw en("Exception was thrown by user callback.",n),e},Math.floor(0))}},F4=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Bl=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var $y=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){en(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var qy=class{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',en(e)}},Ul=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),wh="5",c1="v",u1="s",d1="r",h1="f",f1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,p1="ls",m1="p",Gy="ac",g1="websocket",_1="long_polling";var Eh=class{constructor(e,n,i,r,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function L4(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function y1(t,e,n){H(typeof e=="string","typeof type must == string"),H(typeof n=="object","typeof params must == object");let i;if(e===g1)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===_1)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);L4(t)&&(n.ns=t.namespace);let r=[];return Ot(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var zy=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return _E(this.counters_)}};var My={},Py={};function Bv(t){let e=t.toString();return My[e]||(My[e]=new zy),My[e]}function V4(t,e){let n=t.toString();return Py[n]||(Py[n]=e()),Py[n]}var Wy=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&oa(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var RD="start",B4="close",U4="pLPCommand",j4="pRTLPCB",v1="id",C1="pw",w1="ser",H4="cb",$4="seg",q4="ts",G4="d",z4="dframe",E1=1870,I1=30,W4=E1-I1,K4=25e3,Q4=3e4,Ky=class t{constructor(e,n,i,r,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xl(e),this.stats_=Bv(n),this.urlFn=c=>(this.appCheckToken&&(c[Gy]=this.appCheckToken),y1(n,_1,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Wy(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Q4)),A4(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qy((...o)=>{let[s,a,c,u,h]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===RD)this.id=a,this.password=c;else if(s===B4)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[RD]="t",i[w1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[H4]=this.scriptTagHolder.uniqueCallbackIdentifier),i[c1]=wh,this.transportSessionId&&(i[u1]=this.transportSessionId),this.lastSessionId&&(i[p1]=this.lastSessionId),this.applicationId&&(i[m1]=this.applicationId),this.appCheckToken&&(i[Gy]=this.appCheckToken),typeof location<"u"&&location.hostname&&f1.test(location.hostname)&&(i[d1]=h1);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return ii()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!N4()&&!R4()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=Xp(n),r=a1(i,W4);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(ii())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[z4]="t",i[v1]=e,i[C1]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=ut(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Qy=class t{constructor(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,ii())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=S4(),window[U4+this.uniqueCallbackIdentifier]=e,window[j4+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){kt("frame writing exception"),a.stack&&kt(a.stack),kt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||kt("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[v1]=this.myID,e[C1]=this.myPW,e[w1]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+I1+i.length<=E1;){let s=this.pendingSegs.shift();i=i+"&"+$4+r+"="+s.seg+"&"+q4+r+"="+s.ts+"&"+G4+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(K4)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){ii()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{kt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var Y4=16384,Z4=45e3,Ih=null;typeof MozWebSocket<"u"?Ih=MozWebSocket:typeof WebSocket<"u"&&(Ih=WebSocket);var Ol=(()=>{class t{constructor(n,i,r,o,s,a,c){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xl(this.connId),this.stats_=Bv(i),this.connURL=t.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[c1]=wh,!ii()&&typeof location<"u"&&location.hostname&&f1.test(location.hostname)&&(a[d1]=h1),i&&(a[u1]=i),r&&(a[p1]=r),o&&(a[Gy]=o),s&&(a[m1]=s),y1(n,g1,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bo.set("previous_websocket_failure",!0);try{let r;if(ii()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${wh}/${Fv}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Ih(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Ih!==null&&!t.forceDisallow_}static previouslyFailed(){return Bo.isInMemoryStorage||Bo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Bo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=cs(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(H(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=ut(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=a1(i,Y4);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Z4))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),J4=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ky,Ol]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=Ol&&Ol.isAvailable(),r=i&&!Ol.previouslyFailed();if(n.webSocketOnly&&(i||en("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ol];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),X4=6e4,e3=5e3,t3=10*1024,n3=100*1024,ky="t",MD="d",i3="s",PD="r",r3="e",kD="o",OD="a",FD="n",LD="p",o3="h",Yy=class{constructor(e,n,i,r,o,s,a,c,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xl("c:"+this.id+":"),this.transportManager_=new J4(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Bl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>n3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>t3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ky in e){let n=e[ky];n===OD?this.upgradeIfSecondaryHealthy_():n===PD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=kl("t",e),i=kl("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:LD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:OD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:FD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=kl("t",e),i=kl("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=kl(ky,e);if(MD in e){let i=e[MD];if(n===o3){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===FD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===i3?this.onConnectionShutdown_(i):n===PD?this.onReset_(i):n===r3?Hy("Server Error: "+i):n===kD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hy("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wh!==i&&en("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Bl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(X4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:LD,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var bh=class{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}};var Sh=class{constructor(e){this.allowedEvents_=e,this.listeners_={},H(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});let r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){H(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Th=class t extends Sh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qa()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return H(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var VD=32,BD=768,Be=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Fe(){return new Be("")}function De(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qr(t){return t.pieces_.length-t.pieceNum_}function Ge(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Be(t.pieces_,e)}function Uv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function s3(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ql(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function b1(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Be(e,0)}function it(t,e){let n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Be)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Be(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function Xt(t,e){let n=De(t),i=De(e);if(n===null)return e;if(n===i)return Xt(Ge(t),Ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function a3(t,e){let n=ql(t,0),i=ql(e,0);for(let r=0;r<n.length&&r<i.length;r++){let o=qo(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function S1(t,e){if(qr(t)!==qr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function kn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(qr(t)>qr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var Zy=class{constructor(e,n){this.errorPrefix_=n,this.parts_=ql(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Ka(this.parts_[i]);T1(this)}};function l3(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ka(e),T1(t)}function c3(t){let e=t.parts_.pop();t.byteLength_-=Ka(e),t.parts_.length>0&&(t.byteLength_-=1)}function T1(t){if(t.byteLength_>BD)throw new Error(t.errorPrefix_+"has a key path longer than "+BD+" bytes ("+t.byteLength_+").");if(t.parts_.length>VD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+VD+") or object contains a cycle "+Vo(t))}function Vo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Jy=class t extends Sh{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new t}getInitialEvent(e){return H(e==="visible","Unknown event type: "+e),[this.visible_]}};var Fl=1e3,u3=60*5*1e3,UD=30*1e3,d3=1.3,h3=3e4,f3="server_kill",jD=3,jv=(()=>{class t extends bh{constructor(n,i,r,o,s,a,c,u){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=Xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fl,this.maxReconnectDelay_=u3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!ii())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jy.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Th.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(ut(s)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new xi,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?i.resolve(c):i.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let u=c.d,h=c.s;t.warnOnListenWarnings_(u,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(h,u))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&Un(n,"w")){let r=oo(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();en(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||SE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=UD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=bE(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ut(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Hy("Unrecognized action received from server: "+ut(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>h3&&(this.reconnectDelay_=Fl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*d3)}this.onConnectStatus_(!1)}establishConnection_(){return L(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,u=function(){c?c.close():(a=!0,r())},h=function(C){H(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(C)};this.realtime_={close:u,sendRequest:h};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[C,w]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?kt("getToken() completed but was canceled"):(kt("getToken() completed. Creating connection."),this.authToken_=C&&C.accessToken,this.appCheckToken_=w&&w.token,c=new Yy(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,S=>{en(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(f3)},s))}catch(C){this.log_("Failed to get token: "+C),a||(this.repoInfo_.nodeAdmin&&en(C),u())}}})}interrupt(n){kt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){kt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ga(this.interruptReasons_)&&(this.reconnectDelay_=Fl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>Vv(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new Be(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){kt("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jD&&(this.reconnectDelay_=UD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){kt("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";ii()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+Fv.replace(/\./g,"-")]=1,qa()?n["framework.cordova"]=1:yu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Th.getInstance().currentlyOnline();return Ga(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),we=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Js=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let i=new we(Zs,e),r=new we(Zs,n);return this.compare(i,r)!==0}minPost(){return we.MIN}};var Ch,Dh=class extends Js{static get __EMPTY_NODE(){return Ch}static set __EMPTY_NODE(e){Ch=e}compare(e,n){return qo(e.name,n.name)}isDefinedOn(e){throw ro("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return we.MIN}maxPost(){return new we(jo,Ch)}makePost(e,n){return H(typeof e=="string","KeyIndex indexValue must always be a string."),new we(e,Ch)}toString(){return".key"}},Ys=new Dh;var Ks=class{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?i(e.key,n):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Jn=(()=>{class t{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??t.RED,this.left=o??On.EMPTY_NODE,this.right=s??On.EMPTY_NODE}copy(n,i,r,o,s){return new t(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return On.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return On.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Xy=class{copy(e,n,i,r,o){return this}insert(e,n,i){return new Jn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},On=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Jn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Jn.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ks(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ks(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ks(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ks(this.root_,null,this.comparator_,!0,e)}};On.EMPTY_NODE=new Xy;function p3(t,e){return qo(t.name,e.name)}function Hv(t,e){return qo(t,e)}var ev;function m3(t){ev=t}var D1=function(t){return typeof t=="number"?"number:"+l1(t):"string:"+t},A1=function(t){if(t.isLeafNode()){let e=t.val();H(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Un(e,".sv"),"Priority must be a string or number.")}else H(t===ev||t.isEmpty(),"priority of unexpected type.");H(t===ev||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var HD,Xs=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),A1(this.priorityNode_)}static set __childrenNodeConstructor(n){HD=n}static get __childrenNodeConstructor(){return HD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Se(n)?this:De(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=De(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||qr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ge(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+D1(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=l1(this.value_):n+=this.value_,this.lazyHash_=s1(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(H(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(i),s=t.VALUE_TYPE_ORDER.indexOf(r);return H(o>=0,"Unknown leaf type: "+i),H(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),x1,N1;function g3(t){x1=t}function _3(t){N1=t}var tv=class extends Js{compare(e,n){let i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?qo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return we.MIN}maxPost(){return new we(jo,new Xs("[PRIORITY-POST]",N1))}makePost(e,n){let i=x1(e);return new we(n,new Xs("[PRIORITY-POST]",i))}toString(){return".priority"}},rt=new tv;var y3=Math.log(2),nv=class{constructor(e){let n=o=>parseInt(Math.log(o)/y3,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Ah=function(t,e,n,i){t.sort(e);let r=function(c,u){let h=u-c,p,C;if(h===0)return null;if(h===1)return p=t[c],C=n?n(p):p,new Jn(C,p.node,Jn.BLACK,null,null);{let w=parseInt(h/2,10)+c,S=r(c,w),O=r(w+1,u);return p=t[w],C=n?n(p):p,new Jn(C,p.node,Jn.BLACK,S,O)}},o=function(c){let u=null,h=null,p=t.length,C=function(S,O){let B=p-S,z=p;p-=S;let J=r(B+1,z),ne=t[B],de=n?n(ne):ne;w(new Jn(de,ne.node,O,null,J))},w=function(S){u?(u.left=S,u=S):(h=S,u=S)};for(let S=0;S<c.count;++S){let O=c.nextBitIsOne(),B=Math.pow(2,c.count-(S+1));O?C(B,Jn.BLACK):(C(B,Jn.BLACK),C(B,Jn.RED))}return h},s=new nv(t.length),a=o(s);return new On(i||e,a)};var Oy,Ws={},ea=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return H(Ws&&rt,"ChildrenNode.ts has not been loaded"),Oy=Oy||new t({".priority":Ws},{".priority":rt}),Oy}get(e){let n=oo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof On?n:null}hasIndex(e){return Un(this.indexSet_,e.toString())}addIndex(e,n){H(e!==Ys,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(we.Wrap),s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=Ah(i,e.getCompare()):a=Ws;let c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;let h=Object.assign({},this.indexes_);return h[c]=a,new t(h,u)}addToIndexes(e,n){let i=za(this.indexes_,(r,o)=>{let s=oo(this.indexSet_,o);if(H(s,"Missing index implementation for "+o),r===Ws)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(we.Wrap),u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Ah(a,s.getCompare())}else return Ws;else{let a=n.get(e.name),c=r;return a&&(c=c.remove(new we(e.name,a))),c.insert(e,e.node)}});return new t(i,this.indexSet_)}removeFromIndexes(e,n){let i=za(this.indexes_,r=>{if(r===Ws)return r;{let o=n.get(e.name);return o?r.remove(new we(e.name,o)):r}});return new t(i,this.indexSet_)}};var Ll,me=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&A1(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ll||(Ll=new t(new On(Hv),null,ea.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ll}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?Ll:i}}getChild(n){let i=De(n);return i===null?this:this.getImmediateChild(i).getChild(Ge(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(H(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new we(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Ll:this.priorityNode_;return new t(o,a,s)}}updateChild(n,i){let r=De(n);if(r===null)return i;{H(De(n)!==".priority"||qr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(Ge(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(rt,(a,c)=>{i[a]=c.val(n),r++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let c in i)a[c]=i[c];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+D1(this.getPriority().val())+":"),this.forEachChild(rt,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":s1(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new we(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new we(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new we(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,we.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,we.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ec?-1:0}withIndex(n){if(n===Ys||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Ys||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(rt),o=i.getIterator(rt),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ys?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),iv=class extends me{constructor(){super(new On(Hv),me.EMPTY_NODE,ea.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}},ec=new iv;Object.defineProperties(we,{MIN:{value:new we(Zs,me.EMPTY_NODE)},MAX:{value:new we(jo,ec)}});Dh.__EMPTY_NODE=me.EMPTY_NODE;Xs.__childrenNodeConstructor=me;m3(ec);_3(ec);var v3=!0;function Dt(t,e=null){if(t===null)return me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),H(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Xs(n,Dt(e))}if(!(t instanceof Array)&&v3){let n=[],i=!1;if(Ot(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=Dt(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),n.push(new we(s,c)))}}),n.length===0)return me.EMPTY_NODE;let o=Ah(n,p3,s=>s.name,Hv);if(i){let s=Ah(n,rt.getCompare());return new me(o,Dt(e),new ea({".priority":s},{".priority":rt}))}else return new me(o,Dt(e),ea.Default)}else{let n=me.EMPTY_NODE;return Ot(t,(i,r)=>{if(Un(t,i)&&i.substring(0,1)!=="."){let o=Dt(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Dt(e))}}g3(Dt);var rv=class extends Js{constructor(e){super(),this.indexPath_=e,H(!Se(e)&&De(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?qo(e.name,n.name):o}makePost(e,n){let i=Dt(e),r=me.EMPTY_NODE.updateChild(this.indexPath_,i);return new we(n,r)}maxPost(){let e=me.EMPTY_NODE.updateChild(this.indexPath_,ec);return new we(jo,e)}toString(){return ql(this.indexPath_,0).join("/")}};var ov=class extends Js{compare(e,n){let i=e.node.compareTo(n.node);return i===0?qo(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return we.MIN}maxPost(){return we.MAX}makePost(e,n){let i=Dt(e);return new we(n,i)}toString(){return".value"}},C3=new ov;function R1(t){return{type:"value",snapshotNode:t}}function ta(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Gl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function zl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function w3(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Wl=class{constructor(e){this.index_=e}updateChild(e,n,i,r,o,s){H(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?e.hasChild(n)?s.trackChildChange(Gl(n,a)):H(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ta(n,i)):s.trackChildChange(zl(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(rt,(r,o)=>{n.hasChild(r)||i.trackChildChange(Gl(r,o))}),n.isLeafNode()||n.forEachChild(rt,(r,o)=>{if(e.hasChild(r)){let s=e.getImmediateChild(r);s.equals(o)||i.trackChildChange(zl(r,o,s))}else i.trackChildChange(ta(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?me.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var xh=class t{constructor(e){this.indexedFilter_=new Wl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,s){return this.matches(new we(n,i))||(i=me.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,s)}updateFullNode(e,n,i){n.isLeafNode()&&(n=me.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(me.EMPTY_NODE);let o=this;return n.forEachChild(rt,(s,a)=>{o.matches(new we(s,a))||(r=r.updateImmediateChild(s,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var sv=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new xh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,s){return this.rangedFilter_.matches(new we(n,i))||(i=me.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,s):this.fullLimitUpdateChild_(e,n,i,o,s)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=me.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(me.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let s;if(this.reverse_){let p=this.index_.getCompare();s=(C,w)=>p(w,C)}else s=this.index_.getCompare();let a=e;H(a.numChildren()===this.limit_,"");let c=new we(n,i),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(a.hasChild(n)){let p=a.getImmediateChild(n),C=r.getChildAfterChild(this.index_,u,this.reverse_);for(;C!=null&&(C.name===n||a.hasChild(C.name));)C=r.getChildAfterChild(this.index_,C,this.reverse_);let w=C==null?1:s(C,c);if(h&&!i.isEmpty()&&w>=0)return o?.trackChildChange(zl(n,i,p)),a.updateImmediateChild(n,i);{o?.trackChildChange(Gl(n,p));let O=a.updateImmediateChild(n,me.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(o?.trackChildChange(ta(C.name,C.node)),O.updateImmediateChild(C.name,C.node)):O}}else return i.isEmpty()?e:h&&s(u,c)>=0?(o!=null&&(o.trackChildChange(Gl(u.name,u.node)),o.trackChildChange(ta(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(u.name,me.EMPTY_NODE)):e}};var av=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zs}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rt}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function E3(t){return t.loadsAllData()?new Wl(t.getIndex()):t.hasLimit()?new sv(t):new xh(t)}function $D(t){let e={};if(t.isDefault())return e;let n;if(t.index_===rt?n="$priority":t.index_===C3?n="$value":t.index_===Ys?n="$key":(H(t.index_ instanceof rv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ut(n),t.startSet_){let i=t.startAfterSet_?"startAfter":"startAt";e[i]=ut(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+ut(t.indexStartName_))}if(t.endSet_){let i=t.endBeforeSet_?"endBefore":"endAt";e[i]=ut(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+ut(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function qD(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==rt&&(e.i=t.index_.toString()),e}var lv=class t extends bh{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Xl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(H(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,i),a={};this.listens_[s]=a;let c=$D(e._queryParams);this.restRequest_(o+".json",c,(u,h)=>{let p=h;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(o,p,!1,i),oo(this.listens_,s)===a){let C;u?u===401?C="permission_denied":C="rest_error:"+u:C="ok",r(C,null)}})}unlisten(e,n){let i=t.getListenId_(e,n);delete this.listens_[i]}get(e){let n=$D(e._queryParams),i=e._path.toString(),r=new xi;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ao(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=cs(a.responseText)}catch{en("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else a.status!==401&&a.status!==404&&en("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var cv=class{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Nh(){return{value:null,children:new Map}}function M1(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let i=De(e);t.children.has(i)||t.children.set(i,Nh());let r=t.children.get(i);e=Ge(e),M1(r,e,n)}}function uv(t,e,n){t.value!==null?n(e,t.value):I3(t,(i,r)=>{let o=new Be(e.toString()+"/"+i);uv(r,o,n)})}function I3(t,e){t.children.forEach((n,i)=>{e(i,n)})}var dv=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ot(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}};var GD=10*1e3,b3=30*1e3,S3=5*60*1e3,hv=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dv(e);let i=GD+(b3-GD)*Math.random();Bl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),n={},i=!1;Ot(e,(r,o)=>{o>0&&Un(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Bl(this.reportStats_.bind(this),Math.floor(Math.random()*2*S3))}};var pi=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(pi||{});function $v(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var fv=class t{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=pi.ACK_USER_WRITE,this.source=$v()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Be(e));return new t(Fe(),n,this.revert)}}else return H(De(this.path)===e,"operationForChild called for unrelated child."),new t(Ge(this.path),this.affectedTree,this.revert)}};var Rh=class t{constructor(e,n){this.source=e,this.path=n,this.type=pi.LISTEN_COMPLETE}operationForChild(e){return Se(this.path)?new t(this.source,Fe()):new t(this.source,Ge(this.path))}};var na=class t{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=pi.OVERWRITE}operationForChild(e){return Se(this.path)?new t(this.source,Fe(),this.snap.getImmediateChild(e)):new t(this.source,Ge(this.path),this.snap)}};var Kl=class t{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=pi.MERGE}operationForChild(e){if(Se(this.path)){let n=this.children.subtree(new Be(e));return n.isEmpty()?null:n.value?new na(this.source,Fe(),n.value):new t(this.source,Fe(),n)}else return H(De(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var mi=class{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;let n=De(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var pv=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function T3(t,e,n,i){let r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(w3(s.childName,s.snapshotNode))}),Vl(t,r,"child_removed",e,i,n),Vl(t,r,"child_added",e,i,n),Vl(t,r,"child_moved",o,i,n),Vl(t,r,"child_changed",e,i,n),Vl(t,r,"value",e,i,n),r}function Vl(t,e,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,c)=>A3(t,a,c)),s.forEach(a=>{let c=D3(t,a,o);r.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,t.query_))})})}function D3(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function A3(t,e,n){if(e.childName==null||n.childName==null)throw ro("Should only compare child_ events.");let i=new we(e.childName,e.snapshotNode),r=new we(n.childName,n.snapshotNode);return t.index_.compare(i,r)}function jh(t,e){return{eventCache:t,serverCache:e}}function jl(t,e,n,i){return jh(new mi(e,n,i),t.serverCache)}function P1(t,e,n,i){return jh(t.eventCache,new mi(e,n,i))}function Mh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ho(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Fy,x3=()=>(Fy||(Fy=new On(x4)),Fy),tn=class t{constructor(e,n=x3()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Ot(e,(i,r)=>{n=n.set(new Be(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Fe(),value:this.value};if(Se(e))return null;{let i=De(e),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(Ge(e),n);return o!=null?{path:it(new Be(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{let n=De(e),i=this.children.get(n);return i!==null?i.subtree(Ge(e)):new t(null)}}set(e,n){if(Se(e))return new t(n,this.children);{let i=De(e),o=(this.children.get(i)||new t(null)).set(Ge(e),n),s=this.children.insert(i,o);return new t(this.value,s)}}remove(e){if(Se(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=De(e),i=this.children.get(n);if(i){let r=i.remove(Ge(e)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(Se(e))return this.value;{let n=De(e),i=this.children.get(n);return i?i.get(Ge(e)):null}}setTree(e,n){if(Se(e))return n;{let i=De(e),o=(this.children.get(i)||new t(null)).setTree(Ge(e),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new t(this.value,s)}}fold(e){return this.fold_(Fe(),e)}fold_(e,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(it(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Fe(),n)}findOnPath_(e,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(Se(e))return null;{let o=De(e),s=this.children.get(o);return s?s.findOnPath_(Ge(e),it(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Fe(),n)}foreachOnPath_(e,n,i){if(Se(e))return this;{this.value&&i(n,this.value);let r=De(e),o=this.children.get(r);return o?o.foreachOnPath_(Ge(e),it(n,r),i):new t(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(it(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}};var Xn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new tn(null))}};function Hl(t,e,n){if(Se(e))return new Xn(new tn(n));{let i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,o=i.value,s=Xt(r,e);return o=o.updateChild(s,n),new Xn(t.writeTree_.set(r,o))}else{let r=new tn(n),o=t.writeTree_.setTree(e,r);return new Xn(o)}}}function mv(t,e,n){let i=t;return Ot(n,(r,o)=>{i=Hl(i,it(e,r),o)}),i}function zD(t,e){if(Se(e))return Xn.empty();{let n=t.writeTree_.setTree(e,new tn(null));return new Xn(n)}}function gv(t,e){return Go(t,e)!=null}function Go(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Xt(n.path,e)):null}function WD(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(rt,(i,r)=>{e.push(new we(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new we(i,r.value))}),e}function Hr(t,e){if(Se(e))return t;{let n=Go(t,e);return n!=null?new Xn(new tn(n)):new Xn(t.writeTree_.subtree(e))}}function _v(t){return t.writeTree_.isEmpty()}function ia(t,e){return k1(Fe(),t.writeTree_,e)}function k1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(H(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=k1(it(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(it(t,".priority"),i)),n}}function Hh(t,e){return V1(e,t)}function N3(t,e,n,i,r){H(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Hl(t.visibleWrites,e,n)),t.lastWriteId=i}function R3(t,e,n,i){H(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=mv(t.visibleWrites,e,n),t.lastWriteId=i}function M3(t,e){for(let n=0;n<t.allWrites.length;n++){let i=t.allWrites[n];if(i.writeId===e)return i}return null}function P3(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);H(n>=0,"removeWrite called with nonexistent writeId.");let i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&k3(a,i.path)?r=!1:kn(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return O3(t),!0;if(i.snap)t.visibleWrites=zD(t.visibleWrites,i.path);else{let a=i.children;Ot(a,c=>{t.visibleWrites=zD(t.visibleWrites,it(i.path,c))})}return!0}else return!1}function k3(t,e){if(t.snap)return kn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&kn(it(t.path,n),e))return!0;return!1}function O3(t){t.visibleWrites=O1(t.allWrites,F3,Fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function F3(t){return t.visible}function O1(t,e,n){let i=Xn.empty();for(let r=0;r<t.length;++r){let o=t[r];if(e(o)){let s=o.path,a;if(o.snap)kn(n,s)?(a=Xt(n,s),i=Hl(i,a,o.snap)):kn(s,n)&&(a=Xt(s,n),i=Hl(i,Fe(),o.snap.getChild(a)));else if(o.children){if(kn(n,s))a=Xt(n,s),i=mv(i,a,o.children);else if(kn(s,n))if(a=Xt(s,n),Se(a))i=mv(i,Fe(),o.children);else{let c=oo(o.children,De(a));if(c){let u=c.getChild(Ge(a));i=Hl(i,Fe(),u)}}}else throw ro("WriteRecord should have .snap or .children")}}return i}function F1(t,e,n,i,r){if(!i&&!r){let o=Go(t.visibleWrites,e);if(o!=null)return o;{let s=Hr(t.visibleWrites,e);if(_v(s))return n;if(n==null&&!gv(s,Fe()))return null;{let a=n||me.EMPTY_NODE;return ia(s,a)}}}else{let o=Hr(t.visibleWrites,e);if(!r&&_v(o))return n;if(!r&&n==null&&!gv(o,Fe()))return null;{let s=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(kn(u.path,e)||kn(e,u.path))},a=O1(t.allWrites,s,e),c=n||me.EMPTY_NODE;return ia(a,c)}}}function L3(t,e,n){let i=me.EMPTY_NODE,r=Go(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(rt,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=Hr(t.visibleWrites,e);return n.forEachChild(rt,(s,a)=>{let c=ia(Hr(o,new Be(s)),a);i=i.updateImmediateChild(s,c)}),WD(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=Hr(t.visibleWrites,e);return WD(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function V3(t,e,n,i,r){H(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=it(e,n);if(gv(t.visibleWrites,o))return null;{let s=Hr(t.visibleWrites,o);return _v(s)?r.getChild(n):ia(s,r.getChild(n))}}function B3(t,e,n,i){let r=it(e,n),o=Go(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=Hr(t.visibleWrites,r);return ia(s,i.getNode().getImmediateChild(n))}else return null}function U3(t,e){return Go(t.visibleWrites,e)}function j3(t,e,n,i,r,o,s){let a,c=Hr(t.visibleWrites,e),u=Go(c,Fe());if(u!=null)a=u;else if(n!=null)a=ia(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let h=[],p=s.getCompare(),C=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),w=C.getNext();for(;w&&h.length<r;)p(w,i)!==0&&h.push(w),w=C.getNext();return h}else return[]}function H3(){return{visibleWrites:Xn.empty(),allWrites:[],lastWriteId:-1}}function Ph(t,e,n,i){return F1(t.writeTree,t.treePath,e,n,i)}function zv(t,e){return L3(t.writeTree,t.treePath,e)}function KD(t,e,n,i){return V3(t.writeTree,t.treePath,e,n,i)}function kh(t,e){return U3(t.writeTree,it(t.treePath,e))}function $3(t,e,n,i,r,o){return j3(t.writeTree,t.treePath,e,n,i,r,o)}function Wv(t,e,n){return B3(t.writeTree,t.treePath,e,n)}function L1(t,e){return V1(it(t.treePath,e),t.writeTree)}function V1(t,e){return{treePath:t,writeTree:e}}var yv=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,i=e.childName;H(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),H(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,zl(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Gl(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,ta(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,zl(i,e.snapshotNode,r.oldSnap));else throw ro("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var vv=class{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}},B1=new vv,Ql=class{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new mi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wv(this.writes_,e,i)}}getChildAfterChild(e,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ho(this.viewCache_),o=$3(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}};function q3(t){return{filter:t}}function G3(t,e){H(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),H(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function z3(t,e,n,i,r){let o=new yv,s,a;if(n.type===pi.OVERWRITE){let u=n;u.source.fromUser?s=Cv(t,e,u.path,u.snap,i,r,o):(H(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Se(u.path),s=Oh(t,e,u.path,u.snap,i,r,a,o))}else if(n.type===pi.MERGE){let u=n;u.source.fromUser?s=K3(t,e,u.path,u.children,i,r,o):(H(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=wv(t,e,u.path,u.children,i,r,a,o))}else if(n.type===pi.ACK_USER_WRITE){let u=n;u.revert?s=Z3(t,e,u.path,i,r,o):s=Q3(t,e,u.path,u.affectedTree,i,r,o)}else if(n.type===pi.LISTEN_COMPLETE)s=Y3(t,e,n.path,i,o);else throw ro("Unknown operation type: "+n.type);let c=o.getChanges();return W3(e,s,c),{viewCache:s,changes:c}}function W3(t,e,n){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Mh(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(R1(Mh(e)))}}function U1(t,e,n,i,r,o){let s=e.eventCache;if(kh(i,n)!=null)return e;{let a,c;if(Se(n))if(H(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=Ho(e),h=u instanceof me?u:me.EMPTY_NODE,p=zv(i,h);a=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{let u=Ph(i,Ho(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{let u=De(n);if(u===".priority"){H(qr(n)===1,"Can't have a priority with additional path components");let h=s.getNode();c=e.serverCache.getNode();let p=KD(i,n,h,c);p!=null?a=t.filter.updatePriority(h,p):a=s.getNode()}else{let h=Ge(n),p;if(s.isCompleteForChild(u)){c=e.serverCache.getNode();let C=KD(i,n,s.getNode(),c);C!=null?p=s.getNode().getImmediateChild(u).updateChild(h,C):p=s.getNode().getImmediateChild(u)}else p=Wv(i,u,e.serverCache);p!=null?a=t.filter.updateChild(s.getNode(),u,p,h,r,o):a=s.getNode()}}return jl(e,a,s.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function Oh(t,e,n,i,r,o,s,a){let c=e.serverCache,u,h=s?t.filter:t.filter.getIndexedFilter();if(Se(n))u=h.updateFullNode(c.getNode(),i,null);else if(h.filtersNodes()&&!c.isFiltered()){let w=c.getNode().updateChild(n,i);u=h.updateFullNode(c.getNode(),w,null)}else{let w=De(n);if(!c.isCompleteForPath(n)&&qr(n)>1)return e;let S=Ge(n),B=c.getNode().getImmediateChild(w).updateChild(S,i);w===".priority"?u=h.updatePriority(c.getNode(),B):u=h.updateChild(c.getNode(),w,B,S,B1,null)}let p=P1(e,u,c.isFullyInitialized()||Se(n),h.filtersNodes()),C=new Ql(r,p,o);return U1(t,p,n,r,C,a)}function Cv(t,e,n,i,r,o,s){let a=e.eventCache,c,u,h=new Ql(r,e,o);if(Se(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,s),c=jl(e,u,!0,t.filter.filtersNodes());else{let p=De(n);if(p===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),c=jl(e,u,a.isFullyInitialized(),a.isFiltered());else{let C=Ge(n),w=a.getNode().getImmediateChild(p),S;if(Se(C))S=i;else{let O=h.getCompleteChild(p);O!=null?Uv(C)===".priority"&&O.getChild(b1(C)).isEmpty()?S=O:S=O.updateChild(C,i):S=me.EMPTY_NODE}if(w.equals(S))c=e;else{let O=t.filter.updateChild(a.getNode(),p,S,C,h,s);c=jl(e,O,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function QD(t,e){return t.eventCache.isCompleteForChild(e)}function K3(t,e,n,i,r,o,s){let a=e;return i.foreach((c,u)=>{let h=it(n,c);QD(e,De(h))&&(a=Cv(t,a,h,u,r,o,s))}),i.foreach((c,u)=>{let h=it(n,c);QD(e,De(h))||(a=Cv(t,a,h,u,r,o,s))}),a}function YD(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function wv(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;Se(n)?u=i:u=new tn(null).setTree(n,i);let h=e.serverCache.getNode();return u.children.inorderTraversal((p,C)=>{if(h.hasChild(p)){let w=e.serverCache.getNode().getImmediateChild(p),S=YD(t,w,C);c=Oh(t,c,new Be(p),S,r,o,s,a)}}),u.children.inorderTraversal((p,C)=>{let w=!e.serverCache.isCompleteForChild(p)&&C.value===null;if(!h.hasChild(p)&&!w){let S=e.serverCache.getNode().getImmediateChild(p),O=YD(t,S,C);c=Oh(t,c,new Be(p),O,r,o,s,a)}}),c}function Q3(t,e,n,i,r,o,s){if(kh(r,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(i.value!=null){if(Se(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Oh(t,e,n,c.getNode().getChild(n),r,o,a,s);if(Se(n)){let u=new tn(null);return c.getNode().forEachChild(Ys,(h,p)=>{u=u.set(new Be(h),p)}),wv(t,e,n,u,r,o,a,s)}else return e}else{let u=new tn(null);return i.foreach((h,p)=>{let C=it(n,h);c.isCompleteForPath(C)&&(u=u.set(h,c.getNode().getChild(C)))}),wv(t,e,n,u,r,o,a,s)}}function Y3(t,e,n,i,r){let o=e.serverCache,s=P1(e,o.getNode(),o.isFullyInitialized()||Se(n),o.isFiltered());return U1(t,s,n,i,B1,r)}function Z3(t,e,n,i,r,o){let s;if(kh(i,n)!=null)return e;{let a=new Ql(i,e,r),c=e.eventCache.getNode(),u;if(Se(n)||De(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Ph(i,Ho(e));else{let p=e.serverCache.getNode();H(p instanceof me,"serverChildren would be complete if leaf node"),h=zv(i,p)}h=h,u=t.filter.updateFullNode(c,h,o)}else{let h=De(n),p=Wv(i,h,e.serverCache);p==null&&e.serverCache.isCompleteForChild(h)&&(p=c.getImmediateChild(h)),p!=null?u=t.filter.updateChild(c,h,p,Ge(n),a,o):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(c,h,me.EMPTY_NODE,Ge(n),a,o):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Ph(i,Ho(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||kh(i,Fe())!=null,jl(e,u,s,t.filter.filtersNodes())}}var Ev=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Wl(i.getIndex()),o=E3(i);this.processor_=q3(o);let s=n.serverCache,a=n.eventCache,c=r.updateFullNode(me.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(me.EMPTY_NODE,a.getNode(),null),h=new mi(c,s.isFullyInitialized(),r.filtersNodes()),p=new mi(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=jh(p,h),this.eventGenerator_=new pv(this.query_)}get query(){return this.query_}};function J3(t){return t.viewCache_.serverCache.getNode()}function X3(t){return Mh(t.viewCache_)}function eB(t,e){let n=Ho(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(De(e)).isEmpty())?n.getChild(e):null}function ZD(t){return t.eventRegistrations_.length===0}function tB(t,e){t.eventRegistrations_.push(e)}function JD(t,e,n){let i=[];if(n){H(e==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))r.push(s);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function XD(t,e,n,i){e.type===pi.MERGE&&e.source.queryId!==null&&(H(Ho(t.viewCache_),"We should always have a full cache before handling merges"),H(Mh(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,o=z3(t.processor_,r,e,n,i);return G3(t.processor_,o.viewCache),H(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,j1(t,o.changes,o.viewCache.eventCache.getNode(),null)}function nB(t,e){let n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(rt,(o,s)=>{i.push(ta(o,s))}),n.isFullyInitialized()&&i.push(R1(n.getNode())),j1(t,i,n.getNode(),e)}function j1(t,e,n,i){let r=i?[i]:t.eventRegistrations_;return T3(t.eventGenerator_,e,n,r)}var Fh,Lh=class{constructor(){this.views=new Map}};function iB(t){H(!Fh,"__referenceConstructor has already been defined"),Fh=t}function rB(){return H(Fh,"Reference.ts has not been loaded"),Fh}function oB(t){return t.views.size===0}function Kv(t,e,n,i){let r=e.source.queryId;if(r!==null){let o=t.views.get(r);return H(o!=null,"SyncTree gave us an op for an invalid query."),XD(o,e,n,i)}else{let o=[];for(let s of t.views.values())o=o.concat(XD(s,e,n,i));return o}}function H1(t,e,n,i,r){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Ph(n,r?i:null),c=!1;a?c=!0:i instanceof me?(a=zv(n,i),c=!1):(a=me.EMPTY_NODE,c=!1);let u=jh(new mi(a,c,!1),new mi(i,r,!1));return new Ev(e,u)}return s}function sB(t,e,n,i,r,o){let s=H1(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),tB(s,n),nB(s,n)}function aB(t,e,n,i){let r=e._queryIdentifier,o=[],s=[],a=Gr(t);if(r==="default")for(let[c,u]of t.views.entries())s=s.concat(JD(u,n,i)),ZD(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||o.push(u.query));else{let c=t.views.get(r);c&&(s=s.concat(JD(c,n,i)),ZD(c)&&(t.views.delete(r),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Gr(t)&&o.push(new(rB())(e._repo,e._path)),{removed:o,events:s}}function $1(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function $r(t,e){let n=null;for(let i of t.views.values())n=n||eB(i,e);return n}function q1(t,e){if(e._queryParams.loadsAllData())return $h(t);{let i=e._queryIdentifier;return t.views.get(i)}}function G1(t,e){return q1(t,e)!=null}function Gr(t){return $h(t)!=null}function $h(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Vh;function lB(t){H(!Vh,"__referenceConstructor has already been defined"),Vh=t}function cB(){return H(Vh,"Reference.ts has not been loaded"),Vh}var uB=1,Bh=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tn(null),this.pendingWriteTree_=H3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function z1(t,e,n,i,r){return N3(t.pendingWriteTree_,e,n,i,r),r?sa(t,new na($v(),e,n)):[]}function dB(t,e,n,i){R3(t.pendingWriteTree_,e,n,i);let r=tn.fromObject(n);return sa(t,new Kl($v(),e,r))}function jr(t,e,n=!1){let i=M3(t.pendingWriteTree_,e);if(P3(t.pendingWriteTree_,e)){let o=new tn(null);return i.snap!=null?o=o.set(Fe(),!0):Ot(i.children,s=>{o=o.set(new Be(s),!0)}),sa(t,new fv(i.path,o,n))}else return[]}function tc(t,e,n){return sa(t,new na(qv(),e,n))}function hB(t,e,n){let i=tn.fromObject(n);return sa(t,new Kl(qv(),e,i))}function fB(t,e){return sa(t,new Rh(qv(),e))}function pB(t,e,n){let i=Yv(t,n);if(i){let r=Zv(i),o=r.path,s=r.queryId,a=Xt(o,e),c=new Rh(Gv(s),a);return Jv(t,o,c)}else return[]}function W1(t,e,n,i,r=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||G1(s,e))){let c=aB(s,e,n,i);oB(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let u=c.removed;if(a=c.events,!r){let h=u.findIndex(C=>C._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(o,(C,w)=>Gr(w));if(h&&!p){let C=t.syncPointTree_.subtree(o);if(!C.isEmpty()){let w=yB(C);for(let S=0;S<w.length;++S){let O=w[S],B=O.query,z=Z1(t,O);t.listenProvider_.startListening($l(B),Yl(t,B),z.hashFn,z.onComplete)}}}!p&&u.length>0&&!i&&(h?t.listenProvider_.stopListening($l(e),null):u.forEach(C=>{let w=t.queryToTagMap.get(qh(C));t.listenProvider_.stopListening($l(C),w)}))}vB(t,u)}return a}function K1(t,e,n,i){let r=Yv(t,i);if(r!=null){let o=Zv(r),s=o.path,a=o.queryId,c=Xt(s,e),u=new na(Gv(a),c,n);return Jv(t,s,u)}else return[]}function mB(t,e,n,i){let r=Yv(t,i);if(r){let o=Zv(r),s=o.path,a=o.queryId,c=Xt(s,e),u=tn.fromObject(n),h=new Kl(Gv(a),c,u);return Jv(t,s,h)}else return[]}function gB(t,e,n,i=!1){let r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(C,w)=>{let S=Xt(C,r);o=o||$r(w,S),s=s||Gr(w)});let a=t.syncPointTree_.get(r);a?(s=s||Gr(a),o=o||$r(a,Fe())):(a=new Lh,t.syncPointTree_=t.syncPointTree_.set(r,a));let c;o!=null?c=!0:(c=!1,o=me.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((w,S)=>{let O=$r(S,Fe());O&&(o=o.updateImmediateChild(w,O))}));let u=G1(a,e);if(!u&&!e._queryParams.loadsAllData()){let C=qh(e);H(!t.queryToTagMap.has(C),"View does not exist, but we have a tag");let w=CB();t.queryToTagMap.set(C,w),t.tagToQueryMap.set(w,C)}let h=Hh(t.pendingWriteTree_,r),p=sB(a,e,n,h,o,c);if(!u&&!s&&!i){let C=q1(a,e);p=p.concat(wB(t,e,C))}return p}function Qv(t,e,n){let r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Xt(s,e),u=$r(a,c);if(u)return u});return F1(r,e,o,n,!0)}function _B(t,e){let n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,(u,h)=>{let p=Xt(u,n);i=i||$r(h,p)});let r=t.syncPointTree_.get(n);r?i=i||$r(r,Fe()):(r=new Lh,t.syncPointTree_=t.syncPointTree_.set(n,r));let o=i!=null,s=o?new mi(i,!0,!1):null,a=Hh(t.pendingWriteTree_,e._path),c=H1(r,e,a,o?s.getNode():me.EMPTY_NODE,o);return X3(c)}function sa(t,e){return Q1(e,t.syncPointTree_,null,Hh(t.pendingWriteTree_,Fe()))}function Q1(t,e,n,i){if(Se(t.path))return Y1(t,e,n,i);{let r=e.get(Fe());n==null&&r!=null&&(n=$r(r,Fe()));let o=[],s=De(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let u=n?n.getImmediateChild(s):null,h=L1(i,s);o=o.concat(Q1(a,c,u,h))}return r&&(o=o.concat(Kv(r,t,i,n))),o}}function Y1(t,e,n,i){let r=e.get(Fe());n==null&&r!=null&&(n=$r(r,Fe()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,u=L1(i,s),h=t.operationForChild(s);h&&(o=o.concat(Y1(h,a,c,u)))}),r&&(o=o.concat(Kv(r,t,i,n))),o}function Z1(t,e){let n=e.query,i=Yl(t,n);return{hashFn:()=>(J3(e)||me.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?pB(t,n._path,i):fB(t,n._path);{let o=M4(r,n);return W1(t,n,null,o)}}}}function Yl(t,e){let n=qh(e);return t.queryToTagMap.get(n)}function qh(t){return t._path.toString()+"$"+t._queryIdentifier}function Yv(t,e){return t.tagToQueryMap.get(e)}function Zv(t){let e=t.indexOf("$");return H(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Be(t.substr(0,e))}}function Jv(t,e,n){let i=t.syncPointTree_.get(e);H(i,"Missing sync point for query tag that we're tracking");let r=Hh(t.pendingWriteTree_,e);return Kv(i,n,r,null)}function yB(t){return t.fold((e,n,i)=>{if(n&&Gr(n))return[$h(n)];{let r=[];return n&&(r=$1(n)),Ot(i,(o,s)=>{r=r.concat(s)}),r}})}function $l(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(cB())(t._repo,t._path):t}function vB(t,e){for(let n=0;n<e.length;++n){let i=e[n];if(!i._queryParams.loadsAllData()){let r=qh(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function CB(){return uB++}function wB(t,e,n){let i=e._path,r=Yl(t,e),o=Z1(t,n),s=t.listenProvider_.startListening($l(e),r,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(i);if(r)H(!Gr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((u,h,p)=>{if(!Se(u)&&h&&Gr(h))return[$h(h).query];{let C=[];return h&&(C=C.concat($1(h).map(w=>w.query))),Ot(p,(w,S)=>{C=C.concat(S)}),C}});for(let u=0;u<c.length;++u){let h=c[u];t.listenProvider_.stopListening($l(h),Yl(t,h))}}return s}var Iv=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},bv=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=it(this.path_,e);return new t(this.syncTree_,n)}node(){return Qv(this.syncTree_,this.path_)}},EB=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},e1=function(t,e,n){if(!t||typeof t!="object")return t;if(H(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return IB(t[".sv"],e,n);if(typeof t[".sv"]=="object")return bB(t[".sv"],e);H(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},IB=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:H(!1,"Unexpected server value: "+t)}},bB=function(t,e,n){t.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let i=t.increment;typeof i!="number"&&H(!1,"Unexpected increment value: "+i);let r=e.node();if(H(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},J1=function(t,e,n,i){return Xv(e,new bv(n,t),i)},X1=function(t,e,n){return Xv(t,new Iv(e),n)};function Xv(t,e,n){let i=t.getPriority().val(),r=e1(i,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=e1(s.getValue(),e,n);return a!==s.getValue()||r!==s.getPriority().val()?new Xs(a,Dt(r)):t}else{let s=t;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Xs(r))),s.forEachChild(rt,(a,c)=>{let u=Xv(c,e.getImmediateChild(a),n);u!==c&&(o=o.updateImmediateChild(a,u))}),o}}var Zl=class{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}};function e0(t,e){let n=e instanceof Be?e:new Be(e),i=t,r=De(n);for(;r!==null;){let o=oo(i.node.children,r)||{children:{},childCount:0};i=new Zl(r,i,o),n=Ge(n),r=De(n)}return i}function aa(t){return t.node.value}function eA(t,e){t.node.value=e,Sv(t)}function tA(t){return t.node.childCount>0}function SB(t){return aa(t)===void 0&&!tA(t)}function Gh(t,e){Ot(t.node.children,(n,i)=>{e(new Zl(n,t,i))})}function nA(t,e,n,i){n&&!i&&e(t),Gh(t,r=>{nA(r,e,!0,i)}),n&&i&&e(t)}function TB(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function nc(t){return new Be(t.parent===null?t.name:nc(t.parent)+"/"+t.name)}function Sv(t){t.parent!==null&&DB(t.parent,t.name,t)}function DB(t,e,n){let i=SB(n),r=Un(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Sv(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Sv(t))}var AB=/[\[\].#$\/\u0000-\u001F\u007F]/,xB=/[\[\].#$\u0000-\u001F\u007F]/,Ly=10*1024*1024,t0=function(t){return typeof t=="string"&&t.length!==0&&!AB.test(t)},iA=function(t){return typeof t=="string"&&t.length!==0&&!xB.test(t)},NB=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iA(t)},RB=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Lv(t)||t&&typeof t=="object"&&Un(t,".sv")},rA=function(t,e,n,i){i&&e===void 0||zh(Wa(t,"value"),e,n)},zh=function(t,e,n){let i=n instanceof Be?new Zy(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Vo(i));if(typeof e=="function")throw new Error(t+"contains a function "+Vo(i)+" with contents = "+e.toString());if(Lv(e))throw new Error(t+"contains "+e.toString()+" "+Vo(i));if(typeof e=="string"&&e.length>Ly/3&&Ka(e)>Ly)throw new Error(t+"contains a string greater than "+Ly+" utf8 bytes "+Vo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(Ot(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!t0(s)))throw new Error(t+" contains an invalid key ("+s+") "+Vo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);l3(i,s),zh(t,a,i),c3(i)}),r&&o)throw new Error(t+' contains ".value" child '+Vo(i)+" in addition to actual children.")}},MB=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];let o=ql(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!t0(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(a3);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&kn(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},PB=function(t,e,n,i){if(i&&e===void 0)return;let r=Wa(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let o=[];Ot(e,(s,a)=>{let c=new Be(s);if(zh(r,a,it(n,c)),Uv(c)===".priority"&&!RB(a))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),MB(r,o)};var oA=function(t,e,n,i){if(!(i&&n===void 0)&&!iA(n))throw new Error(Wa(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},kB=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oA(t,e,n,i)},n0=function(t,e){if(De(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},OB=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!t0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!NB(n))throw new Error(Wa(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Tv=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function i0(t,e){let n=null;for(let i=0;i<e.length;i++){let r=e[i],o=r.getPath();n!==null&&!S1(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function Fn(t,e,n){i0(t,n),FB(t,i=>kn(i,e)||kn(e,i))}function FB(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){let r=t.eventLists_[i];if(r){let o=r.path;e(o)?(LB(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function LB(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let i=n.getEventRunner();Uo&&kt("event: "+n.toString()),oa(i)}}}var VB="repo_interrupt",BB=25,Dv=class{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Nh(),this.transactionQueueTree_=new Zl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function UB(t,e,n){if(t.stats_=Bv(t.repoInfo_),t.forceRestClient_||F4())t.server_=new lv(t.repoInfo_,(i,r,o,s)=>{t1(t,i,r,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>n1(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ut(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new jv(t.repoInfo_,e,(i,r,o,s)=>{t1(t,i,r,o,s)},i=>{n1(t,i)},i=>{jB(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=V4(t.repoInfo_,()=>new hv(t.stats_,t.server_)),t.infoData_=new cv,t.infoSyncTree_=new Bh({startListening:(i,r,o,s)=>{let a=[],c=t.infoData_.getNode(i._path);return c.isEmpty()||(a=tc(t.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),r0(t,"connected",!1),t.serverSyncTree_=new Bh({startListening:(i,r,o,s)=>(t.server_.listen(i,o,r,(a,c)=>{let u=s(a,c);Fn(t.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function sA(t){let n=t.infoData_.getNode(new Be(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Wh(t){return EB({timestamp:sA(t)})}function t1(t,e,n,i,r){t.dataUpdateCount++;let o=new Be(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(r)if(i){let c=za(n,u=>Dt(u));s=mB(t.serverSyncTree_,o,c,r)}else{let c=Dt(n);s=K1(t.serverSyncTree_,o,c,r)}else if(i){let c=za(n,u=>Dt(u));s=hB(t.serverSyncTree_,o,c)}else{let c=Dt(n);s=tc(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=ra(t,o)),Fn(t.eventQueue_,a,s)}function n1(t,e){r0(t,"connected",e),e===!1&&GB(t)}function jB(t,e){Ot(e,(n,i)=>{r0(t,n,i)})}function r0(t,e,n){let i=new Be("/.info/"+e),r=Dt(n);t.infoData_.updateSnapshot(i,r);let o=tc(t.infoSyncTree_,i,r);Fn(t.eventQueue_,i,o)}function o0(t){return t.nextWriteId_++}function HB(t,e,n){let i=_B(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{let o=Dt(r).withIndex(e._queryParams.getIndex());gB(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=tc(t.serverSyncTree_,e._path,o);else{let a=Yl(t.serverSyncTree_,e);s=K1(t.serverSyncTree_,e._path,o,a)}return Fn(t.eventQueue_,e._path,s),W1(t.serverSyncTree_,e,n,null,!0),o},r=>(ic(t,"get for query "+ut(e)+" failed: "+r),Promise.reject(new Error(r))))}function $B(t,e,n,i,r){ic(t,"set",{path:e.toString(),value:n,priority:i});let o=Wh(t),s=Dt(n,i),a=Qv(t.serverSyncTree_,e),c=X1(s,a,o),u=o0(t),h=z1(t.serverSyncTree_,e,c,u,!0);i0(t.eventQueue_,h),t.server_.put(e.toString(),s.val(!0),(C,w)=>{let S=C==="ok";S||en("set at "+e+" failed: "+C);let O=jr(t.serverSyncTree_,u,!S);Fn(t.eventQueue_,e,O),Av(t,r,C,w)});let p=a0(t,e);ra(t,p),Fn(t.eventQueue_,p,[])}function qB(t,e,n,i){ic(t,"update",{path:e.toString(),value:n});let r=!0,o=Wh(t),s={};if(Ot(n,(a,c)=>{r=!1,s[a]=J1(it(e,a),Dt(c),t.serverSyncTree_,o)}),r)kt("update() called with empty data.  Don't do anything."),Av(t,i,"ok",void 0);else{let a=o0(t),c=dB(t.serverSyncTree_,e,s,a);i0(t.eventQueue_,c),t.server_.merge(e.toString(),n,(u,h)=>{let p=u==="ok";p||en("update at "+e+" failed: "+u);let C=jr(t.serverSyncTree_,a,!p),w=C.length>0?ra(t,e):e;Fn(t.eventQueue_,w,C),Av(t,i,u,h)}),Ot(n,u=>{let h=a0(t,it(e,u));ra(t,h)}),Fn(t.eventQueue_,e,[])}}function GB(t){ic(t,"onDisconnectEvents");let e=Wh(t),n=Nh();uv(t.onDisconnect_,Fe(),(r,o)=>{let s=J1(r,o,t.serverSyncTree_,e);M1(n,r,s)});let i=[];uv(n,Fe(),(r,o)=>{i=i.concat(tc(t.serverSyncTree_,r,o));let s=a0(t,r);ra(t,s)}),t.onDisconnect_=Nh(),Fn(t.eventQueue_,Fe(),i)}function zB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(VB)}function ic(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),kt(n,...e)}function Av(t,e,n,i){e&&oa(()=>{if(n==="ok")e(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,e(s)}})}function aA(t,e,n){return Qv(t.serverSyncTree_,e,n)||me.EMPTY_NODE}function s0(t,e=t.transactionQueueTree_){if(e||Kh(t,e),aa(e)){let n=cA(t,e);H(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&WB(t,nc(e),n)}else tA(e)&&Gh(e,n=>{s0(t,n)})}function WB(t,e,n){let i=n.map(u=>u.currentWriteId),r=aA(t,e,i),o=r,s=r.hash();for(let u=0;u<n.length;u++){let h=n[u];H(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;let p=Xt(e,h.path);o=o.updateChild(p,h.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,u=>{ic(t,"transaction put response",{path:c.toString(),status:u});let h=[];if(u==="ok"){let p=[];for(let C=0;C<n.length;C++)n[C].status=2,h=h.concat(jr(t.serverSyncTree_,n[C].currentWriteId)),n[C].onComplete&&p.push(()=>n[C].onComplete(null,!0,n[C].currentOutputSnapshotResolved)),n[C].unwatcher();Kh(t,e0(t.transactionQueueTree_,e)),s0(t,t.transactionQueueTree_),Fn(t.eventQueue_,e,h);for(let C=0;C<p.length;C++)oa(p[C])}else{if(u==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{en("transaction at "+c.toString()+" failed: "+u);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=u}ra(t,e)}},s)}function ra(t,e){let n=lA(t,e),i=nc(n),r=cA(t,n);return KB(t,r,i),i}function KB(t,e,n){if(e.length===0)return;let i=[],r=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],u=Xt(n,c.path),h=!1,p;if(H(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,p=c.abortReason,r=r.concat(jr(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=BB)h=!0,p="maxretry",r=r.concat(jr(t.serverSyncTree_,c.currentWriteId,!0));else{let C=aA(t,c.path,s);c.currentInputSnapshot=C;let w=e[a].update(C.val());if(w!==void 0){zh("transaction failed: Data returned ",w,c.path);let S=Dt(w);typeof w=="object"&&w!=null&&Un(w,".priority")||(S=S.updatePriority(C.getPriority()));let B=c.currentWriteId,z=Wh(t),J=X1(S,C,z);c.currentOutputSnapshotRaw=S,c.currentOutputSnapshotResolved=J,c.currentWriteId=o0(t),s.splice(s.indexOf(B),1),r=r.concat(z1(t.serverSyncTree_,c.path,J,c.currentWriteId,c.applyLocally)),r=r.concat(jr(t.serverSyncTree_,B,!0))}else h=!0,p="nodata",r=r.concat(jr(t.serverSyncTree_,c.currentWriteId,!0))}Fn(t.eventQueue_,n,r),r=[],h&&(e[a].status=2,function(C){setTimeout(C,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(p),!1,null))))}Kh(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)oa(i[a]);s0(t,t.transactionQueueTree_)}function lA(t,e){let n,i=t.transactionQueueTree_;for(n=De(e);n!==null&&aa(i)===void 0;)i=e0(i,n),e=Ge(e),n=De(e);return i}function cA(t,e){let n=[];return uA(t,e,n),n.sort((i,r)=>i.order-r.order),n}function uA(t,e,n){let i=aa(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Gh(e,r=>{uA(t,r,n)})}function Kh(t,e){let n=aa(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,eA(e,n.length>0?n:void 0)}Gh(e,i=>{Kh(t,i)})}function a0(t,e){let n=nc(lA(t,e)),i=e0(t.transactionQueueTree_,e);return TB(i,r=>{Vy(t,r)}),Vy(t,i),nA(i,r=>{Vy(t,r)}),n}function Vy(t,e){let n=aa(e);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(H(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(H(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(jr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?eA(e,void 0):n.length=o+1,Fn(t.eventQueue_,nc(e),r);for(let s=0;s<i.length;s++)oa(i[s])}}function QB(t){let e="",n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function YB(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):en(`Invalid query segment '${n}' in query '${t}'`)}return e}var i1=function(t,e){let n=ZB(t),i=n.namespace;n.domain==="firebase.com"&&Zi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Zi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||D4();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Eh(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Be(n.pathString)}},ZB=function(t){let e="",n="",i="",r="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(r=QB(t.substring(h,p)));let C=YB(t.substring(Math.min(t.length,p)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;let w=e.slice(0,u);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{let S=e.indexOf(".");i=e.substring(0,S).toLowerCase(),n=e.substring(S+1),o=i}"ns"in C&&(o=C.ns)}return{host:e,port:c,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var r1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",JB=function(){let t=0,e=[];return function(n){let i=n===t;t=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=r1.charAt(n%64),n=Math.floor(n/64);H(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=r1.charAt(e[r]);return H(s.length===20,"nextPushId: Length should be 20."),s}}();var xv=class{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ut(this.snapshot.exportVal())}},Nv=class{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Rv=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Mv=class t{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Se(this._path)?null:Uv(this._path)}get ref(){return new Ji(this._repo,this._path)}get _queryIdentifier(){let e=qD(this._queryParams),n=Vv(e);return n==="{}"?"default":n}get _queryObject(){return qD(this._queryParams)}isEqual(e){if(e=$t(e),!(e instanceof t))return!1;let n=this._repo===e._repo,i=S1(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+s3(this._path)}};var Ji=class t extends Mv{constructor(e,n){super(e,n,new av,!1)}get parent(){let e=b1(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Uh=class t{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Be(e),i=$o(this.ref,e);return new t(this._node.getChild(n),i,rt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new t(r,$o(this.ref,i),rt)))}hasChild(e){let n=new Be(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function dA(t,e){return t=$t(t),t._checkNotDeleted("ref"),e!==void 0?$o(t._root,e):t._root}function $o(t,e){return t=$t(t),De(t._path)===null?kB("child","path",e,!1):oA("child","path",e,!1),new Ji(t._repo,it(t._path,e))}function hA(t,e){t=$t(t),n0("push",t._path),rA("push",e,t._path,!0);let n=sA(t._repo),i=JB(n),r=$o(t,i),o=$o(t,i),s;return e!=null?s=Qh(o,e).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function fA(t){return n0("remove",t._path),Qh(t,null)}function Qh(t,e){t=$t(t),n0("set",t._path),rA("set",e,t._path,!1);let n=new xi;return $B(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function pA(t,e){PB("update",e,t._path,!1);let n=new xi;return qB(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function mA(t){t=$t(t);let e=new Rv(()=>{}),n=new Pv(e);return HB(t._repo,t,n).then(i=>new Uh(i,new Ji(t._repo,t._path),t._queryParams.getIndex()))}var Pv=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let i=n._queryParams.getIndex();return new xv("value",this,new Uh(e.snapshotNode,new Ji(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Nv(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};iB(Ji);lB(Ji);var XB="FIREBASE_DATABASE_EMULATOR_HOST",kv={},eU=!1;function tU(t,e,n,i){t.repoInfo_=new Eh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function nU(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||Zi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),kt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=i1(o,r),a=s.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[XB]),u?(c=!0,o=`http://${u}?ns=${a.namespace}`,s=i1(o,r),a=s.repoInfo):c=!s.repoInfo.secure;let h=r&&c?new Ul(Ul.OWNER):new qy(t.name,t.options,e);OB("Invalid Firebase Database URL",s),Se(s.path)||Zi("Database URL must point to the root of a Firebase Database (not including a child path).");let p=rU(a,t,h,new $y(t.name,n));return new Ov(p,t)}function iU(t,e){let n=kv[e];(!n||n[t.key]!==t)&&Zi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),zB(t),delete n[t.key]}function rU(t,e,n,i){let r=kv[e.name];r||(r={},kv[e.name]=r);let o=r[t.toURLString()];return o&&Zi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Dv(t,eU,n,i),r[t.toURLString()]=o,o}var Ov=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(UB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ji(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Zi("Cannot call "+e+" on a deleted database.")}};function gA(t=_r(),e){let n=co(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let i=gu("database");i&&_A(n,...i)}return n}function _A(t,e,n,i={}){t=$t(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Zi("Cannot call useEmulator() after instance has already been initialized.");let r=t._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Zi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ul(Ul.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:_u(i.mockUserToken,t.app.options.projectId);o=new Ul(s)}tU(r,e,n,o)}function oU(t){b4(ai),si(new sn("database",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return nU(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Ye(DD,AD,t),Ye(DD,AD,"esm2017")}jv.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};jv.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};oU();var Xi=class{constructor(e){return e}},yA="database",l0=class{constructor(){return Mo(yA)}};var c0=new X("angularfire2.database-instances");function sU(t,e){let n=qs(yA,t,e);return n&&new Xi(n)}function aU(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Xi(i)}}var lU={provide:l0,deps:[[new It,c0]]},cU={provide:Xi,useFactory:sU,deps:[[new It,c0],Zn]};function vA(t,...e){return Ye("angularfire",Wi.full,"rtdb"),Mn([cU,lU,{provide:c0,useFactory:aU(t),multi:!0,deps:[Le,Pt,Lr,Ki,[new It,Lo],[new It,Fr],...e]}])}var un=Jt($o,!0);var zo=Jt(mA,!0),CA=Jt(gA,!0);var rc=Jt(hA,!0);var Yh=Jt(dA,!0);var oc=Jt(fA,!0);var sc=Jt(Qh,!0);var ac=Jt(pA,!0);var SA=null;function tr(){return SA}function TA(t){SA??=t}var Zh=class{};var dn=new X(""),d0=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>W(uU),providedIn:"platform"})}return t})();var uU=(()=>{class t extends d0{_location;_history;_doc=W(dn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tr().getBaseHref(this._doc)}onPopState(n){let i=tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function h0(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function EA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function er(t){return t&&t[0]!=="?"?"?"+t:t}var zr=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>W(AA),providedIn:"root"})}return t})(),DA=new X(""),AA=(()=>{class t extends zr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??W(dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return h0(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+er(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+er(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+er(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(re(d0),re(DA,8))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xA=(()=>{class t extends zr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=h0(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+er(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+er(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(re(d0),re(DA,8))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),lc=(()=>{class t{_subject=new dt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=fU(EA(IA(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+er(i))}normalize(n){return t.stripTrailingSlash(hU(this._basePath,IA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+er(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+er(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=er;static joinWithSlash=h0;static stripTrailingSlash=EA;static \u0275fac=function(i){return new(i||t)(re(zr))};static \u0275prov=ee({token:t,factory:()=>dU(),providedIn:"root"})}return t})();function dU(){return new lc(re(zr))}function hU(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function IA(t){return t.replace(/\/index.html$/,"")}function fU(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function NA(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var u0=/\s+/,bA=[],Ze=(()=>{class t{_ngEl;_renderer;initialClasses=bA;rawClass;stateMap=new Map;constructor(n,i){this._ngEl=n,this._renderer=i}set klass(n){this.initialClasses=n!=null?n.trim().split(u0):bA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(u0):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(u0).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||t)(U(Zt),U(Yn))};static \u0275dir=Je({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var qe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Or({type:t});static \u0275inj=Rr({})}return t})(),RA="browser",pU="server";function f0(t){return t===pU}var Jh=class{};var m0=class extends Zh{supportsDOMEvents=!0},g0=class t extends m0{static makeCurrent(){TA(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=mU();return n==null?null:gU(n)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return NA(document.cookie,e)}},cc=null;function mU(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}function gU(t){return new URL(t,document.baseURI).pathname}var _U=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),_0=new X(""),FA=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||t)(re(_0),re(Le))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),Xh=class{_doc;constructor(e){this._doc=e}manager},y0="ng-app-id";function MA(t){for(let e of t)e.remove()}function PA(t,e){let n=e.createElement("style");return n.textContent=t,n}function yU(t,e,n){let i=t.head?.querySelectorAll(`style[${y0}="${e}"]`);if(i)for(let r of i)r.textContent&&(r.removeAttribute(y0),n.set(r.textContent,{usage:0,elements:[r]}))}function v0(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var LA=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.isServer=f0(o),yU(n,i,this.inline),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,PA);i?.forEach(r=>this.addUsage(r,this.external,v0))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(MA(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])MA(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,PA(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,v0(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(y0,this.appId),n.appendChild(i)}static \u0275fac=function(i){return new(i||t)(re(dn),re(D_),re(N_,8),re(Pr))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),p0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},w0=/%COMP%/g,VA="%COMP%",vU=`_nghost-${VA}`,CU=`_ngcontent-${VA}`,wU=!0,EU=new X("",{providedIn:"root",factory:()=>wU});function IU(t){return CU.replace(w0,t)}function bU(t){return vU.replace(w0,t)}function BA(t,e){return e.map(n=>n.replace(w0,t))}var ef=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.platformIsServer=f0(a),this.defaultRenderer=new uc(n,s,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===di.ShadowDom&&(i=_e(V({},i),{encapsulation:di.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof tf?r.applyToHost(n):r instanceof dc&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case di.Emulated:o=new tf(c,u,i,this.appId,h,s,a,p);break;case di.ShadowDom:return new C0(c,u,n,i,s,a,this.nonce,p);default:o=new dc(c,u,i,h,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(i){return new(i||t)(re(FA),re(LA),re(D_),re(EU),re(dn),re(Pr),re(Le),re(N_))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),uc=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(p0[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(kA(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(kA(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new $(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=p0[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=p0[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Vi.DashCase|Vi.Important)?e.style.setProperty(n,i,r&Vi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Vi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=tr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function kA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var C0=class extends uc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=BA(r.id,r.styles);for(let p of u){let C=document.createElement("style");a&&C.setAttribute("nonce",a),C.textContent=p,this.shadowRoot.appendChild(C)}let h=r.getExternalStyles?.();if(h)for(let p of h){let C=v0(p,o);a&&C.setAttribute("nonce",a),this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dc=class extends uc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?BA(c,i.styles):i.styles,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},tf=class extends dc{contentAttr;hostAttr;constructor(e,n,i,r,o,s,a,c){let u=r+"-"+i.id;super(e,n,i,o,s,a,c,u),this.contentAttr=IU(u),this.hostAttr=bU(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},SU=(()=>{class t extends Xh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static \u0275fac=function(i){return new(i||t)(re(dn))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),OA=["alt","control","meta","shift"],TU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},AU=(()=>{class t extends Xh{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),OA.forEach(u=>{let h=i.indexOf(u);h>-1&&(i.splice(h,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(n,i){let r=TU[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),OA.forEach(s=>{if(s!==r){let a=DU[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{t.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||t)(re(dn))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();function UA(t,e){return PT(V({rootComponent:t},xU(e)))}function xU(t){return{appProviders:[...kU,...t?.providers??[]],platformProviders:PU}}function NU(){g0.makeCurrent()}function RU(){return new Dr}function MU(){return bS(document),document}var PU=[{provide:Pr,useValue:RA},{provide:A_,useValue:NU,multi:!0},{provide:dn,useFactory:MU,deps:[]}];var kU=[{provide:Ld,useValue:"root"},{provide:Dr,useFactory:RU,deps:[]},{provide:_0,useClass:SU,multi:!0,deps:[dn,Le,Pr]},{provide:_0,useClass:AU,multi:!0,deps:[dn]},ef,LA,FA,{provide:xr,useExisting:ef},{provide:Jh,useClass:_U,deps:[]},[]];var jA=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||t)(re(dn))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ge="primary",Dc=Symbol("RouteTitle"),T0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function fa(t){return new T0(t)}function FU(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function LU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gi(t[n],e[n]))return!1;return!0}function gi(t,e){let n=t?D0(t):void 0,i=e?D0(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!QA(t[r],e[r]))return!1;return!0}function D0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function QA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function YA(t){return t.length>0?t[t.length-1]:null}function Wr(t){return Mm(t)?t:Do(t)?ke(Promise.resolve(t)):ae(t)}var VU={exact:JA,subset:XA},ZA={exact:BU,subset:UU,ignored:()=>!0};function HA(t,e,n){return VU[n.paths](t.root,e.root,n.matrixParams)&&ZA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function BU(t,e){return gi(t,e)}function JA(t,e,n){if(!Ko(t.segments,e.segments)||!of(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!JA(t.children[i],e.children[i],n))return!1;return!0}function UU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>QA(t[n],e[n]))}function XA(t,e,n){return ex(t,e,e.segments,n)}function ex(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Ko(r,n)||e.hasChildren()||!of(r,n,i))}else if(t.segments.length===n.length){if(!Ko(t.segments,n)||!of(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!XA(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ko(t.segments,r)||!of(t.segments,r,i)||!t.children[ge]?!1:ex(t.children[ge],e,o,i)}}function of(t,e,n){return e.every((i,r)=>ZA[n](t[r].parameters,i.parameters))}var ir=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ue([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=fa(this.queryParams),this._queryParamMap}toString(){return $U.serialize(this)}},Ue=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sf(this)}},Wo=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=fa(this.parameters),this._parameterMap}toString(){return nx(this)}};function jU(t,e){return Ko(t,e)&&t.every((n,i)=>gi(n.parameters,e[i].parameters))}function Ko(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function HU(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===ge&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==ge&&(n=n.concat(e(r,i)))}),n}var X0=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>new yc,providedIn:"root"})}return t})(),yc=class{parse(e){let n=new x0(e);return new ir(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${hc(e.root,!0)}`,i=zU(e.queryParams),r=typeof e.fragment=="string"?`#${qU(e.fragment)}`:"";return`${n}${i}${r}`}},$U=new yc;function sf(t){return t.segments.map(e=>nx(e)).join("/")}function hc(t,e){if(!t.hasChildren())return sf(t);if(e){let n=t.children[ge]?hc(t.children[ge],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==ge&&i.push(`${r}:${hc(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=HU(t,(i,r)=>r===ge?[hc(t.children[ge],!1)]:[`${r}:${hc(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[ge]!=null?`${sf(t)}/${n[0]}`:`${sf(t)}/(${n.join("//")})`}}function tx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nf(t){return tx(t).replace(/%3B/gi,";")}function qU(t){return encodeURI(t)}function A0(t){return tx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function af(t){return decodeURIComponent(t)}function $A(t){return af(t.replace(/\+/g,"%20"))}function nx(t){return`${A0(t.path)}${GU(t.parameters)}`}function GU(t){return Object.entries(t).map(([e,n])=>`;${A0(e)}=${A0(n)}`).join("")}function zU(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${nf(n)}=${nf(r)}`).join("&"):`${nf(n)}=${nf(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var WU=/^[^\/()?;#]+/;function E0(t){let e=t.match(WU);return e?e[0]:""}var KU=/^[^\/()?;=#]+/;function QU(t){let e=t.match(KU);return e?e[0]:""}var YU=/^[^=?&#]+/;function ZU(t){let e=t.match(YU);return e?e[0]:""}var JU=/^[^&#]+/;function XU(t){let e=t.match(JU);return e?e[0]:""}var x0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ge]=new Ue(e,n)),i}parseSegment(){let e=E0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Wo(af(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=QU(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=E0(this.remaining);r&&(i=r,this.capture(i))}e[af(n)]=af(i)}parseQueryParam(e){let n=ZU(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=XU(this.remaining);s&&(i=s,this.capture(i))}let r=$A(n),o=$A(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=E0(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new $(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ge);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ge]:new Ue([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function ix(t){return t.segments.length>0?new Ue([],{[ge]:t}):t}function rx(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=rx(r);if(i===ge&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Ue(t.segments,e);return ej(n)}function ej(t){if(t.numberOfChildren===1&&t.children[ge]){let e=t.children[ge];return new Ue(t.segments.concat(e.segments),e.children)}return t}function Qo(t){return t instanceof ir}function tj(t,e,n=null,i=null){let r=ox(t);return sx(r,e,n,i)}function ox(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new Ue(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=ix(i);return e??r}function sx(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return I0(r,r,r,n,i);let o=nj(e);if(o.toRoot())return I0(r,r,new Ue([],{}),n,i);let s=ij(o,r,t),a=s.processChildren?mc(s.segmentGroup,s.index,o.commands):lx(s.segmentGroup,s.index,o.commands);return I0(r,s.segmentGroup,a,n,i)}function lf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function vc(t){return typeof t=="object"&&t!=null&&t.outlets}function I0(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;t===e?s=n:s=ax(t,e,n);let a=ix(rx(s));return new ir(a,o,r)}function ax(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=ax(o,e,n)}),new Ue(t.segments,i)}var cf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&lf(i[0]))throw new $(4003,!1);let r=i.find(vc);if(r&&r!==YA(i))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nj(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new cf(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new cf(n,e,i)}var ua=class{segmentGroup;processChildren;index;constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function ij(t,e,n){if(t.isAbsolute)return new ua(e,!0,0);if(!n)return new ua(e,!1,NaN);if(n.parent===null)return new ua(n,!0,0);let i=lf(t.commands[0])?0:1,r=n.segments.length-1+i;return rj(n,r,t.numberOfDoubleDots)}function rj(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new $(4005,!1);r=i.segments.length}return new ua(i,!1,r-o)}function oj(t){return vc(t[0])?t[0].outlets:{[ge]:t}}function lx(t,e,n){if(t??=new Ue([],{}),t.segments.length===0&&t.hasChildren())return mc(t,e,n);let i=sj(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Ue(t.segments.slice(0,i.pathIndex),{});return o.children[ge]=new Ue(t.segments.slice(i.pathIndex),t.children),mc(o,0,r)}else return i.match&&r.length===0?new Ue(t.segments,{}):i.match&&!t.hasChildren()?N0(t,e,n):i.match?mc(t,0,r):N0(t,e,n)}function mc(t,e,n){if(n.length===0)return new Ue(t.segments,{});{let i=oj(n),r={};if(Object.keys(i).some(o=>o!==ge)&&t.children[ge]&&t.numberOfChildren===1&&t.children[ge].segments.length===0){let o=mc(t.children[ge],e,n);return new Ue(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=lx(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ue(t.segments,r)}}function sj(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(vc(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!GA(c,u,s))return o;i+=2}else{if(!GA(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function N0(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(vc(o)){let c=aj(o.outlets);return new Ue(i,c)}if(r===0&&lf(n[0])){let c=t.segments[e];i.push(new Wo(c.path,qA(n[0]))),r++;continue}let s=vc(o)?o.outlets[ge]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&lf(a)?(i.push(new Wo(s,qA(a))),r+=2):(i.push(new Wo(s,{})),r++)}return new Ue(i,{})}function aj(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=N0(new Ue([],{}),0,i))}),e}function qA(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function GA(t,e,n){return t==n.path&&gi(e,n.parameters)}var gc="imperative",Ft=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ft||{}),Ln=class{id;url;constructor(e,n){this.id=e,this.url=n}},Cc=class extends Ln{type=Ft.NavigationStart;navigationTrigger;restoredState;constructor(e,n,i="imperative",r=null){super(e,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rr=class extends Ln{urlAfterRedirects;type=Ft.NavigationEnd;constructor(e,n,i){super(e,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},En=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(En||{}),R0=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(R0||{}),nr=class extends Ln{reason;code;type=Ft.NavigationCancel;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yo=class extends Ln{reason;code;type=Ft.NavigationSkipped;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}},wc=class extends Ln{error;target;type=Ft.NavigationError;constructor(e,n,i,r){super(e,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},uf=class extends Ln{urlAfterRedirects;state;type=Ft.RoutesRecognized;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},M0=class extends Ln{urlAfterRedirects;state;type=Ft.GuardsCheckStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},P0=class extends Ln{urlAfterRedirects;state;shouldActivate;type=Ft.GuardsCheckEnd;constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},k0=class extends Ln{urlAfterRedirects;state;type=Ft.ResolveStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},O0=class extends Ln{urlAfterRedirects;state;type=Ft.ResolveEnd;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},F0=class{route;type=Ft.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},L0=class{route;type=Ft.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},V0=class{snapshot;type=Ft.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},B0=class{snapshot;type=Ft.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},U0=class{snapshot;type=Ft.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},j0=class{snapshot;type=Ft.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ec=class{},pa=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function lj(t,e){return t.providers&&!t._injector&&(t._injector=q_(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ei(t){return t.outlet||ge}function cj(t,e){let n=t.filter(i=>ei(i)===e);return n.push(...t.filter(i=>ei(i)!==e)),n}function Ac(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var H0=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ac(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new _f(this.rootInjector)}},_f=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new H0(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||t)(re(Nn))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),df=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=$0(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=$0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=q0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return q0(e,this._root).map(n=>n.value)}};function $0(t,e){if(t===e.value)return e;for(let n of e.children){let i=$0(t,n);if(i)return i}return null}function q0(t,e){if(t===e.value)return[e];for(let n of e.children){let i=q0(t,n);if(i.length)return i.unshift(e),i}return[]}var wn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ca(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var hf=class extends df{snapshot;constructor(e,n){super(e),this.snapshot=n,eC(this,e)}toString(){return this.snapshot.toString()}};function cx(t){let e=uj(t),n=new Rt([new Wo("",{})]),i=new Rt({}),r=new Rt({}),o=new Rt({}),s=new Rt(""),a=new Qe(n,i,o,s,r,ge,t,e.root);return a.snapshot=e.root,new hf(new wn(a,[]),e)}function uj(t){let e={},n={},i={},r="",o=new da([],e,i,r,n,ge,t,null,{});return new pf("",new wn(o,[]))}var Qe=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(fe(u=>u[Dc]))??ae(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(fe(e=>fa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(fe(e=>fa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ff(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),r?.data),t._resolvedData)}:i={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},r&&dx(r)&&(i.resolve[Dc]=r.title),i}var da=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Dc]}constructor(e,n,i,r,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},pf=class extends df{url;constructor(e,n){super(n),this.url=e,eC(this,n)}toString(){return ux(this._root)}};function eC(t,e){e.value._routerState=t,e.children.forEach(n=>eC(t,n))}function ux(t){let e=t.children.length>0?` { ${t.children.map(ux).join(", ")} } `:"";return`${t.value}${e}`}function b0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),gi(e.params,n.params)||t.paramsSubject.next(n.params),LU(e.url,n.url)||t.urlSubject.next(n.url),gi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function G0(t,e){let n=gi(t.params,e.params)&&jU(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||G0(t.parent,e.parent))}function dx(t){return typeof t.title=="string"||t.title===null}var dj=new X(""),or=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ge;activateEvents=new Et;deactivateEvents=new Et;attachEvents=new Et;detachEvents=new Et;routerOutletData=_S(void 0);parentContexts=W(_f);location=W(Hs);changeDetector=W(xo);inputBinder=W(tC,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new z0(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Je({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[$i]})}return t})(),z0=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,i,r){this.route=e,this.childContexts=n,this.parent=i,this.outletData=r}get(e,n){return e===Qe?this.route:e===_f?this.childContexts:e===dj?this.outletData:this.parent.get(e,n)}},tC=new X("");function hj(t,e,n){let i=Ic(t,e._root,n?n._root:void 0);return new hf(i,e)}function Ic(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=fj(t,e,n);return new wn(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ic(t,a)),s}}let i=pj(e.value),r=e.children.map(o=>Ic(t,o));return new wn(i,r)}}function fj(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Ic(t,i,r);return Ic(t,i)})}function pj(t){return new Qe(new Rt(t.url),new Rt(t.params),new Rt(t.queryParams),new Rt(t.fragment),new Rt(t.data),t.outlet,t.component,t)}var bc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},hx="ngNavigationCancelingError";function mf(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Qo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=fx(!1,En.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function fx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[hx]=!0,n.cancellationCode=e,n}function mj(t){return px(t)&&Qo(t.url)}function px(t){return!!t&&t[hx]}var gj=(t,e,n,i)=>fe(r=>(new W0(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),W0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),b0(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=ca(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=ca(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new j0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new B0(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(b0(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),b0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},gf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ha=class{component;route;constructor(e,n){this.component=e,this.route=n}};function _j(t,e,n){let i=t._root,r=e?e._root:null;return fc(i,r,n,[i.value])}function yj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ga(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!fb(t)?t:e.get(t):i}function fc(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ca(e);return t.children.forEach(s=>{vj(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>_c(a,n.getContext(s),r)),r}function vj(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Cj(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new gf(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fc(t,e,a?a.children:null,i,r):fc(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ha(a.outlet.component,s))}else s&&_c(e,a,r),r.canActivateChecks.push(new gf(i)),o.component?fc(t,null,a?a.children:null,i,r):fc(t,null,n,i,r);return r}function Cj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ko(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ko(t.url,e.url)||!gi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!G0(t,e)||!gi(t.queryParams,e.queryParams);case"paramsChange":default:return!G0(t,e)}}function _c(t,e,n){let i=ca(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?_c(s,e.children.getContext(o),n):_c(s,null,n):_c(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ha(e.outlet.component,r)):n.canDeactivateChecks.push(new ha(null,r)):n.canDeactivateChecks.push(new ha(null,r))}function xc(t){return typeof t=="function"}function wj(t){return typeof t=="boolean"}function Ej(t){return t&&xc(t.canLoad)}function Ij(t){return t&&xc(t.canActivate)}function bj(t){return t&&xc(t.canActivateChild)}function Sj(t){return t&&xc(t.canDeactivate)}function Tj(t){return t&&xc(t.canMatch)}function mx(t){return t instanceof Pi||t?.name==="EmptyError"}var rf=Symbol("INITIAL_VALUE");function ma(){return $n(t=>qu(t.map(e=>e.pipe(ki(1),Lm(rf)))).pipe(fe(e=>{for(let n of e)if(n!==!0){if(n===rf)return rf;if(n===!1||Dj(n))return n}return!0}),Hn(e=>e!==rf),ki(1)))}function Dj(t){return Qo(t)||t instanceof bc}function Aj(t,e){return vt(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ae(_e(V({},n),{guardsResult:!0})):xj(s,i,r,t).pipe(vt(a=>a&&wj(a)?Nj(i,o,t,e):ae(a)),fe(a=>_e(V({},n),{guardsResult:a})))})}function xj(t,e,n,i){return ke(t).pipe(vt(r=>Oj(r.component,r.route,n,e,i)),Oi(r=>r!==!0,!0))}function Nj(t,e,n,i){return ke(e).pipe(Is(r=>Es(Mj(r.route.parent,i),Rj(r.route,i),kj(t,r.path,n),Pj(t,r.route,n))),Oi(r=>r!==!0,!0))}function Rj(t,e){return t!==null&&e&&e(new U0(t)),ae(!0)}function Mj(t,e){return t!==null&&e&&e(new V0(t)),ae(!0)}function Pj(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ae(!0);let r=i.map(o=>Gu(()=>{let s=Ac(e)??n,a=ga(o,s),c=Ij(a)?a.canActivate(e,t):Kn(s,()=>a(e,t));return Wr(c).pipe(Oi())}));return ae(r).pipe(ma())}function kj(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>yj(s)).filter(s=>s!==null).map(s=>Gu(()=>{let a=s.guards.map(c=>{let u=Ac(s.node)??n,h=ga(c,u),p=bj(h)?h.canActivateChild(i,t):Kn(u,()=>h(i,t));return Wr(p).pipe(Oi())});return ae(a).pipe(ma())}));return ae(o).pipe(ma())}function Oj(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let s=o.map(a=>{let c=Ac(e)??r,u=ga(a,c),h=Sj(u)?u.canDeactivate(t,e,n,i):Kn(c,()=>u(t,e,n,i));return Wr(h).pipe(Oi())});return ae(s).pipe(ma())}function Fj(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return ae(!0);let o=r.map(s=>{let a=ga(s,t),c=Ej(a)?a.canLoad(e,n):Kn(t,()=>a(e,n));return Wr(c)});return ae(o).pipe(ma(),gx(i))}function gx(t){return bm(Ct(e=>{if(typeof e!="boolean")throw mf(t,e)}),fe(e=>e===!0))}function Lj(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return ae(!0);let o=r.map(s=>{let a=ga(s,t),c=Tj(a)?a.canMatch(e,n):Kn(t,()=>a(e,n));return Wr(c)});return ae(o).pipe(ma(),gx(i))}var Sc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Tc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function la(t){return Cs(new Sc(t))}function Vj(t){return Cs(new $(4e3,!1))}function Bj(t){return Cs(fx(!1,En.GuardRejected))}var K0=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ae(i);if(r.numberOfChildren>1||!r.children[ge])return Vj(`${e.redirectTo}`);r=r.children[ge]}}applyRedirectCommands(e,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:h,url:p,outlet:C,params:w,data:S,title:O}=r,B=Kn(o,()=>a({params:w,data:S,queryParams:c,fragment:u,routeConfig:h,url:p,outlet:C,title:O}));if(B instanceof ir)throw new Tc(B);n=B}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new Tc(s);return s}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new ir(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Ue(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new $(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Q0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uj(t,e,n,i,r){let o=_x(t,e,n);return o.matched?(i=lj(e,i),Lj(i,e,n,r).pipe(fe(s=>s===!0?o:V({},Q0)))):ae(o)}function _x(t,e,n){if(e.path==="**")return jj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},Q0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||FU)(n,t,e);if(!r)return V({},Q0);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?V(V({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function jj(t){return{matched:!0,parameters:t.length>0?YA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function zA(t,e,n,i){return n.length>0&&qj(t,n,i)?{segmentGroup:new Ue(e,$j(i,new Ue(n,t.children))),slicedSegments:[]}:n.length===0&&Gj(t,n,i)?{segmentGroup:new Ue(t.segments,Hj(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ue(t.segments,t.children),slicedSegments:n}}function Hj(t,e,n,i){let r={};for(let o of n)if(yf(t,e,o)&&!i[ei(o)]){let s=new Ue([],{});r[ei(o)]=s}return V(V({},i),r)}function $j(t,e){let n={};n[ge]=e;for(let i of t)if(i.path===""&&ei(i)!==ge){let r=new Ue([],{});n[ei(i)]=r}return n}function qj(t,e,n){return n.some(i=>yf(t,e,i)&&ei(i)!==ge)}function Gj(t,e,n){return n.some(i=>yf(t,e,i))}function yf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zj(t,e,n){return e.length===0&&!t.children[n]}var Y0=class{};function Wj(t,e,n,i,r,o,s="emptyOnly"){return new Z0(t,e,n,i,r,s,o).recognize()}var Kj=31,Z0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new K0(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=zA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(fe(({children:n,rootSnapshot:i})=>{let r=new wn(i,n),o=new pf("",r),s=tj(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new da([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ge,n).pipe(fe(i=>({children:i,rootSnapshot:n})),wr(i=>{if(i instanceof Tc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Sc?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,o):this.processSegment(e,n,i,i.segments,r,!0,o).pipe(fe(s=>s instanceof wn?[s]:[]))}processChildren(e,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(Is(s=>{let a=i.children[s],c=cj(n,s);return this.processSegmentGroup(e,c,a,s,r)}),Fm((s,a)=>(s.push(...a),s)),Er(null),Om(),vt(s=>{if(s===null)return la(i);let a=yx(s);return Qj(a),ae(a)}))}processSegment(e,n,i,r,o,s,a){return ke(n).pipe(Is(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,o,s,a).pipe(wr(u=>{if(u instanceof Sc)return ae(null);throw u}))),Oi(c=>!!c),wr(c=>{if(mx(c))return zj(i,r,o)?ae(new Y0):la(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,o,s,a,c){return ei(i)!==s&&(s===ge||!yf(r,o,i))?la(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s,c):la(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s,a){let{matched:c,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:C}=_x(n,r,o);if(!c)return la(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Kj&&(this.allowRedirects=!1));let w=new da(o,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,WA(r),ei(r),r.component??r._loadedComponent??null,r,KA(r)),S=ff(w,a,this.paramsInheritanceStrategy);w.params=Object.freeze(S.params),w.data=Object.freeze(S.data);let O=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,w,e);return this.applyRedirects.lineralizeSegments(r,O).pipe(vt(B=>this.processSegment(e,i,n,B.concat(C),s,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,o,s){let a=Uj(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe($n(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe($n(({routes:u})=>{let h=i._loadedInjector??e,{parameters:p,consumedSegments:C,remainingSegments:w}=c,S=new da(C,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,WA(i),ei(i),i.component??i._loadedComponent??null,i,KA(i)),O=ff(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(O.params),S.data=Object.freeze(O.data);let{segmentGroup:B,slicedSegments:z}=zA(n,C,w,u);if(z.length===0&&B.hasChildren())return this.processChildren(h,u,B,S).pipe(fe(ne=>new wn(S,ne)));if(u.length===0&&z.length===0)return ae(new wn(S,[]));let J=ei(i)===o;return this.processSegment(h,u,B,z,J?ge:o,!0,S).pipe(fe(ne=>new wn(S,ne instanceof wn?[ne]:[])))}))):la(n)))}getChildConfig(e,n,i){return n.children?ae({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ae({routes:n._loadedRoutes,injector:n._loadedInjector}):Fj(e,n,i,this.urlSerializer).pipe(vt(r=>r?this.configLoader.loadChildren(e,n).pipe(Ct(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Bj(n))):ae({routes:[],injector:e})}};function Qj(t){t.sort((e,n)=>e.value.outlet===ge?-1:n.value.outlet===ge?1:e.value.outlet.localeCompare(n.value.outlet))}function Yj(t){let e=t.value.routeConfig;return e&&e.path===""}function yx(t){let e=[],n=new Set;for(let i of t){if(!Yj(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=yx(i.children);e.push(new wn(i.value,r))}return e.filter(i=>!n.has(i))}function WA(t){return t.data||{}}function KA(t){return t.resolve||{}}function Zj(t,e,n,i,r,o){return vt(s=>Wj(t,e,n,i,s.extractedUrl,r,o).pipe(fe(({state:a,tree:c})=>_e(V({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Jj(t,e){return vt(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return ae(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of vx(c))s.add(u);let a=0;return ke(s).pipe(Is(c=>o.has(c)?Xj(c,i,t,e):(c.data=ff(c,c.parent,t).resolve,ae(void 0))),Ct(()=>a++),bs(1),vt(c=>a===s.size?ae(n):_n))})}function vx(t){let e=t.children.map(n=>vx(n)).flat();return[t,...e]}function Xj(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!dx(r)&&(o[Dc]=r.title),eH(o,t,e,i).pipe(fe(s=>(t._resolvedData=s,t.data=ff(t,t.parent,n).resolve,null)))}function eH(t,e,n,i){let r=D0(t);if(r.length===0)return ae({});let o={};return ke(r).pipe(vt(s=>tH(t[s],e,n,i).pipe(Oi(),Ct(a=>{if(a instanceof bc)throw mf(new yc,a);o[s]=a}))),bs(1),km(o),wr(s=>mx(s)?_n:Cs(s)))}function tH(t,e,n,i){let r=Ac(e)??i,o=ga(t,r),s=o.resolve?o.resolve(e,n):Kn(r,()=>o(e,n));return Wr(s)}function S0(t){return $n(e=>{let n=t(e);return n?ke(n).pipe(fe(()=>e)):ae(e)})}var Cx=(()=>{class t{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ge);return i}getResolvedTitleForRoute(n){return n.data[Dc]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>W(nH),providedIn:"root"})}return t})(),nH=(()=>{class t extends Cx{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(re(jA))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nC=new X("",{providedIn:"root",factory:()=>({})}),iH=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=pe({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,r){i&1&&k(0,"router-outlet")},dependencies:[or],encapsulation:2})}return t})();function iC(t){let e=t.children&&t.children.map(iC),n=e?_e(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ge&&(n.component=iH),n}var rC=new X(""),rH=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=W(W_);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Wr(n.loadComponent()).pipe(fe(wx),Ct(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),el(()=>{this.componentLoaders.delete(n)})),r=new gs(i,()=>new dt).pipe(ms());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ae({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=oH(i,this.compiler,n,this.onLoadEndListener).pipe(el(()=>{this.childrenLoaders.delete(i)})),s=new gs(o,()=>new dt).pipe(ms());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oH(t,e,n,i){return Wr(t.loadChildren()).pipe(fe(wx),vt(r=>r instanceof _l||Array.isArray(r)?ae(r):ke(e.compileModuleAsync(r))),fe(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(rC,[],{optional:!0,self:!0}).flat()),{routes:s.map(iC),injector:o}}))}function sH(t){return t&&typeof t=="object"&&"default"in t}function wx(t){return sH(t)?t.default:t}var oC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>W(aH),providedIn:"root"})}return t})(),aH=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lH=new X("");var cH=new X(""),uH=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new dt;transitionAbortSubject=new dt;configLoader=W(rH);environmentInjector=W(Nn);urlSerializer=W(X0);rootContexts=W(_f);location=W(lc);inputBindingEnabled=W(tC,{optional:!0})!==null;titleStrategy=W(Cx);options=W(nC,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=W(oC);createViewTransition=W(lH,{optional:!0});navigationErrorHandler=W(cH,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ae(void 0);rootComponentType=null;constructor(){let n=r=>this.events.next(new F0(r)),i=r=>this.events.next(new L0(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(_e(V(V({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new Rt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:gc,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hn(o=>o.id!==0),fe(o=>_e(V({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),$n(o=>{let s=!1,a=!1;return ae(o).pipe($n(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",En.SupersededByNewNavigation),_n;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?_e(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new Yo(c.id,this.urlSerializer.serialize(c.rawUrl),p,R0.IgnoredSameUrlNavigation)),c.resolve(!1),_n}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ae(c).pipe($n(p=>{let C=this.transitions?.getValue();return this.events.next(new Cc(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),C!==this.transitions?.getValue()?_n:Promise.resolve(p)}),Zj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ct(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=_e(V({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let C=new uf(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(C)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:C,source:w,restoredState:S,extras:O}=c,B=new Cc(p,this.urlSerializer.serialize(C),w,S);this.events.next(B);let z=cx(this.rootComponentType).snapshot;return this.currentTransition=o=_e(V({},c),{targetSnapshot:z,urlAfterRedirects:C,extras:_e(V({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,ae(o)}else{let p="";return this.events.next(new Yo(c.id,this.urlSerializer.serialize(c.extractedUrl),p,R0.IgnoredByUrlHandlingStrategy)),c.resolve(!1),_n}}),Ct(c=>{let u=new M0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),fe(c=>(this.currentTransition=o=_e(V({},c),{guards:_j(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Aj(this.environmentInjector,c=>this.events.next(c)),Ct(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw mf(this.urlSerializer,c.guardsResult);let u=new P0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Hn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",En.GuardRejected),!1)),S0(c=>{if(c.guards.canActivateChecks.length)return ae(c).pipe(Ct(u=>{let h=new k0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),$n(u=>{let h=!1;return ae(u).pipe(Jj(this.paramsInheritanceStrategy,this.environmentInjector),Ct({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",En.NoDataFromResolver)}}))}),Ct(u=>{let h=new O0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),S0(c=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ct(C=>{h.component=C}),fe(()=>{})));for(let C of h.children)p.push(...u(C));return p};return qu(u(c.targetSnapshot.root)).pipe(Er(null),ki(1))}),S0(()=>this.afterPreactivation()),$n(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return h?ke(h).pipe(fe(()=>o)):ae(o)}),fe(c=>{let u=hj(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=_e(V({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ct(()=>{this.events.next(new Ec)}),gj(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ki(1),Ct({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Vm(this.transitionAbortSubject.pipe(Ct(c=>{throw c}))),el(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",En.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),wr(c=>{if(a=!0,px(c))this.events.next(new nr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),mj(c)?this.events.next(new pa(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new wc(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let h=Kn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof bc){let{message:p,cancellationCode:C}=mf(this.urlSerializer,h);this.events.next(new nr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,C)),this.events.next(new pa(h.redirectTo,h.navigationBehaviorOptions))}else throw this.events.next(u),c}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return _n}))}))}cancelNavigationTransition(n,i,r){let o=new nr(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dH(t){return t!==gc}var hH=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>W(fH),providedIn:"root"})}return t})(),J0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},fH=(()=>{class t extends J0{static \u0275fac=(()=>{let n;return function(r){return(n||(n=hi(t)))(r||t)}})();static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ex=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:()=>W(pH),providedIn:"root"})}return t})(),pH=(()=>{class t extends Ex{location=W(lc);urlSerializer=W(X0);options=W(nC,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=W(oC);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ir;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=cx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Cc)this.stateMemento=this.createStateMemento();else if(n instanceof Yo)this.rawUrlTree=i.initialUrl;else if(n instanceof uf){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof Ec?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof nr&&(n.code===En.GuardRejected||n.code===En.NoDataFromResolver)?this.restoreHistory(i):n instanceof wc?this.restoreHistory(i,!0):n instanceof rr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof ir?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=V(V({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=V(V({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=hi(t)))(r||t)}})();static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(pc||{});function mH(t,e){t.events.pipe(Hn(n=>n instanceof rr||n instanceof nr||n instanceof wc||n instanceof Yo),fe(n=>n instanceof rr||n instanceof Yo?pc.COMPLETE:(n instanceof nr?n.code===En.Redirect||n.code===En.SupersededByNewNavigation:!1)?pc.REDIRECTING:pc.FAILED),Hn(n=>n!==pc.REDIRECTING),ki(1)).subscribe(()=>{e()})}var gH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_H={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yi=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=W(Zd);stateManager=W(Ex);options=W(nC,{optional:!0})||{};pendingTasks=W(Us);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=W(uH);urlSerializer=W(X0);location=W(lc);urlHandlingStrategy=W(oC);_events=new dt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=W(hH);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=W(rC,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!W(tC,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new nt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof nr&&i.code!==En.Redirect&&i.code!==En.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof rr)this.navigated=!0;else if(i instanceof pa){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=V({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||dH(r.source)},s);this.scheduleNavigation(a,gc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}vH(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=V({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(iC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let C=r?r.snapshot:this.routerState.snapshot.root;p=ox(C)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return sx(p,n,h,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Qo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,gc,null,i)}navigate(n,i={skipLocationChange:!1}){return yH(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=V({},gH):i===!1?r=V({},_H):r=i,Qo(n))return HA(this.currentUrlTree,n,r);let o=this.parseUrl(n);return HA(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,C)=>{a=p,c=C});let h=this.pendingTasks.add();return mH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function vH(t){return!(t instanceof Ec)&&!(t instanceof pa)}var _i=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new dt;constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof rr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qo(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:xS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Qo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||t)(U(yi),U(Qe),b_("tabindex"),U(Yn),U(Zt),U(zr))};static \u0275dir=Je({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&K("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Sl("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",No],skipLocationChange:[2,"skipLocationChange","skipLocationChange",No],replaceUrl:[2,"replaceUrl","replaceUrl",No],routerLink:"routerLink"},features:[G_,$i]})}return t})(),Kr=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Et;constructor(n,i,r,o,s){this.router=n,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof rr&&this.update()})}ngAfterContentInit(){ae(this.links.changes,ae(null)).pipe(ws()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ke(n).pipe(ws()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){let i=Array.isArray(n)?n:n.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(i=>{n?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let i=CH(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?n.isActive(o,i):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(i){return new(i||t)(U(yi),U(Zt),U(Yn),U(xo),U(_i,8))};static \u0275dir=Je({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&bT(o,_i,5),i&2){let s;ST(s=TT())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[$i]})}return t})();function CH(t){return!!t.paths}var wH=new X("");function vf(t,...e){return Mn([{provide:rC,multi:!0,useValue:t},[],{provide:Qe,useFactory:EH,deps:[yi]},{provide:z_,multi:!0,useFactory:bH},e.map(n=>n.\u0275providers)])}function EH(t){return t.routerState.root}function IH(t,e){return{\u0275kind:t,\u0275providers:e}}function bH(){let t=W(Pt);return e=>{let n=t.get(Ao);if(e!==n.components[0])return;let i=t.get(yi),r=t.get(SH);t.get(TH)===1&&i.initialNavigation(),t.get(DH,null,ve.Optional)?.setUpPreloading(),t.get(wH,null,ve.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var SH=new X("",{factory:()=>new dt}),TH=new X("",{providedIn:"root",factory:()=>1});var DH=new X("");function Ix(){return IH(6,[{provide:zr,useClass:xA}])}var je=class t{constructor(){}isArabic=!1;static \u0275fac=function(n){return new(n||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})};var AH=(t,e)=>({"offcanvas-end":t,"offcanvas-start":e}),xH=t=>({"mr-90":t});function NH(t,e){t&1&&m(0," \u0623\u0643\u0645\u064A \u062A\u0627\u0644 ")}function RH(t,e){t&1&&m(0," acmeTal ")}function MH(t,e){t&1&&m(0," \u0623\u0643\u0645\u064A \u062A\u0627\u0644 ")}function PH(t,e){t&1&&m(0," acmeTal ")}function kH(t,e){t&1&&m(0," \u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u0633\u064A\u0629 ")}function OH(t,e){t&1&&m(0," Home Page ")}function FH(t,e){t&1&&m(0," \u0627\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A ")}function LH(t,e){t&1&&m(0," sectors Settings ")}function VH(t,e){t&1&&m(0," \u062E\u062F\u0645\u0627\u062A\u0646\u0627 ")}function BH(t,e){t&1&&m(0," Services ")}function UH(t,e){t&1&&m(0," \u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 ")}function jH(t,e){t&1&&m(0," Contact Us ")}function HH(t,e){t&1&&(m(0," \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 "),k(1,"i",26))}function $H(t,e){t&1&&(m(0," Login "),k(1,"i",26))}function qH(t,e){t&1&&m(0," English ")}function GH(t,e){t&1&&m(0," \u0627\u0644\u0639\u0631\u0628\u064A\u0629 ")}var Cf=class t{constructor(e){this.dataService=e}isArabic=!1;changeLangBtn(){this.dataService.isArabic?(this.dataService.isArabic=!1,this.isArabic=!1,localStorage.setItem("acmeTal","en")):(this.dataService.isArabic=!0,this.isArabic=!0,localStorage.setItem("acmeTal","ar"))}changeLang(){this.dataService.isArabic?this.isArabic=!0:this.isArabic=!1}ngOnInit(){this.changeLang()}static \u0275fac=function(n){return new(n||t)(U(je))};static \u0275cmp=pe({type:t,selectors:[["app-navbar"]],decls:50,vars:15,consts:[[1,"navbar","navbar-expand-lg","py-2"],[1,"container-fluid"],["routerLink","home",1,"navbar-brand","text-light"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"fa-solid","fa-list"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas",3,"ngClass"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","btn-close-white",3,"ngClass"],[1,"offcanvas-body"],[1,"navbar-nav","m-auto"],["data-bs-dismiss","offcanvas","aria-label","Close",1,"nav-item","mx-3"],["routerLink","main","routerLinkActive","active",1,"nav-link"],["routerLink","sectorsSettings","routerLinkActive","active",1,"nav-link"],["routerLink","services","routerLinkActive","active",1,"nav-link"],["routerLink","contact","routerLinkActive","active",1,"nav-link"],[1,"navbar-nav","my-1","my-lg-0","text-center"],["data-bs-dismiss","offcanvas","aria-label","Close",1,"mx-2"],["routerLink","login",1,"nav-link","loginOrProfile"],["routerLink","profile","routerLinkActive","active",1,"nav-link","loginOrProfile"],[1,"fa-solid","fa-user"],["data-bs-dismiss","offcanvas","aria-label","Close"],["data-bs-dismiss","offcanvas","aria-label","Close",1,"nav-link","selectLang",3,"click"],[1,"mt-3","d-md-none","acme"],[1,"fa-solid","fa-heart","text-danger"],["href","https://acmecode-eg.com/","target","_blank"],[1,"fa-solid","fa-key"]],template:function(n,i){n&1&&(g(0,"nav",0)(1,"div",1)(2,"a",2),I(3,NH,1,0)(4,RH,1,0),v(),g(5,"button",3),k(6,"i",4),v(),g(7,"div",5)(8,"div",6)(9,"h5",7)(10,"a",2),I(11,MH,1,0)(12,PH,1,0),v()(),k(13,"button",8),v(),g(14,"div",9)(15,"ul",10)(16,"li",11)(17,"a",12),I(18,kH,1,0)(19,OH,1,0),v()(),g(20,"li",11)(21,"a",13),I(22,FH,1,0)(23,LH,1,0),v()(),g(24,"li",11)(25,"a",14),I(26,VH,1,0)(27,BH,1,0),v()(),g(28,"li",11)(29,"a",15),I(30,UH,1,0)(31,jH,1,0),v()()(),g(32,"ul",16)(33,"li",17)(34,"a",18),I(35,HH,2,0)(36,$H,2,0),v()(),g(37,"li",17)(38,"a",19),k(39,"i",20),v()(),g(40,"li",21)(41,"button",22),K("click",function(){return i.changeLangBtn()}),I(42,qH,1,0)(43,GH,1,0),v()(),g(44,"li",23),m(45," Made With "),k(46,"i",24),m(47," By "),g(48,"a",25),m(49," AcmeCode "),v()()()()()()()),n&2&&(_(3),b(i.isArabic?3:4),_(4),G("ngClass",eh(10,AH,i.isArabic,!i.isArabic)),_(4),b(i.isArabic?11:12),_(2),G("ngClass",oe(13,xH,i.isArabic)),_(5),b(i.isArabic?18:19),_(4),b(i.isArabic?22:23),_(4),b(i.isArabic?26:27),_(4),b(i.isArabic?30:31),_(5),b(i.isArabic?35:36),_(7),b(i.isArabic?42:43))},dependencies:[qe,Ze,_i,Kr],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}.navbar[_ngcontent-%COMP%]{background-color:#e2e3e5}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#01143c;text-align:center;padding:.2rem .4rem;font-size:.8rem;border-radius:.2rem;transition:all .3s}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#0079cf33;border-radius:.2rem}.navbar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}.navbar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}.selectLang[_ngcontent-%COMP%]{background-color:#fff;color:#0079cf!important;cursor:pointer}.selectLang[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#01143c}.navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:none;color:#fff}.navbar[_ngcontent-%COMP%]   .navbar-toggler[aria-expanded=true][_ngcontent-%COMP%]{border:1px solid rgb(255,255,255)}.fa-list[_ngcontent-%COMP%]{color:#fff;transition:all .3s ease-in-out}.rotate-gear[_ngcontent-%COMP%]{transform:rotate(90deg)}@media (max-width: 991.98px){.offcanvas[_ngcontent-%COMP%]{background-color:#000c;max-width:80%}}.mr-90[_ngcontent-%COMP%]{margin-right:90px}.changeNavColors[_ngcontent-%COMP%]{background-color:#01143c}.acme[_ngcontent-%COMP%]{color:#0079cf;font-weight:800}.acme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-style:italic;transition:all .3s}.acme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}']})};var wf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pe({type:t,selectors:[["app-footer"]],decls:2,vars:0,template:function(n,i){n&1&&(g(0,"p"),m(1,"footer works!"),v())},encapsulation:2})};var Ef=class t{constructor(e){this.dataService=e}title="acmetal-v2";scrollHeight=0;scrollValue=0;isNavbarHidden=!1;lastScrollPosition=0;onActivate(){window.scroll(0,0),this.calculateScrollHeight()}direction(){this.dataService.isArabic?document.querySelector(".direction")?.classList.add("rtl"):document.querySelector(".direction")?.classList.remove("rtl"),setTimeout(()=>{this.direction()},100)}calculateScrollHeight(){setTimeout(()=>{this.scrollHeight=document.documentElement.scrollHeight-window.innerHeight},100)}scrNavbar(){let e=window.pageYOffset||document.documentElement.scrollTop;e>this.lastScrollPosition?this.isNavbarHidden=!0:e<this.lastScrollPosition&&(this.isNavbarHidden=!1),this.lastScrollPosition=e}onScroll(){this.scrNavbar();let e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.scrollValue=e,this.scrollHeight<=0}ngOnInit(){this.calculateScrollHeight(),localStorage.getItem("acmeTal")=="en"?this.dataService.isArabic=!1:this.dataService.isArabic=!0,this.direction()}static \u0275fac=function(n){return new(n||t)(U(je))};static \u0275cmp=pe({type:t,selectors:[["app-root"]],hostBindings:function(n,i){n&1&&K("scroll",function(){return i.onScroll()},!1,RS)},decls:5,vars:0,consts:[[1,"direction","overflow-hidden","main-bg"],[1,"navbarScr","mb-3"],[1,"min-vh-100","my-5"],[3,"activate"]],template:function(n,i){n&1&&(g(0,"div",0),k(1,"app-navbar",1),g(2,"div",2)(3,"router-outlet",3),K("activate",function(){return i.onActivate()}),v()(),k(4,"app-footer"),v())},dependencies:[Cf,wf,or,qe],styles:[".rtl[_ngcontent-%COMP%]{direction:rtl}.navbarScr[_ngcontent-%COMP%]{top:0;transition:all .8s ease;position:fixed;width:100%;z-index:1000}.hidden-navbar[_ngcontent-%COMP%]{top:-100%;transition:all .8s ease}"]})};var bx={production:!0,firebaseConfig:{apiKey:"AIzaSyA0kQwURkB4OHnKhBtmHPUUhHDrU27lLJo",authDomain:"acmetal-a3be3.firebaseapp.com",databaseURL:"https://acmetal-a3be3-default-rtdb.firebaseio.com",projectId:"acmetal-a3be3",storageBucket:"acmetal-a3be3.firebasestorage.app",messagingSenderId:"705911496102",appId:"1:705911496102:web:8a4823148b374d59f14367",measurementId:"G-78760CTLSB"}};var If=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pe({type:t,selectors:[["app-main"]],decls:2,vars:0,template:function(n,i){n&1&&(g(0,"p"),m(1,"main works!"),v())},encapsulation:2})};var zH=(t,e)=>({"end-0":t,"start-0":e});function WH(t,e){t&1&&m(0," \u062D\u062F\u062F \u0646\u0648\u0639 \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A ")}function KH(t,e){t&1&&m(0," Select Sectors Type ")}function QH(t,e){t&1&&m(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0645\u0641\u0635\u0644\u064A ")}function YH(t,e){t&1&&m(0," Hinged Sectors ")}function ZH(t,e){t&1&&m(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0633\u062D\u0627\u0628 ")}function JH(t,e){t&1&&m(0," Sliding Sectors ")}function XH(t,e){t&1&&m(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0632\u062C\u0627\u062C ")}function e$(t,e){t&1&&m(0," Glass Settings ")}function t$(t,e){t&1&&m(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0645\u0641\u0635\u0644\u064A ")}function n$(t,e){t&1&&m(0," Hinged Sectors ")}function i$(t,e){t&1&&m(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0633\u062D\u0627\u0628 ")}function r$(t,e){t&1&&m(0," Sliding Sectors ")}function o$(t,e){t&1&&m(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0632\u062C\u0627\u062C ")}function s$(t,e){t&1&&m(0," Glass Settings ")}function a$(t,e){t&1&&m(0," \u0627\u0644\u0643\u0631\u062A\u0646 \u0648\u0648\u0644 ")}function l$(t,e){t&1&&m(0," Curtain Wall ")}var bf=class t{constructor(e,n){this.dataService=e;this.router=n}isArabic=!1;changeLang(){this.dataService.isArabic?this.isArabic=!0:this.isArabic=!1,setTimeout(()=>{this.changeLang()},100)}navigateToSection(e){let n=e;n&&this.router.navigate([`sectorsSettings/${n}`])}onActivate(){window.scroll(0,0)}ngOnInit(){this.changeLang()}static \u0275fac=function(n){return new(n||t)(U(je),U(yi))};static \u0275cmp=pe({type:t,selectors:[["app-sectors-settings"]],decls:34,vars:12,consts:[["select",""],[1,"position-relative"],[1,"row","g-2"],[1,"d-lg-none","mt-5","px-3"],["id","sectionSelector",1,"form-select",3,"change"],["value","","selected","","disabled",""],["value","hingedSettings"],["value","slidingSettings"],["value","glassSettings"],[1,"col-lg-2"],[1,"sectorsTitles","d-none","d-lg-block","position-fixed","top-0","vh-100",3,"ngClass"],["routerLink","hingedSettings","routerLinkActive","routerLinkActive"],["routerLink","slidingSettings","routerLinkActive","routerLinkActive"],["routerLink","glassSettings","routerLinkActive","routerLinkActive"],["routerLink","curtainWallSettings","routerLinkActive","routerLinkActive"],[1,"col-lg-10"],[1,"p-1","py-lg-3"],[3,"activate"]],template:function(n,i){if(n&1){let r=Ae();g(0,"div",1)(1,"div",2)(2,"div",3)(3,"select",4,0),K("change",function(){ce(r);let s=Xd(4);return ue(i.navigateToSection(s.value))}),g(5,"option",5),I(6,WH,1,0)(7,KH,1,0),v(),g(8,"option",6),I(9,QH,1,0)(10,YH,1,0),v(),g(11,"option",7),I(12,ZH,1,0)(13,JH,1,0),v(),g(14,"option",8),I(15,XH,1,0)(16,e$,1,0),v()()(),g(17,"div",9)(18,"div",10)(19,"a",11),I(20,t$,1,0)(21,n$,1,0),v(),g(22,"a",12),I(23,i$,1,0)(24,r$,1,0),v(),g(25,"a",13),I(26,o$,1,0)(27,s$,1,0),v(),g(28,"a",14),I(29,a$,1,0)(30,l$,1,0),v()()(),g(31,"div",15)(32,"div",16)(33,"router-outlet",17),K("activate",function(){return ce(r),ue(i.onActivate())}),v()()()()()}n&2&&(_(6),b(i.isArabic?6:7),_(3),b(i.isArabic?9:10),_(3),b(i.isArabic?12:13),_(3),b(i.isArabic?15:16),_(3),G("ngClass",eh(9,zH,i.isArabic,!i.isArabic)),_(2),b(i.isArabic?20:21),_(3),b(i.isArabic?23:24),_(3),b(i.isArabic?26:27),_(3),b(i.isArabic?29:30))},dependencies:[or,_i,Kr,qe,Ze],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}.sectorsTitles[_ngcontent-%COMP%]{background-color:#e2e3e5;padding:5rem .2rem 0;width:16.6%}.sectorsTitles[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}.sectorsTitles[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}.sectorsTitles[_ngcontent-%COMP%]   a.routerLinkActive[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}.sectorsTitles[_ngcontent-%COMP%]   a.routerLinkActive[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}@media (max-width: 991.98px){.sectorsTitles[_ngcontent-%COMP%]{position:static;height:auto;padding-top:1rem}}']})};var kx=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||t)(U(Yn),U(Zt))};static \u0275dir=Je({type:t})}return t})(),Oc=(()=>{class t extends kx{static \u0275fac=(()=>{let n;return function(r){return(n||(n=hi(t)))(r||t)}})();static \u0275dir=Je({type:t,features:[vn]})}return t})(),wa=new X(""),c$={provide:wa,useExisting:Wn(()=>dC),multi:!0},dC=(()=>{class t extends Oc{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(r){return(n||(n=hi(t)))(r||t)}})();static \u0275dir=Je({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&K("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Gi([c$]),vn]})}return t})(),u$={provide:wa,useExisting:Wn(()=>ot),multi:!0};function d$(){let t=tr()?tr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var h$=new X(""),ot=(()=>{class t extends kx{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!d$())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||t)(U(Yn),U(Zt),U(h$,8))};static \u0275dir=Je({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&K("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Gi([u$]),vn]})}return t})();function Qr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Ox(t){return t!=null&&typeof t.length=="number"}var hC=new X(""),Fx=new X(""),f$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Q=class{static min(e){return p$(e)}static max(e){return m$(e)}static required(e){return Lx(e)}static requiredTrue(e){return g$(e)}static email(e){return _$(e)}static minLength(e){return y$(e)}static maxLength(e){return v$(e)}static pattern(e){return C$(e)}static nullValidator(e){return Df(e)}static compose(e){return $x(e)}static composeAsync(e){return Gx(e)}};function p$(t){return e=>{if(Qr(e.value)||Qr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function m$(t){return e=>{if(Qr(e.value)||Qr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Lx(t){return Qr(t.value)?{required:!0}:null}function g$(t){return t.value===!0?null:{required:!0}}function _$(t){return Qr(t.value)||f$.test(t.value)?null:{email:!0}}function y$(t){return e=>Qr(e.value)||!Ox(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function v$(t){return e=>Ox(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function C$(t){if(!t)return Df;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Qr(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Df(t){return null}function Vx(t){return t!=null}function Bx(t){return Do(t)?ke(t):t}function Ux(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function jx(t,e){return e.map(n=>n(t))}function w$(t){return!t.validate}function Hx(t){return t.map(e=>w$(e)?e:n=>e.validate(n))}function $x(t){if(!t)return null;let e=t.filter(Vx);return e.length==0?null:function(n){return Ux(jx(n,e))}}function qx(t){return t!=null?$x(Hx(t)):null}function Gx(t){if(!t)return null;let e=t.filter(Vx);return e.length==0?null:function(n){let i=jx(n,e).map(Bx);return Pm(i).pipe(fe(Ux))}}function zx(t){return t!=null?Gx(Hx(t)):null}function Sx(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wx(t){return t._rawValidators}function Kx(t){return t._rawAsyncValidators}function sC(t){return t?Array.isArray(t)?t:[t]:[]}function Af(t,e){return Array.isArray(t)?t.includes(e):t===e}function Tx(t,e){let n=sC(e);return sC(t).forEach(r=>{Af(n,r)||n.push(r)}),n}function Dx(t,e){return sC(e).filter(n=>!Af(t,n))}var xf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},va=class extends xf{name;get formDirective(){return null}get path(){return null}},kc=class extends xf{_parent=null;name=null;valueAccessor=null},Nf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},E$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rse=_e(V({},E$),{"[class.ng-submitted]":"isSubmitted"}),ft=(()=>{class t extends Nf{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(U(kc,2))};static \u0275dir=Je({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Jd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[vn]})}return t})(),pt=(()=>{class t extends Nf{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(U(va,10))};static \u0275dir=Je({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Jd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[vn]})}return t})();var Nc="VALID",Sf="INVALID",_a="PENDING",Rc="DISABLED",Yr=class{},Rf=class extends Yr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Mc=class extends Yr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Pc=class extends Yr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ya=class extends Yr{status;source;constructor(e,n){super(),this.status=e,this.source=n}},aC=class extends Yr{source;constructor(e){super(),this.source=e}},lC=class extends Yr{source;constructor(e){super(),this.source=e}};function fC(t){return(Of(t)?t.validators:t)||null}function I$(t){return Array.isArray(t)?qx(t):t||null}function pC(t,e){return(Of(e)?e.asyncValidators:t)||null}function b$(t){return Array.isArray(t)?zx(t):t||null}function Of(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Qx(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new $(1e3,"");if(!i[n])throw new $(1001,"")}function Yx(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new $(1002,"")})}var Ca=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return zi(this.statusReactive)}set status(e){zi(()=>this.statusReactive.set(e))}_status=Tl(()=>this.statusReactive());statusReactive=bl(void 0);get valid(){return this.status===Nc}get invalid(){return this.status===Sf}get pending(){return this.status==_a}get disabled(){return this.status===Rc}get enabled(){return this.status!==Rc}errors;get pristine(){return zi(this.pristineReactive)}set pristine(e){zi(()=>this.pristineReactive.set(e))}_pristine=Tl(()=>this.pristineReactive());pristineReactive=bl(!0);get dirty(){return!this.pristine}get touched(){return zi(this.touchedReactive)}set touched(e){zi(()=>this.touchedReactive.set(e))}_touched=Tl(()=>this.touchedReactive());touchedReactive=bl(!1);get untouched(){return!this.touched}_events=new dt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Tx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Tx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Dx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Dx(e,this._rawAsyncValidators))}hasValidator(e){return Af(this._rawValidators,e)}hasAsyncValidator(e){return Af(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(_e(V({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Pc(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new Pc(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(_e(V({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Mc(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Mc(!0,i))}markAsPending(e={}){this.status=_a;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ya(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(_e(V({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Rc,this.errors=null,this._forEachChild(r=>{r.disable(_e(V({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rf(this.value,i)),this._events.next(new ya(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_e(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Nc,this._forEachChild(i=>{i.enable(_e(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(_e(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nc||this.status===_a)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rf(this.value,n)),this._events.next(new ya(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(_e(V({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rc:Nc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=_a,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=Bx(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new ya(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new Et,this.statusChanges=new Et}_calculateStatus(){return this._allControlsDisabled()?Rc:this.errors?Sf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_a)?_a:this._anyControlsHaveStatus(Sf)?Sf:Nc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Mc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Pc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Of(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=I$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=b$(this._rawAsyncValidators)}},Mf=class extends Ca{constructor(e,n,i){super(fC(n),pC(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Yx(this,!0,e),Object.keys(e).forEach(i=>{Qx(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var cC=class extends Mf{};var Zx=new X("CallSetDisabledState",{providedIn:"root",factory:()=>mC}),mC="always";function S$(t,e){return[...e.path,t]}function Ax(t,e,n=mC){gC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),D$(t,e),x$(t,e),A$(t,e),T$(t,e)}function xx(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),kf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Pf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function T$(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function gC(t,e){let n=Wx(t);e.validator!==null?t.setValidators(Sx(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Kx(t);e.asyncValidator!==null?t.setAsyncValidators(Sx(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Pf(e._rawValidators,r),Pf(e._rawAsyncValidators,r)}function kf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Wx(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=Kx(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Pf(e._rawValidators,i),Pf(e._rawAsyncValidators,i),n}function D$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Jx(t,e)})}function A$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Jx(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Jx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function x$(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function N$(t,e){t==null,gC(t,e)}function R$(t,e){return kf(t,e)}function M$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function P$(t){return Object.getPrototypeOf(t.constructor)===Oc}function k$(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function O$(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===ot?n=o:P$(o)?i=o:r=o}),r||i||n||null}function F$(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Nx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Rx(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Tf=class extends Ca{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,i){super(fC(n),pC(i,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Of(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Rx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Nx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Nx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Rx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var L$=t=>t instanceof Tf;var mt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=Je({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),V$={provide:wa,useExisting:Wn(()=>Lt),multi:!0},Lt=(()=>{class t extends Oc{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=hi(t)))(r||t)}})();static \u0275dir=Je({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&K("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Gi([V$]),vn]})}return t})();var Xx=new X("");var B$={provide:va,useExisting:Wn(()=>lt)},lt=(()=>{class t extends va{callSetDisabledState;get submitted(){return zi(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Tl(()=>this._submittedReactive());_submittedReactive=bl(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Et;constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return Ax(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){xx(n.control||null,n,!1),F$(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),k$(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new aC(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new lC(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(xx(i||null,n),L$(r)&&(Ax(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);N$(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&R$(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gC(this.form,this),this._oldForm&&kf(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||t)(U(hC,10),U(Fx,10),U(Zx,8))};static \u0275dir=Je({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&K("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Gi([B$]),vn,$i]})}return t})();var U$={provide:kc,useExisting:Wn(()=>ct)},ct=(()=>{class t extends kc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Et;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=O$(this,o)}ngOnChanges(n){this._added||this._setUpControl(),M$(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return S$(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||t)(U(va,13),U(hC,10),U(Fx,10),U(wa,10),U(Xx,8))};static \u0275dir=Je({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Gi([U$]),vn,$i]})}return t})(),j$={provide:wa,useExisting:Wn(()=>tN),multi:!0};function eN(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function H$(t){return t.split(":")[0]}var tN=(()=>{class t extends Oc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let i=this._getOptionId(n),r=eN(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=H$(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=hi(t)))(r||t)}})();static \u0275dir=Je({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&K("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Gi([j$]),vn]})}return t})(),nN=(()=>{class t{_element;_renderer;_select;id;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(eN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(U(Zt),U(Yn),U(tN,9))};static \u0275dir=Je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),$$={provide:wa,useExisting:Wn(()=>iN),multi:!0};function Mx(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function q$(t){return t.split(":")[0]}var iN=(()=>{class t extends Oc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);r.push(u)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);r.push(u)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=q$(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=hi(t)))(r||t)}})();static \u0275dir=Je({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&K("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Gi([$$]),vn]})}return t})(),rN=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Mx(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Mx(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(U(Zt),U(Yn),U(iN,9))};static \u0275dir=Je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var G$=(()=>{class t{_validator=Df;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Df,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(i){return new(i||t)};static \u0275dir=Je({type:t,features:[$i]})}return t})();var z$={provide:hC,useExisting:Wn(()=>nn),multi:!0};var nn=(()=>{class t extends G${required;inputName="required";normalizeInput=No;createValidator=n=>Lx;enabled(n){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=hi(t)))(r||t)}})();static \u0275dir=Je({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Sl("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Gi([z$]),vn]})}return t})();var W$=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Or({type:t});static \u0275inj=Rr({})}return t})(),uC=class extends Ca{constructor(e,n,i){super(fC(n),pC(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Yx(this,!1,e),e.forEach((i,r)=>{Qx(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Px(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var gt=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,i=null){let r=this._reduceControls(n),o={};return Px(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Mf(r,o)}record(n,i=null){let r=this._reduceControls(n);return new cC(r,i)}control(n,i,r){let o={};return this.useNonNullable?(Px(i)?o=i:(o.validators=i,o.asyncValidators=r),new Tf(n,_e(V({},o),{nonNullable:!0}))):new Tf(n,i,r)}array(n,i,r){let o=n.map(s=>this._createControl(s));return new uC(o,i,r)}_reduceControls(n){let i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){if(n instanceof Tf)return n;if(n instanceof Ca)return n;if(Array.isArray(n)){let i=n[0],r=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(i,r,o)}else return this.control(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _t=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Xx,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Zx,useValue:n.callSetDisabledState??mC}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Or({type:t});static \u0275inj=Rr({imports:[W$]})}return t})();var yt=class t{constructor(e){this.db=e;this.hingedSectorRef=Yh(this.db,"sectors")}hingedSectorRef;getAllSectors(){return ke(zo(this.hingedSectorRef)).pipe(fe(e=>{let n=e.val();return n?Object.keys(n).map(i=>V({id:i},n[i])):[]}))}getSectorById(e){let n=un(this.hingedSectorRef,e);return ke(zo(n)).pipe(fe(i=>{let r=i.val();if(r)return V({id:e},r);throw new Error("Sector not found")}))}addSector(e){let n=rc(this.hingedSectorRef).key;if(!n)return Promise.reject("Failed to generate sector ID");let i=un(this.hingedSectorRef,n);return sc(i,{name:e})}updateSector(e,n){let i=un(this.hingedSectorRef,e);return ac(i,n)}deleteSector(e){let n=un(this.hingedSectorRef,e);return oc(n)}getSectorsBySectorId(e,n){let i=un(this.hingedSectorRef,`${e}/${n}`);return ke(zo(i)).pipe(fe(r=>{let o=r.val();return o?Object.keys(o).map(s=>V({id:s},o[s])):[]}))}addSectorType(e,n,i){let r=rc(un(this.hingedSectorRef,`${e}/${n}`)).key;if(!r)return Promise.reject("Failed to generate frame ID");let o=un(this.hingedSectorRef,`${e}/${n}/${r}`);return sc(o,_e(V({},i),{id:r}))}updateSectorType(e,n,i,r){let o=un(this.hingedSectorRef,`${e}/${n}/${i}`);return ac(o,r)}deleteSectorType(e,n,i){let r=un(this.hingedSectorRef,`${e}/${n}/${i}`);return oc(r)}static \u0275fac=function(n){return new(n||t)(re(Xi))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})};var K$=t=>({"is-invalid":t});function Q$(t,e){t&1&&m(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0645\u0641\u0635\u0644\u064A ")}function Y$(t,e){t&1&&m(0," Hinged Settings ")}function Z$(t,e){t&1&&m(0," \u0642\u0637\u0627\u0639 ")}function J$(t,e){t&1&&m(0," Sector ")}function X$(t,e){t&1&&m(0," \u062D\u062F\u062F \u0627\u0644\u0642\u0637\u0627\u0639 ")}function eq(t,e){t&1&&m(0," select the sector ")}function tq(t,e){if(t&1&&(g(0,"option",28),m(1),v()),t&2){let n=e.$implicit;G("value",n.id),_(),j(" ",n.name," ")}}function nq(t,e){if(t&1){let n=Ae();g(0,"div",16)(1,"label",25),I(2,Z$,1,0)(3,J$,1,0),v(),g(4,"select",26,0),K("change",function(){ce(n);let r=Xd(5),o=P(2);return ue(o.onSectorChange(r.value))}),g(6,"option",27),I(7,X$,1,0)(8,eq,1,0),v(),St(9,tq,2,2,"option",28,bt),v()()}if(t&2){let n=P(2);_(2),b(n.isArabic?2:3),_(5),b(n.isArabic?7:8),_(2),Tt(n.sectors)}}function iq(t,e){t&1&&m(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0642\u0637\u0627\u0639\u0627\u062A \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0642\u0637\u0627\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function rq(t,e){t&1&&m(0," There is no sectors, at least one sector should be added ")}function oq(t,e){if(t&1&&(g(0,"div",17)(1,"div",29),k(2,"i",30),I(3,iq,1,0)(4,rq,1,0),v()()),t&2){let n=P(2);_(3),b(n.isArabic?3:4)}}function sq(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function aq(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function lq(t,e){if(t&1&&(g(0,"div",18),k(1,"i",31),I(2,sq,1,1)(3,aq,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function cq(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function uq(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function dq(t,e){if(t&1&&(g(0,"div",19),k(1,"i",30),I(2,cq,1,1)(3,uq,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function hq(t,e){t&1&&m(0," \u0627\u0636\u0627\u0641\u0647 \u0642\u0637\u0627\u0639 \u062C\u062F\u064A\u062F ")}function fq(t,e){t&1&&m(0," Add a new sector ")}function pq(t,e){if(t&1&&m(0),t&2){let n=P().$implicit;j(" ",n.labelAr," ")}}function mq(t,e){if(t&1&&m(0),t&2){let n=P().$implicit;j(" ",n.labelEn," ")}}function gq(t,e){if(t&1&&(g(0,"li",33)(1,"a",35),I(2,pq,1,1)(3,mq,1,1),v()()),t&2){let n=e.$implicit,i=P(3);_(),G("routerLink",n.path),_(),b(i.isArabic?2:3)}}function _q(t,e){if(t&1&&(g(0,"ul",32),St(1,gq,4,2,"li",33,bt),v(),k(3,"hr",34)),t&2){let n=P(2);_(),Tt(n.links)}}function yq(t,e){t&1&&m(0," \u062D\u062F\u062F \u0642\u0637\u0627\u0639 ")}function vq(t,e){t&1&&m(0," select sector ")}function Cq(t,e){if(t&1&&(g(0,"div",23)(1,"div",36),k(2,"i",30),I(3,yq,1,0)(4,vq,1,0),v()()),t&2){let n=P(2);_(3),b(n.isArabic?3:4)}}function wq(t,e){if(t&1){let n=Ae();g(0,"div",3),I(1,nq,11,2,"div",16)(2,oq,5,1,"div",17)(3,lq,4,1,"div",18)(4,dq,4,1,"div",19),g(5,"div",20)(6,"button",21),k(7,"i",22),I(8,hq,1,0)(9,fq,1,0),v()(),g(10,"div",17),I(11,_q,4,0)(12,Cq,5,1,"div",23),v(),g(13,"router-outlet",24),K("activate",function(){ce(n);let r=P();return ue(r.onActivate())}),v()()}if(t&2){let n=P();_(),b(n.sectors.length>0?1:2),_(2),b((n.showMessage==null?null:n.showMessage.type)==="success"?3:(n.showMessage==null?null:n.showMessage.type)==="error"?4:-1),_(5),b(n.isArabic?8:9),_(3),b(n.selectedSectorId!==null?11:12)}}function Eq(t,e){t&1&&(g(0,"div",4)(1,"div",37),k(2,"i",38)(3,"br")(4,"span",39),v()())}function Iq(t,e){t&1&&m(0," \u0627\u0636\u0627\u0641\u0647 \u0642\u0637\u0627\u0639 \u062C\u062F\u064A\u062F ")}function bq(t,e){t&1&&m(0," Add a new sector ")}function Sq(t,e){t&1&&m(0," \u0625\u0644\u063A\u0627\u0621 ")}function Tq(t,e){t&1&&m(0," cancel ")}function Dq(t,e){t&1&&m(0," \u0625\u0636\u0627\u0641\u0629 ")}function Aq(t,e){t&1&&m(0," add ")}var Ff=class t{constructor(e,n,i,r,o){this.dataService=e;this.hingedSettingsSectorService=n;this.router=i;this.activatedRoute=r;this.fb=o;this.newSectorForm=this.fb.group({name:["",[Q.required]]})}isArabic=!1;sectors;selectedSectorId=null;newSectorForm;links=[];showMessage=null;initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.fetchSectors(),100),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}onActivate(){window.scroll(0,0)}fetchSectors(){this.hingedSettingsSectorService.getAllSectors().subscribe(e=>this.sectors=e,e=>console.error("Error fetching sectors:",e))}addSector(){if(this.newSectorForm.invalid)return;let{name:e}=this.newSectorForm.value;this.hingedSettingsSectorService.addSector(e).then(()=>{this.showMessage={type:"success",text:"Sector added Successfully",arText:"\u062A\u0645 \u0627\u0636\u0627\u0641\u0647 \u0627\u0644\u0642\u0637\u0627\u0639 \u0628\u0646\u062C\u0627\u062D"},this.fetchSectors(),this.newSectorForm.reset(),this.setLastSectorAsSelected()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0627\u0636\u0627\u0641\u0647. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"}}),this.clearMessage()}setLastSectorAsSelected(){setTimeout(()=>{if(this.sectors.length>0){let e=this.sectors[this.sectors.length-1].id;this.updateSelectedSector(e)}},500)}onSectorChange(e){e&&(this.selectedSectorId=e,this.links=this.generateLinks(this.selectedSectorId),this.navigateToFrames(this.selectedSectorId),this.hingedSettingsSectorService.getSectorById(e).subscribe(n=>{n&&this.navigateToFrames(e)},n=>{console.error("Error fetching sector by ID:",n)}))}generateLinks(e){return[{path:`hingedSectors/${e}`,labelAr:"\u0642\u0637\u0627\u0639\u0627\u062A",labelEn:"Sectors"},{path:`hingedSpecialties/${e}`,labelAr:"\u062A\u062E\u0635\u064A\u0645\u0627\u062A",labelEn:"Specialties"},{path:`hingedAccessories/${e}`,labelAr:"\u0625\u0643\u0633\u0633\u0648\u0627\u0631\u0627\u062A",labelEn:"Accessories"},{path:`hingedInstructions/${e}`,labelAr:"\u0625\u0631\u0634\u0627\u062F\u0627\u062A",labelEn:"Instructions"},{path:`hingedFeatures/${e}`,labelAr:"\u062E\u0635\u0627\u0626\u0635",labelEn:"Features"}]}navigateToFrames(e){this.router.navigate(["sectorsSettings/hingedSettings/hingedSectors",e,"hingedFrames"])}handleRouteParams(){this.activatedRoute.firstChild?.params.subscribe(e=>{e.sectorId&&this.updateSelectedSector(e.sectorId)})}updateSelectedSector(e){this.selectedSectorId=e,this.links=this.generateLinks(e),this.navigateToFrames(e)}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}ngOnInit(){this.initializeLanguage(),this.fetchSectors(),this.handleRouteParams()}static \u0275fac=function(n){return new(n||t)(U(je),U(yt),U(yi),U(Qe),U(gt))};static \u0275cmp=pe({type:t,selectors:[["app-hinged-settings"]],decls:23,vars:10,consts:[["sector",""],[1,"text-center","alert","alert-secondary"],[1,"alert","alert-secondary","px-4"],[1,"row","g-2"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","addNewSectorStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","addNewSectorStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"fa-solid","fa-bell","mx-1","text-primary"],["for","addNewSector",1,"form-label"],["type","text","formControlName","name","name","addNewSector","id","addNewSector","placeholder","Enter the sector name",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","btn-sm"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary","btn-sm",3,"disabled"],[1,"col-md-3"],[1,"col-md-12"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"col-md-3","align-self-end"],["data-bs-toggle","modal","data-bs-target","#addNewSectorStaticBackdrop",1,"btn","btn-primary"],[1,"fa-solid","fa-folder-plus"],[1,"col-md-6"],[3,"activate"],["for","sectorName",1,"form-label"],["name","sectorName","id","sectorName",1,"form-select",3,"change"],["value","","disabled","","selected",""],[3,"value"],[1,"alert","alert-danger","py-2"],[1,"fa-solid","fa-circle-exclamation"],[1,"fa-regular","fa-circle-check"],[1,"list-unstyled","d-flex","flex-wrap","justify-content-start"],[1,"nav-item","mx-2","flex-shrink-0"],[1,"my-0"],["routerLinkActive","active",1,"nav-link","text-nowrap",3,"routerLink"],[1,"alert","alert-primary","mt-2","p-2"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){if(n&1&&(g(0,"h2",1),I(1,Q$,1,0)(2,Y$,1,0),v(),g(3,"div",2),I(4,wq,14,4,"div",3)(5,Eq,5,0,"div",4),v(),g(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"form",9),K("ngSubmit",function(){return i.addSector()}),k(11,"i",10),g(12,"label",11),I(13,Iq,1,0)(14,bq,1,0),v(),k(15,"input",12),g(16,"div",13)(17,"button",14),I(18,Sq,1,0)(19,Tq,1,0),v(),g(20,"button",15),I(21,Dq,1,0)(22,Aq,1,0),v()()()()()()()),n&2){let r;_(),b(i.isArabic?1:2),_(3),b(i.sectors?4:5),_(6),G("formGroup",i.newSectorForm),_(3),b(i.isArabic?13:14),_(2),G("ngClass",oe(8,K$,((r=i.newSectorForm.get("name"))==null?null:r.invalid)&&((r=i.newSectorForm.get("name"))==null?null:r.touched))),_(3),b(i.isArabic?18:19),_(2),G("disabled",i.newSectorForm.invalid),_(),b(i.isArabic?21:22)}},dependencies:[_i,Kr,or,_t,mt,nN,rN,ot,ft,pt,lt,ct,qe,Ze],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}a.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}a.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}.min-vh-50[_ngcontent-%COMP%]{height:50vh}']})};var Lf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pe({type:t,selectors:[["app-sliding-settings"]],decls:2,vars:0,consts:[[1,"text-center","alert","alert-success"]],template:function(n,i){n&1&&(g(0,"h2",0),m(1," Sliding Settings "),v())},encapsulation:2})};var Vf=class t{constructor(e){this.db=e;this.glassSettingsRef=Yh(this.db,"glass-Settings")}glassSettingsRef;getAllGlassItems(){return ke(zo(this.glassSettingsRef).then(e=>e.val()))}addGlassItem(e){let n=rc(this.glassSettingsRef),i=n.key;return ke(sc(n,V({id:i},e)))}getGlassItemById(e){let n=un(this.glassSettingsRef,e);return ke(zo(n).then(i=>i.val()))}updateGlassItem(e,n){let i=un(this.glassSettingsRef,e);return ke(ac(i,n))}deleteGlassItem(e){let n=un(this.glassSettingsRef,e);return ke(oc(n))}static \u0275fac=function(n){return new(n||t)(re(Xi))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})};var oN=t=>({"is-invalid":t});function Nq(t,e){t&1&&m(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0632\u062C\u0627\u062C ")}function Rq(t,e){t&1&&m(0," Glass Settings ")}function Mq(t,e){t&1&&m(0," \u062A\u062D\u062F\u064A\u062B ")}function Pq(t,e){t&1&&m(0," Update ")}function kq(t,e){if(t&1&&(g(0,"span"),I(1,Mq,1,0)(2,Pq,1,0),k(3,"i",27),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function Oq(t,e){t&1&&m(0," \u0625\u0636\u0627\u0641\u0629 ")}function Fq(t,e){t&1&&m(0," Add ")}function Lq(t,e){if(t&1&&(g(0,"span"),I(1,Oq,1,0)(2,Fq,1,0),k(3,"i",28),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function Vq(t,e){t&1&&m(0," \u0625\u0644\u063A\u0627\u0621 ")}function Bq(t,e){t&1&&m(0," cancel ")}function Uq(t,e){if(t&1){let n=Ae();g(0,"button",29),K("click",function(){ce(n);let r=P(2);return ue(r.cancelEdit())}),g(1,"span"),I(2,Vq,1,0)(3,Bq,1,0),k(4,"i",30),v()()}if(t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function jq(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Hq(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function $q(t,e){if(t&1&&(g(0,"div",23),k(1,"i",31),I(2,jq,1,1)(3,Hq,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function qq(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Gq(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function zq(t,e){if(t&1&&(g(0,"div",24),k(1,"i",32),I(2,qq,1,1)(3,Gq,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function Wq(t,e){t&1&&m(0," \u0627\u0633\u0645 \u0627\u0644\u0632\u062C\u0627\u062C ")}function Kq(t,e){t&1&&m(0," Glass Name ")}function Qq(t,e){t&1&&m(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function Yq(t,e){t&1&&m(0," Meter Price ")}function Zq(t,e){if(t&1){let n=Ae();g(0,"tr")(1,"th"),m(2),v(),g(3,"td"),m(4),v(),g(5,"td")(6,"button",39),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.editGlass(r))}),m(7," Update "),v()(),g(8,"td")(9,"button",40),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.getDeletedGlass(r))}),m(10," Delete "),v()()()}if(t&2){let n=e.$implicit;_(2),j(" ",n.glassName," "),_(2),j(" ",n.meterPrice," ")}}function Jq(t,e){if(t&1&&(g(0,"table",25)(1,"thead")(2,"tr",33)(3,"th",34),I(4,Wq,1,0)(5,Kq,1,0),v(),g(6,"th",34),I(7,Qq,1,0)(8,Yq,1,0),v(),g(9,"th",35),k(10,"i",36),v(),g(11,"th",37),k(12,"i",38),v()()(),g(13,"tbody"),St(14,Zq,11,2,"tr",null,bt),v()()),t&2){let n=P(2);_(4),b(n.isArabic?4:5),_(3),b(n.isArabic?7:8),_(7),Tt(n.glassList)}}function Xq(t,e){t&1&&m(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0645\u0646 \u0627\u0644\u0632\u062C\u0627\u062C\u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function eG(t,e){t&1&&m(0," There are no types of glass, at least one type must be added ")}function tG(t,e){if(t&1&&(g(0,"div",26),k(1,"i",32),I(2,Xq,1,0)(3,eG,1,0),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function nG(t,e){if(t&1){let n=Ae();g(0,"form",12),K("ngSubmit",function(){ce(n);let r=P();return ue(r.selectedGlass?r.updateGlassItem():r.addGlassItem())}),g(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16),k(5,"input",17),v(),g(6,"div",16),k(7,"input",18),v(),g(8,"div",19)(9,"div",20)(10,"button",21),I(11,kq,4,1,"span")(12,Lq,4,1,"span"),v(),I(13,Uq,5,1,"button",22),v()()()()()(),I(14,$q,4,1,"div",23)(15,zq,4,1,"div",24),g(16,"div",14),I(17,Jq,16,2,"table",25)(18,tG,4,1,"div",26),v()}if(t&2){let n,i,r=P();G("formGroup",r.glassForm),_(5),G("ngClass",oe(8,oN,((n=r.glassForm.get("glassName"))==null?null:n.invalid)&&((n=r.glassForm.get("glassName"))==null?null:n.touched))),_(2),G("ngClass",oe(10,oN,((i=r.glassForm.get("meterPrice"))==null?null:i.invalid)&&((i=r.glassForm.get("meterPrice"))==null?null:i.touched))),_(3),G("disabled",r.glassForm.invalid),_(),b(r.selectedGlass!=null?11:12),_(2),b(r.selectedGlass!=null?13:-1),_(),b((r.showMessage==null?null:r.showMessage.type)==="success"?14:(r.showMessage==null?null:r.showMessage.type)==="error"?15:-1),_(3),b(r.glassList.length>0?17:18)}}function iG(t,e){t&1&&(g(0,"div",2)(1,"div",41),k(2,"i",42)(3,"br")(4,"span",43),v()())}function rG(t,e){t&1&&m(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function oG(t,e){t&1&&m(0," are you sure you want to ")}function sG(t,e){t&1&&m(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function aG(t,e){t&1&&m(0," Delete ? ")}function lG(t,e){t&1&&m(0," \u0644\u0627 ")}function cG(t,e){t&1&&m(0," No ")}function uG(t,e){t&1&&m(0," \u0646\u0639\u0645 ")}function dG(t,e){t&1&&m(0," Yes ")}var Bf=class t{constructor(e,n,i){this.fb=e;this.dataService=n;this.glassSettingsService=i;this.glassForm=this.fb.group({glassName:["",Q.required],meterPrice:[null,[Q.required,Q.min(1)]]})}isArabic=!1;glassForm;glassList;selectedGlass=null;deletedGlass=null;editedGlassId="";showMessage=null;ngOnInit(){this.detectLanguageChange(),this.loadGlassItems()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}loadGlassItems(){this.glassSettingsService.getAllGlassItems().subscribe(e=>{this.glassList=e?Object.values(e):[]})}addGlassItem(){if(this.glassForm.invalid)return;let e=this.glassForm.value;this.glassSettingsService.addGlassItem(e).subscribe(()=>{this.onSuccess("Glass item added successfully","\u062A\u0645\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062C\u0627\u062D")})}editGlass(e){this.selectedGlass=e,this.editedGlassId=e.id,this.glassForm.patchValue({glassName:e.glassName,meterPrice:e.meterPrice})}updateGlassItem(){if(this.glassForm.invalid||!this.editedGlassId)return;let e=this.glassForm.value;this.glassSettingsService.updateGlassItem(this.editedGlassId,e).subscribe(()=>{this.onSuccess("Glass item updated successfully","\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D")})}deleteGlassItem(e){this.glassSettingsService.deleteGlassItem(e).subscribe(()=>{this.onSuccess("Glass item deleted successfully","\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D")})}cancelEdit(){this.glassForm.reset(),this.selectedGlass=null,this.editedGlassId=""}getDeletedGlass(e){this.deletedGlass=e}onSuccess(e,n){this.showMessage={type:"success",text:e,arText:n},this.loadGlassItems(),this.cancelEdit(),this.clearMessage()}clearMessage(){setTimeout(()=>{this.showMessage=null},2e3)}static \u0275fac=function(n){return new(n||t)(U(gt),U(je),U(Vf))};static \u0275cmp=pe({type:t,selectors:[["app-glass-settings"]],decls:23,vars:6,consts:[[1,"text-center","alert","alert-primary"],[1,"alert","alert-primary","my-3","px-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"row","g-3","my-3"],[1,"col-md-5"],["id","glassName","formControlName","glassName","placeholder","Glass Name","type","text",1,"form-control",3,"ngClass"],["id","meterPrice","formControlName","meterPrice","placeholder","Meter Price","type","number",1,"form-control",3,"ngClass"],[1,"col-md-2"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"table","table-inalert-primary","table-hover","table-striped","text-center","table-bordered"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"text-white"],["scope","col"],["scope","col",1,"bg-warning-subtle"],[1,"fa-solid","fa-pen-to-square","text-warning"],["scope","col",1,"bg-danger-subtle"],[1,"fa-solid","fa-trash-can","text-danger"],[1,"btn","btn-warning","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(g(0,"h2",0),I(1,Nq,1,0)(2,Rq,1,0),v(),g(3,"div",1),I(4,nG,19,12)(5,iG,5,0,"div",2),v(),g(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6),k(10,"i",7),I(11,rG,1,0)(12,oG,1,0),g(13,"b",8),I(14,sG,1,0)(15,aG,1,0),v()(),g(16,"div",9)(17,"button",10),I(18,lG,1,0)(19,cG,1,0),v(),g(20,"button",11),K("click",function(){return i.deleteGlassItem(i.deletedGlass.id)}),I(21,uG,1,0)(22,dG,1,0),v()()()()()),n&2&&(_(),b(i.isArabic?1:2),_(3),b(i.glassList?4:5),_(7),b(i.isArabic?11:12),_(3),b(i.isArabic?14:15),_(4),b(i.isArabic?18:19),_(3),b(i.isArabic?21:22))},dependencies:[_t,mt,ot,Lt,ft,pt,lt,ct,qe,Ze],styles:[".min-vh-50[_ngcontent-%COMP%]{height:50vh}"]})};function hG(t,e){if(t&1&&m(0),t&2){let n=P().$implicit;j(" ",n.labelAr," ")}}function fG(t,e){if(t&1&&m(0),t&2){let n=P().$implicit;j(" ",n.labelEn," ")}}function pG(t,e){if(t&1&&(g(0,"li",1)(1,"a",2),I(2,hG,1,1)(3,fG,1,1),v()()),t&2){let n=e.$implicit,i=P();_(),G("routerLink",n.path),_(),b(i.isArabic?2:3)}}var Uf=class t{constructor(e){this.dataService=e}isArabic=!1;links=[{path:"hingedFrames",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u062D\u0644\u0648\u0642",labelEn:"Frames Types"},{path:"hingedBars",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0628\u0627\u0631\u0627\u062A",labelEn:"Bars Types"},{path:"hingedSashes",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0636\u0644\u0641",labelEn:"Sashes Types"},{path:"hingedBarCloses",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0628\u0627\u0643\u062A\u0627\u062A",labelEn:"Bar Close types"},{path:"hingedTProfiles",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0642\u0648\u0627\u0637\u0639 \u0648\u0627\u0644\u0633\u0624\u0627\u0633\u0627\u062A",labelEn:"Types of T Profiles"},{path:"hingedWireSashes",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0636\u0644\u0641 \u0627\u0644\u0633\u0644\u0643",labelEn:"Wire Sashes Types"},{path:"HingedAccessories",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0641\u0644\u062A\u0627\u062A",labelEn:"Sashes"},{path:"HingedAccessories",labelAr:"\u0627\u0644\u0645\u0631\u062F",labelEn:"Sashes"}];changeLang(){this.dataService.isArabic?this.isArabic=!0:this.isArabic=!1,setTimeout(()=>{this.changeLang()},100)}ngOnInit(){this.changeLang()}static \u0275fac=function(n){return new(n||t)(U(je))};static \u0275cmp=pe({type:t,selectors:[["app-hinged-sectors"]],decls:4,vars:0,consts:[[1,"list-unstyled","d-flex","flex-wrap","justify-content-start"],[1,"nav-item","mx-2","flex-shrink-0"],["routerLinkActive","active",1,"nav-link","text-nowrap",3,"routerLink"]],template:function(n,i){n&1&&(g(0,"ul",0),St(1,pG,4,2,"li",1,bt),v(),k(3,"router-outlet")),n&2&&(_(),Tt(i.links))},dependencies:[_i,Kr,or],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}a.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}a.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}']})};var mG=t=>({"is-invalid":t});function gG(t,e){t&1&&m(0," \u062D\u0641\u0638 ")}function _G(t,e){t&1&&m(0," Save ")}var jf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.specialtiesForm=this.fb.group({sectorNumber:["",Q.required]})}isArabic=!1;specialtiesForm;updateSpecialties(){}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}ngOnInit(){this.initializeLanguage()}static \u0275fac=function(n){return new(n||t)(U(gt),U(je),U(yt),U(Qe))};static \u0275cmp=pe({type:t,selectors:[["app-hinged-specialties"]],decls:12,vars:6,consts:[[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-4","col-12"],["for","test",1,"form-label"],["formControlName","sectorNumber","type","number","name","test","id","test","placeholder","Sector Number","required","",1,"form-control","border-0",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa-solid","fa-floppy-disk"]],template:function(n,i){if(n&1&&(g(0,"form",0),K("ngSubmit",function(){return i.updateSpecialties()}),g(1,"div",1)(2,"div",2)(3,"label",3),m(4," test "),v(),k(5,"input",4),v(),g(6,"div",5)(7,"button",6)(8,"span"),I(9,gG,1,0)(10,_G,1,0),k(11,"i",7),v()()()()()),n&2){let r;G("formGroup",i.specialtiesForm),_(5),G("ngClass",oe(4,mG,((r=i.specialtiesForm.get("sectorNumber"))==null?null:r.invalid)&&((r=i.specialtiesForm.get("sectorNumber"))==null?null:r.touched))),_(2),G("disabled",i.specialtiesForm.invalid),_(2),b(i.isArabic?9:10)}},dependencies:[_t,mt,ot,Lt,ft,pt,nn,lt,ct,qe,Ze],encapsulation:2})};var Hf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pe({type:t,selectors:[["app-hinged-accessories"]],decls:2,vars:0,template:function(n,i){n&1&&(g(0,"p"),m(1,"hinged-accessories works!"),v())},encapsulation:2})};var $f=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pe({type:t,selectors:[["app-hinged-instructions"]],decls:2,vars:0,template:function(n,i){n&1&&(g(0,"p"),m(1,"hinged-instructions works!"),v())},encapsulation:2})};var yG=t=>({"is-invalid":t});function vG(t,e){t&1&&m(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 : ")}function CG(t,e){t&1&&m(0," Sector Name : ")}function wG(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function EG(t,e){t&1&&m(0," Modify the sector name ")}function IG(t,e){t&1&&m(0," \u062D\u0630\u0641 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function bG(t,e){t&1&&m(0," Delete The Sector ")}function SG(t,e){t&1&&m(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function TG(t,e){t&1&&m(0," are you sure you want to ")}function DG(t,e){t&1&&m(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function AG(t,e){t&1&&m(0," Delete ? ")}function xG(t,e){t&1&&m(0," \u0644\u0627 ")}function NG(t,e){t&1&&m(0," No ")}function RG(t,e){t&1&&m(0," \u0646\u0639\u0645 ")}function MG(t,e){t&1&&m(0," Yes ")}function PG(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function kG(t,e){t&1&&m(0," Modify the sector name ")}function OG(t,e){t&1&&m(0," \u0625\u0644\u063A\u0627\u0621 ")}function FG(t,e){t&1&&m(0," cancel ")}function LG(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function VG(t,e){t&1&&m(0," Update ")}function BG(t,e){if(t&1){let n=Ae();g(0,"div",1)(1,"h3"),I(2,vG,1,0)(3,CG,1,0),g(4,"span",2),m(5),v()(),g(6,"div",3)(7,"button",4),I(8,wG,1,0)(9,EG,1,0),k(10,"i",5),v(),g(11,"button",6),I(12,IG,1,0)(13,bG,1,0),k(14,"i",7),v()()(),g(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",11),k(19,"i",12),I(20,SG,1,0)(21,TG,1,0),g(22,"b",13),I(23,DG,1,0)(24,AG,1,0),g(25,"span",2),m(26),v()()(),g(27,"div",14)(28,"button",15),I(29,xG,1,0)(30,NG,1,0),v(),g(31,"button",16),K("click",function(){ce(n);let r=P();return ue(r.delete())}),I(32,RG,1,0)(33,MG,1,0),v()()()()(),g(34,"div",17)(35,"div",9)(36,"div",10)(37,"div",11)(38,"form",18),K("ngSubmit",function(){ce(n);let r=P();return ue(r.editSectorName())}),k(39,"i",19),g(40,"label",20),I(41,PG,1,0)(42,kG,1,0),g(43,"span",2),m(44),v()(),k(45,"input",21),g(46,"div",14)(47,"button",22),I(48,OG,1,0)(49,FG,1,0),v(),g(50,"button",23),I(51,LG,1,0)(52,VG,1,0),v()()()()()()()}if(t&2){let n,i=P();_(2),b(i.isArabic?2:3),_(3),j(" ",i.sectorInfo.name," "),_(3),b(i.isArabic?8:9),_(4),b(i.isArabic?12:13),_(8),b(i.isArabic?20:21),_(3),b(i.isArabic?23:24),_(3),j(" ( ",i.sectorInfo.name," ) "),_(3),b(i.isArabic?29:30),_(3),b(i.isArabic?32:33),_(6),G("formGroup",i.editSectorForm),_(3),b(i.isArabic?41:42),_(3),j(" ( ",i.sectorInfo.name," ) "),_(),G("ngClass",oe(16,yG,((n=i.editSectorForm.get("sectorName"))==null?null:n.invalid)&&((n=i.editSectorForm.get("sectorName"))==null?null:n.touched))),_(3),b(i.isArabic?48:49),_(2),G("disabled",i.editSectorForm.invalid),_(),b(i.isArabic?51:52)}}function UG(t,e){t&1&&(g(0,"div",0)(1,"div",24),k(2,"i",25)(3,"br")(4,"span",26),v()())}var qf=class t{constructor(e,n,i,r,o){this.dataService=e;this.hingedSettingsSectorService=n;this.activatedRoute=i;this.fb=r;this.router=o;this.editSectorForm=this.fb.group({sectorName:["",[Q.required,Q.minLength(3)]]})}isArabic=!1;sectorId="";sectorInfo=null;editSectorForm;changeLang(){this.isArabic=this.dataService.isArabic,setTimeout(()=>this.changeLang(),100)}delete(){if(!this.sectorId){console.error("No sector ID provided for deletion.");return}this.hingedSettingsSectorService.deleteSector(this.sectorId).then(()=>{console.log("Sector deleted successfully"),this.router.navigate(["/sectorsSettings/hingedSettings"]),this.sectorInfo=null}).catch(e=>{console.error("Error deleting sector:",e)})}getSectorInfo(){if(!this.sectorId){console.error("No sector ID provided to fetch information.");return}this.hingedSettingsSectorService.getSectorById(this.sectorId).subscribe({next:e=>{this.sectorInfo=e,console.log("Sector info fetched successfully:",e)},error:e=>{console.error("Error fetching sector info:",e),this.sectorInfo=null}})}editSectorName(){if(this.editSectorForm.invalid){console.error("Form is invalid.");return}let e=this.editSectorForm.value.sectorName;this.hingedSettingsSectorService.updateSector(this.sectorId,{name:e}).then(()=>{console.log("Sector name updated successfully."),this.sectorInfo.name=e,this.editSectorForm.reset()}).catch(n=>{console.error("Error updating sector name:",n)})}ngOnInit(){this.changeLang(),this.activatedRoute.params.subscribe(e=>{e.sectorId&&(this.sectorId=e.sectorId,this.getSectorInfo())})}static \u0275fac=function(n){return new(n||t)(U(je),U(yt),U(Qe),U(gt),U(yi))};static \u0275cmp=pe({type:t,selectors:[["app-hinged-features"]],decls:2,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],[1,"row","g-3"],[1,"fst-italic","text-primary"],[1,"col-md-3"],["data-bs-toggle","modal","data-bs-target","#editSectorNameStaticBackdrop",1,"btn","btn-outline-primary","w-100","m-2"],[1,"fa-solid","fa-pen-to-square"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-outline-danger","w-100","m-2"],[1,"fa-solid","fa-trash-can"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","editSectorNameStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","editSectorNameStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[3,"ngSubmit","formGroup"],[1,"fa-solid","fa-bell","mx-1","text-primary"],["for","newSectorName",1,"form-label"],["type","text","formControlName","sectorName","name","newSectorName","id","newSectorName","placeholder","Enter the new sector name",1,"form-control",3,"ngClass"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","btn-sm"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary","btn-sm",3,"disabled"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&I(0,BG,53,18)(1,UG,5,0,"div",0),n&2&&b(i.sectorInfo?0:1)},dependencies:[qe,Ze,_t,mt,ot,ft,pt,lt,ct],styles:[".min-vh-50[_ngcontent-%COMP%]{height:50vh}"]})};var Fc=t=>({"is-invalid":t});function jG(t,e){t&1&&m(0," \u062A\u062D\u062F\u064A\u062B ")}function HG(t,e){t&1&&m(0," Update ")}function $G(t,e){if(t&1&&(g(0,"span"),I(1,jG,1,0)(2,HG,1,0),k(3,"i",30),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function qG(t,e){t&1&&m(0," \u0625\u0636\u0627\u0641\u0629 ")}function GG(t,e){t&1&&m(0," Add ")}function zG(t,e){if(t&1&&(g(0,"span"),I(1,qG,1,0)(2,GG,1,0),k(3,"i",31),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function WG(t,e){t&1&&m(0," \u0625\u0644\u063A\u0627\u0621 ")}function KG(t,e){t&1&&m(0," cancel ")}function QG(t,e){if(t&1){let n=Ae();g(0,"button",32),K("click",function(){ce(n);let r=P(2);return ue(r.cancelEdit())}),g(1,"span"),I(2,WG,1,0)(3,KG,1,0),k(4,"i",33),v()()}if(t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function YG(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function ZG(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function JG(t,e){if(t&1&&(g(0,"div",25),k(1,"i",34),I(2,YG,1,1)(3,ZG,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function XG(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function ez(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function tz(t,e){if(t&1&&(g(0,"div",26),k(1,"i",35),I(2,XG,1,1)(3,ez,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function nz(t,e){t&1&&m(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function iz(t,e){t&1&&m(0," Sector Number ")}function rz(t,e){t&1&&m(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function oz(t,e){t&1&&m(0," Sector Name ")}function sz(t,e){t&1&&m(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function az(t,e){t&1&&m(0," Weight ")}function lz(t,e){t&1&&m(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function cz(t,e){t&1&&m(0," Thickness ")}function uz(t,e){t&1&&m(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function dz(t,e){t&1&&m(0," Price per kilo ")}function hz(t,e){t&1&&m(0," \u062D\u0630\u0641 \u0627\u0644\u0628\u0627\u0631 ")}function fz(t,e){t&1&&m(0," delete the bar ")}function pz(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function mz(t,e){t&1&&m(0," Update ")}function gz(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function _z(t,e){t&1&&m(0," Delete ")}function yz(t,e){t&1&&k(0,"i",39)}function vz(t,e){t&1&&k(0,"i",40)}function Cz(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function wz(t,e){t&1&&m(0," Update ")}function Ez(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function Iz(t,e){t&1&&m(0," Delete ")}function bz(t,e){if(t&1){let n=Ae();g(0,"tr")(1,"td"),m(2),v(),g(3,"td"),m(4),v(),g(5,"td"),m(6),v(),g(7,"td"),m(8),v(),g(9,"td"),m(10),v(),g(11,"td"),m(12),v(),g(13,"td"),I(14,yz,1,0,"i",39)(15,vz,1,0,"i",40),v(),g(16,"td")(17,"button",41),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.editSector(r))}),I(18,Cz,1,0)(19,wz,1,0),k(20,"i",30),v()(),g(21,"td")(22,"button",42),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.getDeletedSector(r))}),I(23,Ez,1,0)(24,Iz,1,0),k(25,"i",43),v()()()}if(t&2){let n=e.$implicit,i=e.$index,r=P(3);_(2),j(" ",i+1," "),_(2),j(" ",n.sectorNumber," "),_(2),j(" ",n.sectorName," "),_(2),j(" ",n.weight," "),_(2),j(" ",n.thickness," "),_(2),j(" ",n.price," "),_(2),b(n.withoutBar==!0?14:15),_(4),b(r.isArabic?18:19),_(5),b(r.isArabic?23:24)}}function Sz(t,e){if(t&1&&(g(0,"table",28)(1,"thead",36)(2,"tr")(3,"th"),m(4," # "),v(),g(5,"th"),I(6,nz,1,0)(7,iz,1,0),v(),g(8,"th"),I(9,rz,1,0)(10,oz,1,0),v(),g(11,"th"),I(12,sz,1,0)(13,az,1,0),v(),g(14,"th"),I(15,lz,1,0)(16,cz,1,0),v(),g(17,"th"),I(18,uz,1,0)(19,dz,1,0),v(),g(20,"th"),I(21,hz,1,0)(22,fz,1,0),v(),g(23,"th",37),I(24,pz,1,0)(25,mz,1,0),v(),g(26,"th",38),I(27,gz,1,0)(28,_z,1,0),v()()(),g(29,"tbody"),St(30,bz,26,9,"tr",null,bt),v()()),t&2){let n=P(2);_(6),b(n.isArabic?6:7),_(3),b(n.isArabic?9:10),_(3),b(n.isArabic?12:13),_(3),b(n.isArabic?15:16),_(3),b(n.isArabic?18:19),_(3),b(n.isArabic?21:22),_(3),b(n.isArabic?24:25),_(3),b(n.isArabic?27:28),_(3),Tt(n.frames)}}function Tz(t,e){t&1&&m(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u062D\u0644\u0648\u0642 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function Dz(t,e){t&1&&m(0," There are no types of frames, at least one type must be added ")}function Az(t,e){if(t&1&&(g(0,"div",29),k(1,"i",35),I(2,Tz,1,0)(3,Dz,1,0),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function xz(t,e){if(t&1){let n=Ae();g(0,"div",0)(1,"form",11),K("ngSubmit",function(){ce(n);let r=P();return ue(r.selectedSector?r.updateSector():r.addNewSector())}),g(2,"div",12)(3,"div",13),k(4,"input",14),v(),g(5,"div",13),k(6,"input",15),v(),g(7,"div",13),k(8,"input",16),v(),g(9,"div",13),k(10,"input",17),v(),g(11,"div",13),k(12,"input",18),v(),g(13,"div",19),k(14,"input",20),g(15,"label",21),m(16),v()(),g(17,"div",22)(18,"button",23),I(19,$G,4,1,"span")(20,zG,4,1,"span"),v(),I(21,QG,5,1,"button",24),v()()(),I(22,JG,4,1,"div",25)(23,tz,4,1,"div",26),g(24,"div",27),I(25,Sz,32,8,"table",28)(26,Az,4,1,"div",29),v()()}if(t&2){let n,i,r,o,s,a=P();_(),G("formGroup",a.frameForm),_(3),G("ngClass",oe(13,Fc,((n=a.frameForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.frameForm.get("sectorNumber"))==null?null:n.touched))),_(2),G("ngClass",oe(15,Fc,((i=a.frameForm.get("sectorName"))==null?null:i.invalid)&&((i=a.frameForm.get("sectorName"))==null?null:i.touched))),_(2),G("ngClass",oe(17,Fc,((r=a.frameForm.get("weight"))==null?null:r.invalid)&&((r=a.frameForm.get("weight"))==null?null:r.touched))),_(2),G("ngClass",oe(19,Fc,((o=a.frameForm.get("thickness"))==null?null:o.invalid)&&((o=a.frameForm.get("thickness"))==null?null:o.touched))),_(2),G("ngClass",oe(21,Fc,((s=a.frameForm.get("price"))==null?null:s.invalid)&&((s=a.frameForm.get("price"))==null?null:s.touched))),_(),G("title",a.isArabic?"\u0639\u0646\u062F \u0627\u0644\u062A\u062D\u062F\u064A\u062F , \u0644\u0645 \u064A\u062A\u0645 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0628\u0627\u0631 \u0645\u0639 \u0647\u0630\u0627 \u0627\u0644\u062D\u0644\u0642":"When selected, no bar was used with this Frame"),_(3),j(" ",a.isArabic?"\u062D\u0630\u0641 \u0627\u0644\u0628\u0627\u0631":"Delete the Bar"," "),_(2),G("disabled",a.frameForm.invalid),_(),b(a.selectedSector!=null?19:20),_(2),b(a.selectedSector!=null?21:-1),_(),b((a.showMessage==null?null:a.showMessage.type)==="success"?22:(a.showMessage==null?null:a.showMessage.type)==="error"?23:-1),_(3),b(a.frames.length>0?25:26)}}function Nz(t,e){t&1&&(g(0,"div",1)(1,"div",44),k(2,"i",45)(3,"br")(4,"span",46),v()())}function Rz(t,e){t&1&&m(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function Mz(t,e){t&1&&m(0," are you sure you want to ")}function Pz(t,e){t&1&&m(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function kz(t,e){t&1&&m(0," Delete ? ")}function Oz(t,e){t&1&&m(0," \u0644\u0627 ")}function Fz(t,e){t&1&&m(0," No ")}function Lz(t,e){t&1&&m(0," \u0646\u0639\u0645 ")}function Vz(t,e){t&1&&m(0," Yes ")}var Gf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.frameForm=this.fb.group({sectorName:["",Q.required],sectorNumber:["",Q.required],weight:["",[Q.required,Q.min(.1)]],thickness:["",[Q.required,Q.min(.1)]],price:["",[Q.required,Q.min(.1)]],withoutBar:[!1]})}isArabic=!1;sectorsType="frames";frames;selectedSectorId="";EditedSectorId="";frameForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getFrames()})}getFrames(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.frames=e,error:e=>console.error("Error fetching frames:",e)})}addNewSector(){this.frameForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.frameForm.value).then(()=>{this.frameForm.reset(),this.getFrames()}).catch(e=>console.error("Error adding frame:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getFrames(),this.deletedSector=null}).catch(n=>{console.error("Error deleting frame:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.frameForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price,withoutBar:e.withoutBar})}cancelEdit(){this.frameForm.reset(),this.selectedSector=null}updateSector(){if(this.frameForm.valid&&this.selectedSector){let e=V(V({},this.selectedSector),this.frameForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getFrames(),this.frameForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(U(gt),U(je),U(yt),U(Qe))};static \u0275cmp=pe({type:t,selectors:[["app-hinged-frames"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["formControlName","sectorNumber","type","number","placeholder","Sector Number","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","sectorName","type","text","placeholder","Sector Name","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","weight","type","number","placeholder","Weight","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","thickness","type","number","placeholder","Thickness","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","price","type","number","placeholder","Price per kilo","required","",1,"form-control","border-0",3,"ngClass"],[1,"col-md-6","col-lg-2","col-12","d-flex","align-items-center",3,"title"],["formControlName","withoutBar","type","checkbox","id","withoutBar",1,"form-check-input","me-2"],["for","withoutBar",1,"form-check-label"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"fa-solid","fa-check","p-1","alert","alert-primary"],[1,"fa-solid","fa-xmark","p-1","alert","alert-danger"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(I(0,xz,27,23,"div",0)(1,Nz,5,0,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),k(6,"i",6),I(7,Rz,1,0)(8,Mz,1,0),g(9,"b",7),I(10,Pz,1,0)(11,kz,1,0),v()(),g(12,"div",8)(13,"button",9),I(14,Oz,1,0)(15,Fz,1,0),v(),g(16,"button",10),K("click",function(){return i.delete(i.deletedSector.id)}),I(17,Lz,1,0)(18,Vz,1,0),v()()()()()),n&2&&(b(i.frames?0:1),_(7),b(i.isArabic?7:8),_(3),b(i.isArabic?10:11),_(4),b(i.isArabic?14:15),_(3),b(i.isArabic?17:18))},dependencies:[_t,mt,ot,Lt,dC,ft,pt,nn,lt,ct,qe,Ze],styles:[".min-vh-50[_ngcontent-%COMP%]{height:50vh}"]})};var Lc=t=>({"is-invalid":t});function Bz(t,e){t&1&&m(0," \u062A\u062D\u062F\u064A\u062B ")}function Uz(t,e){t&1&&m(0," Update ")}function jz(t,e){if(t&1&&(g(0,"span"),I(1,Bz,1,0)(2,Uz,1,0),k(3,"i",27),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function Hz(t,e){t&1&&m(0," \u0625\u0636\u0627\u0641\u0629 ")}function $z(t,e){t&1&&m(0," Add ")}function qz(t,e){if(t&1&&(g(0,"span"),I(1,Hz,1,0)(2,$z,1,0),k(3,"i",28),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function Gz(t,e){t&1&&m(0," \u0625\u0644\u063A\u0627\u0621 ")}function zz(t,e){t&1&&m(0," cancel ")}function Wz(t,e){if(t&1){let n=Ae();g(0,"button",29),K("click",function(){ce(n);let r=P(2);return ue(r.cancelEdit())}),g(1,"span"),I(2,Gz,1,0)(3,zz,1,0),k(4,"i",30),v()()}if(t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function Kz(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Qz(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function Yz(t,e){if(t&1&&(g(0,"div",22),k(1,"i",31),I(2,Kz,1,1)(3,Qz,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function Zz(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Jz(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function Xz(t,e){if(t&1&&(g(0,"div",23),k(1,"i",32),I(2,Zz,1,1)(3,Jz,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function e5(t,e){t&1&&m(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function t5(t,e){t&1&&m(0," Sector Number ")}function n5(t,e){t&1&&m(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function i5(t,e){t&1&&m(0," Sector Name ")}function r5(t,e){t&1&&m(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function o5(t,e){t&1&&m(0," Weight ")}function s5(t,e){t&1&&m(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function a5(t,e){t&1&&m(0," Thickness ")}function l5(t,e){t&1&&m(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function c5(t,e){t&1&&m(0," Price per kilo ")}function u5(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function d5(t,e){t&1&&m(0," Update ")}function h5(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function f5(t,e){t&1&&m(0," Delete ")}function p5(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function m5(t,e){t&1&&m(0," Update ")}function g5(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function _5(t,e){t&1&&m(0," Delete ")}function y5(t,e){if(t&1){let n=Ae();g(0,"tr")(1,"td"),m(2),v(),g(3,"td"),m(4),v(),g(5,"td"),m(6),v(),g(7,"td"),m(8),v(),g(9,"td"),m(10),v(),g(11,"td"),m(12),v(),g(13,"td")(14,"button",36),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.editSector(r))}),I(15,p5,1,0)(16,m5,1,0),k(17,"i",27),v()(),g(18,"td")(19,"button",37),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.getDeletedSector(r))}),I(20,g5,1,0)(21,_5,1,0),k(22,"i",38),v()()()}if(t&2){let n=e.$implicit,i=e.$index,r=P(3);_(2),j(" ",i+1," "),_(2),j(" ",n.sectorNumber," "),_(2),j(" ",n.sectorName," "),_(2),j(" ",n.weight," "),_(2),j(" ",n.thickness," "),_(2),j(" ",n.price," "),_(3),b(r.isArabic?15:16),_(5),b(r.isArabic?20:21)}}function v5(t,e){if(t&1&&(g(0,"table",25)(1,"thead",33)(2,"tr")(3,"th"),m(4," # "),v(),g(5,"th"),I(6,e5,1,0)(7,t5,1,0),v(),g(8,"th"),I(9,n5,1,0)(10,i5,1,0),v(),g(11,"th"),I(12,r5,1,0)(13,o5,1,0),v(),g(14,"th"),I(15,s5,1,0)(16,a5,1,0),v(),g(17,"th"),I(18,l5,1,0)(19,c5,1,0),v(),g(20,"th",34),I(21,u5,1,0)(22,d5,1,0),v(),g(23,"th",35),I(24,h5,1,0)(25,f5,1,0),v()()(),g(26,"tbody"),St(27,y5,23,8,"tr",null,bt),v()()),t&2){let n=P(2);_(6),b(n.isArabic?6:7),_(3),b(n.isArabic?9:10),_(3),b(n.isArabic?12:13),_(3),b(n.isArabic?15:16),_(3),b(n.isArabic?18:19),_(3),b(n.isArabic?21:22),_(3),b(n.isArabic?24:25),_(3),Tt(n.bars)}}function C5(t,e){t&1&&m(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0628\u0627\u0631\u0627\u062A \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function w5(t,e){t&1&&m(0," There are no types of bars, at least one type must be added ")}function E5(t,e){if(t&1&&(g(0,"div",26),k(1,"i",32),I(2,C5,1,0)(3,w5,1,0),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function I5(t,e){if(t&1){let n=Ae();g(0,"div",0)(1,"form",11),K("ngSubmit",function(){ce(n);let r=P();return ue(r.selectedSector?r.updateSector():r.addNewSector())}),g(2,"div",12)(3,"div",13),k(4,"input",14),v(),g(5,"div",13),k(6,"input",15),v(),g(7,"div",13),k(8,"input",16),v(),g(9,"div",13),k(10,"input",17),v(),g(11,"div",13),k(12,"input",18),v(),g(13,"div",19)(14,"button",20),I(15,jz,4,1,"span")(16,qz,4,1,"span"),v(),I(17,Wz,5,1,"button",21),v()()(),I(18,Yz,4,1,"div",22)(19,Xz,4,1,"div",23),g(20,"div",24),I(21,v5,29,7,"table",25)(22,E5,4,1,"div",26),v()()}if(t&2){let n,i,r,o,s,a=P();_(),G("formGroup",a.barForm),_(3),G("ngClass",oe(11,Lc,((n=a.barForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.barForm.get("sectorNumber"))==null?null:n.touched))),_(2),G("ngClass",oe(13,Lc,((i=a.barForm.get("sectorName"))==null?null:i.invalid)&&((i=a.barForm.get("sectorName"))==null?null:i.touched))),_(2),G("ngClass",oe(15,Lc,((r=a.barForm.get("weight"))==null?null:r.invalid)&&((r=a.barForm.get("weight"))==null?null:r.touched))),_(2),G("ngClass",oe(17,Lc,((o=a.barForm.get("thickness"))==null?null:o.invalid)&&((o=a.barForm.get("thickness"))==null?null:o.touched))),_(2),G("ngClass",oe(19,Lc,((s=a.barForm.get("price"))==null?null:s.invalid)&&((s=a.barForm.get("price"))==null?null:s.touched))),_(2),G("disabled",a.barForm.invalid),_(),b(a.selectedSector!=null?15:16),_(2),b(a.selectedSector!=null?17:-1),_(),b((a.showMessage==null?null:a.showMessage.type)==="success"?18:(a.showMessage==null?null:a.showMessage.type)==="error"?19:-1),_(3),b(a.bars.length>0?21:22)}}function b5(t,e){t&1&&(g(0,"div",1)(1,"div",39),k(2,"i",40)(3,"br")(4,"span",41),v()())}function S5(t,e){t&1&&m(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function T5(t,e){t&1&&m(0," are you sure you want to ")}function D5(t,e){t&1&&m(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function A5(t,e){t&1&&m(0," Delete ? ")}function x5(t,e){t&1&&m(0," \u0644\u0627 ")}function N5(t,e){t&1&&m(0," No ")}function R5(t,e){t&1&&m(0," \u0646\u0639\u0645 ")}function M5(t,e){t&1&&m(0," Yes ")}var zf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.barForm=this.fb.group({sectorName:["",Q.required],sectorNumber:["",Q.required],weight:["",[Q.required,Q.min(.1)]],thickness:["",[Q.required,Q.min(.1)]],price:["",[Q.required,Q.min(.1)]]})}isArabic=!1;sectorsType="bars";bars;selectedSectorId="";EditedSectorId="";barForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getBars()})}getBars(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.bars=e,error:e=>console.error("Error fetching bars:",e)})}addNewSector(){this.barForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.barForm.value).then(()=>{this.barForm.reset(),this.getBars()}).catch(e=>console.error("Error adding bar:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getBars(),this.deletedSector=null}).catch(n=>{console.error("Error deleting bar:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.barForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.barForm.reset(),this.selectedSector=null}updateSector(){if(this.barForm.valid&&this.selectedSector){let e=V(V({},this.selectedSector),this.barForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getBars(),this.barForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(U(gt),U(je),U(yt),U(Qe))};static \u0275cmp=pe({type:t,selectors:[["app-hinged-bars"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["formControlName","sectorNumber","type","number","placeholder","Sector Number","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","sectorName","type","text","placeholder","Sector Name","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","weight","type","number","placeholder","Weight","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","thickness","type","number","placeholder","Thickness","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","price","type","number","placeholder","Price per kilo","required","",1,"form-control","border-0",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(I(0,I5,23,21,"div",0)(1,b5,5,0,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),k(6,"i",6),I(7,S5,1,0)(8,T5,1,0),g(9,"b",7),I(10,D5,1,0)(11,A5,1,0),v()(),g(12,"div",8)(13,"button",9),I(14,x5,1,0)(15,N5,1,0),v(),g(16,"button",10),K("click",function(){return i.delete(i.deletedSector.id)}),I(17,R5,1,0)(18,M5,1,0),v()()()()()),n&2&&(b(i.bars?0:1),_(7),b(i.isArabic?7:8),_(3),b(i.isArabic?10:11),_(4),b(i.isArabic?14:15),_(3),b(i.isArabic?17:18))},dependencies:[_t,mt,ot,Lt,ft,pt,nn,lt,ct,qe,Ze],styles:[".min-vh-50[_ngcontent-%COMP%]{height:50vh}"]})};var Vc=t=>({"is-invalid":t});function P5(t,e){t&1&&m(0," \u062A\u062D\u062F\u064A\u062B ")}function k5(t,e){t&1&&m(0," Update ")}function O5(t,e){if(t&1&&(g(0,"span"),I(1,P5,1,0)(2,k5,1,0),k(3,"i",27),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function F5(t,e){t&1&&m(0," \u0625\u0636\u0627\u0641\u0629 ")}function L5(t,e){t&1&&m(0," Add ")}function V5(t,e){if(t&1&&(g(0,"span"),I(1,F5,1,0)(2,L5,1,0),k(3,"i",28),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function B5(t,e){t&1&&m(0," \u0625\u0644\u063A\u0627\u0621 ")}function U5(t,e){t&1&&m(0," cancel ")}function j5(t,e){if(t&1){let n=Ae();g(0,"button",29),K("click",function(){ce(n);let r=P(2);return ue(r.cancelEdit())}),g(1,"span"),I(2,B5,1,0)(3,U5,1,0),k(4,"i",30),v()()}if(t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function H5(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function $5(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function q5(t,e){if(t&1&&(g(0,"div",22),k(1,"i",31),I(2,H5,1,1)(3,$5,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function G5(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function z5(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function W5(t,e){if(t&1&&(g(0,"div",23),k(1,"i",32),I(2,G5,1,1)(3,z5,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function K5(t,e){t&1&&m(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Q5(t,e){t&1&&m(0," Sector Number ")}function Y5(t,e){t&1&&m(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Z5(t,e){t&1&&m(0," Sector Name ")}function J5(t,e){t&1&&m(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function X5(t,e){t&1&&m(0," Weight ")}function e9(t,e){t&1&&m(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function t9(t,e){t&1&&m(0," Thickness ")}function n9(t,e){t&1&&m(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function i9(t,e){t&1&&m(0," Price per kilo ")}function r9(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function o9(t,e){t&1&&m(0," Update ")}function s9(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function a9(t,e){t&1&&m(0," Delete ")}function l9(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function c9(t,e){t&1&&m(0," Update ")}function u9(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function d9(t,e){t&1&&m(0," Delete ")}function h9(t,e){if(t&1){let n=Ae();g(0,"tr")(1,"td"),m(2),v(),g(3,"td"),m(4),v(),g(5,"td"),m(6),v(),g(7,"td"),m(8),v(),g(9,"td"),m(10),v(),g(11,"td"),m(12),v(),g(13,"td")(14,"button",36),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.editSector(r))}),I(15,l9,1,0)(16,c9,1,0),k(17,"i",27),v()(),g(18,"td")(19,"button",37),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.getDeletedSector(r))}),I(20,u9,1,0)(21,d9,1,0),k(22,"i",38),v()()()}if(t&2){let n=e.$implicit,i=e.$index,r=P(3);_(2),j(" ",i+1," "),_(2),j(" ",n.sectorNumber," "),_(2),j(" ",n.sectorName," "),_(2),j(" ",n.weight," "),_(2),j(" ",n.thickness," "),_(2),j(" ",n.price," "),_(3),b(r.isArabic?15:16),_(5),b(r.isArabic?20:21)}}function f9(t,e){if(t&1&&(g(0,"table",25)(1,"thead",33)(2,"tr")(3,"th"),m(4," # "),v(),g(5,"th"),I(6,K5,1,0)(7,Q5,1,0),v(),g(8,"th"),I(9,Y5,1,0)(10,Z5,1,0),v(),g(11,"th"),I(12,J5,1,0)(13,X5,1,0),v(),g(14,"th"),I(15,e9,1,0)(16,t9,1,0),v(),g(17,"th"),I(18,n9,1,0)(19,i9,1,0),v(),g(20,"th",34),I(21,r9,1,0)(22,o9,1,0),v(),g(23,"th",35),I(24,s9,1,0)(25,a9,1,0),v()()(),g(26,"tbody"),St(27,h9,23,8,"tr",null,bt),v()()),t&2){let n=P(2);_(6),b(n.isArabic?6:7),_(3),b(n.isArabic?9:10),_(3),b(n.isArabic?12:13),_(3),b(n.isArabic?15:16),_(3),b(n.isArabic?18:19),_(3),b(n.isArabic?21:22),_(3),b(n.isArabic?24:25),_(3),Tt(n.sashes)}}function p9(t,e){t&1&&m(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0636\u0644\u0641 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function m9(t,e){t&1&&m(0," There are no types of sashes, at least one type must be added ")}function g9(t,e){if(t&1&&(g(0,"div",26),k(1,"i",32),I(2,p9,1,0)(3,m9,1,0),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function _9(t,e){if(t&1){let n=Ae();g(0,"div",0)(1,"form",11),K("ngSubmit",function(){ce(n);let r=P();return ue(r.selectedSector?r.updateSector():r.addNewSector())}),g(2,"div",12)(3,"div",13),k(4,"input",14),v(),g(5,"div",13),k(6,"input",15),v(),g(7,"div",13),k(8,"input",16),v(),g(9,"div",13),k(10,"input",17),v(),g(11,"div",13),k(12,"input",18),v(),g(13,"div",19)(14,"button",20),I(15,O5,4,1,"span")(16,V5,4,1,"span"),v(),I(17,j5,5,1,"button",21),v()()(),I(18,q5,4,1,"div",22)(19,W5,4,1,"div",23),g(20,"div",24),I(21,f9,29,7,"table",25)(22,g9,4,1,"div",26),v()()}if(t&2){let n,i,r,o,s,a=P();_(),G("formGroup",a.sashForm),_(3),G("ngClass",oe(11,Vc,((n=a.sashForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.sashForm.get("sectorNumber"))==null?null:n.touched))),_(2),G("ngClass",oe(13,Vc,((i=a.sashForm.get("sectorName"))==null?null:i.invalid)&&((i=a.sashForm.get("sectorName"))==null?null:i.touched))),_(2),G("ngClass",oe(15,Vc,((r=a.sashForm.get("weight"))==null?null:r.invalid)&&((r=a.sashForm.get("weight"))==null?null:r.touched))),_(2),G("ngClass",oe(17,Vc,((o=a.sashForm.get("thickness"))==null?null:o.invalid)&&((o=a.sashForm.get("thickness"))==null?null:o.touched))),_(2),G("ngClass",oe(19,Vc,((s=a.sashForm.get("price"))==null?null:s.invalid)&&((s=a.sashForm.get("price"))==null?null:s.touched))),_(2),G("disabled",a.sashForm.invalid),_(),b(a.selectedSector!=null?15:16),_(2),b(a.selectedSector!=null?17:-1),_(),b((a.showMessage==null?null:a.showMessage.type)==="success"?18:(a.showMessage==null?null:a.showMessage.type)==="error"?19:-1),_(3),b(a.sashes.length>0?21:22)}}function y9(t,e){t&1&&(g(0,"div",1)(1,"div",39),k(2,"i",40)(3,"br")(4,"span",41),v()())}function v9(t,e){t&1&&m(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function C9(t,e){t&1&&m(0," are you sure you want to ")}function w9(t,e){t&1&&m(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function E9(t,e){t&1&&m(0," Delete ? ")}function I9(t,e){t&1&&m(0," \u0644\u0627 ")}function b9(t,e){t&1&&m(0," No ")}function S9(t,e){t&1&&m(0," \u0646\u0639\u0645 ")}function T9(t,e){t&1&&m(0," Yes ")}var Wf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.sashForm=this.fb.group({sectorName:["",Q.required],sectorNumber:["",Q.required],weight:["",[Q.required,Q.min(.1)]],thickness:["",[Q.required,Q.min(.1)]],price:["",[Q.required,Q.min(.1)]]})}isArabic=!1;sectorsType="sashes";sashes;selectedSectorId="";EditedSectorId="";sashForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getSashes()})}getSashes(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.sashes=e,error:e=>console.error("Error fetching sashes:",e)})}addNewSector(){this.sashForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.sashForm.value).then(()=>{this.sashForm.reset(),this.getSashes()}).catch(e=>console.error("Error adding sash:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getSashes(),this.deletedSector=null}).catch(n=>{console.error("Error deleting sash:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.sashForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.sashForm.reset(),this.selectedSector=null}updateSector(){if(this.sashForm.valid&&this.selectedSector){let e=V(V({},this.selectedSector),this.sashForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getSashes(),this.sashForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(U(gt),U(je),U(yt),U(Qe))};static \u0275cmp=pe({type:t,selectors:[["app-hinged-sashes"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["formControlName","sectorNumber","type","number","placeholder","Sector Number","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","sectorName","type","text","placeholder","Sector Name","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","weight","type","number","placeholder","Weight","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","thickness","type","number","placeholder","Thickness","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","price","type","number","placeholder","Price per kilo","required","",1,"form-control","border-0",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(I(0,_9,23,21,"div",0)(1,y9,5,0,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),k(6,"i",6),I(7,v9,1,0)(8,C9,1,0),g(9,"b",7),I(10,w9,1,0)(11,E9,1,0),v()(),g(12,"div",8)(13,"button",9),I(14,I9,1,0)(15,b9,1,0),v(),g(16,"button",10),K("click",function(){return i.delete(i.deletedSector.id)}),I(17,S9,1,0)(18,T9,1,0),v()()()()()),n&2&&(b(i.sashes?0:1),_(7),b(i.isArabic?7:8),_(3),b(i.isArabic?10:11),_(4),b(i.isArabic?14:15),_(3),b(i.isArabic?17:18))},dependencies:[_t,mt,ot,Lt,ft,pt,nn,lt,ct,qe,Ze],styles:[".min-vh-50[_ngcontent-%COMP%]{height:50vh}"]})};var Bc=t=>({"is-invalid":t});function D9(t,e){t&1&&m(0," \u062A\u062D\u062F\u064A\u062B ")}function A9(t,e){t&1&&m(0," Update ")}function x9(t,e){if(t&1&&(g(0,"span"),I(1,D9,1,0)(2,A9,1,0),k(3,"i",27),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function N9(t,e){t&1&&m(0," \u0625\u0636\u0627\u0641\u0629 ")}function R9(t,e){t&1&&m(0," Add ")}function M9(t,e){if(t&1&&(g(0,"span"),I(1,N9,1,0)(2,R9,1,0),k(3,"i",28),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function P9(t,e){t&1&&m(0," \u0625\u0644\u063A\u0627\u0621 ")}function k9(t,e){t&1&&m(0," cancel ")}function O9(t,e){if(t&1){let n=Ae();g(0,"button",29),K("click",function(){ce(n);let r=P(2);return ue(r.cancelEdit())}),g(1,"span"),I(2,P9,1,0)(3,k9,1,0),k(4,"i",30),v()()}if(t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function F9(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function L9(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function V9(t,e){if(t&1&&(g(0,"div",22),k(1,"i",31),I(2,F9,1,1)(3,L9,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function B9(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function U9(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function j9(t,e){if(t&1&&(g(0,"div",23),k(1,"i",32),I(2,B9,1,1)(3,U9,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function H9(t,e){t&1&&m(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function $9(t,e){t&1&&m(0," Sector Number ")}function q9(t,e){t&1&&m(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function G9(t,e){t&1&&m(0," Sector Name ")}function z9(t,e){t&1&&m(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function W9(t,e){t&1&&m(0," Weight ")}function K9(t,e){t&1&&m(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Q9(t,e){t&1&&m(0," Thickness ")}function Y9(t,e){t&1&&m(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function Z9(t,e){t&1&&m(0," Price per kilo ")}function J9(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function X9(t,e){t&1&&m(0," Update ")}function eW(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function tW(t,e){t&1&&m(0," Delete ")}function nW(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function iW(t,e){t&1&&m(0," Update ")}function rW(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function oW(t,e){t&1&&m(0," Delete ")}function sW(t,e){if(t&1){let n=Ae();g(0,"tr")(1,"td"),m(2),v(),g(3,"td"),m(4),v(),g(5,"td"),m(6),v(),g(7,"td"),m(8),v(),g(9,"td"),m(10),v(),g(11,"td"),m(12),v(),g(13,"td")(14,"button",36),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.editSector(r))}),I(15,nW,1,0)(16,iW,1,0),k(17,"i",27),v()(),g(18,"td")(19,"button",37),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.getDeletedSector(r))}),I(20,rW,1,0)(21,oW,1,0),k(22,"i",38),v()()()}if(t&2){let n=e.$implicit,i=e.$index,r=P(3);_(2),j(" ",i+1," "),_(2),j(" ",n.sectorNumber," "),_(2),j(" ",n.sectorName," "),_(2),j(" ",n.weight," "),_(2),j(" ",n.thickness," "),_(2),j(" ",n.price," "),_(3),b(r.isArabic?15:16),_(5),b(r.isArabic?20:21)}}function aW(t,e){if(t&1&&(g(0,"table",25)(1,"thead",33)(2,"tr")(3,"th"),m(4," # "),v(),g(5,"th"),I(6,H9,1,0)(7,$9,1,0),v(),g(8,"th"),I(9,q9,1,0)(10,G9,1,0),v(),g(11,"th"),I(12,z9,1,0)(13,W9,1,0),v(),g(14,"th"),I(15,K9,1,0)(16,Q9,1,0),v(),g(17,"th"),I(18,Y9,1,0)(19,Z9,1,0),v(),g(20,"th",34),I(21,J9,1,0)(22,X9,1,0),v(),g(23,"th",35),I(24,eW,1,0)(25,tW,1,0),v()()(),g(26,"tbody"),St(27,sW,23,8,"tr",null,bt),v()()),t&2){let n=P(2);_(6),b(n.isArabic?6:7),_(3),b(n.isArabic?9:10),_(3),b(n.isArabic?12:13),_(3),b(n.isArabic?15:16),_(3),b(n.isArabic?18:19),_(3),b(n.isArabic?21:22),_(3),b(n.isArabic?24:25),_(3),Tt(n.barCloses)}}function lW(t,e){t&1&&m(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0628\u0627\u0643\u062A\u0627\u062A \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function cW(t,e){t&1&&m(0," There are no types of barCloses, at least one type must be added ")}function uW(t,e){if(t&1&&(g(0,"div",26),k(1,"i",32),I(2,lW,1,0)(3,cW,1,0),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function dW(t,e){if(t&1){let n=Ae();g(0,"div",0)(1,"form",11),K("ngSubmit",function(){ce(n);let r=P();return ue(r.selectedSector?r.updateSector():r.addNewSector())}),g(2,"div",12)(3,"div",13),k(4,"input",14),v(),g(5,"div",13),k(6,"input",15),v(),g(7,"div",13),k(8,"input",16),v(),g(9,"div",13),k(10,"input",17),v(),g(11,"div",13),k(12,"input",18),v(),g(13,"div",19)(14,"button",20),I(15,x9,4,1,"span")(16,M9,4,1,"span"),v(),I(17,O9,5,1,"button",21),v()()(),I(18,V9,4,1,"div",22)(19,j9,4,1,"div",23),g(20,"div",24),I(21,aW,29,7,"table",25)(22,uW,4,1,"div",26),v()()}if(t&2){let n,i,r,o,s,a=P();_(),G("formGroup",a.barCloseForm),_(3),G("ngClass",oe(11,Bc,((n=a.barCloseForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.barCloseForm.get("sectorNumber"))==null?null:n.touched))),_(2),G("ngClass",oe(13,Bc,((i=a.barCloseForm.get("sectorName"))==null?null:i.invalid)&&((i=a.barCloseForm.get("sectorName"))==null?null:i.touched))),_(2),G("ngClass",oe(15,Bc,((r=a.barCloseForm.get("weight"))==null?null:r.invalid)&&((r=a.barCloseForm.get("weight"))==null?null:r.touched))),_(2),G("ngClass",oe(17,Bc,((o=a.barCloseForm.get("thickness"))==null?null:o.invalid)&&((o=a.barCloseForm.get("thickness"))==null?null:o.touched))),_(2),G("ngClass",oe(19,Bc,((s=a.barCloseForm.get("price"))==null?null:s.invalid)&&((s=a.barCloseForm.get("price"))==null?null:s.touched))),_(2),G("disabled",a.barCloseForm.invalid),_(),b(a.selectedSector!=null?15:16),_(2),b(a.selectedSector!=null?17:-1),_(),b((a.showMessage==null?null:a.showMessage.type)==="success"?18:(a.showMessage==null?null:a.showMessage.type)==="error"?19:-1),_(3),b(a.barCloses.length>0?21:22)}}function hW(t,e){t&1&&(g(0,"div",1)(1,"div",39),k(2,"i",40)(3,"br")(4,"span",41),v()())}function fW(t,e){t&1&&m(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function pW(t,e){t&1&&m(0," are you sure you want to ")}function mW(t,e){t&1&&m(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function gW(t,e){t&1&&m(0," Delete ? ")}function _W(t,e){t&1&&m(0," \u0644\u0627 ")}function yW(t,e){t&1&&m(0," No ")}function vW(t,e){t&1&&m(0," \u0646\u0639\u0645 ")}function CW(t,e){t&1&&m(0," Yes ")}var Kf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.barCloseForm=this.fb.group({sectorName:["",Q.required],sectorNumber:["",Q.required],weight:["",[Q.required,Q.min(.1)]],thickness:["",[Q.required,Q.min(.1)]],price:["",[Q.required,Q.min(.1)]]})}isArabic=!1;sectorsType="barCloses";barCloses;selectedSectorId="";EditedSectorId="";barCloseForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getBarCloses()})}getBarCloses(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.barCloses=e,error:e=>console.error("Error fetching bar closes:",e)})}addNewSector(){this.barCloseForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.barCloseForm.value).then(()=>{this.barCloseForm.reset(),this.getBarCloses()}).catch(e=>console.error("Error adding bar close:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getBarCloses(),this.deletedSector=null}).catch(n=>{console.error("Error deleting bar close:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.barCloseForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.barCloseForm.reset(),this.selectedSector=null}updateSector(){if(this.barCloseForm.valid&&this.selectedSector){let e=V(V({},this.selectedSector),this.barCloseForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getBarCloses(),this.barCloseForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(U(gt),U(je),U(yt),U(Qe))};static \u0275cmp=pe({type:t,selectors:[["app-hinged-bar-closes"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["formControlName","sectorNumber","type","number","placeholder","Sector Number","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","sectorName","type","text","placeholder","Sector Name","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","weight","type","number","placeholder","Weight","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","thickness","type","number","placeholder","Thickness","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","price","type","number","placeholder","Price per kilo","required","",1,"form-control","border-0",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(I(0,dW,23,21,"div",0)(1,hW,5,0,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),k(6,"i",6),I(7,fW,1,0)(8,pW,1,0),g(9,"b",7),I(10,mW,1,0)(11,gW,1,0),v()(),g(12,"div",8)(13,"button",9),I(14,_W,1,0)(15,yW,1,0),v(),g(16,"button",10),K("click",function(){return i.delete(i.deletedSector.id)}),I(17,vW,1,0)(18,CW,1,0),v()()()()()),n&2&&(b(i.barCloses?0:1),_(7),b(i.isArabic?7:8),_(3),b(i.isArabic?10:11),_(4),b(i.isArabic?14:15),_(3),b(i.isArabic?17:18))},dependencies:[_t,mt,ot,Lt,ft,pt,nn,lt,ct,qe,Ze],styles:[".min-vh-50[_ngcontent-%COMP%]{height:50vh}"]})};var Uc=t=>({"is-invalid":t});function wW(t,e){t&1&&m(0," \u062A\u062D\u062F\u064A\u062B ")}function EW(t,e){t&1&&m(0," Update ")}function IW(t,e){if(t&1&&(g(0,"span"),I(1,wW,1,0)(2,EW,1,0),k(3,"i",27),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function bW(t,e){t&1&&m(0," \u0625\u0636\u0627\u0641\u0629 ")}function SW(t,e){t&1&&m(0," Add ")}function TW(t,e){if(t&1&&(g(0,"span"),I(1,bW,1,0)(2,SW,1,0),k(3,"i",28),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function DW(t,e){t&1&&m(0," \u0625\u0644\u063A\u0627\u0621 ")}function AW(t,e){t&1&&m(0," cancel ")}function xW(t,e){if(t&1){let n=Ae();g(0,"button",29),K("click",function(){ce(n);let r=P(2);return ue(r.cancelEdit())}),g(1,"span"),I(2,DW,1,0)(3,AW,1,0),k(4,"i",30),v()()}if(t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function NW(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function RW(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function MW(t,e){if(t&1&&(g(0,"div",22),k(1,"i",31),I(2,NW,1,1)(3,RW,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function PW(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function kW(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function OW(t,e){if(t&1&&(g(0,"div",23),k(1,"i",32),I(2,PW,1,1)(3,kW,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function FW(t,e){t&1&&m(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function LW(t,e){t&1&&m(0," Sector Number ")}function VW(t,e){t&1&&m(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function BW(t,e){t&1&&m(0," Sector Name ")}function UW(t,e){t&1&&m(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function jW(t,e){t&1&&m(0," Weight ")}function HW(t,e){t&1&&m(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function $W(t,e){t&1&&m(0," Thickness ")}function qW(t,e){t&1&&m(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function GW(t,e){t&1&&m(0," Price per kilo ")}function zW(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function WW(t,e){t&1&&m(0," Update ")}function KW(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function QW(t,e){t&1&&m(0," Delete ")}function YW(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function ZW(t,e){t&1&&m(0," Update ")}function JW(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function XW(t,e){t&1&&m(0," Delete ")}function e8(t,e){if(t&1){let n=Ae();g(0,"tr")(1,"td"),m(2),v(),g(3,"td"),m(4),v(),g(5,"td"),m(6),v(),g(7,"td"),m(8),v(),g(9,"td"),m(10),v(),g(11,"td"),m(12),v(),g(13,"td")(14,"button",36),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.editSector(r))}),I(15,YW,1,0)(16,ZW,1,0),k(17,"i",27),v()(),g(18,"td")(19,"button",37),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.getDeletedSector(r))}),I(20,JW,1,0)(21,XW,1,0),k(22,"i",38),v()()()}if(t&2){let n=e.$implicit,i=e.$index,r=P(3);_(2),j(" ",i+1," "),_(2),j(" ",n.sectorNumber," "),_(2),j(" ",n.sectorName," "),_(2),j(" ",n.weight," "),_(2),j(" ",n.thickness," "),_(2),j(" ",n.price," "),_(3),b(r.isArabic?15:16),_(5),b(r.isArabic?20:21)}}function t8(t,e){if(t&1&&(g(0,"table",25)(1,"thead",33)(2,"tr")(3,"th"),m(4," # "),v(),g(5,"th"),I(6,FW,1,0)(7,LW,1,0),v(),g(8,"th"),I(9,VW,1,0)(10,BW,1,0),v(),g(11,"th"),I(12,UW,1,0)(13,jW,1,0),v(),g(14,"th"),I(15,HW,1,0)(16,$W,1,0),v(),g(17,"th"),I(18,qW,1,0)(19,GW,1,0),v(),g(20,"th",34),I(21,zW,1,0)(22,WW,1,0),v(),g(23,"th",35),I(24,KW,1,0)(25,QW,1,0),v()()(),g(26,"tbody"),St(27,e8,23,8,"tr",null,bt),v()()),t&2){let n=P(2);_(6),b(n.isArabic?6:7),_(3),b(n.isArabic?9:10),_(3),b(n.isArabic?12:13),_(3),b(n.isArabic?15:16),_(3),b(n.isArabic?18:19),_(3),b(n.isArabic?21:22),_(3),b(n.isArabic?24:25),_(3),Tt(n.tProfiles)}}function n8(t,e){t&1&&m(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0642\u0648\u0627\u0637\u0639 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function i8(t,e){t&1&&m(0," There are no types of T Profiles, at least one type must be added ")}function r8(t,e){if(t&1&&(g(0,"div",26),k(1,"i",32),I(2,n8,1,0)(3,i8,1,0),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function o8(t,e){if(t&1){let n=Ae();g(0,"div",0)(1,"form",11),K("ngSubmit",function(){ce(n);let r=P();return ue(r.selectedSector?r.updateSector():r.addNewSector())}),g(2,"div",12)(3,"div",13),k(4,"input",14),v(),g(5,"div",13),k(6,"input",15),v(),g(7,"div",13),k(8,"input",16),v(),g(9,"div",13),k(10,"input",17),v(),g(11,"div",13),k(12,"input",18),v(),g(13,"div",19)(14,"button",20),I(15,IW,4,1,"span")(16,TW,4,1,"span"),v(),I(17,xW,5,1,"button",21),v()()(),I(18,MW,4,1,"div",22)(19,OW,4,1,"div",23),g(20,"div",24),I(21,t8,29,7,"table",25)(22,r8,4,1,"div",26),v()()}if(t&2){let n,i,r,o,s,a=P();_(),G("formGroup",a.tProfileForm),_(3),G("ngClass",oe(11,Uc,((n=a.tProfileForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.tProfileForm.get("sectorNumber"))==null?null:n.touched))),_(2),G("ngClass",oe(13,Uc,((i=a.tProfileForm.get("sectorName"))==null?null:i.invalid)&&((i=a.tProfileForm.get("sectorName"))==null?null:i.touched))),_(2),G("ngClass",oe(15,Uc,((r=a.tProfileForm.get("weight"))==null?null:r.invalid)&&((r=a.tProfileForm.get("weight"))==null?null:r.touched))),_(2),G("ngClass",oe(17,Uc,((o=a.tProfileForm.get("thickness"))==null?null:o.invalid)&&((o=a.tProfileForm.get("thickness"))==null?null:o.touched))),_(2),G("ngClass",oe(19,Uc,((s=a.tProfileForm.get("price"))==null?null:s.invalid)&&((s=a.tProfileForm.get("price"))==null?null:s.touched))),_(2),G("disabled",a.tProfileForm.invalid),_(),b(a.selectedSector!=null?15:16),_(2),b(a.selectedSector!=null?17:-1),_(),b((a.showMessage==null?null:a.showMessage.type)==="success"?18:(a.showMessage==null?null:a.showMessage.type)==="error"?19:-1),_(3),b(a.tProfiles.length>0?21:22)}}function s8(t,e){t&1&&(g(0,"div",1)(1,"div",39),k(2,"i",40)(3,"br")(4,"span",41),v()())}function a8(t,e){t&1&&m(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function l8(t,e){t&1&&m(0," are you sure you want to ")}function c8(t,e){t&1&&m(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function u8(t,e){t&1&&m(0," Delete ? ")}function d8(t,e){t&1&&m(0," \u0644\u0627 ")}function h8(t,e){t&1&&m(0," No ")}function f8(t,e){t&1&&m(0," \u0646\u0639\u0645 ")}function p8(t,e){t&1&&m(0," Yes ")}var Qf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.tProfileForm=this.fb.group({sectorName:["",Q.required],sectorNumber:["",Q.required],weight:["",[Q.required,Q.min(.1)]],thickness:["",[Q.required,Q.min(.1)]],price:["",[Q.required,Q.min(.1)]]})}isArabic=!1;sectorsType="T-profiles";tProfiles;selectedSectorId="";EditedSectorId="";tProfileForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getTProfiles()})}getTProfiles(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.tProfiles=e,error:e=>console.error("Error fetching T-profiles:",e)})}addNewSector(){this.tProfileForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.tProfileForm.value).then(()=>{this.tProfileForm.reset(),this.getTProfiles()}).catch(e=>console.error("Error adding T-profile:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getTProfiles(),this.deletedSector=null}).catch(n=>{console.error("Error deleting T-profile:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.tProfileForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.tProfileForm.reset(),this.selectedSector=null}updateSector(){if(this.tProfileForm.valid&&this.selectedSector){let e=V(V({},this.selectedSector),this.tProfileForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getTProfiles(),this.tProfileForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(U(gt),U(je),U(yt),U(Qe))};static \u0275cmp=pe({type:t,selectors:[["app-hinged-t-profiles"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["formControlName","sectorNumber","type","number","placeholder","Sector Number","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","sectorName","type","text","placeholder","Sector Name","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","weight","type","number","placeholder","Weight","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","thickness","type","number","placeholder","Thickness","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","price","type","number","placeholder","Price per kilo","required","",1,"form-control","border-0",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(I(0,o8,23,21,"div",0)(1,s8,5,0,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),k(6,"i",6),I(7,a8,1,0)(8,l8,1,0),g(9,"b",7),I(10,c8,1,0)(11,u8,1,0),v()(),g(12,"div",8)(13,"button",9),I(14,d8,1,0)(15,h8,1,0),v(),g(16,"button",10),K("click",function(){return i.delete(i.deletedSector.id)}),I(17,f8,1,0)(18,p8,1,0),v()()()()()),n&2&&(b(i.tProfiles?0:1),_(7),b(i.isArabic?7:8),_(3),b(i.isArabic?10:11),_(4),b(i.isArabic?14:15),_(3),b(i.isArabic?17:18))},dependencies:[_t,mt,ot,Lt,ft,pt,nn,lt,ct,qe,Ze],styles:[".min-vh-50[_ngcontent-%COMP%]{height:50vh}"]})};var jc=t=>({"is-invalid":t});function m8(t,e){t&1&&m(0," \u062A\u062D\u062F\u064A\u062B ")}function g8(t,e){t&1&&m(0," Update ")}function _8(t,e){if(t&1&&(g(0,"span"),I(1,m8,1,0)(2,g8,1,0),k(3,"i",27),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function y8(t,e){t&1&&m(0," \u0625\u0636\u0627\u0641\u0629 ")}function v8(t,e){t&1&&m(0," Add ")}function C8(t,e){if(t&1&&(g(0,"span"),I(1,y8,1,0)(2,v8,1,0),k(3,"i",28),v()),t&2){let n=P(2);_(),b(n.isArabic?1:2)}}function w8(t,e){t&1&&m(0," \u0625\u0644\u063A\u0627\u0621 ")}function E8(t,e){t&1&&m(0," cancel ")}function I8(t,e){if(t&1){let n=Ae();g(0,"button",29),K("click",function(){ce(n);let r=P(2);return ue(r.cancelEdit())}),g(1,"span"),I(2,w8,1,0)(3,E8,1,0),k(4,"i",30),v()()}if(t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function b8(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function S8(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function T8(t,e){if(t&1&&(g(0,"div",22),k(1,"i",31),I(2,b8,1,1)(3,S8,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function D8(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function A8(t,e){if(t&1&&m(0),t&2){let n=P(3);j(" ",n.showMessage==null?null:n.showMessage.text," ")}}function x8(t,e){if(t&1&&(g(0,"div",23),k(1,"i",32),I(2,D8,1,1)(3,A8,1,1),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function N8(t,e){t&1&&m(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function R8(t,e){t&1&&m(0," Sector Number ")}function M8(t,e){t&1&&m(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function P8(t,e){t&1&&m(0," Sector Name ")}function k8(t,e){t&1&&m(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function O8(t,e){t&1&&m(0," Weight ")}function F8(t,e){t&1&&m(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function L8(t,e){t&1&&m(0," Thickness ")}function V8(t,e){t&1&&m(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function B8(t,e){t&1&&m(0," Price per kilo ")}function U8(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function j8(t,e){t&1&&m(0," Update ")}function H8(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function $8(t,e){t&1&&m(0," Delete ")}function q8(t,e){t&1&&m(0," \u062A\u0639\u062F\u064A\u0644 ")}function G8(t,e){t&1&&m(0," Update ")}function z8(t,e){t&1&&m(0," \u062D\u0630\u0641 ")}function W8(t,e){t&1&&m(0," Delete ")}function K8(t,e){if(t&1){let n=Ae();g(0,"tr")(1,"td"),m(2),v(),g(3,"td"),m(4),v(),g(5,"td"),m(6),v(),g(7,"td"),m(8),v(),g(9,"td"),m(10),v(),g(11,"td"),m(12),v(),g(13,"td")(14,"button",36),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.editSector(r))}),I(15,q8,1,0)(16,G8,1,0),k(17,"i",27),v()(),g(18,"td")(19,"button",37),K("click",function(){let r=ce(n).$implicit,o=P(3);return ue(o.getDeletedSector(r))}),I(20,z8,1,0)(21,W8,1,0),k(22,"i",38),v()()()}if(t&2){let n=e.$implicit,i=e.$index,r=P(3);_(2),j(" ",i+1," "),_(2),j(" ",n.sectorNumber," "),_(2),j(" ",n.sectorName," "),_(2),j(" ",n.weight," "),_(2),j(" ",n.thickness," "),_(2),j(" ",n.price," "),_(3),b(r.isArabic?15:16),_(5),b(r.isArabic?20:21)}}function Q8(t,e){if(t&1&&(g(0,"table",25)(1,"thead",33)(2,"tr")(3,"th"),m(4," # "),v(),g(5,"th"),I(6,N8,1,0)(7,R8,1,0),v(),g(8,"th"),I(9,M8,1,0)(10,P8,1,0),v(),g(11,"th"),I(12,k8,1,0)(13,O8,1,0),v(),g(14,"th"),I(15,F8,1,0)(16,L8,1,0),v(),g(17,"th"),I(18,V8,1,0)(19,B8,1,0),v(),g(20,"th",34),I(21,U8,1,0)(22,j8,1,0),v(),g(23,"th",35),I(24,H8,1,0)(25,$8,1,0),v()()(),g(26,"tbody"),St(27,K8,23,8,"tr",null,bt),v()()),t&2){let n=P(2);_(6),b(n.isArabic?6:7),_(3),b(n.isArabic?9:10),_(3),b(n.isArabic?12:13),_(3),b(n.isArabic?15:16),_(3),b(n.isArabic?18:19),_(3),b(n.isArabic?21:22),_(3),b(n.isArabic?24:25),_(3),Tt(n.wireSashes)}}function Y8(t,e){t&1&&m(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0636\u0644\u0641 \u0627\u0644\u0633\u0644\u0643 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function Z8(t,e){t&1&&m(0," There are no types of wireSashes, at least one type must be added ")}function J8(t,e){if(t&1&&(g(0,"div",26),k(1,"i",32),I(2,Y8,1,0)(3,Z8,1,0),v()),t&2){let n=P(2);_(2),b(n.isArabic?2:3)}}function X8(t,e){if(t&1){let n=Ae();g(0,"div",0)(1,"form",11),K("ngSubmit",function(){ce(n);let r=P();return ue(r.selectedSector?r.updateSector():r.addNewSector())}),g(2,"div",12)(3,"div",13),k(4,"input",14),v(),g(5,"div",13),k(6,"input",15),v(),g(7,"div",13),k(8,"input",16),v(),g(9,"div",13),k(10,"input",17),v(),g(11,"div",13),k(12,"input",18),v(),g(13,"div",19)(14,"button",20),I(15,_8,4,1,"span")(16,C8,4,1,"span"),v(),I(17,I8,5,1,"button",21),v()()(),I(18,T8,4,1,"div",22)(19,x8,4,1,"div",23),g(20,"div",24),I(21,Q8,29,7,"table",25)(22,J8,4,1,"div",26),v()()}if(t&2){let n,i,r,o,s,a=P();_(),G("formGroup",a.wireSashForm),_(3),G("ngClass",oe(11,jc,((n=a.wireSashForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.wireSashForm.get("sectorNumber"))==null?null:n.touched))),_(2),G("ngClass",oe(13,jc,((i=a.wireSashForm.get("sectorName"))==null?null:i.invalid)&&((i=a.wireSashForm.get("sectorName"))==null?null:i.touched))),_(2),G("ngClass",oe(15,jc,((r=a.wireSashForm.get("weight"))==null?null:r.invalid)&&((r=a.wireSashForm.get("weight"))==null?null:r.touched))),_(2),G("ngClass",oe(17,jc,((o=a.wireSashForm.get("thickness"))==null?null:o.invalid)&&((o=a.wireSashForm.get("thickness"))==null?null:o.touched))),_(2),G("ngClass",oe(19,jc,((s=a.wireSashForm.get("price"))==null?null:s.invalid)&&((s=a.wireSashForm.get("price"))==null?null:s.touched))),_(2),G("disabled",a.wireSashForm.invalid),_(),b(a.selectedSector!=null?15:16),_(2),b(a.selectedSector!=null?17:-1),_(),b((a.showMessage==null?null:a.showMessage.type)==="success"?18:(a.showMessage==null?null:a.showMessage.type)==="error"?19:-1),_(3),b(a.wireSashes.length>0?21:22)}}function e7(t,e){t&1&&(g(0,"div",1)(1,"div",39),k(2,"i",40)(3,"br")(4,"span",41),v()())}function t7(t,e){t&1&&m(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function n7(t,e){t&1&&m(0," are you sure you want to ")}function i7(t,e){t&1&&m(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function r7(t,e){t&1&&m(0," Delete ? ")}function o7(t,e){t&1&&m(0," \u0644\u0627 ")}function s7(t,e){t&1&&m(0," No ")}function a7(t,e){t&1&&m(0," \u0646\u0639\u0645 ")}function l7(t,e){t&1&&m(0," Yes ")}var Yf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.wireSashForm=this.fb.group({sectorName:["",Q.required],sectorNumber:["",Q.required],weight:["",[Q.required,Q.min(.1)]],thickness:["",[Q.required,Q.min(.1)]],price:["",[Q.required,Q.min(.1)]]})}isArabic=!1;sectorsType="wire-sashes";wireSashes;selectedSectorId="";EditedSectorId="";wireSashForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getWireSashes()})}getWireSashes(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.wireSashes=e,error:e=>console.error("Error fetching wire-sashes:",e)})}addNewSector(){this.wireSashForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.wireSashForm.value).then(()=>{this.wireSashForm.reset(),this.getWireSashes()}).catch(e=>console.error("Error adding wire-sash:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getWireSashes(),this.deletedSector=null}).catch(n=>{console.error("Error deleting wire-sash:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.wireSashForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.wireSashForm.reset(),this.selectedSector=null}updateSector(){if(this.wireSashForm.valid&&this.selectedSector){let e=V(V({},this.selectedSector),this.wireSashForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getWireSashes(),this.wireSashForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(U(gt),U(je),U(yt),U(Qe))};static \u0275cmp=pe({type:t,selectors:[["app-hinged-wire-sashes"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["formControlName","sectorNumber","type","number","placeholder","Sector Number","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","sectorName","type","text","placeholder","Sector Name","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","weight","type","number","placeholder","Weight","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","thickness","type","number","placeholder","Thickness","required","",1,"form-control","border-0",3,"ngClass"],["formControlName","price","type","number","placeholder","Price per kilo","required","",1,"form-control","border-0",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(I(0,X8,23,21,"div",0)(1,e7,5,0,"div",1),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),k(6,"i",6),I(7,t7,1,0)(8,n7,1,0),g(9,"b",7),I(10,i7,1,0)(11,r7,1,0),v()(),g(12,"div",8)(13,"button",9),I(14,o7,1,0)(15,s7,1,0),v(),g(16,"button",10),K("click",function(){return i.delete(i.deletedSector.id)}),I(17,a7,1,0)(18,l7,1,0),v()()()()()),n&2&&(b(i.wireSashes?0:1),_(7),b(i.isArabic?7:8),_(3),b(i.isArabic?10:11),_(4),b(i.isArabic?14:15),_(3),b(i.isArabic?17:18))},dependencies:[_t,mt,ot,Lt,ft,pt,nn,lt,ct,qe,Ze],styles:[".min-vh-50[_ngcontent-%COMP%]{height:50vh}"]})};var Zf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pe({type:t,selectors:[["app-curtain-wall-settings"]],decls:2,vars:0,consts:[[1,"text-center","alert","alert-info"]],template:function(n,i){n&1&&(g(0,"h2",0),m(1," Curtain Wall Settings "),v())},encapsulation:2})};var Jf=[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",title:"main page",component:If},{path:"sectorsSettings",title:"sectors settings",component:bf,children:[{path:"hingedSettings",title:"Hinged Settings",component:Ff,children:[{path:"hingedSectors/:sectorId",title:"hinged sectors",component:Uf,children:[{path:"hingedFrames",title:"hinged sectors frames",component:Gf},{path:"hingedBars",title:"hinged sectors Bars",component:zf},{path:"hingedSashes",title:"hinged sectors Sashes",component:Wf},{path:"hingedBarCloses",title:"hinged sectors Sashes",component:Kf},{path:"hingedTProfiles",title:"hinged sectors Sashes",component:Qf},{path:"hingedWireSashes",title:"hinged sectors Sashes",component:Yf}]},{path:"hingedSpecialties/:sectorId",title:"hinged sectors",component:jf},{path:"hingedAccessories/:sectorId",title:"hinged sectors",component:Hf},{path:"hingedInstructions/:sectorId",title:"hinged sectors",component:$f},{path:"hingedFeatures/:sectorId",title:"hinged sectors",component:qf}]},{path:"slidingSettings",title:"Sliding Settings",component:Lf},{path:"glassSettings",title:"Glass Settings",component:Bf},{path:"curtainWallSettings",title:"Curtain Wall Settings",component:Zf}]}];var sN={providers:[RT({eventCoalescing:!0}),vf(Jf,Ix())]};var Ee=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ee||{}),wi="*";function aN(t,e=null){return{type:Ee.Sequence,steps:t,options:e}}function _C(t){return{type:Ee.Style,styles:t,offset:null}}var Zr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,n=0){this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Hc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Xf="!";function lN(t){return new $(3e3,!1)}function c7(){return new $(3100,!1)}function u7(){return new $(3101,!1)}function d7(t){return new $(3001,!1)}function h7(t){return new $(3003,!1)}function f7(t){return new $(3004,!1)}function p7(t,e){return new $(3005,!1)}function m7(){return new $(3006,!1)}function g7(){return new $(3007,!1)}function _7(t,e){return new $(3008,!1)}function y7(t){return new $(3002,!1)}function v7(t,e,n,i,r){return new $(3010,!1)}function C7(){return new $(3011,!1)}function w7(){return new $(3012,!1)}function E7(){return new $(3200,!1)}function I7(){return new $(3202,!1)}function b7(){return new $(3013,!1)}function S7(t){return new $(3014,!1)}function T7(t){return new $(3015,!1)}function D7(t){return new $(3016,!1)}function A7(t,e){return new $(3404,!1)}function x7(t){return new $(3502,!1)}function N7(t){return new $(3503,!1)}function R7(){return new $(3300,!1)}function M7(t){return new $(3504,!1)}function P7(t){return new $(3301,!1)}function k7(t,e){return new $(3302,!1)}function O7(t){return new $(3303,!1)}function F7(t,e){return new $(3400,!1)}function L7(t){return new $(3401,!1)}function V7(t){return new $(3402,!1)}function B7(t,e){return new $(3505,!1)}function Jr(t){switch(t.length){case 0:return new Zr;case 1:return t[0];default:return new Hc(t)}}function EN(t,e,n=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),h=u==s,p=h&&a||new Map;c.forEach((C,w)=>{let S=w,O=C;if(w!=="offset")switch(S=t.normalizePropertyName(S,r),O){case Xf:O=n.get(w);break;case wi:O=i.get(w);break;default:O=t.normalizeStyleValue(w,S,O,r);break}p.set(S,O)}),h||o.push(p),a=p,s=u}),r.length)throw x7(r);return o}function BC(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&yC(n,"start",t)));break;case"done":t.onDone(()=>i(n&&yC(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&yC(n,"destroy",t)));break}}function yC(t,e,n){let i=n.totalTime,r=!!n.disabled,o=UC(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function UC(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function bn(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function cN(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var U7=typeof document>"u"?null:document.documentElement;function jC(t){let e=t.parentNode||t.host||null;return e===U7?null:e}function j7(t){return t.substring(1,6)=="ebkit"}var Zo=null,uN=!1;function H7(t){Zo||(Zo=$7()||{},uN=Zo.style?"WebkitAppearance"in Zo.style:!1);let e=!0;return Zo.style&&!j7(t)&&(e=t in Zo.style,!e&&uN&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Zo.style)),e}function $7(){return typeof document<"u"?document.body:null}function IN(t,e){for(;e;){if(e===t)return!0;e=jC(e)}return!1}function bN(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var HC=(()=>{class t{validateStyleProperty(n){return H7(n)}containsElement(n,i){return IN(n,i)}getParentElement(n){return jC(n)}query(n,i,r){return bN(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,o,s,a=[],c){return new Zr(r,o)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),es=class{static NOOP=new HC},ts=class{};var q7=1e3,SN="{{",G7="}}",TN="ng-enter",bC="ng-leave",ep="ng-trigger",op=".ng-trigger",dN="ng-animating",SC=".ng-animating";function ar(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TC(parseFloat(e[1]),e[2])}function TC(t,e){switch(e){case"s":return t*q7;default:return t}}function sp(t,e,n){return t.hasOwnProperty("duration")?t:z7(t,e,n)}function z7(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(i);if(a===null)return e.push(lN(t)),{duration:0,delay:0,easing:""};r=TC(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=TC(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else r=t;if(!n){let a=!1,c=e.length;r<0&&(e.push(c7()),a=!0),o<0&&(e.push(u7()),a=!0),a&&e.splice(c,0,lN(t))}return{duration:r,delay:o,easing:s}}function W7(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ei(t,e,n){e.forEach((i,r)=>{let o=$C(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function Xo(t,e){e.forEach((n,i)=>{let r=$C(i);t.style[r]=""})}function $c(t){return Array.isArray(t)?t.length==1?t[0]:aN(t):t}function K7(t,e,n){let i=e.params||{},r=DN(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(d7(o))})}var DC=new RegExp(`${SN}\\s*(.+?)\\s*${G7}`,"g");function DN(t){let e=[];if(typeof t=="string"){let n;for(;n=DC.exec(t);)e.push(n[1]);DC.lastIndex=0}return e}function Gc(t,e,n){let i=`${t}`,r=i.replace(DC,(o,s)=>{let a=e[s];return a==null&&(n.push(h7(s)),a=""),a.toString()});return r==i?t:r}var Q7=/-+([a-z0-9])/g;function $C(t){return t.replace(Q7,(...e)=>e[1].toUpperCase())}function Y7(t,e){return t===0||e===0}function Z7(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,qC(t,a)))}}return e}function In(t,e,n){switch(e.type){case Ee.Trigger:return t.visitTrigger(e,n);case Ee.State:return t.visitState(e,n);case Ee.Transition:return t.visitTransition(e,n);case Ee.Sequence:return t.visitSequence(e,n);case Ee.Group:return t.visitGroup(e,n);case Ee.Animate:return t.visitAnimate(e,n);case Ee.Keyframes:return t.visitKeyframes(e,n);case Ee.Style:return t.visitStyle(e,n);case Ee.Reference:return t.visitReference(e,n);case Ee.AnimateChild:return t.visitAnimateChild(e,n);case Ee.AnimateRef:return t.visitAnimateRef(e,n);case Ee.Query:return t.visitQuery(e,n);case Ee.Stagger:return t.visitStagger(e,n);default:throw f7(e.type)}}function qC(t,e){return window.getComputedStyle(t)[e]}var J7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ap=class extends ts{normalizePropertyName(e,n){return $C(e)}normalizeStyleValue(e,n,i,r){let o="",s=i.toString().trim();if(J7.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(p7(e,i))}return s+o}};var lp="*";function X7(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>eK(i,n,e)):n.push(t),n}function eK(t,e,n){if(t[0]==":"){let c=tK(t,n);if(typeof c=="function"){e.push(c);return}t=c}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(T7(t)),e;let r=i[1],o=i[2],s=i[3];e.push(hN(r,s));let a=r==lp&&s==lp;o[0]=="<"&&!a&&e.push(hN(s,r))}function tK(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(D7(t)),"* => *"}}var tp=new Set(["true","1"]),np=new Set(["false","0"]);function hN(t,e){let n=tp.has(t)||np.has(t),i=tp.has(e)||np.has(e);return(r,o)=>{let s=t==lp||t==r,a=e==lp||e==o;return!s&&n&&typeof r=="boolean"&&(s=r?tp.has(t):np.has(t)),!a&&i&&typeof o=="boolean"&&(a=o?tp.has(e):np.has(e)),s&&a}}var AN=":self",nK=new RegExp(`s*${AN}s*,?`,"g");function xN(t,e,n,i){return new AC(t).build(e,n,i)}var fN="",AC=class{_driver;constructor(e){this._driver=e}build(e,n,i){let r=new xC(n);return this._resetContextStyleTimingState(r),In(this,$c(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=fN,e.collectedStyles=new Map,e.collectedStyles.set(fN,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(m7()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Ee.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,n))}),c.name=u}else if(a.type==Ee.Transition){let c=this.visitTransition(a,n);i+=c.queryCount,r+=c.depCount,s.push(c)}else n.errors.push(g7())}),{type:Ee.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{DN(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&n.errors.push(_7(e.name,[...o.values()]))}return{type:Ee.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=In(this,$c(e.animation),n),r=X7(e.expr,n.errors);return{type:Ee.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:Jo(e.options)}}visitSequence(e,n){return{type:Ee.Sequence,steps:e.steps.map(i=>In(this,i,n)),options:Jo(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(s=>{n.currentTime=i;let a=In(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:Ee.Group,steps:o,options:Jo(e.options)}}visitAnimate(e,n){let i=sK(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:_C({});if(o.type==Ee.Keyframes)r=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};i.easing&&(u.easing=i.easing),s=_C(u)}n.currentTime+=i.duration+i.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,r=c}return n.currentAnimateTimings=null,{type:Ee.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===wi?i.push(a):n.errors.push(y7(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(SN)>=0){o=!0;break}}}),{type:Ee.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=n.collectedStyles.get(n.currentQuerySelector),h=u.get(c),p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(n.errors.push(v7(c,h.startTime,h.endTime,o,r)),p=!1),o=h.startTime),p&&u.set(c,{startTime:o,endTime:r}),n.options&&K7(a,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:Ee.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(C7()),i;let r=1,o=0,s=[],a=!1,c=!1,u=0,h=e.steps.map(z=>{let J=this._makeStyleAst(z,n),ne=J.offset!=null?J.offset:oK(J.styles),de=0;return ne!=null&&(o++,de=J.offset=ne),c=c||de<0||de>1,a=a||de<u,u=de,s.push(de),J});c&&n.errors.push(w7()),a&&n.errors.push(E7());let p=e.steps.length,C=0;o>0&&o<p?n.errors.push(I7()):o==0&&(C=r/(p-1));let w=p-1,S=n.currentTime,O=n.currentAnimateTimings,B=O.duration;return h.forEach((z,J)=>{let ne=C>0?J==w?1:C*J:s[J],de=ne*B;n.currentTime=S+O.delay+de,O.duration=de,this._validateStyleAst(z,n),z.offset=ne,i.styles.push(z)}),i}visitReference(e,n){return{type:Ee.Reference,animation:In(this,$c(e.animation),n),options:Jo(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Ee.AnimateChild,options:Jo(e.options)}}visitAnimateRef(e,n){return{type:Ee.AnimateRef,animation:this.visitReference(e.animation,n),options:Jo(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=iK(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,bn(n.collectedStyles,n.currentQuerySelector,new Map);let a=In(this,$c(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Ee.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Jo(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(b7());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:sp(e.timings,n.errors,!0);return{type:Ee.Stagger,animation:In(this,$c(e.animation),n),timings:i,options:null}}};function iK(t){let e=!!t.split(/\s*,\s*/).find(n=>n==AN);return e&&(t=t.replace(nK,"")),t=t.replace(/@\*/g,op).replace(/@\w+/g,n=>op+"-"+n.slice(1)).replace(/:animating/g,SC),[t,e]}function rK(t){return t?V({},t):null}var xC=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function oK(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function sK(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=sp(t,e).duration;return vC(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=vC(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=sp(n,e);return vC(r.duration,r.delay,r.easing)}function Jo(t){return t?(t=V({},t),t.params&&(t.params=rK(t.params))):t={},t}function vC(t,e,n){return{duration:t,delay:e,easing:n}}function GC(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var zc=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},aK=1,lK=":enter",cK=new RegExp(lK,"g"),uK=":leave",dK=new RegExp(uK,"g");function NN(t,e,n,i,r,o=new Map,s=new Map,a,c,u=[]){return new NC().buildKeyframes(t,e,n,i,r,o,s,a,c,u)}var NC=class{buildKeyframes(e,n,i,r,o,s,a,c,u,h=[]){u=u||new zc;let p=new RC(e,n,u,r,o,h,[]);p.options=c;let C=c.delay?ar(c.delay):0;p.currentTimeline.delayNextStep(C),p.currentTimeline.setStyles([s],null,p.errors,c),In(this,i,p);let w=p.timelines.filter(S=>S.containsAnimation());if(w.length&&a.size){let S;for(let O=w.length-1;O>=0;O--){let B=w[O];if(B.element===n){S=B;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([a],null,p.errors,c)}return w.length?w.map(S=>S.buildKeyframes()):[GC(n,[],[],[],0,C,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:ar(Gc(o,r?.params??{},n.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,s=i.duration!=null?ar(i.duration):null,a=i.delay!=null?ar(i.delay):null;return s!==0&&e.forEach(c=>{let u=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),In(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Ee.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cp);let s=ar(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>In(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?ar(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),In(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?Gc(i,n.params,n.errors):i;return sp(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Ee.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?ar(r.delay):0;o&&(n.previousNode.type===Ee.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=cp);let s=i,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((u,h)=>{n.currentQueryIndex=h;let p=n.createSubContext(e.options,u);o&&p.delayNextStep(o),u===n.element&&(c=p.currentTimeline),In(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let C=p.currentTimeline.currentTime;s=Math.max(s,C)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let h=n.currentTimeline;c&&h.delayNextStep(c);let p=h.currentTime;In(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}},cp={},RC=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=cp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,n,i,r,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new up(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=ar(i.duration)),i.delay!=null&&(r.delay=ar(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=Gc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=cp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new MC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(cK,"."+this._enterClassName),e=e.replace(dK,"."+this._leaveClassName);let c=i!=1,u=this._driver.query(this.element,e,c);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&a.length==0&&s.push(S7(n)),a}},up=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=aK,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||wi),this._currentKeyframe.set(n,wi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},s=hK(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Gc(c,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??wi),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((h,p)=>{h===Xf?e.add(p):h===wi&&n.add(p)}),i||u.set("offset",c/this.duration),r.push(u)});let o=[...e.values()],s=[...n.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return GC(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},MC=class extends up{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,n,i,r,o,s,a=!1){super(e,n,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=i+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",pN(a)),o.push(u);let h=e.length-1;for(let p=1;p<=h;p++){let C=new Map(e[p]),w=C.get("offset"),S=n+w*i;C.set("offset",pN(S/s)),o.push(C)}i=s,n=0,r="",e=o}return GC(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function pN(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function hK(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,wi)}else for(let[o,s]of r)n.set(o,s)}),n}function mN(t,e,n,i,r,o,s,a,c,u,h,p,C){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:h,totalTime:p,errors:C}}var CC={},dp=class{_triggerName;ast;_stateStyles;constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return fK(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,s,a,c,u,h){let p=[],C=this.ast.options&&this.ast.options.params||CC,w=a&&a.params||CC,S=this.buildStyles(i,w,p),O=c&&c.params||CC,B=this.buildStyles(r,O,p),z=new Set,J=new Map,ne=new Map,de=r==="void",st={params:RN(O,C),delay:this.ast.options?.delay},ye=h?[]:NN(e,n,this.ast.animation,o,s,S,B,st,u,p),A=0;return ye.forEach(E=>{A=Math.max(E.duration+E.delay,A)}),p.length?mN(n,this._triggerName,i,r,de,S,B,[],[],J,ne,A,p):(ye.forEach(E=>{let T=E.element,x=bn(J,T,new Set);E.preStyleProps.forEach(M=>x.add(M));let N=bn(ne,T,new Set);E.postStyleProps.forEach(M=>N.add(M)),T!==n&&z.add(T)}),mN(n,this._triggerName,i,r,de,S,B,ye,[...z.values()],J,ne,A))}};function fK(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function RN(t,e){let n=V({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var PC=class{styles;defaultParams;normalizer;constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=RN(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Gc(s,r,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),i.set(a,s)})}),i}};function pK(t,e,n){return new kC(t,e,n)}var kC=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new PC(r.style,o,i))}),gN(this.states,"true","1"),gN(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new dp(e,r,this.states))}),this.fallbackTransition=mK(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(s=>s.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function mK(t,e,n){let i=[(s,a)=>!0],r={type:Ee.Sequence,steps:[],options:null},o={type:Ee.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new dp(t,o,e)}function gN(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var gK=new zc,OC=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i}register(e,n){let i=[],r=[],o=xN(this._driver,n,i,r);if(i.length)throw N7(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=EN(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=NN(this._driver,n,o,TN,bC,new Map,new Map,i,gK,r),s.forEach(h=>{let p=bn(a,h.element,new Map);h.postStyleProps.forEach(C=>p.set(C,null))})):(r.push(R7()),s=[]),r.length)throw M7(r);a.forEach((h,p)=>{h.forEach((C,w)=>{h.set(w,this._driver.computeStyle(p,w,wi))})});let c=s.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),u=Jr(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw P7(e);return n}listen(e,n,i,r){let o=UC(n,"","","");return BC(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},_N="ng-animate-queued",_K=".ng-animate-queued",wC="ng-animate-disabled",yK=".ng-animate-disabled",vK="ng-star-inserted",CK=".ng-star-inserted",wK=[],MN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},EK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ti="__ng_removed",Wc=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=bK(r),i){let o=e,{value:s}=o,a=pE(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},qc="void",EC=new Wc(qc),FC=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this._hostClassName="ng-tns-"+e,Vn(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw k7(i,n);if(i==null||i.length==0)throw O7(n);if(!SK(i))throw F7(i,n);let o=bn(this._elementListeners,e,[]),s={name:n,phase:i,callback:r};o.push(s);let a=bn(this._engine.statesByElement,e,new Map);return a.has(n)||(Vn(e,ep),Vn(e,ep+"-"+n),a.set(n,EC)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw L7(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),s=new Kc(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Vn(e,ep),Vn(e,ep+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),u=new Wc(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=EC),!(u.value===qc)&&c.value===u.value){if(!AK(c.params,u.params)){let O=[],B=o.matchStyles(c.value,c.params,O),z=o.matchStyles(u.value,u.params,O);O.length?this._engine.reportError(O):this._engine.afterFlush(()=>{Xo(e,B),Ei(e,z)})}return}let C=bn(this._engine.playersByElement,e,[]);C.forEach(O=>{O.namespaceId==this.id&&O.triggerName==n&&O.queued&&O.destroy()});let w=o.matchTransition(c.value,u.value,e,u.params),S=!1;if(!w){if(!r)return;w=o.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:w,fromState:c,toState:u,player:s,isFallbackTransition:S}),S||(Vn(e,_N),s.onStart(()=>{Ea(e,_N)})),s.onDone(()=>{let O=this.players.indexOf(s);O>=0&&this.players.splice(O,1);let B=this._engine.playersByElement.get(e);if(B){let z=B.indexOf(s);z>=0&&B.splice(z,1)}}),this.players.push(s),C.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,op,!0);i.forEach(r=>{if(r[ti])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let h=this.trigger(e,u,qc,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),i&&Jr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,u=i.get(s)||EC,h=new Wc(qc),p=new Kc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[ti];(!o||o===MN)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){Vn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let c=UC(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,BC(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},LC=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,n)=>{};_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new FC(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=r.get(a);if(c){let u=i.indexOf(c);i.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(ip(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!ip(n))return;let o=n[ti];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vn(e,wC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ea(e,wC))}removeNode(e,n,i){if(ip(n)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[ti]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return ip(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,op,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,SC,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Jr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[ti];if(n&&n.setForRemoval){if(e[ti]=MN,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(wC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,yK,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Vn(r,vK)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Jr(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw V7(e)}_flushAnimations(e,n){let i=new zc,r=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(Y=>{h.add(Y);let Z=this.driver.query(Y,_K,!0);for(let te=0;te<Z.length;te++)h.add(Z[te])});let p=this.bodyNode,C=Array.from(this.statesByElement.keys()),w=CN(C,this.collectedEnterElements),S=new Map,O=0;w.forEach((Y,Z)=>{let te=TN+O++;S.set(Z,te),Y.forEach(Ie=>Vn(Ie,te))});let B=[],z=new Set,J=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){let Z=this.collectedLeaveElements[Y],te=Z[ti];te&&te.setForRemoval&&(B.push(Z),z.add(Z),te.hasAnimation?this.driver.query(Z,CK,!0).forEach(Ie=>z.add(Ie)):J.add(Z))}let ne=new Map,de=CN(C,Array.from(z));de.forEach((Y,Z)=>{let te=bC+O++;ne.set(Z,te),Y.forEach(Ie=>Vn(Ie,te))}),e.push(()=>{w.forEach((Y,Z)=>{let te=S.get(Z);Y.forEach(Ie=>Ea(Ie,te))}),de.forEach((Y,Z)=>{let te=ne.get(Z);Y.forEach(Ie=>Ea(Ie,te))}),B.forEach(Y=>{this.processLeaveNode(Y)})});let st=[],ye=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(n).forEach(te=>{let Ie=te.player,at=te.element;if(st.push(Ie),this.collectedEnterElements.length){let et=at[ti];if(et&&et.setForMove){if(et.previousTriggersValues&&et.previousTriggersValues.has(te.triggerName)){let Si=et.previousTriggersValues.get(te.triggerName),on=this.statesByElement.get(te.element);if(on&&on.has(te.triggerName)){let Ti=on.get(te.triggerName);Ti.value=Si,on.set(te.triggerName,Ti)}}Ie.destroy();return}}let Tn=!p||!this.driver.containsElement(p,at),Xe=ne.get(at),ze=S.get(at),We=this._buildInstruction(te,i,ze,Xe,Tn);if(We.errors&&We.errors.length){ye.push(We);return}if(Tn){Ie.onStart(()=>Xo(at,We.fromStyles)),Ie.onDestroy(()=>Ei(at,We.toStyles)),r.push(Ie);return}if(te.isFallbackTransition){Ie.onStart(()=>Xo(at,We.fromStyles)),Ie.onDestroy(()=>Ei(at,We.toStyles)),r.push(Ie);return}let ur=[];We.timelines.forEach(et=>{et.stretchStartingKeyframe=!0,this.disabledNodes.has(et.element)||ur.push(et)}),We.timelines=ur,i.append(at,We.timelines);let bp={instruction:We,player:Ie,element:at};s.push(bp),We.queriedElements.forEach(et=>bn(a,et,[]).push(Ie)),We.preStyleProps.forEach((et,Si)=>{if(et.size){let on=c.get(Si);on||c.set(Si,on=new Set),et.forEach((Ti,dr)=>on.add(dr))}}),We.postStyleProps.forEach((et,Si)=>{let on=u.get(Si);on||u.set(Si,on=new Set),et.forEach((Ti,dr)=>on.add(dr))})});if(ye.length){let Y=[];ye.forEach(Z=>{Y.push(B7(Z.triggerName,Z.errors))}),st.forEach(Z=>Z.destroy()),this.reportError(Y)}let A=new Map,E=new Map;s.forEach(Y=>{let Z=Y.element;i.has(Z)&&(E.set(Z,Z),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,A))}),r.forEach(Y=>{let Z=Y.element;this._getPreviousPlayers(Z,!1,Y.namespaceId,Y.triggerName,null).forEach(Ie=>{bn(A,Z,[]).push(Ie),Ie.destroy()})});let T=B.filter(Y=>wN(Y,c,u)),x=new Map;vN(x,this.driver,J,u,wi).forEach(Y=>{wN(Y,c,u)&&T.push(Y)});let M=new Map;w.forEach((Y,Z)=>{vN(M,this.driver,new Set(Y),c,Xf)}),T.forEach(Y=>{let Z=x.get(Y),te=M.get(Y);x.set(Y,new Map([...Z?.entries()??[],...te?.entries()??[]]))});let D=[],Sn=[],cr={};s.forEach(Y=>{let{element:Z,player:te,instruction:Ie}=Y;if(i.has(Z)){if(h.has(Z)){te.onDestroy(()=>Ei(Z,Ie.toStyles)),te.disabled=!0,te.overrideTotalTime(Ie.totalTime),r.push(te);return}let at=cr;if(E.size>1){let Xe=Z,ze=[];for(;Xe=Xe.parentNode;){let We=E.get(Xe);if(We){at=We;break}ze.push(Xe)}ze.forEach(We=>E.set(We,at))}let Tn=this._buildAnimation(te.namespaceId,Ie,A,o,M,x);if(te.setRealPlayer(Tn),at===cr)D.push(te);else{let Xe=this.playersByElement.get(at);Xe&&Xe.length&&(te.parentPlayer=Jr(Xe)),r.push(te)}}else Xo(Z,Ie.fromStyles),te.onDestroy(()=>Ei(Z,Ie.toStyles)),Sn.push(te),h.has(Z)&&r.push(te)}),Sn.forEach(Y=>{let Z=o.get(Y.element);if(Z&&Z.length){let te=Jr(Z);Y.setRealPlayer(te)}}),r.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<B.length;Y++){let Z=B[Y],te=Z[ti];if(Ea(Z,bC),te&&te.hasAnimation)continue;let Ie=[];if(a.size){let Tn=a.get(Z);Tn&&Tn.length&&Ie.push(...Tn);let Xe=this.driver.query(Z,SC,!0);for(let ze=0;ze<Xe.length;ze++){let We=a.get(Xe[ze]);We&&We.length&&Ie.push(...We)}}let at=Ie.filter(Tn=>!Tn.destroyed);at.length?TK(this,Z,at):this.processLeaveNode(Z)}return B.length=0,D.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();let Z=this.players.indexOf(Y);this.players.splice(Z,1)}),Y.play()}),D}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==qc;a.forEach(u=>{u.queued||!c&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let c of n.timelines){let u=c.element,h=u!==o,p=bn(i,u,[]);this._getPreviousPlayers(u,h,s,a,n.toState).forEach(w=>{let S=w.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),w.destroy(),p.push(w)})}Xo(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,s){let a=n.triggerName,c=n.element,u=[],h=new Set,p=new Set,C=n.timelines.map(S=>{let O=S.element;h.add(O);let B=O[ti];if(B&&B.removedBeforeQueried)return new Zr(S.duration,S.delay);let z=O!==c,J=DK((i.get(O)||wK).map(A=>A.getRealPlayer())).filter(A=>{let E=A;return E.element?E.element===O:!1}),ne=o.get(O),de=s.get(O),st=EN(this._normalizer,S.keyframes,ne,de),ye=this._buildPlayer(S,st,J);if(S.subTimeline&&r&&p.add(O),z){let A=new Kc(e,a,O);A.setRealPlayer(ye),u.push(A)}return ye});u.forEach(S=>{bn(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>IK(this.playersByQueriedElement,S.element,S))}),h.forEach(S=>Vn(S,dN));let w=Jr(C);return w.onDestroy(()=>{h.forEach(S=>Ea(S,dN)),Ei(c,n.toStyles)}),p.forEach(S=>{bn(r,S,[]).push(w)}),w}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Zr(e.duration,e.delay)}},Kc=class{namespaceId;triggerName;element;_player=new Zr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>BC(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){bn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function IK(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function bK(t){return t??null}function ip(t){return t&&t.nodeType===1}function SK(t){return t=="start"||t=="done"}function yN(t,e){let n=t.style.display;return t.style.display=e??"none",n}function vN(t,e,n,i,r){let o=[];n.forEach(c=>o.push(yN(c)));let s=[];i.forEach((c,u)=>{let h=new Map;c.forEach(p=>{let C=e.computeStyle(u,p,r);h.set(p,C),(!C||C.length==0)&&(u[ti]=EK,s.push(u))}),t.set(u,h)});let a=0;return n.forEach(c=>yN(c,o[a++])),s}function CN(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let c=o.get(a);if(c)return c;let u=a.parentNode;return n.has(u)?c=u:r.has(u)?c=i:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==i&&n.get(c).push(a)}),n}function Vn(t,e){t.classList?.add(e)}function Ea(t,e){t.classList?.remove(e)}function TK(t,e,n){Jr(n).onDone(()=>t.processLeaveNode(e))}function DK(t){let e=[];return PN(t,e),e}function PN(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof Hc?PN(i.players,e):e.push(i)}}function AK(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function wN(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var Ia=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,n)=>{};constructor(e,n,i){this._driver=n,this._normalizer=i,this._transitionEngine=new LC(e.body,n,i),this._timelineEngine=new OC(e.body,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,n,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let c=[],u=[],h=xN(this._driver,o,c,u);if(c.length)throw A7(r,c);u.length&&void 0,a=pK(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,s]=cN(i),a=r;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[s,a]=cN(i);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function xK(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=IC(e[0]),e.length>1&&(i=IC(e[e.length-1]))):e instanceof Map&&(n=IC(e)),n||i?new NK(t,n,i):null}var NK=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r;let o=t.initialStylesByElement.get(n);o||t.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ei(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ei(this._element,this._initialStyles),this._endStyles&&(Ei(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Xo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xo(this._element,this._endStyles),this._endStyles=null),Ei(this._element,this._initialStyles),this._state=3)}}return t})();function IC(t){let e=null;return t.forEach((n,i)=>{RK(i)&&(e=e||new Map,e.set(i,n))}),e}function RK(t){return t==="display"||t==="position"}var hp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:qC(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},fp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return IN(e,n)}getParentElement(e){return jC(e)}query(e,n,i){return bN(e,n,i)}computeStyle(e,n,i){return qC(e,n)}animate(e,n,i,r,o,s=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};o&&(c.easing=o);let u=new Map,h=s.filter(w=>w instanceof hp);Y7(i,r)&&h.forEach(w=>{w.currentSnapshot.forEach((S,O)=>u.set(O,S))});let p=W7(n).map(w=>new Map(w));p=Z7(e,p,u);let C=xK(e,p);return new hp(e,p,c,C)}};var rp="@",kN="@.disabled",pp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==rp&&n==kN?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},VC=class extends pp{factory;constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==rp?n.charAt(1)=="."&&n==kN?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==rp){let r=MK(e),o=n.slice(1),s="";return o.charAt(0)!=rp&&([o,s]=PK(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,i,a)})}return this.delegate.listen(e,n,i)}};function MK(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function PK(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var mp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,n.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,h=u.get(r);if(!h){let p=()=>u.delete(r);h=new pp(i,r,this.engine,p),u.set(r,h)}return h}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return n.data.animation.forEach(a),new VC(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var OK=(()=>{class t extends Ia{constructor(n,i,r){super(n,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||t)(re(dn),re(es),re(ts))};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})();function FK(){return new ap}function LK(t,e,n){return new mp(t,e,n)}var ON=[{provide:ts,useFactory:FK},{provide:Ia,useClass:OK},{provide:xr,useFactory:LK,deps:[ef,Ia,Le]}],VK=[{provide:es,useFactory:()=>new fp},{provide:x_,useValue:"BrowserAnimations"},...ON],hle=[{provide:es,useClass:HC},{provide:x_,useValue:"NoopAnimations"},...ON];function FN(){return qi("NgEagerAnimations"),[...VK]}var LN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VN={};var zC,BN;(function(){var t;function e(A,E){function T(){}T.prototype=E.prototype,A.D=E.prototype,A.prototype=new T,A.prototype.constructor=A,A.C=function(x,N,M){for(var D=Array(arguments.length-2),Sn=2;Sn<arguments.length;Sn++)D[Sn-2]=arguments[Sn];return E.prototype[N].apply(x,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,E,T){T||(T=0);var x=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)x[N]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(N=0;16>N;++N)x[N]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=A.g[0],T=A.g[1],N=A.g[2];var M=A.g[3],D=E+(M^T&(N^M))+x[0]+3614090360&4294967295;E=T+(D<<7&4294967295|D>>>25),D=M+(N^E&(T^N))+x[1]+3905402710&4294967295,M=E+(D<<12&4294967295|D>>>20),D=N+(T^M&(E^T))+x[2]+606105819&4294967295,N=M+(D<<17&4294967295|D>>>15),D=T+(E^N&(M^E))+x[3]+3250441966&4294967295,T=N+(D<<22&4294967295|D>>>10),D=E+(M^T&(N^M))+x[4]+4118548399&4294967295,E=T+(D<<7&4294967295|D>>>25),D=M+(N^E&(T^N))+x[5]+1200080426&4294967295,M=E+(D<<12&4294967295|D>>>20),D=N+(T^M&(E^T))+x[6]+2821735955&4294967295,N=M+(D<<17&4294967295|D>>>15),D=T+(E^N&(M^E))+x[7]+4249261313&4294967295,T=N+(D<<22&4294967295|D>>>10),D=E+(M^T&(N^M))+x[8]+1770035416&4294967295,E=T+(D<<7&4294967295|D>>>25),D=M+(N^E&(T^N))+x[9]+2336552879&4294967295,M=E+(D<<12&4294967295|D>>>20),D=N+(T^M&(E^T))+x[10]+4294925233&4294967295,N=M+(D<<17&4294967295|D>>>15),D=T+(E^N&(M^E))+x[11]+2304563134&4294967295,T=N+(D<<22&4294967295|D>>>10),D=E+(M^T&(N^M))+x[12]+1804603682&4294967295,E=T+(D<<7&4294967295|D>>>25),D=M+(N^E&(T^N))+x[13]+4254626195&4294967295,M=E+(D<<12&4294967295|D>>>20),D=N+(T^M&(E^T))+x[14]+2792965006&4294967295,N=M+(D<<17&4294967295|D>>>15),D=T+(E^N&(M^E))+x[15]+1236535329&4294967295,T=N+(D<<22&4294967295|D>>>10),D=E+(N^M&(T^N))+x[1]+4129170786&4294967295,E=T+(D<<5&4294967295|D>>>27),D=M+(T^N&(E^T))+x[6]+3225465664&4294967295,M=E+(D<<9&4294967295|D>>>23),D=N+(E^T&(M^E))+x[11]+643717713&4294967295,N=M+(D<<14&4294967295|D>>>18),D=T+(M^E&(N^M))+x[0]+3921069994&4294967295,T=N+(D<<20&4294967295|D>>>12),D=E+(N^M&(T^N))+x[5]+3593408605&4294967295,E=T+(D<<5&4294967295|D>>>27),D=M+(T^N&(E^T))+x[10]+38016083&4294967295,M=E+(D<<9&4294967295|D>>>23),D=N+(E^T&(M^E))+x[15]+3634488961&4294967295,N=M+(D<<14&4294967295|D>>>18),D=T+(M^E&(N^M))+x[4]+3889429448&4294967295,T=N+(D<<20&4294967295|D>>>12),D=E+(N^M&(T^N))+x[9]+568446438&4294967295,E=T+(D<<5&4294967295|D>>>27),D=M+(T^N&(E^T))+x[14]+3275163606&4294967295,M=E+(D<<9&4294967295|D>>>23),D=N+(E^T&(M^E))+x[3]+4107603335&4294967295,N=M+(D<<14&4294967295|D>>>18),D=T+(M^E&(N^M))+x[8]+1163531501&4294967295,T=N+(D<<20&4294967295|D>>>12),D=E+(N^M&(T^N))+x[13]+2850285829&4294967295,E=T+(D<<5&4294967295|D>>>27),D=M+(T^N&(E^T))+x[2]+4243563512&4294967295,M=E+(D<<9&4294967295|D>>>23),D=N+(E^T&(M^E))+x[7]+1735328473&4294967295,N=M+(D<<14&4294967295|D>>>18),D=T+(M^E&(N^M))+x[12]+2368359562&4294967295,T=N+(D<<20&4294967295|D>>>12),D=E+(T^N^M)+x[5]+4294588738&4294967295,E=T+(D<<4&4294967295|D>>>28),D=M+(E^T^N)+x[8]+2272392833&4294967295,M=E+(D<<11&4294967295|D>>>21),D=N+(M^E^T)+x[11]+1839030562&4294967295,N=M+(D<<16&4294967295|D>>>16),D=T+(N^M^E)+x[14]+4259657740&4294967295,T=N+(D<<23&4294967295|D>>>9),D=E+(T^N^M)+x[1]+2763975236&4294967295,E=T+(D<<4&4294967295|D>>>28),D=M+(E^T^N)+x[4]+1272893353&4294967295,M=E+(D<<11&4294967295|D>>>21),D=N+(M^E^T)+x[7]+4139469664&4294967295,N=M+(D<<16&4294967295|D>>>16),D=T+(N^M^E)+x[10]+3200236656&4294967295,T=N+(D<<23&4294967295|D>>>9),D=E+(T^N^M)+x[13]+681279174&4294967295,E=T+(D<<4&4294967295|D>>>28),D=M+(E^T^N)+x[0]+3936430074&4294967295,M=E+(D<<11&4294967295|D>>>21),D=N+(M^E^T)+x[3]+3572445317&4294967295,N=M+(D<<16&4294967295|D>>>16),D=T+(N^M^E)+x[6]+76029189&4294967295,T=N+(D<<23&4294967295|D>>>9),D=E+(T^N^M)+x[9]+3654602809&4294967295,E=T+(D<<4&4294967295|D>>>28),D=M+(E^T^N)+x[12]+3873151461&4294967295,M=E+(D<<11&4294967295|D>>>21),D=N+(M^E^T)+x[15]+530742520&4294967295,N=M+(D<<16&4294967295|D>>>16),D=T+(N^M^E)+x[2]+3299628645&4294967295,T=N+(D<<23&4294967295|D>>>9),D=E+(N^(T|~M))+x[0]+4096336452&4294967295,E=T+(D<<6&4294967295|D>>>26),D=M+(T^(E|~N))+x[7]+1126891415&4294967295,M=E+(D<<10&4294967295|D>>>22),D=N+(E^(M|~T))+x[14]+2878612391&4294967295,N=M+(D<<15&4294967295|D>>>17),D=T+(M^(N|~E))+x[5]+4237533241&4294967295,T=N+(D<<21&4294967295|D>>>11),D=E+(N^(T|~M))+x[12]+1700485571&4294967295,E=T+(D<<6&4294967295|D>>>26),D=M+(T^(E|~N))+x[3]+2399980690&4294967295,M=E+(D<<10&4294967295|D>>>22),D=N+(E^(M|~T))+x[10]+4293915773&4294967295,N=M+(D<<15&4294967295|D>>>17),D=T+(M^(N|~E))+x[1]+2240044497&4294967295,T=N+(D<<21&4294967295|D>>>11),D=E+(N^(T|~M))+x[8]+1873313359&4294967295,E=T+(D<<6&4294967295|D>>>26),D=M+(T^(E|~N))+x[15]+4264355552&4294967295,M=E+(D<<10&4294967295|D>>>22),D=N+(E^(M|~T))+x[6]+2734768916&4294967295,N=M+(D<<15&4294967295|D>>>17),D=T+(M^(N|~E))+x[13]+1309151649&4294967295,T=N+(D<<21&4294967295|D>>>11),D=E+(N^(T|~M))+x[4]+4149444226&4294967295,E=T+(D<<6&4294967295|D>>>26),D=M+(T^(E|~N))+x[11]+3174756917&4294967295,M=E+(D<<10&4294967295|D>>>22),D=N+(E^(M|~T))+x[2]+718787259&4294967295,N=M+(D<<15&4294967295|D>>>17),D=T+(M^(N|~E))+x[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+M&4294967295}i.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var T=E-this.blockSize,x=this.B,N=this.h,M=0;M<E;){if(N==0)for(;M<=T;)r(this,A,M),M+=this.blockSize;if(typeof A=="string"){for(;M<E;)if(x[N++]=A.charCodeAt(M++),N==this.blockSize){r(this,x),N=0;break}}else for(;M<E;)if(x[N++]=A[M++],N==this.blockSize){r(this,x),N=0;break}}this.h=N,this.o+=E},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var T=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=T&255,T/=256;for(this.u(A),A=Array(16),E=T=0;4>E;++E)for(var x=0;32>x;x+=8)A[T++]=this.g[E]>>>x&255;return A};function o(A,E){var T=a;return Object.prototype.hasOwnProperty.call(T,A)?T[A]:T[A]=E(A)}function s(A,E){this.h=E;for(var T=[],x=!0,N=A.length-1;0<=N;N--){var M=A[N]|0;x&&M==E||(T[N]=M,x=!1)}this.g=T}var a={};function c(A){return-128<=A&&128>A?o(A,function(E){return new s([E|0],0>E?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return B(u(-A));for(var E=[],T=1,x=0;A>=T;x++)E[x]=A/T|0,T*=4294967296;return new s(E,0)}function h(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return B(h(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(E,8)),x=p,N=0;N<A.length;N+=8){var M=Math.min(8,A.length-N),D=parseInt(A.substring(N,N+M),E);8>M?(M=u(Math.pow(E,M)),x=x.j(M).add(u(D))):(x=x.j(T),x=x.add(u(D)))}return x}var p=c(0),C=c(1),w=c(16777216);t=s.prototype,t.m=function(){if(O(this))return-B(this).m();for(var A=0,E=1,T=0;T<this.g.length;T++){var x=this.i(T);A+=(0<=x?x:4294967296+x)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(O(this))return"-"+B(this).toString(A);for(var E=u(Math.pow(A,6)),T=this,x="";;){var N=de(T,E).g;T=z(T,N.j(E));var M=((0<T.g.length?T.g[0]:T.h)>>>0).toString(A);if(T=N,S(T))return M+x;for(;6>M.length;)M="0"+M;x=M+x}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function O(A){return A.h==-1}t.l=function(A){return A=z(this,A),O(A)?-1:S(A)?0:1};function B(A){for(var E=A.g.length,T=[],x=0;x<E;x++)T[x]=~A.g[x];return new s(T,~A.h).add(C)}t.abs=function(){return O(this)?B(this):this},t.add=function(A){for(var E=Math.max(this.g.length,A.g.length),T=[],x=0,N=0;N<=E;N++){var M=x+(this.i(N)&65535)+(A.i(N)&65535),D=(M>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);x=D>>>16,M&=65535,D&=65535,T[N]=D<<16|M}return new s(T,T[T.length-1]&-2147483648?-1:0)};function z(A,E){return A.add(B(E))}t.j=function(A){if(S(this)||S(A))return p;if(O(this))return O(A)?B(this).j(B(A)):B(B(this).j(A));if(O(A))return B(this.j(B(A)));if(0>this.l(w)&&0>A.l(w))return u(this.m()*A.m());for(var E=this.g.length+A.g.length,T=[],x=0;x<2*E;x++)T[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<A.g.length;N++){var M=this.i(x)>>>16,D=this.i(x)&65535,Sn=A.i(N)>>>16,cr=A.i(N)&65535;T[2*x+2*N]+=D*cr,J(T,2*x+2*N),T[2*x+2*N+1]+=M*cr,J(T,2*x+2*N+1),T[2*x+2*N+1]+=D*Sn,J(T,2*x+2*N+1),T[2*x+2*N+2]+=M*Sn,J(T,2*x+2*N+2)}for(x=0;x<E;x++)T[x]=T[2*x+1]<<16|T[2*x];for(x=E;x<2*E;x++)T[x]=0;return new s(T,0)};function J(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function ne(A,E){this.g=A,this.h=E}function de(A,E){if(S(E))throw Error("division by zero");if(S(A))return new ne(p,p);if(O(A))return E=de(B(A),E),new ne(B(E.g),B(E.h));if(O(E))return E=de(A,B(E)),new ne(B(E.g),E.h);if(30<A.g.length){if(O(A)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var T=C,x=E;0>=x.l(A);)T=st(T),x=st(x);var N=ye(T,1),M=ye(x,1);for(x=ye(x,2),T=ye(T,2);!S(x);){var D=M.add(x);0>=D.l(A)&&(N=N.add(T),M=D),x=ye(x,1),T=ye(T,1)}return E=z(A,N.j(E)),new ne(N,E)}for(N=p;0<=A.l(E);){for(T=Math.max(1,Math.floor(A.m()/E.m())),x=Math.ceil(Math.log(T)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),M=u(T),D=M.j(E);O(D)||0<D.l(A);)T-=x,M=u(T),D=M.j(E);S(M)&&(M=C),N=N.add(M),A=z(A,D)}return new ne(N,A)}t.A=function(A){return de(this,A).h},t.and=function(A){for(var E=Math.max(this.g.length,A.g.length),T=[],x=0;x<E;x++)T[x]=this.i(x)&A.i(x);return new s(T,this.h&A.h)},t.or=function(A){for(var E=Math.max(this.g.length,A.g.length),T=[],x=0;x<E;x++)T[x]=this.i(x)|A.i(x);return new s(T,this.h|A.h)},t.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),T=[],x=0;x<E;x++)T[x]=this.i(x)^A.i(x);return new s(T,this.h^A.h)};function st(A){for(var E=A.g.length+1,T=[],x=0;x<E;x++)T[x]=A.i(x)<<1|A.i(x-1)>>>31;return new s(T,A.h)}function ye(A,E){var T=E>>5;E%=32;for(var x=A.g.length-T,N=[],M=0;M<x;M++)N[M]=0<E?A.i(M+T)>>>E|A.i(M+T+1)<<32-E:A.i(M+T);return new s(N,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,BN=VN.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,zC=VN.Integer=s}).apply(typeof LN<"u"?LN:typeof self<"u"?self:typeof window<"u"?window:{});var gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lr={};var UN,BK,jN,HN,$N,qN,GN,zN,WN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,f){return l==Array.prototype||l==Object.prototype||(l[d]=f.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof gp=="object"&&gp];for(var d=0;d<l.length;++d){var f=l[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(l,d){if(d)e:{var f=i;l=l.split(".");for(var y=0;y<l.length-1;y++){var R=l[y];if(!(R in f))break e;f=f[R]}l=l[l.length-1],y=f[l],d=d(y),d!=y&&d!=null&&e(f,l,{configurable:!0,writable:!0,value:d})}}function o(l,d){l instanceof String&&(l+="");var f=0,y=!1,R={next:function(){if(!y&&f<l.length){var F=f++;return{value:d(F,l[F]),done:!1}}return y=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}r("Array.prototype.values",function(l){return l||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,f){return l.call.apply(l.bind,arguments)}function p(l,d,f){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,y),l.apply(d,R)}}return function(){return l.apply(d,arguments)}}function C(l,d,f){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,C.apply(null,arguments)}function w(l,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function S(l,d){function f(){}f.prototype=d.prototype,l.aa=d.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(y,R,F){for(var q=Array(arguments.length-2),He=2;He<arguments.length;He++)q[He-2]=arguments[He];return d.prototype[R].apply(y,q)}}function O(l){let d=l.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=l[y];return f}return[]}function B(l,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(c(y)){let R=l.length||0,F=y.length||0;l.length=R+F;for(let q=0;q<F;q++)l[R+q]=y[q]}else l.push(y)}}class z{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(l){return/^[\s\xa0]*$/.test(l)}function ne(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function de(l){return de[" "](l),l}de[" "]=function(){};var st=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ye(l,d,f){for(let y in l)d.call(f,l[y],y,l)}function A(l,d){for(let f in l)d.call(void 0,l[f],f,l)}function E(l){let d={};for(let f in l)d[f]=l[f];return d}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,d){let f,y;for(let R=1;R<arguments.length;R++){y=arguments[R];for(f in y)l[f]=y[f];for(let F=0;F<T.length;F++)f=T[F],Object.prototype.hasOwnProperty.call(y,f)&&(l[f]=y[f])}}function N(l){var d=1;l=l.split(":");let f=[];for(;0<d&&l.length;)f.push(l.shift()),d--;return l.length&&f.push(l.join(":")),f}function M(l){a.setTimeout(()=>{throw l},0)}function D(){var l=Ie;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Sn{constructor(){this.h=this.g=null}add(d,f){let y=cr.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var cr=new z(()=>new Y,l=>l.reset());class Y{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,te=!1,Ie=new Sn,at=()=>{let l=a.Promise.resolve(void 0);Z=()=>{l.then(Tn)}};var Tn=()=>{for(var l;l=D();){try{l.h.call(l.g)}catch(f){M(f)}var d=cr;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}te=!1};function Xe(){this.s=this.s,this.C=this.C}Xe.prototype.s=!1,Xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return l}();function ur(l,d){if(ze.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(st){e:{try{de(d.nodeName);var R=!0;break e}catch{}R=!1}R||(d=null)}}else f=="mouseover"?d=l.fromElement:f=="mouseout"&&(d=l.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:bp[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ur.aa.h.call(this)}}S(ur,ze);var bp={2:"touch",3:"pen",4:"mouse"};ur.prototype.h=function(){ur.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),Si=0;function on(l,d,f,y,R){this.listener=l,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=R,this.key=++Si,this.da=this.fa=!1}function Ti(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function dr(l){this.src=l,this.g={},this.h=0}dr.prototype.add=function(l,d,f,y,R){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var q=Tp(l,d,y,R);return-1<q?(d=l[q],f||(d.fa=!1)):(d=new on(d,this.src,F,!!y,R),d.fa=f,l.push(d)),d};function Sp(l,d){var f=d.type;if(f in l.g){var y=l.g[f],R=Array.prototype.indexOf.call(y,d,void 0),F;(F=0<=R)&&Array.prototype.splice.call(y,R,1),F&&(Ti(d),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Tp(l,d,f,y){for(var R=0;R<l.length;++R){var F=l[R];if(!F.da&&F.listener==d&&F.capture==!!f&&F.ha==y)return R}return-1}var Dp="closure_lm_"+(1e6*Math.random()|0),Ap={};function dw(l,d,f,y,R){if(y&&y.once)return fw(l,d,f,y,R);if(Array.isArray(d)){for(var F=0;F<d.length;F++)dw(l,d[F],f,y,R);return null}return f=Mp(f),l&&l[et]?l.K(d,f,u(y)?!!y.capture:!!y,R):hw(l,d,f,!1,y,R)}function hw(l,d,f,y,R,F){if(!d)throw Error("Invalid event type");var q=u(R)?!!R.capture:!!R,He=Np(l);if(He||(l[Dp]=He=new dr(l)),f=He.add(d,f,y,q,F),f.proxy)return f;if(y=sR(),f.proxy=y,y.src=l,y.listener=f,l.addEventListener)We||(R=q),R===void 0&&(R=!1),l.addEventListener(d.toString(),y,R);else if(l.attachEvent)l.attachEvent(mw(d.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function sR(){function l(f){return d.call(l.src,l.listener,f)}let d=aR;return l}function fw(l,d,f,y,R){if(Array.isArray(d)){for(var F=0;F<d.length;F++)fw(l,d[F],f,y,R);return null}return f=Mp(f),l&&l[et]?l.L(d,f,u(y)?!!y.capture:!!y,R):hw(l,d,f,!0,y,R)}function pw(l,d,f,y,R){if(Array.isArray(d))for(var F=0;F<d.length;F++)pw(l,d[F],f,y,R);else y=u(y)?!!y.capture:!!y,f=Mp(f),l&&l[et]?(l=l.i,d=String(d).toString(),d in l.g&&(F=l.g[d],f=Tp(F,f,y,R),-1<f&&(Ti(F[f]),Array.prototype.splice.call(F,f,1),F.length==0&&(delete l.g[d],l.h--)))):l&&(l=Np(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Tp(d,f,y,R)),(f=-1<l?d[l]:null)&&xp(f))}function xp(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[et])Sp(d.i,l);else{var f=l.type,y=l.proxy;d.removeEventListener?d.removeEventListener(f,y,l.capture):d.detachEvent?d.detachEvent(mw(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=Np(d))?(Sp(f,l),f.h==0&&(f.src=null,d[Dp]=null)):Ti(l)}}}function mw(l){return l in Ap?Ap[l]:Ap[l]="on"+l}function aR(l,d){if(l.da)l=!0;else{d=new ur(d,this);var f=l.listener,y=l.ha||l.src;l.fa&&xp(l),l=f.call(y,d)}return l}function Np(l){return l=l[Dp],l instanceof dr?l:null}var Rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mp(l){return typeof l=="function"?l:(l[Rp]||(l[Rp]=function(d){return l.handleEvent(d)}),l[Rp])}function Ut(){Xe.call(this),this.i=new dr(this),this.M=this,this.F=null}S(Ut,Xe),Ut.prototype[et]=!0,Ut.prototype.removeEventListener=function(l,d,f,y){pw(this,l,d,f,y)};function Wt(l,d){var f,y=l.F;if(y)for(f=[];y;y=y.F)f.push(y);if(l=l.M,y=d.type||d,typeof d=="string")d=new ze(d,l);else if(d instanceof ze)d.target=d.target||l;else{var R=d;d=new ze(y,l),x(d,R)}if(R=!0,f)for(var F=f.length-1;0<=F;F--){var q=d.g=f[F];R=Jc(q,y,!0,d)&&R}if(q=d.g=l,R=Jc(q,y,!0,d)&&R,R=Jc(q,y,!1,d)&&R,f)for(F=0;F<f.length;F++)q=d.g=f[F],R=Jc(q,y,!1,d)&&R}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var f=l.g[d],y=0;y<f.length;y++)Ti(f[y]);delete l.g[d],l.h--}}this.F=null},Ut.prototype.K=function(l,d,f,y){return this.i.add(String(l),d,!1,f,y)},Ut.prototype.L=function(l,d,f,y){return this.i.add(String(l),d,!0,f,y)};function Jc(l,d,f,y){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var R=!0,F=0;F<d.length;++F){var q=d[F];if(q&&!q.da&&q.capture==f){var He=q.listener,xt=q.ha||q.src;q.fa&&Sp(l.i,q),R=He.call(xt,y)!==!1&&R}}return R&&!y.defaultPrevented}function gw(l,d,f){if(typeof l=="function")f&&(l=C(l,f));else if(l&&typeof l.handleEvent=="function")l=C(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function _w(l){l.g=gw(()=>{l.g=null,l.i&&(l.i=!1,_w(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class lR extends Xe{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:_w(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(l){Xe.call(this),this.h=l,this.g={}}S(Aa,Xe);var yw=[];function vw(l){ye(l.g,function(d,f){this.g.hasOwnProperty(f)&&xp(d)},l),l.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),vw(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pp=a.JSON.stringify,cR=a.JSON.parse,uR=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function kp(){}kp.prototype.h=null;function Cw(l){return l.h||(l.h=l.i())}function ww(){}var xa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Op(){ze.call(this,"d")}S(Op,ze);function Fp(){ze.call(this,"c")}S(Fp,ze);var eo={},Ew=null;function Xc(){return Ew=Ew||new Ut}eo.La="serverreachability";function Iw(l){ze.call(this,eo.La,l)}S(Iw,ze);function Na(l){let d=Xc();Wt(d,new Iw(d))}eo.STAT_EVENT="statevent";function bw(l,d){ze.call(this,eo.STAT_EVENT,l),this.stat=d}S(bw,ze);function Kt(l){let d=Xc();Wt(d,new bw(d,l))}eo.Ma="timingevent";function Sw(l,d){ze.call(this,eo.Ma,l),this.size=d}S(Sw,ze);function Ra(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Ma(){this.g=!0}Ma.prototype.xa=function(){this.g=!1};function dR(l,d,f,y,R,F){l.info(function(){if(l.g)if(F)for(var q="",He=F.split("&"),xt=0;xt<He.length;xt++){var Pe=He[xt].split("=");if(1<Pe.length){var jt=Pe[0];Pe=Pe[1];var Ht=jt.split("_");q=2<=Ht.length&&Ht[1]=="type"?q+(jt+"="+Pe+"&"):q+(jt+"=redacted&")}}else q=null;else q=F;return"XMLHTTP REQ ("+y+") [attempt "+R+"]: "+d+`
`+f+`
`+q})}function hR(l,d,f,y,R,F,q){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+R+"]: "+d+`
`+f+`
`+F+" "+q})}function os(l,d,f,y){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+pR(l,f)+(y?" "+y:"")})}function fR(l,d){l.info(function(){return"TIMEOUT: "+d})}Ma.prototype.info=function(){};function pR(l,d){if(!l.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var y=f[l];if(!(2>y.length)){var R=y[1];if(Array.isArray(R)&&!(1>R.length)){var F=R[0];if(F!="noop"&&F!="stop"&&F!="close")for(var q=1;q<R.length;q++)R[q]=""}}}}return Pp(f)}catch{return d}}var eu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lp;function tu(){}S(tu,kp),tu.prototype.g=function(){return new XMLHttpRequest},tu.prototype.i=function(){return{}},Lp=new tu;function hr(l,d,f,y){this.j=l,this.i=d,this.l=f,this.R=y||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dw}function Dw(){this.i=null,this.g="",this.h=!1}var Aw={},Vp={};function Bp(l,d,f){l.L=1,l.v=ou(Di(d)),l.m=f,l.P=!0,xw(l,null)}function xw(l,d){l.F=Date.now(),nu(l),l.A=Di(l.v);var f=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),$w(f.i,"t",y),l.C=0,f=l.j.J,l.h=new Dw,l.g=aE(l.j,f?d:null,!l.m),0<l.O&&(l.M=new lR(C(l.Y,l,l.g),l.O)),d=l.U,f=l.g,y=l.ca;var R="readystatechange";Array.isArray(R)||(R&&(yw[0]=R.toString()),R=yw);for(var F=0;F<R.length;F++){var q=dw(f,R[F],y||d.handleEvent,!1,d.h||d);if(!q)break;d.g[q.key]=q}d=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Na(),dR(l.i,l.u,l.A,l.l,l.R,l.m)}hr.prototype.ca=function(l){l=l.target;let d=this.M;d&&Ai(l)==3?d.j():this.Y(l)},hr.prototype.Y=function(l){try{if(l==this.g)e:{let Ht=Ai(this.g);var d=this.g.Ba();let ls=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Yw(this.g)))){this.J||Ht!=4||d==7||(d==8||0>=ls?Na(3):Na(2)),Up(this);var f=this.g.Z();this.X=f;t:if(Nw(this)){var y=Yw(this.g);l="";var R=y.length,F=Ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){to(this),Pa(this);var q="";break t}this.h.i=new a.TextDecoder}for(d=0;d<R;d++)this.h.h=!0,l+=this.h.i.decode(y[d],{stream:!(F&&d==R-1)});y.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,hR(this.i,this.u,this.A,this.l,this.R,Ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var He,xt=this.g;if((He=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(He)){var Pe=He;break t}}Pe=null}if(f=Pe)os(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jp(this,f);else{this.o=!1,this.s=3,Kt(12),to(this),Pa(this);break e}}if(this.P){f=!0;let Bn;for(;!this.J&&this.C<q.length;)if(Bn=mR(this,q),Bn==Vp){Ht==4&&(this.s=4,Kt(14),f=!1),os(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==Aw){this.s=4,Kt(15),os(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else os(this.i,this.l,Bn,null),jp(this,Bn);if(Nw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||q.length!=0||this.h.h||(this.s=1,Kt(16),f=!1),this.o=this.o&&f,!f)os(this.i,this.l,q,"[Invalid Chunked Response]"),to(this),Pa(this);else if(0<q.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Wp(jt),jt.M=!0,Kt(11))}}else os(this.i,this.l,q,null),jp(this,q);Ht==4&&to(this),this.o&&!this.J&&(Ht==4?iE(this.j,this):(this.o=!1,nu(this)))}else MR(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),to(this),Pa(this)}}}catch{}finally{}};function Nw(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function mR(l,d){var f=l.C,y=d.indexOf(`
`,f);return y==-1?Vp:(f=Number(d.substring(f,y)),isNaN(f)?Aw:(y+=1,y+f>d.length?Vp:(d=d.slice(y,y+f),l.C=y+f,d)))}hr.prototype.cancel=function(){this.J=!0,to(this)};function nu(l){l.S=Date.now()+l.I,Rw(l,l.I)}function Rw(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ra(C(l.ba,l),d)}function Up(l){l.B&&(a.clearTimeout(l.B),l.B=null)}hr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(fR(this.i,this.A),this.L!=2&&(Na(),Kt(17)),to(this),this.s=2,Pa(this)):Rw(this,this.S-l)};function Pa(l){l.j.G==0||l.J||iE(l.j,l)}function to(l){Up(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,vw(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function jp(l,d){try{var f=l.j;if(f.G!=0&&(f.g==l||Hp(f.h,l))){if(!l.K&&Hp(f.h,l)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var R=y;if(R[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)uu(f),lu(f);else break e;zp(f),Kt(18)}}else f.za=R[1],0<f.za-f.T&&37500>R[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ra(C(f.Za,f),6e3));if(1>=kw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else io(f,11)}else if((l.K||f.g==l)&&uu(f),!J(d))for(R=f.Da.g.parse(d),d=0;d<R.length;d++){let Pe=R[d];if(f.T=Pe[0],Pe=Pe[1],f.G==2)if(Pe[0]=="c"){f.K=Pe[1],f.ia=Pe[2];let jt=Pe[3];jt!=null&&(f.la=jt,f.j.info("VER="+f.la));let Ht=Pe[4];Ht!=null&&(f.Aa=Ht,f.j.info("SVER="+f.Aa));let ls=Pe[5];ls!=null&&typeof ls=="number"&&0<ls&&(y=1.5*ls,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let Bn=l.g;if(Bn){let hu=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hu){var F=y.h;F.g||hu.indexOf("spdy")==-1&&hu.indexOf("quic")==-1&&hu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&($p(F,F.h),F.h=null))}if(y.D){let Kp=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kp&&(y.ya=Kp,Ke(y.I,y.D,Kp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var q=l;if(y.qa=sE(y,y.J?y.ia:null,y.W),q.K){Ow(y.h,q);var He=q,xt=y.L;xt&&(He.I=xt),He.B&&(Up(He),nu(He)),y.g=q}else tE(y);0<f.i.length&&cu(f)}else Pe[0]!="stop"&&Pe[0]!="close"||io(f,7);else f.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?io(f,7):Gp(f):Pe[0]!="noop"&&f.l&&f.l.ta(Pe),f.v=0)}}Na(4)}catch{}}var gR=class{constructor(l,d){this.g=l,this.map=d}};function Mw(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pw(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function kw(l){return l.h?1:l.g?l.g.size:0}function Hp(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function $p(l,d){l.g?l.g.add(d):l.h=d}function Ow(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Mw.prototype.cancel=function(){if(this.i=Fw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Fw(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let f of l.g.values())d=d.concat(f.D);return d}return O(l.i)}function _R(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],f=l.length,y=0;y<f;y++)d.push(l[y]);return d}d=[],f=0;for(y in l)d[f++]=l[y];return d}function yR(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var f=0;f<l;f++)d.push(f);return d}d=[],f=0;for(let y in l)d[f++]=y;return d}}}function Lw(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var f=yR(l),y=_R(l),R=y.length,F=0;F<R;F++)d.call(void 0,y[F],f&&f[F],l)}var Vw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vR(l,d){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var y=l[f].indexOf("="),R=null;if(0<=y){var F=l[f].substring(0,y);R=l[f].substring(y+1)}else F=l[f];d(F,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function no(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof no){this.h=l.h,iu(this,l.j),this.o=l.o,this.g=l.g,ru(this,l.s),this.l=l.l;var d=l.i,f=new Fa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Bw(this,f),this.m=l.m}else l&&(d=String(l).match(Vw))?(this.h=!1,iu(this,d[1]||"",!0),this.o=ka(d[2]||""),this.g=ka(d[3]||"",!0),ru(this,d[4]),this.l=ka(d[5]||"",!0),Bw(this,d[6]||"",!0),this.m=ka(d[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}no.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Oa(d,Uw,!0),":");var f=this.g;return(f||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Oa(d,Uw,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Oa(f,f.charAt(0)=="/"?ER:wR,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Oa(f,bR)),l.join("")};function Di(l){return new no(l)}function iu(l,d,f){l.j=f?ka(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function ru(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Bw(l,d,f){d instanceof Fa?(l.i=d,SR(l.i,l.h)):(f||(d=Oa(d,IR)),l.i=new Fa(d,l.h))}function Ke(l,d,f){l.i.set(d,f)}function ou(l){return Ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ka(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Oa(l,d,f){return typeof l=="string"?(l=encodeURI(l).replace(d,CR),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function CR(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Uw=/[#\/\?@]/g,wR=/[#\?:]/g,ER=/[#\?]/g,IR=/[#\?@]/g,bR=/#/g;function Fa(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function fr(l){l.g||(l.g=new Map,l.h=0,l.i&&vR(l.i,function(d,f){l.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Fa.prototype,t.add=function(l,d){fr(this),this.i=null,l=ss(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(d),this.h+=1,this};function jw(l,d){fr(l),d=ss(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Hw(l,d){return fr(l),d=ss(l,d),l.g.has(d)}t.forEach=function(l,d){fr(this),this.g.forEach(function(f,y){f.forEach(function(R){l.call(d,R,y,this)},this)},this)},t.na=function(){fr(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let R=l[y];for(let F=0;F<R.length;F++)f.push(d[y])}return f},t.V=function(l){fr(this);let d=[];if(typeof l=="string")Hw(this,l)&&(d=d.concat(this.g.get(ss(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)d=d.concat(l[f])}return d},t.set=function(l,d){return fr(this),this.i=null,l=ss(this,l),Hw(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function $w(l,d,f){jw(l,d),0<f.length&&(l.i=null,l.g.set(ss(l,d),O(f)),l.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let F=encodeURIComponent(String(y)),q=this.V(y);for(y=0;y<q.length;y++){var R=F;q[y]!==""&&(R+="="+encodeURIComponent(String(q[y]))),l.push(R)}}return this.i=l.join("&")};function ss(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function SR(l,d){d&&!l.j&&(fr(l),l.i=null,l.g.forEach(function(f,y){var R=y.toLowerCase();y!=R&&(jw(this,y),$w(this,R,f))},l)),l.j=d}function TR(l,d){let f=new Ma;if(a.Image){let y=new Image;y.onload=w(pr,f,"TestLoadImage: loaded",!0,d,y),y.onerror=w(pr,f,"TestLoadImage: error",!1,d,y),y.onabort=w(pr,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=w(pr,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else d(!1)}function DR(l,d){let f=new Ma,y=new AbortController,R=setTimeout(()=>{y.abort(),pr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:y.signal}).then(F=>{clearTimeout(R),F.ok?pr(f,"TestPingServer: ok",!0,d):pr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(R),pr(f,"TestPingServer: error",!1,d)})}function pr(l,d,f,y,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),y(f)}catch{}}function AR(){this.g=new uR}function xR(l,d,f){let y=f||"";try{Lw(l,function(R,F){let q=R;u(R)&&(q=Pp(R)),d.push(y+F+"="+encodeURIComponent(q))})}catch(R){throw d.push(y+"type="+encodeURIComponent("_badmap")),R}}function La(l){this.l=l.Ub||null,this.j=l.eb||!1}S(La,kp),La.prototype.g=function(){return new su(this.l,this.j)},La.prototype.i=function(l){return function(){return l}}({});function su(l,d){Ut.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(su,Ut),t=su.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Ba(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qw(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function qw(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Va(this):Ba(this),this.readyState==3&&qw(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Va(this))},t.Qa=function(l){this.g&&(this.response=l,Va(this))},t.ga=function(){this.g&&Va(this)};function Va(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ba(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=d.next();return l.join(`\r
`)};function Ba(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Gw(l){let d="";return ye(l,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function qp(l,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=Gw(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):Ke(l,d,f))}function tt(l){Ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(tt,Ut);var NR=/^https?$/i,RR=["POST","PUT"];t=tt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lp.g(),this.v=this.o?Cw(this.o):Cw(Lp),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(F){zw(this,F);return}if(l=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var R in y)f.set(R,y[R]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let F of y.keys())f.set(F,y.get(F));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(F=>F.toLowerCase()=="content-type"),R=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(RR,d,void 0))||y||R||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,q]of f)this.g.setRequestHeader(F,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qw(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){zw(this,F)}};function zw(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Ww(l),au(l)}function Ww(l){l.A||(l.A=!0,Wt(l,"complete"),Wt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Wt(this,"complete"),Wt(this,"abort"),au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),au(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kw(this):this.bb())},t.bb=function(){Kw(this)};function Kw(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Ai(l)!=4||l.Z()!=2)){if(l.u&&Ai(l)==4)gw(l.Ea,0,l);else if(Wt(l,"readystatechange"),Ai(l)==4){l.h=!1;try{let q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=q===0){var R=String(l.D).match(Vw)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),y=!NR.test(R?R.toLowerCase():"")}f=y}if(f)Wt(l,"complete"),Wt(l,"success");else{l.m=6;try{var F=2<Ai(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",Ww(l)}}finally{au(l)}}}}function au(l,d){if(l.g){Qw(l);let f=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Wt(l,"ready");try{f.onreadystatechange=y}catch{}}}function Qw(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Ai(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),cR(d)}};function Yw(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function MR(l){let d={};l=(l.g&&2<=Ai(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(J(l[y]))continue;var f=N(l[y]);let R=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let F=d[R]||[];d[R]=F,F.push(f)}A(d,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(l,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||d}function Zw(l){this.Aa=0,this.i=[],this.j=new Ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,l),this.cb=Ua("retryDelaySeedMs",1e4,l),this.Wa=Ua("forwardChannelMaxRetries",2,l),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Mw(l&&l.concurrentRequestLimit),this.Da=new AR,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zw.prototype,t.la=8,t.G=1,t.connect=function(l,d,f,y){Kt(0),this.W=l,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=sE(this,null,this.W),cu(this)};function Gp(l){if(Jw(l),l.G==3){var d=l.U++,f=Di(l.I);if(Ke(f,"SID",l.K),Ke(f,"RID",d),Ke(f,"TYPE","terminate"),ja(l,f),d=new hr(l,l.j,d),d.L=2,d.v=ou(Di(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=aE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),nu(d)}oE(l)}function lu(l){l.g&&(Wp(l),l.g.cancel(),l.g=null)}function Jw(l){lu(l),l.u&&(a.clearTimeout(l.u),l.u=null),uu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function cu(l){if(!Pw(l.h)&&!l.s){l.s=!0;var d=l.Ga;Z||at(),te||(Z(),te=!0),Ie.add(d,l),l.B=0}}function PR(l,d){return kw(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ra(C(l.Ga,l,d),rE(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let R=new hr(this,this.j,l),F=this.o;if(this.S&&(F?(F=E(F),x(F,this.S)):F=this.S),this.m!==null||this.O||(R.H=F,F=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=eE(this,R,d),f=Di(this.I),Ke(f,"RID",l),Ke(f,"CVER",22),this.D&&Ke(f,"X-HTTP-Session-Id",this.D),ja(this,f),F&&(this.O?d="headers="+encodeURIComponent(String(Gw(F)))+"&"+d:this.m&&qp(f,this.m,F)),$p(this.h,R),this.Ua&&Ke(f,"TYPE","init"),this.P?(Ke(f,"$req",d),Ke(f,"SID","null"),R.T=!0,Bp(R,f,null)):Bp(R,f,d),this.G=2}}else this.G==3&&(l?Xw(this,l):this.i.length==0||Pw(this.h)||Xw(this))};function Xw(l,d){var f;d?f=d.l:f=l.U++;let y=Di(l.I);Ke(y,"SID",l.K),Ke(y,"RID",f),Ke(y,"AID",l.T),ja(l,y),l.m&&l.o&&qp(y,l.m,l.o),f=new hr(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),d&&(l.i=d.D.concat(l.i)),d=eE(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),$p(l.h,f),Bp(f,y,d)}function ja(l,d){l.H&&ye(l.H,function(f,y){Ke(d,y,f)}),l.l&&Lw({},function(f,y){Ke(d,y,f)})}function eE(l,d,f){f=Math.min(l.i.length,f);var y=l.l?C(l.l.Na,l.l,l):null;e:{var R=l.i;let F=-1;for(;;){let q=["count="+f];F==-1?0<f?(F=R[0].g,q.push("ofs="+F)):F=0:q.push("ofs="+F);let He=!0;for(let xt=0;xt<f;xt++){let Pe=R[xt].g,jt=R[xt].map;if(Pe-=F,0>Pe)F=Math.max(0,R[xt].g-100),He=!1;else try{xR(jt,q,"req"+Pe+"_")}catch{y&&y(jt)}}if(He){y=q.join("&");break e}}}return l=l.i.splice(0,f),d.D=l,y}function tE(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Z||at(),te||(Z(),te=!0),Ie.add(d,l),l.v=0}}function zp(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ra(C(l.Fa,l),rE(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,nE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ra(C(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),lu(this),nE(this))};function Wp(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function nE(l){l.g=new hr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Di(l.qa);Ke(d,"RID","rpc"),Ke(d,"SID",l.K),Ke(d,"AID",l.T),Ke(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ke(d,"TO",l.ja),Ke(d,"TYPE","xmlhttp"),ja(l,d),l.m&&l.o&&qp(d,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=ou(Di(d)),f.m=null,f.P=!0,xw(f,l)}t.Za=function(){this.C!=null&&(this.C=null,lu(this),zp(this),Kt(19))};function uu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function iE(l,d){var f=null;if(l.g==d){uu(l),Wp(l),l.g=null;var y=2}else if(Hp(l.h,d))f=d.D,Ow(l.h,d),y=1;else return;if(l.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var R=l.B;y=Xc(),Wt(y,new Sw(y,f)),cu(l)}else tE(l);else if(R=d.s,R==3||R==0&&0<d.X||!(y==1&&PR(l,d)||y==2&&zp(l)))switch(f&&0<f.length&&(d=l.h,d.i=d.i.concat(f)),R){case 1:io(l,5);break;case 4:io(l,10);break;case 3:io(l,6);break;default:io(l,2)}}}function rE(l,d){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*d}function io(l,d){if(l.j.info("Error code "+d),d==2){var f=C(l.fb,l),y=l.Xa;let R=!y;y=new no(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||iu(y,"https"),ou(y),R?TR(y.toString(),f):DR(y.toString(),f)}else Kt(2);l.G=0,l.l&&l.l.sa(d),oE(l),Jw(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function oE(l){if(l.G=0,l.ka=[],l.l){let d=Fw(l.h);(d.length!=0||l.i.length!=0)&&(B(l.ka,d),B(l.ka,l.i),l.h.i.length=0,O(l.i),l.i.length=0),l.l.ra()}}function sE(l,d,f){var y=f instanceof no?Di(f):new no(f);if(y.g!="")d&&(y.g=d+"."+y.g),ru(y,y.s);else{var R=a.location;y=R.protocol,d=d?d+"."+R.hostname:R.hostname,R=+R.port;var F=new no(null);y&&iu(F,y),d&&(F.g=d),R&&ru(F,R),f&&(F.l=f),y=F}return f=l.D,d=l.ya,f&&d&&Ke(y,f,d),Ke(y,"VER",l.la),ja(l,y),y}function aE(l,d,f){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new tt(new La({eb:f})):new tt(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lE(){}t=lE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function du(){}du.prototype.g=function(l,d){return new pn(l,d)};function pn(l,d){Ut.call(this),this.g=new Zw(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!J(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new as(this)}S(pn,Ut),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gp(this.g)},pn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Pp(l),l=f);d.i.push(new gR(d.Ya++,l)),d.G==3&&cu(d)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gp(this.g),delete this.g,pn.aa.N.call(this)};function cE(l){Op.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let f in d){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}S(cE,Op);function uE(){Fp.call(this),this.status=1}S(uE,Fp);function as(l){this.g=l}S(as,lE),as.prototype.ua=function(){Wt(this.g,"a")},as.prototype.ta=function(l){Wt(this.g,new cE(l))},as.prototype.sa=function(l){Wt(this.g,new uE)},as.prototype.ra=function(){Wt(this.g,"b")},du.prototype.createWebChannel=du.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,WN=lr.createWebChannelTransport=function(){return new du},zN=lr.getStatEventTarget=function(){return Xc()},GN=lr.Event=eo,qN=lr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eu.NO_ERROR=0,eu.TIMEOUT=8,eu.HTTP_ERROR=6,$N=lr.ErrorCode=eu,Tw.COMPLETE="complete",HN=lr.EventType=Tw,ww.EventType=xa,xa.OPEN="a",xa.CLOSE="b",xa.ERROR="c",xa.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,jN=lr.WebChannel=ww,BK=lr.FetchXmlHttpFactory=La,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,UN=lr.XhrIo=tt}).apply(typeof gp<"u"?gp:typeof self<"u"?self:typeof window<"u"?window:{});var KN="@firebase/firestore";var Vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");var Yc="10.14.0";var Sa=new ri("@firebase/firestore");function ni(t,...e){if(Sa.logLevel<=Me.DEBUG){let n=e.map(lw);Sa.debug(`Firestore (${Yc}): ${t}`,...n)}}function XN(t,...e){if(Sa.logLevel<=Me.ERROR){let n=e.map(lw);Sa.error(`Firestore (${Yc}): ${t}`,...n)}}function UK(t,...e){if(Sa.logLevel<=Me.WARN){let n=e.map(lw);Sa.warn(`Firestore (${Yc}): ${t}`,...n)}}function lw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function fn(t="Unexpected state"){let e=`FIRESTORE (${Yc}) INTERNAL ASSERTION FAILED: `+t;throw XN(e),new Error(e)}function ns(t,e){t||fn()}var rn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Bt=class extends mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var is=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var _p=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},KC=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}},QC=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},YC=class{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ns(this.o===void 0);let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new is;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new is,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>L(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{ni("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ni("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new is)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ni("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ns(typeof i.accessToken=="string"),new _p(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ns(e===null||typeof e=="string"),new Vt(e)}},ZC=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},JC=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new ZC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},XC=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ew=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ns(this.o===void 0);let i=o=>{o.error!=null&&ni("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ni("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{ni("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):ni("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ns(typeof n.token=="string"),this.R=n.token,new XC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function eR(t,e){return t<e?-1:t>e?1:0}var tw=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&fn(),i===void 0?i=e.length-n:i>e.length-n&&fn(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xr=class t extends tw{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new Bt(rn.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}};var rs=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xr.fromString(e))}static fromName(e){return new t(Xr.fromString(e).popFirst(5))}static empty(){return new t(Xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xr(e.slice()))}};var nw=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};nw.UNKNOWN_ID=-1;function jK(t){return t.name==="IndexedDbTransactionError"}function HK(t){return t===0&&1/t==-1/0}var $K=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Tle=[...$K,"documentOverlays"],qK=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GK=qK,zK=[...GK,"indexConfiguration","indexState","indexEntries"];var Dle=[...zK,"globals"];var Ta=class t{constructor(e,n){this.comparator=e,this.root=n||bi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ba(this.root,e,this.comparator,!0)}},ba=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},bi=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fn();let e=this.left.check();if(e!==this.right.check())throw fn();return e+(this.isRed()?0:1)}};bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1;bi.EMPTY=new class{constructor(){this.size=0}get key(){throw fn()}get value(){throw fn()}get color(){throw fn()}get left(){throw fn()}get right(){throw fn()}copy(e,n,i,r,o){return this}insert(e,n,i){return new bi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yp=class t{constructor(e){this.comparator=e,this.data=new Ta(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vp(this.data.getIterator())}getIteratorFrom(e){return new vp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},vp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var iw=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Da=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new iw("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return eR(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Da.EMPTY_BYTE_STRING=new Da("");var WK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function KK(t){if(ns(!!t),typeof t=="string"){let e=0,n=WK.exec(t);if(ns(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qc(t.seconds),nanos:Qc(t.nanos)}}function Qc(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function QK(t){return typeof t=="string"?Da.fromBase64String(t):Da.fromUint8Array(t)}var rw=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function YK(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ZK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var xle=new Ta(rs.comparator);var Nle=new Ta(rs.comparator);var Rle=new Ta(rs.comparator),Mle=new yp(rs.comparator);var Ple=new yp(eR);var QN,Re;(Re=QN||(QN={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";var kle=new zC([4294967295,4294967295],0);var Cp=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Qc(e.integerValue));else if("doubleValue"in e){let i=Qc(e.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),HK(i)?n.At(0):n.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(n,20),typeof i=="string"&&(i=KK(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(QK(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in e?ZK(e)?this.dt(n,Number.MAX_SAFE_INTEGER):YK(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):fn()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let i=e.fields||{};this.dt(n,55);for(let r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}wt(e,n){var i,r;let o=e.fields||{};this.dt(n,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(n,15),n.At(Qc(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let i=e.values||[];this.dt(n,50);for(let r of i)this.Tt(r,n)}yt(e,n){this.dt(n,37),rs.fromName(e).path.forEach(i=>{this.dt(n,60),this.Dt(i,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Cp.vt=new Cp;var Ole=new Uint8Array(0);var Ii=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);function WC(){return typeof document<"u"?document:null}var ow=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&ni("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var sw=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Bt(rn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var YN,ZN;(ZN=YN||(YN={})).ea="default",ZN.Cache="cache";function JK(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var JN=new Map;function XK(t,e,n,i){if(e===!0&&i===!0)throw new Bt(rn.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eQ(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fn()}function tQ(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Bt(rn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=eQ(t);throw new Bt(rn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var wp=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Bt(rn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Bt(rn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JK((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Bt(rn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Bt(rn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Bt(rn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ep=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bt(rn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Bt(rn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wp(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new KC;switch(i.type){case"firstParty":return new JC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Bt(rn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return L(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=JN.get(n);i&&(ni("ComponentProvider","Removing Datastore"),JN.delete(n),i.terminate())}(this),Promise.resolve()}};function tR(t,e,n,i={}){var r;let o=(t=tQ(t,Ep))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&UK("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Vt.MOCK_USER;else{a=_u(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Bt(rn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Vt(u)}t._authCredentials=new QC(new _p(a,c))}}var Ip=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ow(this,"async_queue_retry"),this.Vu=()=>{let i=WC();i&&ni("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let n=WC();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=WC();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new is;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return L(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!jK(e))throw e;ni("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw XN("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let r=sw.createAndSchedule(this,e,n,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&fn()}verifyOperationInProgress(){}wu(){return L(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var aw=class extends Ep{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Ip,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return L(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ip(e),this._firestoreClient=void 0,yield e}})}};function nR(t,e){let n=typeof t=="object"?t:_r(),i=typeof t=="string"?t:e||"(default)",r=co(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=gu("firestore");o&&tR(r,...o)}return r}var Fle=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(r){Yc=r})(ai),si(new sn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new aw(new YC(i.getProvider("auth-internal")),new ew(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Bt(rn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rw(u.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ye(KN,"4.7.3",e),Ye(KN,"4.7.3","esm2017")})();var Zc=class{constructor(e){return e}},iR="firestore",cw=class{constructor(){return Mo(iR)}};var uw=new X("angularfire2.firestore-instances");function nQ(t,e){let n=qs(iR,t,e);return n&&new Zc(n)}function iQ(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Zc(i)}}var rQ={provide:cw,deps:[[new It,uw]]},oQ={provide:Zc,useFactory:nQ,deps:[[new It,uw],Zn]};function rR(t,...e){return Ye("angularfire",Wi.full,"fst"),Mn([oQ,rQ,{provide:uw,useFactory:iQ(t),multi:!0,deps:[Le,Pt,Lr,Ki,[new It,Lo],[new It,Fr],...e]}])}var oR=Jt(nR,!0);UA(Ef,{providers:[sN.providers,vf(Jf),FN(),kT(()=>OT(bx.firebaseConfig)),SD(()=>TD()),vA(()=>CA()),rR(()=>oR())]}).catch(t=>console.error(t));
