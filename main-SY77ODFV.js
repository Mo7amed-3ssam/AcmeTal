var HM=Object.defineProperty,$M=Object.defineProperties;var GM=Object.getOwnPropertyDescriptors;var gu=Object.getOwnPropertySymbols,qM=Object.getPrototypeOf,_E=Object.prototype.hasOwnProperty,yE=Object.prototype.propertyIsEnumerable,zM=Reflect.get;var gE=(t,e,n)=>e in t?HM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})_E.call(e,n)&&gE(t,n,e[n]);if(gu)for(var n of gu(e))yE.call(e,n)&&gE(t,n,e[n]);return t},_e=(t,e)=>$M(t,GM(e));var vE=(t,e)=>{var n={};for(var i in t)_E.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&gu)for(var i of gu(t))e.indexOf(i)<0&&yE.call(t,i)&&(n[i]=t[i]);return n};var _r=(t,e,n)=>zM(qM(t),n,e);var L=(t,e,n)=>new Promise((i,r)=>{var o=c=>{try{a(n.next(c))}catch(u){r(u)}},s=c=>{try{a(n.throw(c))}catch(u){r(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var em={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var $=function(t,e){if(!t)throw so(e)},so=function(t){return new Error("Firebase Database ("+em.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var wE=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},WM=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],s=t[n++],a=t[n++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},yu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,a=s?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,f=o>>2,_=(o&3)<<4|a>>4,E=(a&15)<<2|u>>6,b=u&63;c||(b=64,s||(E=64)),i.push(n[f],n[_],n[E],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let _=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||a==null||u==null||_==null)throw new tm;let E=o<<2|a>>4;if(i.push(E),u!==64){let b=a<<4&240|u>>2;if(i.push(b),_!==64){let I=u<<6&192|_;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},tm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},im=function(t){let e=wE(t);return yu.encodeByteArray(e,!0)},Ka=function(t){return im(t).replace(/\./g,"")},Qa=function(t){try{return yu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function EE(t){return bE(void 0,t)}function bE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!KM(n)||(t[n]=bE(t[n],e[n]));return t}function KM(t){return t!=="__proto__"}function QM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var YM=()=>QM().__FIREBASE_DEFAULTS__,ZM=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Qa(t[1]);return e&&JSON.parse(e)},rm=()=>{try{return YM()||ZM()||JM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},om=t=>{var e,n;return(n=(e=rm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vu=t=>{let e=om(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},sm=()=>{var t;return(t=rm())===null||t===void 0?void 0:t.config},am=t=>{var e;return(e=rm())===null||e===void 0?void 0:e[`_${t}`]};var Pi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function Cu(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ka(JSON.stringify(n)),Ka(JSON.stringify(s)),""].join(".")}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ya(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function SE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TE(){let t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ai(){return em.NODE_CLIENT===!0||em.NODE_ADMIN===!0}function lm(){try{return typeof indexedDB=="object"}catch{return!1}}function DE(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var XM="FirebaseError",gn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=XM,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ki.prototype.create)}},ki=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?eR(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new gn(r,a,i)}};function eR(t,e){return t.replace(tR,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var tR=/\{\$([^}]+)}/g;function ds(t){return JSON.parse(t)}function wt(t){return JSON.stringify(t)}var xE=function(t){let e={},n={},i={},r="";try{let o=t.split(".");e=ds(Qa(o[0])||""),n=ds(Qa(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}};var AE=function(t){let e=xE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},NE=function(t){let e=xE(t).claims;return typeof e=="object"&&e.admin===!0};function Hn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ao(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Za(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e,n){let i={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function lo(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],s=e[r];if(CE(o)&&CE(s)){if(!lo(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function CE(t){return t!==null&&typeof t=="object"}function co(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}var _u=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)i[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){let E=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(E<<1|E>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,f;for(let _=0;_<80;_++){_<40?_<20?(u=a^o&(s^a),f=1518500249):(u=o^s^a,f=1859775393):_<60?(u=o&s|a&(o|s),f=2400959708):(u=o^s^a,f=3395469782);let E=(r<<5|r>>>27)+u+c+f+i[_]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=E}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let i=n-this.blockSize,r=0,o=this.buf_,s=this.inbuf_;for(;r<n;){if(s===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<n;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}};function ME(t,e){let n=new nm(t,e);return n.subscribe.bind(n)}var nm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Xp),r.error===void 0&&(r.error=Xp),r.complete===void 0&&(r.complete=Xp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function nR(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xp(){}function Xa(t,e){return`${t} failed: ${e} argument `}var RE=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){let o=r-55296;i++,$(i<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},el=function(t){let e=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};var zJ=4*60*60*1e3;function qt(t){return t&&t._delegate?t._delegate:t}var cn=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var uo="[DEFAULT]";var Eu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new Pi;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rR(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return L(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iR(t){return t===uo?void 0:t}function rR(t){return t.instantiationMode==="EAGER"}var tl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Eu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var oR=[],Pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Pe||{}),sR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},aR=Pe.INFO,lR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},cR=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=lR[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},li=class{constructor(e){this.name=e,this._logLevel=aR,this._logHandler=cR,this._userLogHandler=null,oR.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}};var uR=(t,e)=>e.some(n=>t instanceof n),PE,kE;function dR(){return PE||(PE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return kE||(kE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var FE=new WeakMap,um=new WeakMap,OE=new WeakMap,cm=new WeakMap,hm=new WeakMap;function fR(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ci(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&FE.set(n,t)}).catch(()=>{}),hm.set(e,t),e}function pR(t){if(um.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});um.set(t,e)}var dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LE(t){dm=t(dm)}function mR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(bu(this),e,...n);return OE.set(i,e.sort?e.sort():[e]),ci(i)}:hR().includes(t)?function(...e){return t.apply(bu(this),e),ci(FE.get(this))}:function(...e){return ci(t.apply(bu(this),e))}}function gR(t){return typeof t=="function"?mR(t):(t instanceof IDBTransaction&&pR(t),uR(t,dR())?new Proxy(t,dm):t)}function ci(t){if(t instanceof IDBRequest)return fR(t);if(cm.has(t))return cm.get(t);let e=gR(t);return e!==t&&(cm.set(t,e),hm.set(e,t)),e}var bu=t=>hm.get(t);function BE(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(t,e),a=ci(s);return i&&s.addEventListener("upgradeneeded",c=>{i(ci(s.result),c.oldVersion,c.newVersion,ci(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var _R=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],fm=new Map;function VE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=yR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||_R.includes(n)))return;let o=function(s,...a){return L(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&c.done]))[0]})};return fm.set(e,o),o}LE(t=>_e(U({},t),{get:(e,n,i)=>VE(e,n)||t.get(e,n,i),has:(e,n)=>!!VE(e,n)||t.has(e,n)}));var mm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vR(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function vR(t){let e=t.getComponent();return e?.type==="VERSION"}var gm="@firebase/app",UE="0.10.13";var Fi=new li("@firebase/app"),CR="@firebase/app-compat",wR="@firebase/analytics-compat",ER="@firebase/analytics",bR="@firebase/app-check-compat",SR="@firebase/app-check",IR="@firebase/auth",TR="@firebase/auth-compat",DR="@firebase/database",xR="@firebase/data-connect",AR="@firebase/database-compat",NR="@firebase/functions",MR="@firebase/functions-compat",RR="@firebase/installations",PR="@firebase/installations-compat",kR="@firebase/messaging",FR="@firebase/messaging-compat",OR="@firebase/performance",LR="@firebase/performance-compat",VR="@firebase/remote-config",BR="@firebase/remote-config-compat",UR="@firebase/storage",jR="@firebase/storage-compat",HR="@firebase/firestore",$R="@firebase/vertexai-preview",GR="@firebase/firestore-compat",qR="firebase",zR="10.14.1";var _m="[DEFAULT]",WR={[gm]:"fire-core",[CR]:"fire-core-compat",[ER]:"fire-analytics",[wR]:"fire-analytics-compat",[SR]:"fire-app-check",[bR]:"fire-app-check-compat",[IR]:"fire-auth",[TR]:"fire-auth-compat",[DR]:"fire-rtdb",[xR]:"fire-data-connect",[AR]:"fire-rtdb-compat",[NR]:"fire-fn",[MR]:"fire-fn-compat",[RR]:"fire-iid",[PR]:"fire-iid-compat",[kR]:"fire-fcm",[FR]:"fire-fcm-compat",[OR]:"fire-perf",[LR]:"fire-perf-compat",[VR]:"fire-rc",[BR]:"fire-rc-compat",[UR]:"fire-gcs",[jR]:"fire-gcs-compat",[HR]:"fire-fst",[GR]:"fire-fst-compat",[$R]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};var nl=new Map,KR=new Map,ym=new Map;function jE(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ui(t){let e=t.name;if(ym.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,t);for(let n of nl.values())jE(n,t);for(let n of KR.values())jE(n,t);return!0}function ho(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Oi(t){return t.settings!==void 0}var QR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new ki("app","Firebase",QR);var vm=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}};var di=zR;function Em(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:_m,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw yr.create("bad-app-name",{appName:String(r)});if(n||(n=sm()),!n)throw yr.create("no-options");let o=nl.get(r);if(o){if(lo(n,o.options)&&lo(i,o.config))return o;throw yr.create("duplicate-app",{appName:r})}let s=new tl(r);for(let c of ym.values())s.addComponent(c);let a=new vm(n,i,s);return nl.set(r,a),a}function vr(t=_m){let e=nl.get(t);if(!e&&t===_m&&sm())return Em();if(!e)throw yr.create("no-app",{appName:t});return e}function Su(){return Array.from(nl.values())}function lt(t,e,n){var i;let r=(i=WR[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(a.join(" "));return}ui(new cn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var YR="firebase-heartbeat-database",ZR=1,il="firebase-heartbeat-store",pm=null;function qE(){return pm||(pm=BE(YR,ZR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(il)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),pm}function JR(t){return L(this,null,function*(){try{let n=(yield qE()).transaction(il),i=yield n.objectStore(il).get(zE(t));return yield n.done,i}catch(e){if(e instanceof gn)Fi.warn(e.message);else{let n=yr.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(n.message)}}})}function HE(t,e){return L(this,null,function*(){try{let i=(yield qE()).transaction(il,"readwrite");yield i.objectStore(il).put(e,zE(t)),yield i.done}catch(n){if(n instanceof gn)Fi.warn(n.message);else{let i=yr.create("idb-set",{originalErrorMessage:n?.message});Fi.warn(i.message)}}})}function zE(t){return`${t.name}!${t.options.appId}`}var XR=1024,eP=30*24*60*60*1e3,Cm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new wm(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return L(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$E();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=eP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Fi.warn(i)}})}getHeartbeatsHeader(){return L(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=$E(),{heartbeatsToSend:i,unsentEntries:r}=tP(this._heartbeatsCache.heartbeats),o=Ka(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Fi.warn(n),""}})}};function $E(){return new Date().toISOString().substring(0,10)}function tP(t,e=XR){let n=[],i=t.slice();for(let r of t){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),GE(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),GE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var wm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return L(this,null,function*(){return lm()?DE().then(()=>!0).catch(()=>!1):!1})}read(){return L(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield JR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return L(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return HE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return L(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return HE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function GE(t){return Ka(JSON.stringify({version:2,heartbeats:t})).length}function nP(t){ui(new cn("platform-logger",e=>new mm(e),"PRIVATE")),ui(new cn("heartbeat",e=>new Cm(e),"PRIVATE")),lt(gm,UE,t),lt(gm,UE,"esm2017"),lt("fire-js","")}nP("");var iP="firebase",rP="10.14.1";lt(iP,rP,"app");function me(t){return typeof t=="function"}function hs(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Iu=hs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var pt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(me(i))try{i()}catch(o){e=o instanceof Iu?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{WE(o)}catch(s){e=e??[],s instanceof Iu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Iu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)WE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fo(n,e)}remove(e){let{_finalizers:n}=this;n&&fo(n,e),e instanceof t&&e._removeParent(this)}};pt.EMPTY=(()=>{let t=new pt;return t.closed=!0,t})();var bm=pt.EMPTY;function Tu(t){return t instanceof pt||t&&"closed"in t&&me(t.remove)&&me(t.add)&&me(t.unsubscribe)}function WE(t){me(t)?t():t.unsubscribe()}var $n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fs={setTimeout(t,e,...n){let{delegate:i}=fs;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=fs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Du(t){fs.setTimeout(()=>{let{onUnhandledError:e}=$n;if(e)e(t);else throw t})}function rl(){}var KE=Sm("C",void 0,void 0);function QE(t){return Sm("E",void 0,t)}function YE(t){return Sm("N",t,void 0)}function Sm(t,e,n){return{kind:t,value:e,error:n}}var po=null;function ps(t){if($n.useDeprecatedSynchronousErrorHandling){let e=!po;if(e&&(po={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=po;if(po=null,n)throw i}}else t()}function ZE(t){$n.useDeprecatedSynchronousErrorHandling&&po&&(po.errorThrown=!0,po.error=t)}var mo=class extends pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tu(e)&&e.add(this)):this.destination=aP}static create(e,n,i){return new ms(e,n,i)}next(e){this.isStopped?Tm(YE(e),this):this._next(e)}error(e){this.isStopped?Tm(QE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tm(KE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oP=Function.prototype.bind;function Im(t,e){return oP.call(t,e)}var Dm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){xu(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){xu(i)}else xu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xu(n)}}},ms=class extends mo{constructor(e,n,i){super();let r;if(me(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&$n.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Im(e.next,o),error:e.error&&Im(e.error,o),complete:e.complete&&Im(e.complete,o)}):r=e}this.destination=new Dm(r)}};function xu(t){$n.useDeprecatedSynchronousErrorHandling?ZE(t):Du(t)}function sP(t){throw t}function Tm(t,e){let{onStoppedNotification:n}=$n;n&&fs.setTimeout(()=>n(t,e))}var aP={closed:!0,next:rl,error:sP,complete:rl};var gs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _n(t){return t}function xm(...t){return Am(t)}function Am(t){return t.length===0?_n:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var Ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=cP(n)?n:new ms(n,i,r);return ps(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=JE(i),new i((r,o)=>{let s=new ms({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[gs](){return this}pipe(...n){return Am(n)(this)}toPromise(n){return n=JE(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function JE(t){var e;return(e=t??$n.Promise)!==null&&e!==void 0?e:Promise}function lP(t){return t&&me(t.next)&&me(t.error)&&me(t.complete)}function cP(t){return t&&t instanceof mo||lP(t)&&Tu(t)}function Nm(t){return me(t?.lift)}function Me(t){return e=>{if(Nm(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(t,e,n,i,r){return new Mm(t,e,n,i,r)}var Mm=class extends mo{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _s(){return Me((t,e)=>{let n=null;t._refCount++;let i=De(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var ys=class extends Ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Nm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pt;let n=this.getSubject();e.add(this.source.subscribe(De(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pt.EMPTY)}return e}refCount(){return _s()(this)}};var XE=hs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Et=(()=>{class t extends Ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Au(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new XE}next(n){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?bm:(this.currentObservers=null,o.push(n),new pt(()=>{this.currentObservers=null,fo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new Ne;return n.source=this,n}}return t.create=(e,n)=>new Au(e,n),t})(),Au=class extends Et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:bm}};var Pt=class extends Et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Rm={now(){return(Rm.delegate||Date).now()},delegate:void 0};var Nu=class extends pt{constructor(e,n){super()}schedule(e,n=0){return this}};var ol={setInterval(t,e,...n){let{delegate:i}=ol;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ol;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var vs=class extends Nu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return ol.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&ol.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fo(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Cs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Cs.now=Rm.now;var ws=class extends Cs{constructor(e,n=Cs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Pm=new ws(vs);var Mu=class extends vs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Ru=class extends ws{};var km=new Ru(Mu);var yn=new Ne(t=>t.complete());function eb(t){return t&&me(t.schedule)}function tb(t){return t[t.length-1]}function Pu(t){return me(tb(t))?t.pop():void 0}function Cr(t){return eb(tb(t))?t.pop():void 0}function Fm(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function ib(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{u(i.next(f))}catch(_){s(_)}}function c(f){try{u(i.throw(f))}catch(_){s(_)}}function u(f){f.done?o(f.value):r(f.value).then(a,c)}u((i=i.apply(t,e||[])).next())})}function nb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function go(t){return this instanceof go?(this.v=t,this):new go(t)}function rb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(b){return function(I){return Promise.resolve(I).then(b,_)}}function a(b,I){i[b]&&(r[b]=function(F){return new Promise(function(j,K){o.push([b,F,j,K])>1||c(b,F)})},I&&(r[b]=I(r[b])))}function c(b,I){try{u(i[b](I))}catch(F){E(o[0][3],F)}}function u(b){b.value instanceof go?Promise.resolve(b.value.v).then(f,_):E(o[0][2],b)}function f(b){c("next",b)}function _(b){c("throw",b)}function E(b,I){b(I),o.shift(),o.length&&c(o[0][0],o[0][1])}}function ob(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nb=="function"?nb(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var ku=t=>t&&typeof t.length=="number"&&typeof t!="function";function Fu(t){return me(t?.then)}function Ou(t){return me(t[gs])}function Lu(t){return Symbol.asyncIterator&&me(t?.[Symbol.asyncIterator])}function Vu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bu=uP();function Uu(t){return me(t?.[Bu])}function ju(t){return rb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield go(n.read());if(r)return yield go(void 0);yield yield go(i)}}finally{n.releaseLock()}})}function Hu(t){return me(t?.getReader)}function bt(t){if(t instanceof Ne)return t;if(t!=null){if(Ou(t))return dP(t);if(ku(t))return hP(t);if(Fu(t))return fP(t);if(Lu(t))return sb(t);if(Uu(t))return pP(t);if(Hu(t))return mP(t)}throw Vu(t)}function dP(t){return new Ne(e=>{let n=t[gs]();if(me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hP(t){return new Ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function fP(t){return new Ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Du)})}function pP(t){return new Ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function sb(t){return new Ne(e=>{gP(t,e).catch(n=>e.error(n))})}function mP(t){return sb(ju(t))}function gP(t,e){var n,i,r,o;return ib(this,void 0,void 0,function*(){try{for(n=ob(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function un(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function wr(t,e=0){return Me((n,i)=>{n.subscribe(De(i,r=>un(i,t,()=>i.next(r),e),()=>un(i,t,()=>i.complete(),e),r=>un(i,t,()=>i.error(r),e)))})}function Er(t,e=0){return Me((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function ab(t,e){return bt(t).pipe(Er(e),wr(e))}function lb(t,e){return bt(t).pipe(Er(e),wr(e))}function cb(t,e){return new Ne(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function ub(t,e){return new Ne(n=>{let i;return un(n,e,()=>{i=t[Bu](),un(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>me(i?.return)&&i.return()})}function $u(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ne(n=>{un(n,e,()=>{let i=t[Symbol.asyncIterator]();un(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function db(t,e){return $u(ju(t),e)}function hb(t,e){if(t!=null){if(Ou(t))return ab(t,e);if(ku(t))return cb(t,e);if(Fu(t))return lb(t,e);if(Lu(t))return $u(t,e);if(Uu(t))return ub(t,e);if(Hu(t))return db(t,e)}throw Vu(t)}function ke(t,e){return e?hb(t,e):bt(t)}function he(...t){let e=Cr(t);return ke(t,e)}function Es(t,e){let n=me(t)?t:()=>t,i=r=>r.error(n());return new Ne(e?r=>e.schedule(i,0,r):i)}function Om(t){return!!t&&(t instanceof Ne||me(t.lift)&&me(t.subscribe))}var Li=hs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(t,e){return Me((n,i)=>{let r=0;n.subscribe(De(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:_P}=Array;function yP(t,e){return _P(e)?t(...e):t(e)}function Gu(t){return ce(e=>yP(t,e))}var{isArray:vP}=Array,{getPrototypeOf:CP,prototype:wP,keys:EP}=Object;function qu(t){if(t.length===1){let e=t[0];if(vP(e))return{args:e,keys:null};if(bP(e)){let n=EP(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function bP(t){return t&&typeof t=="object"&&CP(t)===wP}function zu(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Wu(...t){let e=Cr(t),n=Pu(t),{args:i,keys:r}=qu(t);if(i.length===0)return ke([],e);let o=new Ne(SP(i,e,r?s=>zu(r,s):_n));return n?o.pipe(Gu(n)):o}function SP(t,e,n=_n){return i=>{fb(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)fb(e,()=>{let u=ke(t[c],e),f=!1;u.subscribe(De(i,_=>{o[c]=_,f||(f=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function fb(t,e,n){t?un(n,t,e):e()}function pb(t,e,n,i,r,o,s,a){let c=[],u=0,f=0,_=!1,E=()=>{_&&!c.length&&!u&&e.complete()},b=F=>u<i?I(F):c.push(F),I=F=>{o&&e.next(F),u++;let j=!1;bt(n(F,f++)).subscribe(De(e,K=>{r?.(K),o?b(K):e.next(K)},()=>{j=!0},void 0,()=>{if(j)try{for(u--;c.length&&u<i;){let K=c.shift();s?un(e,s,()=>I(K)):I(K)}E()}catch(K){e.error(K)}}))};return t.subscribe(De(e,b,()=>{_=!0,E()})),()=>{a?.()}}function St(t,e,n=1/0){return me(e)?St((i,r)=>ce((o,s)=>e(i,o,r,s))(bt(t(i,r))),n):(typeof e=="number"&&(n=e),Me((i,r)=>pb(i,r,t,n)))}function bs(t=1/0){return St(_n,t)}function mb(){return bs(1)}function Ss(...t){return mb()(ke(t,Cr(t)))}function Ku(t){return new Ne(e=>{bt(t()).subscribe(e)})}function Lm(...t){let e=Pu(t),{args:n,keys:i}=qu(t),r=new Ne(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let f=0;f<s;f++){let _=!1;bt(n[f]).subscribe(De(o,E=>{_||(_=!0,u--),a[f]=E},()=>c--,void 0,()=>{(!c||!_)&&(u||o.next(i?zu(i,a):a),o.complete())}))}});return e?r.pipe(Gu(e)):r}function Gn(t,e){return Me((n,i)=>{let r=0;n.subscribe(De(i,o=>t.call(e,o,r++)&&i.next(o)))})}function br(t){return Me((e,n)=>{let i=null,r=!1,o;i=e.subscribe(De(n,void 0,void 0,s=>{o=bt(t(s,br(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function gb(t,e,n,i,r){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(De(s,f=>{let _=u++;c=a?t(c,f,_):(a=!0,f),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Is(t,e){return me(e)?St(t,e,1):St(t,1)}function Sr(t){return Me((e,n)=>{let i=!1;e.subscribe(De(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Vi(t){return t<=0?()=>yn:Me((e,n)=>{let i=0;e.subscribe(De(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Vm(t){return ce(()=>t)}function Qu(t=IP){return Me((e,n)=>{let i=!1;e.subscribe(De(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function IP(){return new Li}function sl(t){return Me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Bi(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Gn((r,o)=>t(r,o,i)):_n,Vi(1),n?Sr(e):Qu(()=>new Li))}function Ts(t){return t<=0?()=>yn:Me((e,n)=>{let i=[];e.subscribe(De(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Bm(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Gn((r,o)=>t(r,o,i)):_n,Ts(1),n?Sr(e):Qu(()=>new Li))}function Um(t,e){return Me(gb(t,e,arguments.length>=2,!0))}function jm(...t){let e=Cr(t);return Me((n,i)=>{(e?Ss(t,n,e):Ss(t,n)).subscribe(i)})}function qn(t,e){return Me((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(De(i,c=>{r?.unsubscribe();let u=0,f=o++;bt(t(c,f)).subscribe(r=De(i,_=>i.next(e?e(c,_,f,u++):_),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Hm(t){return Me((e,n)=>{bt(t).subscribe(De(n,()=>n.complete(),rl)),!n.closed&&e.subscribe(n)})}function It(t,e,n){let i=me(t)||e||n?{next:t,error:e,complete:n}:t;return i?Me((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(De(o,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),o.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):_n}function zm(t,e){return Object.is(t,e)}var Tt=null,Yu=!1,Wm=1,xn=Symbol("SIGNAL");function Ie(t){let e=Tt;return Tt=t,e}function _b(){return Tt}var ll={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ju(t){if(Yu)throw new Error("");if(Tt===null)return;Tt.consumerOnSignalRead(t);let e=Tt.nextProducerIndex++;if(td(Tt),e<Tt.producerNode.length&&Tt.producerNode[e]!==t&&al(Tt)){let n=Tt.producerNode[e];ed(n,Tt.producerIndexOfThis[e])}Tt.producerNode[e]!==t&&(Tt.producerNode[e]=t,Tt.producerIndexOfThis[e]=al(Tt)?Cb(t,Tt,e):0),Tt.producerLastReadVersion[e]=t.version}function TP(){Wm++}function Km(t){if(!(al(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Wm)){if(!t.producerMustRecompute(t)&&!Ym(t)){qm(t);return}t.producerRecomputeValue(t),qm(t)}}function yb(t){if(t.liveConsumerNode===void 0)return;let e=Yu;Yu=!0;try{for(let n of t.liveConsumerNode)n.dirty||DP(n)}finally{Yu=e}}function vb(){return Tt?.consumerAllowSignalWrites!==!1}function DP(t){t.dirty=!0,yb(t),t.consumerMarkedDirty?.(t)}function qm(t){t.dirty=!1,t.lastCleanEpoch=Wm}function Xu(t){return t&&(t.nextProducerIndex=0),Ie(t)}function Qm(t,e){if(Ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(al(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ed(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ym(t){td(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(Km(n),i!==n.version))return!0}return!1}function Zm(t){if(td(t),al(t))for(let e=0;e<t.producerNode.length;e++)ed(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Cb(t,e,n){if(wb(t),t.liveConsumerNode.length===0&&Eb(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=Cb(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ed(t,e){if(wb(t),t.liveConsumerNode.length===1&&Eb(t))for(let i=0;i<t.producerNode.length;i++)ed(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];td(r),r.producerIndexOfThis[i]=e}}function al(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function td(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function wb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Eb(t){return t.producerNode!==void 0}function bb(t){let e=Object.create(xP);e.computation=t;let n=()=>{if(Km(e),Ju(e),e.value===Zu)throw e.error;return e.value};return n[xn]=e,n}var $m=Symbol("UNSET"),Gm=Symbol("COMPUTING"),Zu=Symbol("ERRORED"),xP=_e(U({},ll),{value:$m,dirty:!0,error:null,equal:zm,producerMustRecompute(t){return t.value===$m||t.value===Gm},producerRecomputeValue(t){if(t.value===Gm)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Gm;let n=Xu(t),i;try{i=t.computation()}catch(r){i=Zu,t.error=r}finally{Qm(t,n)}if(e!==$m&&e!==Zu&&i!==Zu&&t.equal(e,i)){t.value=e;return}t.value=i,t.version++}});function AP(){throw new Error}var Sb=AP;function Ib(){Sb()}function Tb(t){Sb=t}var NP=null;function Db(t){let e=Object.create(Jm);e.value=t;let n=()=>(Ju(e),e.value);return n[xn]=e,n}function nd(t,e){vb()||Ib(),t.equal(t.value,e)||(t.value=e,MP(t))}function xb(t,e){vb()||Ib(),nd(t,e(t.value))}var Jm=_e(U({},ll),{equal:zm,value:void 0});function MP(t){t.version++,TP(),yb(t),NP?.()}var pS="https://g.co/ng/security#xss",G=class extends Error{code;constructor(e,n){super(h_(e,n)),this.code=e}};function h_(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var mS=Symbol("InputSignalNode#UNSET"),RP=_e(U({},Jm),{transformFn:void 0,applyValueToInputSignal(t,e){nd(t,e)}});function gS(t,e){let n=Object.create(RP);n.value=t,n.transformFn=e?.transform;function i(){if(Ju(n),n.value===mS)throw new G(-950,!1);return n.value}return i[xn]=n,i}function Il(t){return{toString:t}.toString()}var id="__parameters__";function PP(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function kP(t,e,n){return Il(()=>{let i=PP(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,u,f){let _=c.hasOwnProperty(id)?c[id]:Object.defineProperty(c,id,{value:[]})[id];for(;_.length<=f;)_.push(null);return(_[f]=_[f]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var hg=globalThis;function ze(t){for(let e in t)if(t[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function FP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(dn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Ab(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var OP=ze({__forward_ref__:ze});function Qn(t){return t.__forward_ref__=Qn,t.toString=function(){return dn(this())},t}function Jt(t){return _S(t)?t():t}function _S(t){return typeof t=="function"&&t.hasOwnProperty(OP)&&t.__forward_ref__===Qn}function te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ld(t){return Nb(t,vS)||Nb(t,CS)}function yS(t){return Ld(t)!==null}function Nb(t,e){return t.hasOwnProperty(e)?t[e]:null}function LP(t){let e=t&&(t[vS]||t[CS]);return e||null}function Mb(t){return t&&(t.hasOwnProperty(Rb)||t.hasOwnProperty(VP))?t[Rb]:null}var vS=ze({\u0275prov:ze}),Rb=ze({\u0275inj:ze}),CS=ze({ngInjectableDef:ze}),VP=ze({ngInjectorDef:ze}),ee=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=te({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function wS(t){return t&&!!t.\u0275providers}var BP=ze({\u0275cmp:ze}),UP=ze({\u0275dir:ze}),jP=ze({\u0275pipe:ze}),HP=ze({\u0275mod:ze}),pd=ze({\u0275fac:ze}),dl=ze({__NG_ELEMENT_ID__:ze}),Pb=ze({__NG_ENV_ID__:ze});function Vd(t){return typeof t=="string"?t:t==null?"":String(t)}function $P(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Vd(t)}function GP(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function f_(t,e){throw new G(-201,!1)}var Ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ce||{}),fg;function ES(){return fg}function An(t){let e=fg;return fg=t,e}function bS(t,e,n){let i=Ld(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Ce.Optional)return null;if(e!==void 0)return e;f_(t,"Injector")}var qP={},hl=qP,pg="__NG_DI_FLAG__",md="ngTempTokenPath",zP="ngTokenPath",WP=/\n/gm,KP="\u0275",kb="__source",Ns;function QP(){return Ns}function Ir(t){let e=Ns;return Ns=t,e}function YP(t,e=Ce.Default){if(Ns===void 0)throw new G(-203,!1);return Ns===null?bS(t,void 0,e):Ns.get(t,e&Ce.Optional?null:void 0,e)}function le(t,e=Ce.Default){return(ES()||YP)(Jt(t),e)}function Q(t,e=Ce.Default){return le(t,Bd(e))}function Bd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mg(t){let e=[];for(let n=0;n<t.length;n++){let i=Jt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new G(900,!1);let r,o=Ce.Default;for(let s=0;s<i.length;s++){let a=i[s],c=JP(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(le(r,o))}else e.push(le(i))}return e}function ZP(t,e){return t[pg]=e,t.prototype[pg]=e,t}function JP(t){return t[pg]}function XP(t,e,n,i){let r=t[md];throw e[kb]&&r.unshift(e[kb]),t.message=ek(`
`+t.message,r,n,i),t[zP]=r,t[md]=null,t}function ek(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==KP?t.slice(2):t;let r=dn(e);if(Array.isArray(e))r=e.map(dn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):dn(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(WP,`
  `)}`}var xt=ZP(kP("Optional"),8);function Rs(t,e){let n=t.hasOwnProperty(pd);return n?t[pd]:null}function tk(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function nk(t){return t.flat(Number.POSITIVE_INFINITY)}function p_(t,e){t.forEach(n=>Array.isArray(n)?p_(n,e):e(n))}function SS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ik(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function rk(t,e,n){let i=Tl(t,e);return i>=0?t[i|1]=n:(i=~i,ik(t,i,e,n)),i}function Xm(t,e){let n=Tl(t,e);if(n>=0)return t[n|1]}function Tl(t,e){return ok(t,e,1)}function ok(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var Ps={},Nn=[],ks=new ee(""),IS=new ee("",-1),TS=new ee(""),_d=class{get(e,n=hl){if(n===hl){let i=new Error(`NullInjectorError: No provider for ${dn(e)}!`);throw i.name="NullInjectorError",i}return n}};function DS(t,e){let n=t[HP]||null;if(!n&&e===!0)throw new Error(`Type ${dn(t)} does not have '\u0275mod' property.`);return n}function yo(t){return t[BP]||null}function xS(t){return t[UP]||null}function AS(t){return t[jP]||null}function NS(t){let e=yo(t)||xS(t)||AS(t);return e!==null?e.standalone:!1}function Pn(t){return{\u0275providers:t}}function sk(...t){return{\u0275providers:MS(!0,t),\u0275fromNgModule:!0}}function MS(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return p_(e,s=>{let a=s;gg(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&RS(r,o),n}function RS(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];m_(r,o=>{e(o,i)})}}function gg(t,e,n,i){if(t=Jt(t),!t)return!1;let r=null,o=Mb(t),s=!o&&yo(t);if(!o&&!s){let c=t.ngModule;if(o=Mb(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)gg(u,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{p_(o.imports,f=>{gg(f,e,n,i)&&(u||=[],u.push(f))})}finally{}u!==void 0&&RS(u,e)}if(!a){let u=Rs(r)||(()=>new r);e({provide:r,useFactory:u,deps:Nn},r),e({provide:TS,useValue:r,multi:!0},r),e({provide:ks,useValue:()=>le(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let u=t;m_(c,f=>{e(f,u)})}}else return!1;return r!==t&&t.providers!==void 0}function m_(t,e){for(let n of t)wS(n)&&(n=n.\u0275providers),Array.isArray(n)?m_(n,e):e(n)}var ak=ze({provide:String,useValue:ze});function PS(t){return t!==null&&typeof t=="object"&&ak in t}function lk(t){return!!(t&&t.useExisting)}function ck(t){return!!(t&&t.useFactory)}function Fs(t){return typeof t=="function"}function uk(t){return!!t.useClass}var Ud=new ee(""),ld={},dk={},eg;function g_(){return eg===void 0&&(eg=new _d),eg}var Mn=class{},fl=class extends Mn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,yg(e,s=>this.processProvider(s)),this.records.set(IS,Ds(void 0,this)),r.has("environment")&&this.records.set(Mn,Ds(void 0,this));let o=this.records.get(Ud);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(TS,Nn,Ce.Self))}destroy(){cl(this),this._destroyed=!0;let e=Ie(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return cl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){cl(this);let n=Ir(this),i=An(void 0),r;try{return e()}finally{Ir(n),An(i)}}get(e,n=hl,i=Ce.Default){if(cl(this),e.hasOwnProperty(Pb))return e[Pb](this);i=Bd(i);let r,o=Ir(this),s=An(void 0);try{if(!(i&Ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=gk(e)&&Ld(e);u&&this.injectableDefInScope(u)?c=Ds(_g(e),ld):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&Ce.Self?g_():this.parent;return n=i&Ce.Optional&&n===hl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[md]=a[md]||[]).unshift(dn(e)),o)throw a;return XP(a,e,"R3InjectorError",this.source)}else throw a}finally{An(s),Ir(o)}}resolveInjectorInitializers(){let e=Ie(null),n=Ir(this),i=An(void 0),r;try{let o=this.get(ks,Nn,Ce.Self);for(let s of o)s()}finally{Ir(n),An(i),Ie(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(dn(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Jt(e);let n=Fs(e)?e:Jt(e&&e.provide),i=fk(e);if(!Fs(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Ds(void 0,ld,!0),r.factory=()=>mg(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Ie(null);try{return n.value===ld&&(n.value=dk,n.value=n.factory()),typeof n.value=="object"&&n.value&&mk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Jt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _g(t){let e=Ld(t),n=e!==null?e.factory:Rs(t);if(n!==null)return n;if(t instanceof ee)throw new G(204,!1);if(t instanceof Function)return hk(t);throw new G(204,!1)}function hk(t){if(t.length>0)throw new G(204,!1);let n=LP(t);return n!==null?()=>n.factory(t):()=>new t}function fk(t){if(PS(t))return Ds(void 0,t.useValue);{let e=kS(t);return Ds(e,ld)}}function kS(t,e,n){let i;if(Fs(t)){let r=Jt(t);return Rs(r)||_g(r)}else if(PS(t))i=()=>Jt(t.useValue);else if(ck(t))i=()=>t.useFactory(...mg(t.deps||[]));else if(lk(t))i=()=>le(Jt(t.useExisting));else{let r=Jt(t&&(t.useClass||t.provide));if(pk(t))i=()=>new r(...mg(t.deps));else return Rs(r)||_g(r)}return i}function cl(t){if(t.destroyed)throw new G(205,!1)}function Ds(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pk(t){return!!t.deps}function mk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function gk(t){return typeof t=="function"||typeof t=="object"&&t instanceof ee}function yg(t,e){for(let n of t)Array.isArray(n)?yg(n,e):n&&wS(n)?yg(n.\u0275providers,e):e(n)}function Yn(t,e){t instanceof fl&&cl(t);let n,i=Ir(t),r=An(void 0);try{return e()}finally{Ir(i),An(r)}}function _k(){return ES()!==void 0||QP()!=null}function yk(t){return typeof t=="function"}var qi=0,fe=1,se=2,Kt=3,Wn=4,Zn=5,pl=6,yd=7,zt=8,Os=9,Ui=10,kt=11,ml=12,Fb=13,js=14,Kn=15,vo=16,xs=17,ji=18,jd=19,FS=20,Tr=21,tg=22,vd=23,vn=24,Rn=25,OS=1;var Co=7,Cd=8,Ls=9,Wt=10,wd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(wd||{});function Dr(t){return Array.isArray(t)&&typeof t[OS]=="object"}function zi(t){return Array.isArray(t)&&t[OS]===!0}function LS(t){return(t.flags&4)!==0}function Hd(t){return t.componentOffset>-1}function __(t){return(t.flags&1)===1}function xr(t){return!!t.template}function vg(t){return(t[se]&512)!==0}var Cg=class{previousValue;currentValue;firstChange;constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function VS(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}var Wi=(()=>{let t=()=>BS;return t.ngInherit=!0,t})();function BS(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ck),vk}function vk(){let t=jS(this),e=t?.current;if(e){let n=t.previous;if(n===Ps)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Ck(t,e,n,i,r){let o=this.declaredInputs[i],s=jS(t)||wk(t,{previous:Ps,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Cg(u&&u.currentValue,n,c===Ps),VS(t,e,r,n)}var US="__ngSimpleChanges__";function jS(t){return t[US]||null}function wk(t,e){return t[US]=e}var Ob=null;var hi=function(t,e,n){Ob?.(t,e,n)},Ek="svg",bk="math";function pi(t){for(;Array.isArray(t);)t=t[qi];return t}function HS(t,e){return pi(e[t])}function kn(t,e){return pi(e[t.index])}function y_(t,e){return t.data[e]}function Sk(t,e){return t[e]}function kr(t,e){let n=e[t];return Dr(n)?n:n[qi]}function Ik(t){return(t[se]&4)===4}function v_(t){return(t[se]&128)===128}function Tk(t){return zi(t[Kt])}function Vs(t,e){return e==null?null:t[e]}function $S(t){t[xs]=0}function C_(t){t[se]&1024||(t[se]|=1024,v_(t)&&Gd(t))}function Dk(t,e){for(;t>0;)e=e[js],t--;return e}function $d(t){return!!(t[se]&9216||t[vn]?.dirty)}function wg(t){t[Ui].changeDetectionScheduler?.notify(9),t[se]&64&&(t[se]|=1024),$d(t)&&Gd(t)}function Gd(t){t[Ui].changeDetectionScheduler?.notify(0);let e=wo(t);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!v_(e)));)e=wo(e)}function GS(t,e){if((t[se]&256)===256)throw new G(911,!1);t[Tr]===null&&(t[Tr]=[]),t[Tr].push(e)}function xk(t,e){if(t[Tr]===null)return;let n=t[Tr].indexOf(e);n!==-1&&t[Tr].splice(n,1)}function wo(t){let e=t[Kt];return zi(e)?e[Kt]:e}var we={lFrame:XS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Eg=!1;function Ak(){return we.lFrame.elementDepthCount}function Nk(){we.lFrame.elementDepthCount++}function Mk(){we.lFrame.elementDepthCount--}function qS(){return we.bindingsEnabled}function Rk(){return we.skipHydrationRootTNode!==null}function Pk(t){return we.skipHydrationRootTNode===t}function kk(){we.skipHydrationRootTNode=null}function Ve(){return we.lFrame.lView}function hn(){return we.lFrame.tView}function ne(t){return we.lFrame.contextLView=t,t[zt]}function ie(t){return we.lFrame.contextLView=null,t}function Xt(){let t=zS();for(;t!==null&&t.type===64;)t=t.parent;return t}function zS(){return we.lFrame.currentTNode}function Fk(){let t=we.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Dl(t,e){let n=we.lFrame;n.currentTNode=t,n.isParent=e}function WS(){return we.lFrame.isParent}function Ok(){we.lFrame.isParent=!1}function Lk(){return we.lFrame.contextLView}function KS(){return Eg}function Lb(t){let e=Eg;return Eg=t,e}function QS(){let t=we.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Vk(t){return we.lFrame.bindingIndex=t}function xl(){return we.lFrame.bindingIndex++}function Bk(t){let e=we.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Uk(){return we.lFrame.inI18n}function jk(t,e){let n=we.lFrame;n.bindingIndex=n.bindingRootIndex=t,bg(e)}function Hk(){return we.lFrame.currentDirectiveIndex}function bg(t){we.lFrame.currentDirectiveIndex=t}function $k(t){let e=we.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function YS(){return we.lFrame.currentQueryIndex}function w_(t){we.lFrame.currentQueryIndex=t}function Gk(t){let e=t[fe];return e.type===2?e.declTNode:e.type===1?t[Zn]:null}function ZS(t,e,n){if(n&Ce.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&Ce.Host);)if(r=Gk(o),r===null||(o=o[js],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=we.lFrame=JS();return i.currentTNode=e,i.lView=t,!0}function E_(t){let e=JS(),n=t[fe];we.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function JS(){let t=we.lFrame,e=t===null?null:t.child;return e===null?XS(t):e}function XS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eI(){let t=we.lFrame;return we.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tI=eI;function b_(){let t=eI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qk(t){return(we.lFrame.contextLView=Dk(t,we.lFrame.contextLView))[zt]}function xo(){return we.lFrame.selectedIndex}function Eo(t){we.lFrame.selectedIndex=t}function nI(){let t=we.lFrame;return y_(t.tView,t.selectedIndex)}function zk(){return we.lFrame.currentNamespace}var iI=!0;function S_(){return iI}function I_(t){iI=t}function Wk(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=BS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function T_(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function cd(t,e,n){rI(t,e,3,n)}function ud(t,e,n,i){(t[se]&3)===n&&rI(t,e,n,i)}function ng(t,e){let n=t[se];(n&3)===e&&(n&=16383,n+=1,t[se]=n)}function rI(t,e,n,i){let r=i!==void 0?t[xs]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[xs]+=65536),(a<o||o==-1)&&(Kk(t,n,e,c),t[xs]=(t[xs]&4294901760)+c+2),c++}function Vb(t,e){hi(4,t,e);let n=Ie(null);try{e.call(t)}finally{Ie(n),hi(5,t,e)}}function Kk(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[se]>>14<t[xs]>>16&&(t[se]&3)===e&&(t[se]+=16384,Vb(a,o)):Vb(a,o)}var Ms=-1,bo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,i){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=i}};function Qk(t){return t instanceof bo}function Yk(t){return(t.flags&8)!==0}function Zk(t){return(t.flags&16)!==0}function Sg(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];Jk(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function oI(t){return t===3||t===4||t===6}function Jk(t){return t.charCodeAt(0)===64}function gl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?Bb(t,n,r,null,e[++i]):Bb(t,n,r,null,null))}}return t}function Bb(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var ig={},Ig=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Bd(i);let r=this.injector.get(e,ig,i);return r!==ig||n===ig?r:this.parentInjector.get(e,n,i)}};function sI(t){return t!==Ms}function Ed(t){return t&32767}function Xk(t){return t>>16}function bd(t,e){let n=Xk(t),i=e;for(;n>0;)i=i[js],n--;return i}var Tg=!0;function Ub(t){let e=Tg;return Tg=t,e}var e2=256,aI=e2-1,lI=5,t2=0,fi={};function n2(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(dl)&&(i=n[dl]),i==null&&(i=n[dl]=t2++);let r=i&aI,o=1<<r;e.data[t+(r>>lI)]|=o}function Sd(t,e){let n=cI(t,e);if(n!==-1)return n;let i=e[fe];i.firstCreatePass&&(t.injectorIndex=e.length,rg(i.data,t),rg(e,null),rg(i.blueprint,null));let r=D_(t,e),o=t.injectorIndex;if(sI(r)){let s=Ed(r),a=bd(r,e),c=a[fe].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=r,o}function rg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function D_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=pI(r),i===null)return Ms;if(n++,r=r[js],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Ms}function Dg(t,e,n){n2(t,e,n)}function i2(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(oI(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function uI(t,e,n){if(n&Ce.Optional||t!==void 0)return t;f_(e,"NodeInjector")}function dI(t,e,n,i){if(n&Ce.Optional&&i===void 0&&(i=null),!(n&(Ce.Self|Ce.Host))){let r=t[Os],o=An(void 0);try{return r?r.get(e,i,n&Ce.Optional):bS(e,i,n&Ce.Optional)}finally{An(o)}}return uI(i,e,n)}function hI(t,e,n,i=Ce.Default,r){if(t!==null){if(e[se]&2048&&!(i&Ce.Self)){let s=a2(t,e,n,i,fi);if(s!==fi)return s}let o=fI(t,e,n,i,fi);if(o!==fi)return o}return dI(e,n,i,r)}function fI(t,e,n,i,r){let o=o2(n);if(typeof o=="function"){if(!ZS(e,t,i))return i&Ce.Host?uI(r,n,i):dI(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&Ce.Optional))f_(n);else return s}finally{tI()}}else if(typeof o=="number"){let s=null,a=cI(t,e),c=Ms,u=i&Ce.Host?e[Kn][Zn]:null;for((a===-1||i&Ce.SkipSelf)&&(c=a===-1?D_(t,e):e[a+8],c===Ms||!Hb(i,!1)?a=-1:(s=e[fe],a=Ed(c),e=bd(c,e)));a!==-1;){let f=e[fe];if(jb(o,a,f.data)){let _=r2(a,e,n,s,i,u);if(_!==fi)return _}c=e[a+8],c!==Ms&&Hb(i,e[fe].data[a+8]===u)&&jb(o,a,e)?(s=f,a=Ed(c),e=bd(c,e)):a=-1}}return r}function r2(t,e,n,i,r,o){let s=e[fe],a=s.data[t+8],c=i==null?Hd(a)&&Tg:i!=s&&(a.type&3)!==0,u=r&Ce.Host&&o===a,f=dd(a,s,n,c,u);return f!==null?So(e,s,f,a):fi}function dd(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,f=o>>20,_=i?a:a+f,E=r?a+f:u;for(let b=_;b<E;b++){let I=s[b];if(b<c&&n===I||b>=c&&I.type===n)return b}if(r){let b=s[c];if(b&&xr(b)&&b.type===n)return c}return null}function So(t,e,n,i){let r=t[n],o=e.data;if(Qk(r)){let s=r;s.resolving&&GP($P(o[n]));let a=Ub(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?An(s.injectImpl):null,f=ZS(t,i,Ce.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&Wk(n,o[n],e)}finally{u!==null&&An(u),Ub(a),s.resolving=!1,tI()}}return r}function o2(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(dl)?t[dl]:void 0;return typeof e=="number"?e>=0?e&aI:s2:e}function jb(t,e,n){let i=1<<t;return!!(n[e+(t>>lI)]&i)}function Hb(t,e){return!(t&Ce.Self)&&!(t&Ce.Host&&e)}var _o=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return hI(this._tNode,this._lView,e,Bd(i),n)}};function s2(){return new _o(Xt(),Ve())}function gi(t){return Il(()=>{let e=t.prototype.constructor,n=e[pd]||xg(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[pd]||xg(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function xg(t){return _S(t)?()=>{let e=xg(Jt(t));return e&&e()}:Rs(t)}function a2(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!(s[se]&512);){let a=fI(o,s,n,i|Ce.Self,fi);if(a!==fi)return a;let c=o.parent;if(!c){let u=s[FS];if(u){let f=u.get(n,fi,i);if(f!==fi)return f}c=pI(s),s=s[js]}o=c}return r}function pI(t){let e=t[fe],n=e.type;return n===2?e.declTNode:n===1?t[Zn]:null}function x_(t){return i2(Xt(),t)}function $b(t,e=null,n=null,i){let r=mI(t,e,n,i);return r.resolveInjectorInitializers(),r}function mI(t,e=null,n=null,i,r=new Set){let o=[n||Nn,sk(t)];return i=i||(typeof t=="object"?void 0:dn(t)),new fl(o,e||g_(),i||null,r)}var Ft=class t{static THROW_IF_NOT_FOUND=hl;static NULL=new _d;static create(e,n){if(Array.isArray(e))return $b({name:""},n,e,"");{let i=e.name??"";return $b({name:i},e.parent,e.providers,i)}}static \u0275prov=te({token:t,providedIn:"any",factory:()=>le(IS)});static __NG_ELEMENT_ID__=-1};var l2=new ee("");l2.__NG_ELEMENT_ID__=t=>{let e=Xt();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(t&Ce.Optional)return null;throw new G(204,!1)};var gI=!1,_I=(()=>{class t{static __NG_ELEMENT_ID__=c2;static __NG_ENV_ID__=n=>n}return t})(),Ag=class extends _I{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return GS(this._lView,e),()=>xk(this._lView,e)}};function c2(){return new Ag(Ve())}var _l=class{},qd=new ee("",{providedIn:"root",factory:()=>!1});var yI=new ee(""),vI=new ee(""),Hs=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Pt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=te({token:t,providedIn:"root",factory:()=>new t})}return t})();var Ng=class extends Et{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,_k()&&(this.destroyRef=Q(_I,{optional:!0})??void 0,this.pendingTasks=Q(Hs,{optional:!0})??void 0)}emit(e){let n=Ie(null);try{super.next(e)}finally{Ie(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof pt&&e.add(a),a}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},Dt=Ng;function Id(...t){}function CI(t){let e,n;function i(){t=Id;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),i()})),()=>i()}function Gb(t){return queueMicrotask(()=>t()),()=>{t=Id}}var A_="isAngularZone",Td=A_+"_ID",u2=0,Ue=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Dt(!1);onMicrotaskEmpty=new Dt(!1);onStable=new Dt(!1);onError=new Dt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=gI}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,f2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(A_)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,d2,Id,Id);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},d2={};function N_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function h2(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){CI(()=>{t.callbackScheduled=!1,Mg(t),t.isCheckStableRunning=!0,N_(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Mg(t)}function f2(t){let e=()=>{h2(t)},n=u2++;t._inner=t._inner.fork({name:"angular",properties:{[A_]:!0,[Td]:n,[Td+n]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(p2(c))return i.invokeTask(o,s,a,c);try{return qb(t),i.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zb(t)}},onInvoke:(i,r,o,s,a,c,u)=>{try{return qb(t),i.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!m2(c)&&e(),zb(t)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Mg(t),N_(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Mg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zb(t){t._nesting--,N_(t)}var Rg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Dt;onMicrotaskEmpty=new Dt;onStable=new Dt;onError=new Dt;run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function p2(t){return wI(t,"__ignore_ng_zone__")}function m2(t){return wI(t,"__scheduler_tick__")}function wI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ar=class{_console=console;handleError(e){this._console.error("ERROR",e)}},g2=new ee("",{providedIn:"root",factory:()=>{let t=Q(Ue),e=Q(Ar);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Wb(t,e){return gS(t,e)}function _2(t){return gS(mS,t)}var EI=(Wb.required=_2,Wb);function y2(){return $s(Xt(),Ve())}function $s(t,e){return new en(kn(t,e))}var en=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=y2}return t})();function v2(t){return t instanceof en?t.nativeElement:t}function C2(){return this._results[Symbol.iterator]()}var Pg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Et}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=nk(e);(this._changesDetected=!tk(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=C2};function bI(t){return(t.flags&128)===128}var SI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(SI||{}),II=new Map,w2=0;function E2(){return w2++}function b2(t){II.set(t[jd],t)}function kg(t){II.delete(t[jd])}var Kb="__ngContext__";function Io(t,e){Dr(e)?(t[Kb]=e[jd],b2(e)):t[Kb]=e}function TI(t){return xI(t[ml])}function DI(t){return xI(t[Wn])}function xI(t){for(;t!==null&&!zi(t);)t=t[Wn];return t}var Fg;function AI(t){Fg=t}function S2(){if(Fg!==void 0)return Fg;if(typeof document<"u")return document;throw new G(210,!1)}var M_=new ee("",{providedIn:"root",factory:()=>I2}),I2="ng",R_=new ee(""),Fr=new ee("",{providedIn:"platform",factory:()=>"unknown"});var P_=new ee(""),k_=new ee("",{providedIn:"root",factory:()=>S2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var T2="h",D2="b";var NI=!1,x2=new ee("",{providedIn:"root",factory:()=>NI});var MI=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(MI||{}),RI=new ee(""),Qb=new Set;function Ki(t){Qb.has(t)||(Qb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var A2=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=te({token:t,providedIn:"root",factory:()=>new t})}return t})();var N2=()=>null;function F_(t,e,n=!1){return N2(t,e,n)}var mi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(mi||{});var rd;function M2(){if(rd===void 0&&(rd=null,hg.trustedTypes))try{rd=hg.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rd}function Yb(t){return M2()?.createScriptURL(t)||t}var Dd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pS})`}};function Al(t){return t instanceof Dd?t.changingThisBreaksApplicationSecurity:t}function O_(t,e){let n=R2(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${pS})`)}return n===e}function R2(t){return t instanceof Dd&&t.getTypeName()||null}var P2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PI(t){return t=String(t),t.match(P2)?t:"unsafe:"+t}var zd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(zd||{});function k2(t){let e=FI();return e?e.sanitize(zd.URL,t)||"":O_(t,"URL")?Al(t):PI(Vd(t))}function F2(t){let e=FI();if(e)return Yb(e.sanitize(zd.RESOURCE_URL,t)||"");if(O_(t,"ResourceURL"))return Yb(Al(t));throw new G(904,!1)}function O2(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?F2:k2}function kI(t,e,n){return O2(e,n)(t)}function FI(){let t=Ve();return t&&t[Ui].sanitizer}function OI(t){return t.ownerDocument.defaultView}function LI(t){return t instanceof Function?t():t}var Nr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Nr||{}),Hi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hi||{}),L2;function L_(t,e){return L2(t,e)}function As(t,e,n,i,r){if(i!=null){let o,s=!1;zi(i)?o=i:Dr(i)&&(s=!0,i=i[qi]);let a=pi(i);t===0&&n!==null?r==null?jI(e,n,a):xd(e,n,a,r||null,!0):t===1&&n!==null?xd(e,n,a,r||null,!0):t===2?J2(e,a,s):t===3&&e.destroyNode(a),o!=null&&eF(e,t,o,n,r)}}function V2(t,e){return t.createText(e)}function B2(t,e,n){t.setValue(e,n)}function VI(t,e,n){return t.createElement(e,n)}function U2(t,e){BI(t,e),e[qi]=null,e[Zn]=null}function j2(t,e,n,i,r,o){i[qi]=r,i[Zn]=e,Kd(t,i,n,1,r,o)}function BI(t,e){e[Ui].changeDetectionScheduler?.notify(10),Kd(t,e,e[kt],2,null,null)}function H2(t){let e=t[ml];if(!e)return og(t[fe],t);for(;e;){let n=null;if(Dr(e))n=e[ml];else{let i=e[Wt];i&&(n=i)}if(!n){for(;e&&!e[Wn]&&e!==t;)Dr(e)&&og(e[fe],e),e=e[Kt];e===null&&(e=t),Dr(e)&&og(e[fe],e),n=e&&e[Wn]}e=n}}function $2(t,e,n,i){let r=Wt+i,o=n.length;i>0&&(n[r-1][Wn]=e),i<o-Wt?(e[Wn]=n[r],SS(n,Wt+i,e)):(n.push(e),e[Wn]=null),e[Kt]=n;let s=e[vo];s!==null&&n!==s&&UI(s,e);let a=e[ji];a!==null&&a.insertView(t),wg(e),e[se]|=128}function UI(t,e){let n=t[Ls],i=e[Kt];if(Dr(i))t[se]|=wd.HasTransplantedViews;else{let r=i[Kt][Kn];e[Kn]!==r&&(t[se]|=wd.HasTransplantedViews)}n===null?t[Ls]=[e]:n.push(e)}function V_(t,e){let n=t[Ls],i=n.indexOf(e);n.splice(i,1)}function yl(t,e){if(t.length<=Wt)return;let n=Wt+e,i=t[n];if(i){let r=i[vo];r!==null&&r!==t&&V_(r,i),e>0&&(t[n-1][Wn]=i[Wn]);let o=gd(t,Wt+e);U2(i[fe],i);let s=o[ji];s!==null&&s.detachView(o[fe]),i[Kt]=null,i[Wn]=null,i[se]&=-129}return i}function Wd(t,e){if(!(e[se]&256)){let n=e[kt];n.destroyNode&&Kd(t,e,n,3,null,null),H2(e)}}function og(t,e){if(e[se]&256)return;let n=Ie(null);try{e[se]&=-129,e[se]|=256,e[vn]&&Zm(e[vn]),q2(t,e),G2(t,e),e[fe].type===1&&e[kt].destroy();let i=e[vo];if(i!==null&&zi(e[Kt])){i!==e[Kt]&&V_(i,e);let r=e[ji];r!==null&&r.detachView(t)}kg(e)}finally{Ie(n)}}function G2(t,e){let n=t.cleanup,i=e[yd];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(e[yd]=null);let r=e[Tr];if(r!==null){e[Tr]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[vd];if(o!==null){e[vd]=null;for(let s of o)s.destroy()}}function q2(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof bo)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];hi(4,a,c);try{c.call(a)}finally{hi(5,a,c)}}else{hi(4,r,o);try{o.call(r)}finally{hi(5,r,o)}}}}}function z2(t,e,n){return W2(t,e.parent,n)}function W2(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[qi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===mi.None||o===mi.Emulated)return null}return kn(i,n)}}function xd(t,e,n,i,r){t.insertBefore(e,n,i,r)}function jI(t,e,n){t.appendChild(e,n)}function Zb(t,e,n,i,r){i!==null?xd(t,e,n,i,r):jI(t,e,n)}function HI(t,e){return t.parentNode(e)}function K2(t,e){return t.nextSibling(e)}function Q2(t,e,n){return Z2(t,e,n)}function Y2(t,e,n){return t.type&40?kn(t,n):null}var Z2=Y2,Jb;function B_(t,e,n,i){let r=z2(t,i,e),o=e[kt],s=i.parent||e[Zn],a=Q2(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Zb(o,r,n[c],a,!1);else Zb(o,r,n,a,!1);Jb!==void 0&&Jb(o,i,e,n,r)}function ul(t,e){if(e!==null){let n=e.type;if(n&3)return kn(e,t);if(n&4)return Og(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return ul(t,i);{let r=t[e.index];return zi(r)?Og(-1,r):pi(r)}}else{if(n&128)return ul(t,e.next);if(n&32)return L_(e,t)()||pi(t[e.index]);{let i=$I(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=wo(t[Kn]);return ul(r,i)}else return ul(t,e.next)}}}return null}function $I(t,e){if(e!==null){let i=t[Kn][Zn],r=e.projection;return i.projection[r]}return null}function Og(t,e){let n=Wt+t+1;if(n<e.length){let i=e[n],r=i[fe].firstChild;if(r!==null)return ul(i,r)}return e[Co]}function J2(t,e,n){t.removeChild(null,e,n)}function U_(t,e,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],c=n.type;if(s&&e===0&&(a&&Io(pi(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)U_(t,e,n.child,i,r,o,!1),As(e,t,r,a,o);else if(c&32){let u=L_(n,i),f;for(;f=u();)As(e,t,r,f,o);As(e,t,r,a,o)}else c&16?X2(t,e,i,n,r,o):As(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Kd(t,e,n,i,r,o){U_(n,i,t.firstChild,e,r,o,!1)}function X2(t,e,n,i,r,o){let s=n[Kn],c=s[Zn].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let f=c[u];As(e,t,r,f,o)}else{let u=c,f=s[Kt];bI(i)&&(u.flags|=128),U_(t,e,u,f,r,o,!0)}}function eF(t,e,n,i,r){let o=n[Co],s=pi(n);o!==s&&As(e,t,i,o,r);for(let a=Wt;a<n.length;a++){let c=n[a];Kd(c[fe],c,t,e,i,o)}}function tF(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Hi.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Hi.Important),t.setStyle(n,i,r,o))}}function nF(t,e,n){t.setAttribute(e,"style",n)}function GI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qI(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Sg(t,e,i),r!==null&&GI(t,e,r),o!==null&&nF(t,e,o)}function iF(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}var zI="ng-template";function rF(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&iF(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(j_(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function j_(t){return t.type===4&&t.value!==zI}function oF(t,e,n){let i=t.type===4&&!n?zI:t.value;return e===i}function sF(t,e,n){let i=4,r=t.attrs,o=r!==null?cF(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!zn(i)&&!zn(c))return!1;if(s&&zn(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!oF(t,c,n)||c===""&&e.length===1){if(zn(i))return!1;s=!0}}else if(i&8){if(r===null||!rF(t,r,c,n)){if(zn(i))return!1;s=!0}}else{let u=e[++a],f=aF(c,r,j_(t),n);if(f===-1){if(zn(i))return!1;s=!0;continue}if(u!==""){let _;if(f>o?_="":_=r[f+1].toLowerCase(),i&2&&u!==_){if(zn(i))return!1;s=!0}}}}return zn(i)||s}function zn(t){return(t&1)===0}function aF(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return uF(e,t)}function lF(t,e,n=!1){for(let i=0;i<e.length;i++)if(sF(t,e[i],n))return!0;return!1}function cF(t){for(let e=0;e<t.length;e++){let n=t[e];if(oI(n))return e}return t.length}function uF(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function Xb(t,e){return t?":not("+e.trim()+")":e}function dF(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!zn(s)&&(e+=Xb(o,r),r=""),i=s,o=o||!zn(i);n++}return r!==""&&(e+=Xb(o,r)),e}function hF(t){return t.map(dF).join(",")}function fF(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!zn(r))break;r=o}i++}return{attrs:e,classes:n}}var Or={};function m(t=1){WI(hn(),Ve(),xo()+t,!1)}function WI(t,e,n,i){if(!i)if((e[se]&3)===3){let o=t.preOrderCheckHooks;o!==null&&cd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ud(e,o,0,n)}Eo(n)}function B(t,e=Ce.Default){let n=Ve();if(n===null)return le(t,e);let i=Xt();return hI(i,n,Jt(t),e)}function KI(t,e,n,i,r,o){let s=Ie(null);try{let a=null;r&Nr.SignalBased&&(a=e[i][xn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Nr.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):VS(e,a,i,o)}finally{Ie(s)}}function pF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Eo(~r);else{let o=r,s=n[++i],a=n[++i];jk(s,o);let c=e[o];a(2,c)}}}finally{Eo(-1)}}function Qd(t,e,n,i,r,o,s,a,c,u,f){let _=e.blueprint.slice();return _[qi]=r,_[se]=i|4|128|8|64|1024,(u!==null||t&&t[se]&2048)&&(_[se]|=2048),$S(_),_[Kt]=_[js]=t,_[zt]=n,_[Ui]=s||t&&t[Ui],_[kt]=a||t&&t[kt],_[Os]=c||t&&t[Os]||null,_[Zn]=o,_[jd]=E2(),_[pl]=f,_[FS]=u,_[Kn]=e.type==2?t[Kn]:_,_}function Yd(t,e,n,i,r){let o=t.data[e];if(o===null)o=mF(t,e,n,i,r),Uk()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=Fk();o.injectorIndex=s===null?-1:s.injectorIndex}return Dl(o,!0),o}function mF(t,e,n,i,r){let o=zS(),s=WS(),a=s?o:o&&o.parent,c=t.data[e]=wF(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function QI(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function YI(t,e,n,i,r){let o=xo(),s=i&2;try{Eo(-1),s&&e.length>Rn&&WI(t,e,Rn,!1),hi(s?2:0,r),n(i,r)}finally{Eo(o),hi(s?3:1,r)}}function ZI(t,e,n){if(LS(e)){let i=Ie(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Ie(i)}}}function JI(t,e,n){qS()&&(xF(t,e,n,kn(n,e)),(n.flags&64)===64&&iT(t,e,n))}function XI(t,e,n=kn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function eT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=H_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function H_(t,e,n,i,r,o,s,a,c,u,f){let _=Rn+i,E=_+r,b=gF(_,E),I=typeof u=="function"?u():u;return b[fe]={type:t,blueprint:b,template:n,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:f}}function gF(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Or);return n}function _F(t,e,n,i){let o=i.get(x2,NI)||n===mi.ShadowDom,s=t.selectRootElement(e,o);return yF(s),s}function yF(t){vF(t)}var vF=()=>null;function CF(t,e,n,i){let r=aT(e);r.push(n),t.firstCreatePass&&lT(t).push(i,r.length-1)}function wF(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Rk()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function eS(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=Nr.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}t===0?tS(i,n,u,a,c):tS(i,n,u,a)}return i}function tS(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function EF(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let f=i;f<r;f++){let _=o[f],E=n?n.get(_):null,b=E?E.inputs:null,I=E?E.outputs:null;c=eS(0,_.inputs,f,c,b),u=eS(1,_.outputs,f,u,I);let F=c!==null&&s!==null&&!j_(e)?BF(c,f,s):null;a.push(F)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function bF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function SF(t,e,n,i,r,o,s,a){let c=kn(e,n),u=e.inputs,f;!a&&u!=null&&(f=u[i])?($_(t,n,f,i,r),Hd(e)&&IF(n,e.index)):e.type&3?(i=bF(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function IF(t,e){let n=kr(e,t);n[se]&16||(n[se]|=64)}function tT(t,e,n,i){if(qS()){let r=i===null?null:{"":-1},o=NF(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&nT(t,e,n,s,r,a),r&&MF(n,i,r)}n.mergedAttrs=gl(n.mergedAttrs,n.attrs)}function nT(t,e,n,i,r,o){for(let u=0;u<i.length;u++)Dg(Sd(n,e),t,i[u].type);PF(n,t.data.length,i.length);for(let u=0;u<i.length;u++){let f=i[u];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,c=QI(t,e,i.length,null);for(let u=0;u<i.length;u++){let f=i[u];n.mergedAttrs=gl(n.mergedAttrs,f.hostAttrs),kF(t,n,e,c,f),RF(c,f,r),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let _=f.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}EF(t,n,o)}function TF(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;DF(s)!=a&&s.push(a),s.push(n,i,o)}}function DF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function xF(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;Hd(n)&&FF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Sd(n,e),Io(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],u=So(e,t,a,n);if(Io(u,e),s!==null&&VF(e,a-r,u,c,n,s),xr(c)){let f=kr(n.index,e);f[zt]=So(e,t,a,n)}}}function iT(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Hk();try{Eo(o);for(let a=i;a<r;a++){let c=t.data[a],u=e[a];bg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&AF(c,u)}}finally{Eo(-1),bg(s)}}function AF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function NF(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(lF(e,s.selectors,!1))if(i||(i=[]),xr(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;Lg(t,e,c)}else i.unshift(s),Lg(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Lg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function MF(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new G(-301,!1);i.push(e[r],o)}}}function RF(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;xr(e)&&(n[""]=t)}}function PF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function kF(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Rs(r.type,!0)),s=new bo(o,xr(r),B);t.blueprint[i]=s,n[i]=s,TF(t,e,i,QI(t,n,r.hostVars,Or),r)}function rT(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function FF(t,e,n){let i=kn(e,t),r=eT(n),o=t[Ui].rendererFactory,s=Zd(t,Qd(t,r,null,rT(n),i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=s}function OF(t,e,n,i,r,o){let s=kn(t,e);LF(e[kt],s,o,t.value,n,i,r)}function LF(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Vd(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function VF(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],f=s[a++],_=s[a++];KI(i,n,c,u,f,_)}}function BF(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function oT(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function sT(t,e){let n=t.contentQueries;if(n!==null){let i=Ie(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];w_(o),a.contentQueries(2,e[s],s)}}}finally{Ie(i)}}}function Zd(t,e){return t[ml]?t[Fb][Wn]=e:t[ml]=e,t[Fb]=e,e}function Vg(t,e,n){w_(0);let i=Ie(null);try{e(t,n)}finally{Ie(i)}}function aT(t){return t[yd]??=[]}function lT(t){return t.cleanup??=[]}function cT(t,e){let n=t[Os],i=n?n.get(Ar,null):null;i&&i.handleError(e)}function $_(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],f=t.data[s];KI(f,u,i,a,c,r)}}function UF(t,e,n){let i=HS(e,t);B2(t[kt],i,n)}function jF(t,e){let n=kr(e,t),i=n[fe];HF(i,n);let r=n[qi];r!==null&&n[pl]===null&&(n[pl]=F_(r,n[Os])),G_(i,n,n[zt])}function HF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function G_(t,e,n){E_(e);try{let i=t.viewQuery;i!==null&&Vg(1,i,n);let r=t.template;r!==null&&YI(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ji]?.finishViewCreation(t),t.staticContentQueries&&sT(t,e),t.staticViewQueries&&Vg(2,t.viewQuery,n);let o=t.components;o!==null&&$F(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[se]&=-5,b_()}}function $F(t,e){for(let n=0;n<e.length;n++)jF(t,e[n])}function Jd(t,e,n,i){let r=Ie(null);try{let o=e.tView,a=t[se]&4096?4096:16,c=Qd(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=t[e.index];c[vo]=u;let f=t[ji];return f!==null&&(c[ji]=f.createEmbeddedView(o)),G_(o,c,n),c}finally{Ie(r)}}function uT(t,e){let n=Wt+e;if(n<t.length)return t[n]}function vl(t,e){return!e||e.firstChild===null||bI(t)}function Xd(t,e,n,i=!0){let r=e[fe];if($2(r,e,t,n),i){let s=Og(n,t),a=e[kt],c=HI(a,t[Co]);c!==null&&j2(r,t[Zn],a,e,c,s)}let o=e[pl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function dT(t,e){let n=yl(t,e);return n!==void 0&&Wd(n[fe],n),n}function Ad(t,e,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&i.push(pi(o)),zi(o)&&GF(o,i);let s=n.type;if(s&8)Ad(t,e,n.child,i);else if(s&32){let a=L_(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=$I(e,n);if(Array.isArray(a))i.push(...a);else{let c=wo(e[Kn]);Ad(c[fe],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function GF(t,e){for(let n=Wt;n<t.length;n++){let i=t[n],r=i[fe].firstChild;r!==null&&Ad(i[fe],i,r,e)}t[Co]!==t[qi]&&e.push(t[Co])}var hT=[];function qF(t){return t[vn]??zF(t)}function zF(t){let e=hT.pop()??Object.create(KF);return e.lView=t,e}function WF(t){t.lView[vn]!==t&&(t.lView=null,hT.push(t))}var KF=_e(U({},ll),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gd(t.lView)},consumerOnSignalRead(){this.lView[vn]=this}});function QF(t){let e=t[vn]??Object.create(YF);return e.lView=t,e}var YF=_e(U({},ll),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=wo(t.lView);for(;e&&!fT(e[fe]);)e=wo(e);e&&C_(e)},consumerOnSignalRead(){this.lView[vn]=this}});function fT(t){return t.type!==2}function pT(t){if(t[vd]===null)return;let e=!0;for(;e;){let n=!1;for(let i of t[vd])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=n&&!!(t[se]&8192)}}var ZF=100;function mT(t,e=!0,n=0){let r=t[Ui].rendererFactory,o=!1;o||r.begin?.();try{JF(t,n)}catch(s){throw e&&cT(t,s),s}finally{o||r.end?.()}}function JF(t,e){let n=KS();try{Lb(!0),Bg(t,e);let i=0;for(;$d(t);){if(i===ZF)throw new G(103,!1);i++,Bg(t,1)}}finally{Lb(n)}}function XF(t,e,n,i){let r=e[se];if((r&256)===256)return;let o=!1,s=!1;E_(e);let a=!0,c=null,u=null;o||(fT(t)?(u=qF(e),c=Xu(u)):_b()===null?(a=!1,u=QF(e),c=Xu(u)):e[vn]&&(Zm(e[vn]),e[vn]=null));try{$S(e),Vk(t.bindingStartIndex),n!==null&&YI(t,e,n,2,i);let f=(r&3)===3;if(!o)if(f){let b=t.preOrderCheckHooks;b!==null&&cd(e,b,null)}else{let b=t.preOrderHooks;b!==null&&ud(e,b,0,null),ng(e,0)}if(s||eO(e),pT(e),gT(e,0),t.contentQueries!==null&&sT(t,e),!o)if(f){let b=t.contentCheckHooks;b!==null&&cd(e,b)}else{let b=t.contentHooks;b!==null&&ud(e,b,1),ng(e,1)}pF(t,e);let _=t.components;_!==null&&yT(e,_,0);let E=t.viewQuery;if(E!==null&&Vg(2,E,i),!o)if(f){let b=t.viewCheckHooks;b!==null&&cd(e,b)}else{let b=t.viewHooks;b!==null&&ud(e,b,2),ng(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[tg]){for(let b of e[tg])b();e[tg]=null}o||(e[se]&=-73)}catch(f){throw o||Gd(e),f}finally{u!==null&&(Qm(u,c),a&&WF(u)),b_()}}function gT(t,e){for(let n=TI(t);n!==null;n=DI(n))for(let i=Wt;i<n.length;i++){let r=n[i];_T(r,e)}}function eO(t){for(let e=TI(t);e!==null;e=DI(e)){if(!(e[se]&wd.HasTransplantedViews))continue;let n=e[Ls];for(let i=0;i<n.length;i++){let r=n[i];C_(r)}}}function tO(t,e,n){let i=kr(e,t);_T(i,n)}function _T(t,e){v_(t)&&Bg(t,e)}function Bg(t,e){let i=t[fe],r=t[se],o=t[vn],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Ym(o)),s||=!1,o&&(o.dirty=!1),t[se]&=-9217,s)XF(i,t,i.template,t[zt]);else if(r&8192){pT(t),gT(t,1);let a=i.components;a!==null&&yT(t,a,1)}}function yT(t,e,n){for(let i=0;i<e.length;i++)tO(t,e[i],n)}function q_(t,e){let n=KS()?64:1088;for(t[Ui].changeDetectionScheduler?.notify(e);t;){t[se]|=n;let i=wo(t);if(vg(t)&&!i)return t;t=i}return null}var To=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[fe];return Ad(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i}get context(){return this._lView[zt]}get dirty(){return!!(this._lView[se]&9280)||!!this._lView[vn]?.dirty}set context(e){this._lView[zt]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Kt];if(zi(e)){let n=e[Cd],i=n?n.indexOf(this):-1;i>-1&&(yl(e,i),gd(n,i))}this._attachedToViewContainer=!1}Wd(this._lView[fe],this._lView)}onDestroy(e){GS(this._lView,e)}markForCheck(){q_(this._cdRefInjectingView||this._lView,4)}markForRefresh(){C_(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){wg(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,mT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=vg(this._lView),n=this._lView[vo];n!==null&&!e&&V_(n,this._lView),BI(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let n=vg(this._lView),i=this._lView[vo];i!==null&&!n&&UI(i,this._lView),wg(this._lView)}},Cl=(()=>{class t{static __NG_ELEMENT_ID__=rO}return t})(),nO=Cl,iO=class extends nO{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=Jd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new To(r)}};function rO(){return z_(Xt(),Ve())}function z_(t,e){return t.type&4?new iO(e,t,$s(t,e)):null}var Ooe=new RegExp(`^(\\d+)*(${D2}|${T2})*(.*)`);var oO=()=>null;function wl(t,e){return oO(t,e)}var Ug=class{},Nd=class{},jg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${dn(e)}.`)}},Bs=class{static NULL=new jg},Mr=class{},Jn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>sO()}return t})();function sO(){let t=Ve(),e=Xt(),n=kr(e.index,t);return(Dr(n)?n:t)[kt]}var aO=(()=>{class t{static \u0275prov=te({token:t,providedIn:"root",factory:()=>null})}return t})();function Hg(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Ab(r,a);else if(o==2){let c=a,u=e[++s];i=Ab(i,c+": "+u+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Md=class extends Bs{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=yo(e);return new El(n,this.ngModule)}};function nS(t,e){let n=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let r=t[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Nr.None;e?n.push({propName:s,templateName:i,isSignal:(a&Nr.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function lO(t){let e=t.toLowerCase();return e==="svg"?Ek:e==="math"?bk:null}var El=class extends Nd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,i=nS(e.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return nS(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=hF(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Ie(null);try{r=r||this.ngModule;let s=r instanceof Mn?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ig(e,s):e,c=a.get(Mr,null);if(c===null)throw new G(407,!1);let u=a.get(aO,null),f=a.get(_l,null),_={rendererFactory:c,sanitizer:u,changeDetectionScheduler:f},E=c.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",I=i?_F(E,i,this.componentDef.encapsulation,a):VI(E,b,lO(b)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let j=null;I!==null&&(j=F_(I,a,!0));let K=H_(0,null,null,1,0,null,null,null,null,null,null),X=Qd(null,K,null,F,null,null,_,E,a,null,j);E_(X);let oe,pe,vt=null;try{let ve=this.componentDef,N,S=null;ve.findHostDirectiveDefs?(N=[],S=new Map,ve.findHostDirectiveDefs(ve,N,S),N.push(ve)):N=[ve];let T=cO(X,I);vt=uO(T,I,ve,N,X,_,E),pe=y_(K,Rn),I&&fO(E,ve,I,i),n!==void 0&&pO(pe,this.ngContentSelectors,n),oe=hO(vt,ve,N,S,X,[mO]),G_(K,X,null)}catch(ve){throw vt!==null&&kg(vt),kg(X),ve}finally{b_()}return new $g(this.componentType,oe,$s(pe,X),X,pe)}finally{Ie(o)}}},$g=class extends Ug{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new To(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;$_(o[fe],o,r,e,n),this.previousInputValues.set(e,n);let s=kr(this._tNode.index,o);q_(s,1)}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cO(t,e){let n=t[fe],i=Rn;return t[i]=e,Yd(n,i,2,"#host",null)}function uO(t,e,n,i,r,o,s){let a=r[fe];dO(i,t,e,s);let c=null;e!==null&&(c=F_(e,r[Os]));let u=o.rendererFactory.createRenderer(e,n),f=Qd(r,eT(n),null,rT(n),r[t.index],t,o,u,null,null,c);return a.firstCreatePass&&Lg(a,t,i.length-1),Zd(r,f),r[t.index]=f}function dO(t,e,n,i){for(let r of t)e.mergedAttrs=gl(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Hg(e,e.mergedAttrs,!0),n!==null&&qI(i,n,e))}function hO(t,e,n,i,r,o){let s=Xt(),a=r[fe],c=kn(s,r);nT(a,r,s,n,null,i);for(let f=0;f<n.length;f++){let _=s.directiveStart+f,E=So(r,a,_,s);Io(E,r)}iT(a,r,s),c&&Io(c,r);let u=So(r,a,s.directiveStart+s.componentOffset,s);if(t[zt]=r[zt]=u,o!==null)for(let f of o)f(u,e);return ZI(a,s,r),u}function fO(t,e,n,i){if(i)Sg(t,n,["ng-version","19.0.3"]);else{let{attrs:r,classes:o}=fF(e.selectors[0]);r&&Sg(t,n,r),o&&o.length>0&&GI(t,n,o.join(" "))}}function pO(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}function mO(){let t=Xt();T_(Ve()[fe],t)}var Gs=(()=>{class t{static __NG_ELEMENT_ID__=gO}return t})();function gO(){let t=Xt();return CT(t,Ve())}var _O=Gs,vT=class extends _O{_lContainer;_hostTNode;_hostLView;constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return $s(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){let e=D_(this._hostTNode,this._hostLView);if(sI(e)){let n=bd(e,this._hostLView),i=Ed(e),r=n[fe].data[i+8];return new _o(r,n)}else return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=iS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=wl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,vl(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!yk(e),a;if(s)a=n;else{let I=n||{};a=I.index,i=I.injector,r=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}let c=s?e:new El(yo(e)),u=i||this.parentInjector;if(!o&&c.ngModule==null){let F=(s?u:this.parentInjector).get(Mn,null);F&&(o=F)}let f=yo(c.componentType??{}),_=wl(this._lContainer,f?.id??null),E=_?.firstChild??null,b=c.create(u,r,E,o);return this.insertImpl(b.hostView,a,vl(this._hostTNode,_)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(Tk(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Kt],u=new vT(c,c[Zn],c[Kt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Xd(s,r,o,i),e.attachToViewContainerRef(),SS(sg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=iS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=yl(this._lContainer,n);i&&(gd(sg(this._lContainer),n),Wd(i[fe],i))}detach(e){let n=this._adjustIndex(e,-1),i=yl(this._lContainer,n);return i&&gd(sg(this._lContainer),n)!=null?new To(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function iS(t){return t[Cd]}function sg(t){return t[Cd]||(t[Cd]=[])}function CT(t,e){let n,i=e[t.index];return zi(i)?n=i:(n=oT(i,e,null,t),e[t.index]=n,Zd(e,n)),vO(n,e,t,i),new vT(n,t,e)}function yO(t,e){let n=t[kt],i=n.createComment(""),r=kn(e,t),o=HI(n,r);return xd(n,o,i,K2(n,r),!1),i}var vO=EO,CO=()=>!1;function wO(t,e,n){return CO(t,e,n)}function EO(t,e,n,i){if(t[Co])return;let r;n.type&8?r=pi(i):r=yO(e,n),t[Co]=r}var Gg=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},qg=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)W_(e,n).matches!==null&&this.queries[n].setDirty()}},zg=class{flags;read;predicate;constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=NO(e):this.predicate=e}},Wg=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Kg=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,bO(n,o)),this.matchTNodeWithReadOption(e,n,dd(n,e,o,!1,!1))}else i===Cl?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,dd(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===en||r===Gs||r===Cl&&n.type&4)this.addMatch(n.index,-2);else{let o=dd(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function bO(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function SO(t,e){return t.type&11?$s(t,e):t.type&4?z_(t,e):null}function IO(t,e,n,i){return n===-1?SO(e,t):n===-2?TO(t,e,i):So(t,t[fe],n,e)}function TO(t,e,n){if(n===en)return $s(e,t);if(n===Cl)return z_(e,t);if(n===Gs)return CT(e,t)}function wT(t,e,n,i){let r=e[ji].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let f=o[u];a.push(IO(e,f,s[c+1],n.metadata.read))}}r.matches=a}return r.matches}function Qg(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=wT(t,e,r,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let u=o[a+1],f=e[-c];for(let _=Wt;_<f.length;_++){let E=f[_];E[vo]===E[Kt]&&Qg(E[fe],E,u,i)}if(f[Ls]!==null){let _=f[Ls];for(let E=0;E<_.length;E++){let b=_[E];Qg(b[fe],b,u,i)}}}}}return i}function DO(t,e){return t[ji].queries[e].queryList}function xO(t,e,n){let i=new Pg((n&4)===4);return CF(t,e,i,i.destroy),(e[ji]??=new qg).queries.push(new Gg(i))-1}function AO(t,e,n,i){let r=hn();if(r.firstCreatePass){let o=Xt();MO(r,new zg(e,n,i),o.index),RO(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return xO(r,Ve(),n)}function NO(t){return t.split(",").map(e=>e.trim())}function MO(t,e,n){t.queries===null&&(t.queries=new Wg),t.queries.track(new Kg(e,n))}function RO(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function W_(t,e){return t.queries.getByIndex(e)}function PO(t,e){let n=t[fe],i=W_(n,e);return i.crossesNgTemplate?Qg(n,t,e,[]):wT(n,t,i,e)}function Nl(t,e){Ki("NgSignals");let n=Db(t),i=n[xn];return e?.equal&&(i.equal=e.equal),n.set=r=>nd(i,r),n.update=r=>xb(i,r),n.asReadonly=kO.bind(n),n}function kO(){let t=this[xn];if(t.readonlyFn===void 0){let e=()=>this();e[xn]=t,t.readonlyFn=e}return t.readonlyFn}var Rr=class{},bl=class{};var Yg=class extends Rr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Md(this);constructor(e,n,i,r=!0){super(),this.ngModuleType=e,this._parent=n;let o=DS(e);this._bootstrapComponents=LI(o.bootstrap),this._r3Injector=mI(e,n,[{provide:Rr,useValue:this},{provide:Bs,useValue:this.componentFactoryResolver},...i],dn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zg=class extends bl{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Yg(this.moduleType,e,[])}};var Rd=class extends Rr{injector;componentFactoryResolver=new Md(this);instance=null;constructor(e){super();let n=new fl([...e.providers,{provide:Rr,useValue:this},{provide:Bs,useValue:this.componentFactoryResolver}],e.parent||g_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function K_(t,e,n=null){return new Rd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var FO=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=MS(!1,n.type),r=i.length>0?K_([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=te({token:t,providedIn:"environment",factory:()=>new t(le(Mn))})}return t})();function ae(t){return Il(()=>{let e=ET(t),n=_e(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===SI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(FO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mi.Emulated,styles:t.styles||Nn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ki("NgStandalone"),bT(n);let i=t.dependencies;return n.directiveDefs=oS(i,!1),n.pipeDefs=oS(i,!0),n.id=VO(n),n})}function OO(t){return yo(t)||xS(t)}function LO(t){return t!==null}function Lr(t){return Il(()=>({type:t.type,bootstrap:t.bootstrap||Nn,declarations:t.declarations||Nn,imports:t.imports||Nn,exports:t.exports||Nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rS(t,e){if(t==null)return Ps;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=Nr.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==Nr.None?[i,a]:i,e[o]=s):n[o]=i}return n}function ct(t){return Il(()=>{let e=ET(t);return bT(e),e})}function ET(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ps,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rS(t.inputs,e),outputs:rS(t.outputs),debugInfo:null}}function bT(t){t.features?.forEach(e=>e(t))}function oS(t,e){if(!t)return null;let n=e?AS:OO;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(LO)}function VO(t){let e=0,n=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function BO(t){return Object.getPrototypeOf(t.prototype).constructor}function Cn(t){let e=BO(t.type),n=!0,i=[t];for(;e;){let r;if(xr(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=od(t.inputs),s.inputTransforms=od(t.inputTransforms),s.declaredInputs=od(t.declaredInputs),s.outputs=od(t.outputs);let a=r.hostBindings;a&&GO(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&HO(t,c),u&&$O(t,u),UO(t,r),FP(t.outputs,r.outputs),xr(r)&&r.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Cn&&(n=!1)}}e=Object.getPrototypeOf(e)}jO(i)}function UO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function jO(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=gl(r.hostAttrs,n=gl(n,r.hostAttrs))}}function od(t){return t===Ps?{}:t===Nn?[]:t}function HO(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function $O(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function GO(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Q_(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}function ST(t,e,n){return t[e]=n}function $i(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function qO(t,e,n,i){let r=$i(t,e,n);return $i(t,e+1,i)||r}function zO(t){return(t.flags&32)===32}function WO(t,e,n,i,r,o,s,a,c){let u=e.consts,f=Yd(e,t,4,s||null,a||null);tT(e,n,f,Vs(u,c)),T_(e,f);let _=f.tView=H_(2,f,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,f),_.queries=e.queries.embeddedTView(f)),f}function Jg(t,e,n,i,r,o,s,a,c,u){let f=n+Rn,_=e.firstCreatePass?WO(f,e,t,i,r,o,s,a,c):e.data[f];Dl(_,!1);let E=KO(e,t,_,n);S_()&&B_(e,t,E,_),Io(E,t);let b=oT(E,t,E,_);return t[f]=b,Zd(t,b),wO(b,_,t),__(_)&&JI(e,t,_),c!=null&&XI(t,_,u),_}function C(t,e,n,i,r,o,s,a){let c=Ve(),u=hn(),f=Vs(u.consts,o);return Jg(c,u,t,e,n,i,r,f,s,a),C}var KO=QO;function QO(t,e,n,i){return I_(!0),e[kt].createComment("")}var eh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var IT=new ee("");function Ao(t){return!!t&&typeof t.then=="function"}function TT(t){return!!t&&typeof t.subscribe=="function"}var DT=new ee("");var xT=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=Q(DT,{optional:!0})??[];injector=Q(Ft);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=Yn(this.injector,r);if(Ao(o))n.push(o);else if(TT(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YO=(()=>{class t{static \u0275prov=te({token:t,providedIn:"root",factory:()=>new Xg})}return t})(),Xg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Y_=new ee("");function ZO(){Tb(()=>{throw new G(600,!1)})}function JO(t){return t.isBoundToModule}var XO=10;function e6(t,e,n){try{let i=n();return Ao(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var No=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Q(g2);afterRenderManager=Q(A2);zonelessEnabled=Q(qd);rootEffectScheduler=Q(YO);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Et;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Q(Hs).hasPendingTasks.pipe(ce(n=>!n));constructor(){Q(RI,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=Q(Mn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){let r=n instanceof Nd;if(!this._injector.get(xT).done){let E=!r&&NS(n),b=!1;throw new G(405,b)}let s;r?s=n:s=this._injector.get(Bs).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=JO(s)?void 0:this._injector.get(Rr),c=i||s.selector,u=s.create(Ft.NULL,[],c,a),f=u.location.nativeElement,_=u.injector.get(IT,null);return _?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),hd(this.components,u),_?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let i=this.tracingSnapshot;this.tracingSnapshot=null,i.run(MI.CHANGE_DETECTION,this._tick),i.dispose();return}if(this._runningTick)throw new G(101,!1);let n=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Ie(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Mr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<XO;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)t6(i,r,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>$d(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;hd(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Y_,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>hd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new G(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function t6(t,e,n,i){if(!n&&!$d(t))return;mT(t,e,n&&!i?0:1)}function Ml(t,e,n,i){let r=Ve(),o=xl();if($i(r,o,e)){let s=hn(),a=nI();OF(a,r,t,e,n,i)}return Ml}function n6(t,e,n,i){return $i(t,xl(),n)?e+Vd(n)+i:Or}function sd(t,e){return t<<17|e<<2}function Do(t){return t>>17&32767}function i6(t){return(t&2)==2}function r6(t,e){return t&131071|e<<17}function e_(t){return t|2}function Us(t){return(t&131068)>>2}function ag(t,e){return t&-131069|e<<2}function o6(t){return(t&1)===1}function t_(t){return t|1}function s6(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Do(s),c=Us(s);t[i]=n;let u=!1,f;if(Array.isArray(n)){let _=n;f=_[1],(f===null||Tl(_,f)>0)&&(u=!0)}else f=n;if(r)if(c!==0){let E=Do(t[a+1]);t[i+1]=sd(E,a),E!==0&&(t[E+1]=ag(t[E+1],i)),t[a+1]=r6(t[a+1],i)}else t[i+1]=sd(a,0),a!==0&&(t[a+1]=ag(t[a+1],i)),a=i;else t[i+1]=sd(c,0),a===0?a=i:t[c+1]=ag(t[c+1],i),c=i;u&&(t[i+1]=e_(t[i+1])),sS(t,f,i,!0),sS(t,f,i,!1),a6(e,f,t,i,o),s=sd(a,c),o?e.classBindings=s:e.styleBindings=s}function a6(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Tl(o,e)>=0&&(n[i+1]=t_(n[i+1]))}function sS(t,e,n,i){let r=t[n+1],o=e===null,s=i?Do(r):Us(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];l6(c,e)&&(a=!0,t[s+1]=i?t_(u):e_(u)),s=i?Do(u):Us(u)}a&&(t[n+1]=i?e_(r):t_(r))}function l6(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Tl(t,e)>=0:!1}function H(t,e,n){let i=Ve(),r=xl();if($i(i,r,e)){let o=hn(),s=nI();SF(o,s,i,t,e,i[kt],n,!1)}return H}function aS(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";$_(t,n,o[s],s,i)}function th(t,e){return c6(t,e,null,!0),th}function c6(t,e,n,i){let r=Ve(),o=hn(),s=Bk(2);if(o.firstUpdatePass&&d6(o,t,s,i),e!==Or&&$i(r,s,e)){let a=o.data[xo()];g6(o,a,r,r[kt],t,r[s+1]=_6(e,n),i,s)}}function u6(t,e){return e>=t.expandoStartIndex}function d6(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[xo()],s=u6(t,n);y6(o,i)&&e===null&&!s&&(e=!1),e=h6(r,o,e,i),s6(r,o,e,n,s,i)}}function h6(t,e,n,i){let r=$k(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=lg(null,t,e,n,i),n=Sl(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=lg(r,t,e,n,i),o===null){let c=f6(t,e,i);c!==void 0&&Array.isArray(c)&&(c=lg(null,t,e,c[1],i),c=Sl(c,e.attrs,i),p6(t,e,i,c))}else o=m6(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function f6(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Us(i)!==0)return t[Do(i)]}function p6(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Do(r)]=i}function m6(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Sl(i,s,n)}return Sl(i,e.attrs,n)}function lg(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=Sl(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Sl(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),rk(t,s,n?!0:e[++o]))}return t===void 0?null:t}function g6(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],f=o6(u)?lS(c,e,n,r,Us(u),s):void 0;if(!Pd(f)){Pd(o)||i6(u)&&(o=lS(c,null,n,r,a,s));let _=HS(xo(),n);tF(i,s,_,r,o)}}function lS(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),f=u?c[1]:c,_=f===null,E=n[r+1];E===Or&&(E=_?Nn:void 0);let b=_?Xm(E,i):f===i?E:void 0;if(u&&!Pd(b)&&(b=Xm(c,i)),Pd(b)&&(a=b,s))return a;let I=t[r+1];r=s?Do(I):Us(I)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Xm(c,i))}return a}function Pd(t){return t!==void 0}function _6(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dn(Al(t)))),t}function y6(t,e){return(t.flags&(e?8:16))!==0}var n_=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,n){this.attach(n,this.detach(e))}};function cg(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function v6(t,e,n){let i,r,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=t.at(o),f=e[o],_=cg(o,u,o,f,n);if(_!==0){_<0&&t.updateValue(o,f),o++;continue}let E=t.at(s),b=e[c],I=cg(s,E,c,b,n);if(I!==0){I<0&&t.updateValue(s,b),s--,c--;continue}let F=n(o,u),j=n(s,E),K=n(o,f);if(Object.is(K,j)){let X=n(c,b);Object.is(X,F)?(t.swap(o,s),t.updateValue(s,b),c--,s--):t.move(s,o),t.updateValue(o,f),o++;continue}if(i??=new kd,r??=uS(t,o,s,n),i_(t,i,o,K))t.updateValue(o,f),o++,s++;else if(r.has(K))i.set(F,t.detach(o)),s--;else{let X=t.create(o,e[o]);t.attach(o,X),o++,s++}}for(;o<=c;)cS(t,i,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let f=t.at(o),_=u.value,E=cg(o,f,o,_,n);if(E!==0)E<0&&t.updateValue(o,_),o++,u=c.next();else{i??=new kd,r??=uS(t,o,s,n);let b=n(o,_);if(i_(t,i,o,b))t.updateValue(o,_),o++,s++,u=c.next();else if(!r.has(b))t.attach(o,t.create(o,_)),o++,s++,u=c.next();else{let I=n(o,f);i.set(I,t.detach(o)),s--}}}for(;!u.done;)cS(t,i,n,t.length,u.value),u=c.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(c=>{t.destroy(c)})}function i_(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function cS(t,e,n,i,r){if(i_(t,e,i,n(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function uS(t,e,n,i){let r=new Set;for(let o=e;o<=n;o++)r.add(i(o,t.at(o)));return r}var kd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function w(t,e){Ki("NgControlFlow");let n=Ve(),i=xl(),r=n[i]!==Or?n[i]:-1,o=r!==-1?Fd(n,Rn+r):void 0,s=0;if($i(n,i,t)){let a=Ie(null);try{if(o!==void 0&&dT(o,s),t!==-1){let c=Rn+t,u=Fd(n,c),f=a_(n[fe],c),_=wl(u,f.tView.ssrId),E=Jd(n,f,e,{dehydratedView:_});Xd(u,E,s,vl(f,_))}}finally{Ie(a)}}else if(o!==void 0){let a=uT(o,s);a!==void 0&&(a[zt]=e)}}var r_=class{lContainer;$implicit;$index;constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-Wt}};function ot(t){return t}var o_=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function st(t,e,n,i,r,o,s,a,c,u,f,_,E){Ki("NgControlFlow");let b=Ve(),I=hn(),F=c!==void 0,j=Ve(),K=a?s.bind(j[Kn][zt]):s,X=new o_(F,K);j[Rn+t]=X,Jg(b,I,t+1,e,n,i,r,Vs(I.consts,o)),F&&Jg(b,I,t+2,c,u,f,_,Vs(I.consts,E))}var s_=class extends n_{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-Wt}at(e){return this.getLView(e)[zt].$implicit}attach(e,n){let i=n[pl];this.needsIndexUpdate||=e!==this.length,Xd(this.lContainer,n,e,vl(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,C6(this.lContainer,e)}create(e,n){let i=wl(this.lContainer,this.templateTNode.tView.ssrId),r=Jd(this.hostLView,this.templateTNode,new r_(this.lContainer,n,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Wd(e[fe],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[zt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[zt].$index=e}getLView(e){return w6(this.lContainer,e)}};function at(t){let e=Ie(null),n=xo();try{let i=Ve(),r=i[fe],o=i[n],s=n+1,a=Fd(i,s);if(o.liveCollection===void 0){let u=a_(r,s);o.liveCollection=new s_(a,i,u)}else o.liveCollection.reset();let c=o.liveCollection;if(v6(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=xl(),f=c.length===0;if($i(i,u,f)){let _=n+2,E=Fd(i,_);if(f){let b=a_(r,_),I=wl(E,b.tView.ssrId),F=Jd(i,b,void 0,{dehydratedView:I});Xd(E,F,0,vl(b,I))}else dT(E,0)}}}finally{Ie(e)}}function Fd(t,e){return t[e]}function C6(t,e){return yl(t,e)}function w6(t,e){return uT(t,e)}function a_(t,e){return y_(t,e)}function E6(t,e,n,i,r,o){let s=e.consts,a=Vs(s,r),c=Yd(e,t,2,i,a);return tT(e,n,c,Vs(s,o)),c.attrs!==null&&Hg(c,c.attrs,!1),c.mergedAttrs!==null&&Hg(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function y(t,e,n,i){let r=Ve(),o=hn(),s=Rn+t,a=r[kt],c=o.firstCreatePass?E6(s,o,r,e,n,i):o.data[s],u=b6(o,r,c,a,e,t);r[s]=u;let f=__(c);return Dl(c,!0),qI(a,u,c),!zO(c)&&S_()&&B_(o,r,u,c),Ak()===0&&Io(u,r),Nk(),f&&(JI(o,r,c),ZI(o,c,r)),i!==null&&XI(r,c),y}function g(){let t=Xt();WS()?Ok():(t=t.parent,Dl(t,!1));let e=t;Pk(e)&&kk(),Mk();let n=hn();return n.firstCreatePass&&(T_(n,t),LS(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Yk(e)&&aS(n,e,Ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Zk(e)&&aS(n,e,Ve(),e.stylesWithoutHost,!1),g}function A(t,e,n,i){return y(t,e,n,i),g(),A}var b6=(t,e,n,i,r,o)=>(I_(!0),VI(i,r,zk()));function ue(){return Ve()}var Od="en-US";var S6=Od;function I6(t){typeof t=="string"&&(S6=t.toLowerCase().replace(/_/g,"-"))}var T6=(t,e,n)=>{};function z(t,e,n,i){let r=Ve(),o=hn(),s=Xt();return x6(o,r,r[kt],s,t,e,i),z}function D6(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[yd],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function x6(t,e,n,i,r,o,s){let a=__(i),u=t.firstCreatePass&&lT(t),f=e[zt],_=aT(e),E=!0;if(i.type&3||s){let F=kn(i,e),j=s?s(F):F,K=_.length,X=s?pe=>s(pi(pe[i.index])):i.index,oe=null;if(!s&&a&&(oe=D6(t,e,r,i.index)),oe!==null){let pe=oe.__ngLastListenerFn__||oe;pe.__ngNextListenerFn__=o,oe.__ngLastListenerFn__=o,E=!1}else{o=hS(i,e,f,o),T6(F,r,o);let pe=n.listen(j,r,o);_.push(o,pe),u&&u.push(r,X,K,K+1)}}else o=hS(i,e,f,o);let b=i.outputs,I;if(E&&b!==null&&(I=b[r])){let F=I.length;if(F)for(let j=0;j<F;j+=2){let K=I[j],X=I[j+1],vt=e[K][X].subscribe(o),ve=_.length;_.push(o,vt),u&&u.push(r,i.index,ve,-(ve+1))}}}function dS(t,e,n,i){let r=Ie(null);try{return hi(6,e,n),n(i)!==!1}catch(o){return cT(t,o),!1}finally{hi(7,e,n),Ie(r)}}function hS(t,e,n,i){return function r(o){if(o===Function)return i;let s=t.componentOffset>-1?kr(t.index,e):e;q_(s,5);let a=dS(e,n,i,o),c=r.__ngNextListenerFn__;for(;c;)a=dS(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function x(t=1){return qk(t)}function AT(t,e,n,i){AO(t,e,n,i)}function NT(t){let e=Ve(),n=hn(),i=YS();w_(i+1);let r=W_(n,i);if(t.dirty&&Ik(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=PO(e,i);t.reset(o,v2),t.notifyOnChanges()}return!0}return!1}function MT(){return DO(Ve(),YS())}function nh(t){let e=Lk();return Sk(e,Rn+t)}function h(t,e=""){let n=Ve(),i=hn(),r=t+Rn,o=i.firstCreatePass?Yd(i,r,1,e,null):i.data[r],s=A6(i,n,o,e,t);n[r]=s,S_()&&B_(i,n,s,o),Dl(o,!1)}var A6=(t,e,n,i,r)=>(I_(!0),V2(e[kt],i));function V(t,e,n){let i=Ve(),r=n6(i,t,e,n);return r!==Or&&UF(i,xo(),r),V}function N6(t,e,n){let i=hn();if(i.firstCreatePass){let r=xr(t);l_(n,i.data,i.blueprint,r,!0),l_(e,i.data,i.blueprint,r,!1)}}function l_(t,e,n,i,r){if(t=Jt(t),Array.isArray(t))for(let o=0;o<t.length;o++)l_(t[o],e,n,i,r);else{let o=hn(),s=Ve(),a=Xt(),c=Fs(t)?t:Jt(t.provide),u=kS(t),f=a.providerIndexes&1048575,_=a.directiveStart,E=a.providerIndexes>>20;if(Fs(t)||!t.multi){let b=new bo(u,r,B),I=dg(c,e,r?f:f+E,_);I===-1?(Dg(Sd(a,s),o,c),ug(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(b),s.push(b)):(n[I]=b,s[I]=b)}else{let b=dg(c,e,f+E,_),I=dg(c,e,f,f+E),F=b>=0&&n[b],j=I>=0&&n[I];if(r&&!j||!r&&!F){Dg(Sd(a,s),o,c);let K=P6(r?R6:M6,n.length,r,i,u);!r&&j&&(n[I].providerFactory=K),ug(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(K),s.push(K)}else{let K=RT(n[r?I:b],u,!r&&i);ug(o,t,b>-1?b:I,K)}!r&&i&&j&&n[I].componentProviders++}}}function ug(t,e,n,i){let r=Fs(e),o=uk(e);if(r||o){let c=(o?Jt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let f=u.indexOf(n);f===-1?u.push(n,[i,c]):u[f+1].push(i,c)}else u.push(n,c)}}}function RT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function dg(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function M6(t,e,n,i){return c_(this.multi,[])}function R6(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=So(n,n[fe],this.providerFactory.index,i);o=a.slice(0,s),c_(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],c_(r,o);return o}function c_(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function P6(t,e,n,i,r){let o=new bo(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,RT(o,r,i&&!n),o}function Qi(t,e=[]){return n=>{n.providersResolver=(i,r)=>N6(i,r?r(t):t,e)}}function Z(t,e,n,i){return k6(Ve(),QS(),t,e,n,i)}function ih(t,e,n,i,r){return F6(Ve(),QS(),t,e,n,i,r)}function PT(t,e){let n=t[e];return n===Or?void 0:n}function k6(t,e,n,i,r,o){let s=e+n;return $i(t,s,r)?ST(t,s+1,o?i.call(o,r):i(r)):PT(t,s+1)}function F6(t,e,n,i,r,o,s){let a=e+n;return qO(t,a,r,o)?ST(t,a+2,s?i.call(s,r,o):i(r,o)):PT(t,a+2)}var Gi=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},kT=new Gi("19.0.3"),u_=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Z_=(()=>{class t{compileModuleSync(n){return new Zg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=DS(n),o=LI(r.declarations).reduce((s,a)=>{let c=yo(a);return c&&s.push(new El(c)),s},[]);return new u_(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var O6=(()=>{class t{zone=Q(Ue);changeDetectionScheduler=Q(_l);applicationRef=Q(No);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),L6=new ee("",{factory:()=>!1});function FT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ue(_e(U({},LT()),{scheduleInRootZone:n})),[{provide:Ue,useFactory:t},{provide:ks,multi:!0,useFactory:()=>{let i=Q(O6,{optional:!0});return()=>i.initialize()}},{provide:ks,multi:!0,useFactory:()=>{let i=Q(V6);return()=>{i.initialize()}}},e===!0?{provide:yI,useValue:!0}:[],{provide:vI,useValue:n??gI}]}function OT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,i=FT({ngZoneFactory:()=>{let r=LT(t);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&Ki("NgZone_CoalesceEvent"),new Ue(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Pn([{provide:L6,useValue:!0},{provide:qd,useValue:!1},i])}function LT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var V6=(()=>{class t{subscription=new pt;initialized=!1;zone=Q(Ue);pendingTasks=Q(Hs);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var B6=(()=>{class t{appRef=Q(No);taskService=Q(Hs);ngZone=Q(Ue);zonelessEnabled=Q(qd);tracing=Q(RI,{optional:!0});disableScheduling=Q(yI,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new pt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Td):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Q(vI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 13:{this.appRef.dirtyFlags|=16,i=!0;break}case 14:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{i=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Gb:CI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Td+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Gb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function U6(){return typeof $localize<"u"&&$localize.locale||Od}var J_=new ee("",{providedIn:"root",factory:()=>Q(J_,Ce.Optional|Ce.SkipSelf)||U6()});var d_=new ee("");function ad(t){return!t.moduleRef}function j6(t){let e=ad(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ue);return n.run(()=>{ad(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=e.get(Ar,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),ad(t)){let o=()=>e.destroy(),s=t.platformInjector.get(d_);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(d_);s.add(o),t.moduleRef.onDestroy(()=>{hd(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(o)})}return e6(i,n,()=>{let o=e.get(xT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(J_,Od);if(I6(s||Od),ad(t)){let a=e.get(No);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return H6(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function H6(t,e){let n=t.injector.get(No);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new G(-403,!1);e.push(t)}var fd=null;function $6(t=[],e){return Ft.create({name:e,providers:[{provide:Ud,useValue:"platform"},{provide:d_,useValue:new Set([()=>fd=null])},...t]})}function G6(t=[]){if(fd)return fd;let e=$6(t);return fd=e,ZO(),q6(e),e}function q6(t){let e=t.get(R_,null);Yn(t,()=>{e?.forEach(n=>n())})}var Mo=(()=>{class t{static __NG_ELEMENT_ID__=z6}return t})();function z6(t){return W6(Xt(),Ve(),(t&16)===16)}function W6(t,e,n){if(Hd(t)&&!n){let i=kr(t.index,e);return new To(i,i)}else if(t.type&175){let i=e[Kn];return new To(i,e)}return null}function VT(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=G6(i),o=[FT({}),{provide:_l,useExisting:B6},...n||[]],s=new Rd({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return j6({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function Ro(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Rl(t,e){Ki("NgSignals");let n=bb(t);return e?.equal&&(n[xn].equal=e.equal),n}function Yi(t){let e=Ie(null);try{return t()}finally{Ie(e)}}var fS=class{[xn];constructor(e){this[xn]=e}destroy(){this[xn].destroy()}};var Zi=new Gi("ANGULARFIRE2_VERSION");function zs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ko=(t,e)=>{let n=e?[e]:Su(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Vr=class{constructor(){return ko(K6)}},K6="app-check";function qs(){}var rh=class{zone;delegate;constructor(e,n=km){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},X_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qs,{},qs,qs)),n.pipe(It({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Br=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new rh(Zone.current)),this.insideAngular=n.run(()=>new rh(Zone.current,Pm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(le(Ue))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Q6(t){return oh().ngZone.runOutsideAngular(()=>t())}function Po(t){return oh().ngZone.run(()=>t())}function Y6(t){return Z6(oh())(t)}function Z6(t){return function(n){return n=n.lift(new X_(t.ngZone)),n.pipe(Er(t.outsideAngular),wr(t.insideAngular))}}var J6=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Po(()=>t.apply(void 0,i))},tn=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Po(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qs,{},qs,qs))),i[o]=J6(i[o],n));let r=Q6(()=>t.apply(this,i));if(!e)if(r instanceof Ne){let o=oh();return r.pipe(Er(o.outsideAngular),wr(o.insideAngular))}else return Po(()=>r);return r instanceof Ne?r.pipe(Y6):r instanceof Promise?Po(()=>new Promise((o,s)=>r.then(a=>Po(()=>o(a)),a=>Po(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Po(()=>r)};var Xn=class{constructor(e){return e}},Ji=class{constructor(){return Su()}};function X6(t){return t&&t.length===1?t[0]:new Xn(vr())}var e0=new ee("angularfire2._apps"),eL={provide:Xn,useFactory:X6,deps:[[new xt,e0]]},tL={provide:Ji,deps:[[new xt,e0]]};function nL(t){return(e,n)=>{let i=n.get(Fr);lt("angularfire",Zi.full,"core"),lt("angularfire",Zi.full,"app"),lt("angular",kT.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new Xn(r)}}function BT(t,...e){return Pn([eL,tL,{provide:e0,useFactory:nL(t),multi:!0,deps:[Ue,Ft,Br,...e]}])}var UT=tn(Em,!0);function t1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var n1=t1,i1=new ki("auth","Firebase",t1());var dh=new li("@firebase/auth");function iL(t,...e){dh.logLevel<=Pe.WARN&&dh.warn(`Auth (${di}): ${t}`,...e)}function ah(t,...e){dh.logLevel<=Pe.ERROR&&dh.error(`Auth (${di}): ${t}`,...e)}function jr(t,...e){throw C0(t,...e)}function Oo(t,...e){return C0(t,...e)}function r1(t,e,n){let i=Object.assign(Object.assign({},n1()),{[e]:n});return new ki("auth","Firebase",i).create(e,{appName:t.name})}function Fo(t){return r1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C0(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return i1.create(t,...e)}function de(t,e,...n){if(!t)throw C0(e,...n)}function Xi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ah(e),new Error(e)}function Hr(t,e){t||Xi(e)}function r0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rL(){return jT()==="http:"||jT()==="https:"}function jT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function oL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rL()||IE()||"connection"in navigator)?navigator.onLine:!0}function sL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Lo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=Ya()||wu()}get(){return oL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function w0(t,e){Hr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var hh=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lL=new Lo(3e4,6e4);function E0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ks(o,s,a,c){return L(this,arguments,function*(t,e,n,i,r={}){return o1(t,r,()=>L(this,null,function*(){let u={},f={};i&&(e==="GET"?f=i:u={body:JSON.stringify(i)});let _=co(Object.assign({key:t.config.apiKey},f)).slice(1),E=yield t._getAdditionalHeaders();E["Content-Type"]="application/json",t.languageCode&&(E["X-Firebase-Locale"]=t.languageCode);let b=Object.assign({method:e,headers:E},u);return SE()||(b.referrerPolicy="no-referrer"),hh.fetch()(s1(t,t.config.apiHost,n,_),b)}))})}function o1(t,e,n){return L(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},aL),e);try{let r=new o0(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw sh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw sh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw sh(t,"user-disabled",s);let f=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw r1(t,f,u);jr(t,f)}}catch(r){if(r instanceof gn)throw r;jr(t,"network-request-failed",{message:String(r)})}})}function cL(o,s,a,c){return L(this,arguments,function*(t,e,n,i,r={}){let u=yield Ks(t,e,n,i,r);return"mfaPendingCredential"in u&&jr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function s1(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?w0(t.config,r):`${t.config.apiScheme}://${r}`}var o0=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Oo(this.auth,"network-request-failed")),lL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function sh(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=Oo(t,e,i);return r.customData._tokenResponse=n,r}function uL(t,e){return L(this,null,function*(){return Ks(t,"POST","/v1/accounts:delete",e)})}function a1(t,e){return L(this,null,function*(){return Ks(t,"POST","/v1/accounts:lookup",e)})}function Pl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function b0(t,e=!1){return L(this,null,function*(){let n=qt(t),i=yield n.getIdToken(e),r=S0(i);de(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Pl(t0(r.auth_time)),issuedAtTime:Pl(t0(r.iat)),expirationTime:Pl(t0(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function t0(t){return Number(t)*1e3}function S0(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{let r=Qa(n);return r?JSON.parse(r):(ah("Failed to decode base64 JWT payload"),null)}catch(r){return ah("Caught error parsing JWT payload as JSON",r?.toString()),null}}function HT(t){let e=S0(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fl(t,e,n=!1){return L(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof gn&&dL(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function dL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var s0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>L(this,null,function*(){yield this.iteration()}),n)}iteration(){return L(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ol=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function fh(t){return L(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Fl(t,a1(n,{idToken:i}));de(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?l1(o.providerUserInfo):[],a=hL(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,f=c?u:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ol(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,_)})}function I0(t){return L(this,null,function*(){let e=qt(t);yield fh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function hL(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function l1(t){return t.map(e=>{var{providerId:n}=e,i=Fm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function fL(t,e){return L(this,null,function*(){let n=yield o1(t,{},()=>L(this,null,function*(){let i=co({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=s1(t,r,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hh.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function pL(t,e){return L(this,null,function*(){return Ks(t,"POST","/v2/accounts:revokeToken",E0(t,e))})}var kl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");let n=HT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return L(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return L(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield fL(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new t;return i&&(de(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(de(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Xi("not implemented")}};function Ur(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ws=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=Fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ol(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return L(this,null,function*(){let n=yield Fl(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return b0(this,e)}reload(){return I0(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return L(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield fh(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return L(this,null,function*(){if(Oi(this.auth.app))return Promise.reject(Fo(this.auth));let e=yield this.getIdToken();return yield Fl(this,uL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,a,c,u,f;let _=(i=n.displayName)!==null&&i!==void 0?i:void 0,E=(r=n.email)!==null&&r!==void 0?r:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=n.photoURL)!==null&&s!==void 0?s:void 0,F=(a=n.tenantId)!==null&&a!==void 0?a:void 0,j=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,K=(u=n.createdAt)!==null&&u!==void 0?u:void 0,X=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:oe,emailVerified:pe,isAnonymous:vt,providerData:ve,stsTokenManager:N}=n;de(oe&&N,e,"internal-error");let S=kl.fromJSON(this.name,N);de(typeof oe=="string",e,"internal-error"),Ur(_,e.name),Ur(E,e.name),de(typeof pe=="boolean",e,"internal-error"),de(typeof vt=="boolean",e,"internal-error"),Ur(b,e.name),Ur(I,e.name),Ur(F,e.name),Ur(j,e.name),Ur(K,e.name),Ur(X,e.name);let T=new t({uid:oe,auth:e,email:E,emailVerified:pe,displayName:_,isAnonymous:vt,photoURL:I,phoneNumber:b,tenantId:F,stsTokenManager:S,createdAt:K,lastLoginAt:X});return ve&&Array.isArray(ve)&&(T.providerData=ve.map(M=>Object.assign({},M))),j&&(T._redirectEventId=j),T}static _fromIdTokenResponse(e,n,i=!1){return L(this,null,function*(){let r=new kl;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield fh(o),o})}static _fromGetAccountInfoResponse(e,n,i){return L(this,null,function*(){let r=n.users[0];de(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?l1(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new kl;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Ol(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var $T=new Map;function er(t){Hr(t instanceof Function,"Expected a class definition");let e=$T.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$T.set(t,e),e)}var mL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return L(this,null,function*(){return!0})}_set(n,i){return L(this,null,function*(){this.storage[n]=i})}_get(n){return L(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return L(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),a0=mL;function lh(t,e,n){return`firebase:${t}:${e}:${n}`}var ph=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=lh(this.userKey,r.apiKey,o),this.fullPersistenceKey=lh("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return L(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ws._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return L(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return L(this,null,function*(){if(!n.length)return new t(er(a0),e,i);let r=(yield Promise.all(n.map(u=>L(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=r[0]||er(a0),s=lh(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let f=yield u._get(s);if(f){let _=Ws._fromJSON(e,f);u!==o&&(a=_),o=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>L(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,i))})}};function GT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p1(e))return"Blackberry";if(m1(e))return"Webos";if(u1(e))return"Safari";if((e.includes("chrome/")||d1(e))&&!e.includes("edge/"))return"Chrome";if(f1(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function c1(t=Rt()){return/firefox\//i.test(t)}function u1(t=Rt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d1(t=Rt()){return/crios\//i.test(t)}function h1(t=Rt()){return/iemobile/i.test(t)}function f1(t=Rt()){return/android/i.test(t)}function p1(t=Rt()){return/blackberry/i.test(t)}function m1(t=Rt()){return/webos/i.test(t)}function T0(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gL(t=Rt()){var e;return T0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _L(){return TE()&&document.documentMode===10}function g1(t=Rt()){return T0(t)||f1(t)||m1(t)||p1(t)||/windows phone/i.test(t)||h1(t)}function _1(t,e=[]){let n;switch(t){case"Browser":n=GT(Rt());break;case"Worker":n=`${GT(Rt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${di}/${i}`}var l0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return L(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function yL(n){return L(this,arguments,function*(t,e={}){return Ks(t,"GET","/v2/passwordPolicy",E0(t,e))})}var vL=6,c0=class{constructor(e){var n,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:vL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var u0=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mh(this),this.idTokenSubscription=new mh(this),this.beforeStateQueue=new l0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(()=>L(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield ph.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return L(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return L(this,null,function*(){try{let n=yield a1(this,{idToken:e}),i=yield Ws._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return L(this,null,function*(){var n;if(Oi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return L(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return L(this,null,function*(){try{yield fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=sL()}_delete(){return L(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return L(this,null,function*(){if(Oi(this.app))return Promise.reject(Fo(this));let n=e?qt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return L(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>L(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return L(this,null,function*(){return Oi(this.app)?Promise.reject(Fo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Oi(this.app)?Promise.reject(Fo(this)):this.queue(()=>L(this,null,function*(){yield this.assertedPersistence.setPersistence(er(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return L(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return L(this,null,function*(){let e=yield yL(this),n=new c0(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ki("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return L(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield pL(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return L(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return L(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&er(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=yield ph.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return L(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>L(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return L(this,null,function*(){if(e===this.currentUser)return this.queue(()=>L(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return L(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return L(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return L(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&iL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function D0(t){return qt(t)}var mh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ME(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var x0={loadJS(){return L(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CL(t){x0=t}function wL(t){return x0.loadJS(t)}function EL(){return x0.gapiScript}function y1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function A0(t,e){let n=ho(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(lo(o,e??{}))return r;jr(r,"already-initialized")}return n.initialize({options:e})}function bL(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(er);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function N0(t,e,n){let i=D0(t);de(i._canInitEmulator,i,"emulator-config-failed"),de(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=v1(e),{host:s,port:a}=SL(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${o}//${s}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||IL()}function v1(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SL(t){let e=v1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:qT(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:qT(s)}}}function qT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function IL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var gh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}};function n0(t,e){return L(this,null,function*(){return cL(t,"POST","/v1/accounts:signInWithIdp",E0(t,e))})}var _h=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var d0=class extends _h{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ll=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return L(this,null,function*(){let o=yield Ws._fromIdTokenResponse(e,i,r),s=zT(i);return new t({user:o,providerId:s,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return L(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=zT(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function zT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var h0=class t extends gn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function C1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?h0._fromErrorAndOperation(t,o,e,i):o})}function TL(t,e,n=!1){return L(this,null,function*(){let i=yield Fl(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ll._forOperation(t,"link",i)})}function DL(t,e,n=!1){return L(this,null,function*(){let{auth:i}=t;if(Oi(i.app))return Promise.reject(Fo(i));let r="reauthenticate";try{let o=yield Fl(t,C1(i,r,e,t),n);de(o.idToken,i,"internal-error");let s=S0(o.idToken);de(s,i,"internal-error");let{sub:a}=s;return de(t.uid===a,i,"user-mismatch"),Ll._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&jr(i,"user-mismatch"),o}})}function xL(t,e,n=!1){return L(this,null,function*(){if(Oi(t.app))return Promise.reject(Fo(t));let i="signIn",r=yield C1(t,i,e),o=yield Ll._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function M0(t,e,n,i){return qt(t).onIdTokenChanged(e,n,i)}function R0(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}var yh="__sak";var vh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var AL=1e3,NL=10,ML=(()=>{class t extends vh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g1(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=n.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);_L()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,NL):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},AL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return L(this,null,function*(){yield _r(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return L(this,null,function*(){let i=yield _r(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return L(this,null,function*(){yield _r(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),w1=ML;var RL=(()=>{class t extends vh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),P0=RL;function PL(t){return Promise.all(t.map(e=>L(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var kL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return L(this,null,function*(){let i=n,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(a).map(f=>L(this,null,function*(){return f(i.origin,s)})),u=yield PL(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function E1(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var f0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return L(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=E1("",20);r.port1.start();let f=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(_){let E=_;if(E.data.eventId===u)switch(E.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(E.data.response);break;default:clearTimeout(f),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function _i(){return window}function FL(t){_i().location.href=t}function b1(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}function OL(){return L(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function LL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VL(){return b1()?self:null}var S1="firebaseLocalStorageDb",BL=1,Ch="firebaseLocalStorage",I1="fbase_key",Vo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Eh(t,e){return t.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function UL(){let t=indexedDB.deleteDatabase(S1);return new Vo(t).toPromise()}function p0(){let t=indexedDB.open(S1,BL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Ch,{keyPath:I1})}catch(r){n(r)}}),t.addEventListener("success",()=>L(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Ch)?e(i):(i.close(),yield UL(),e(yield p0()))}))})}function WT(t,e,n){return L(this,null,function*(){let i=Eh(t,!0).put({[I1]:e,value:n});return new Vo(i).toPromise()})}function jL(t,e){return L(this,null,function*(){let n=Eh(t,!1).get(e),i=yield new Vo(n).toPromise();return i===void 0?null:i.value})}function KT(t,e){let n=Eh(t,!0).delete(e);return new Vo(n).toPromise()}var HL=800,$L=3,GL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return L(this,null,function*(){return this.db?this.db:(this.db=yield p0(),this.db)})}_withRetries(n){return L(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>$L)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return L(this,null,function*(){return b1()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return L(this,null,function*(){this.receiver=kL._getInstance(VL()),this.receiver._subscribe("keyChanged",(n,i)=>L(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>L(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return L(this,null,function*(){var n,i;if(this.activeServiceWorker=yield OL(),!this.activeServiceWorker)return;this.sender=new f0(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return L(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||LL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return L(this,null,function*(){try{if(!indexedDB)return!1;let n=yield p0();return yield WT(n,yh,"1"),yield KT(n,yh),!0}catch{}return!1})}_withPendingWrite(n){return L(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return L(this,null,function*(){return this._withPendingWrite(()=>L(this,null,function*(){return yield this._withRetries(r=>WT(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return L(this,null,function*(){let i=yield this._withRetries(r=>jL(r,n));return this.localCache[n]=i,i})}_remove(n){return L(this,null,function*(){return this._withPendingWrite(()=>L(this,null,function*(){return yield this._withRetries(i=>KT(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return L(this,null,function*(){let n=yield this._withRetries(o=>{let s=Eh(o,!1).getAll();return new Vo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>L(this,null,function*(){return this._poll()}),HL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),T1=GL;var cse=y1("rcb"),use=new Lo(3e4,6e4);function qL(t,e){return e?er(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Vl=class extends gh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return n0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return n0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return n0(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function zL(t){return xL(t.auth,new Vl(t),t.bypassAuthState)}function WL(t){let{auth:e,user:n}=t;return de(n,e,"internal-error"),DL(n,new Vl(t),t.bypassAuthState)}function KL(t){return L(this,null,function*(){let{auth:e,user:n}=t;return de(n,e,"internal-error"),TL(n,new Vl(t),t.bypassAuthState)})}var m0=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>L(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return L(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zL;case"linkViaPopup":case"linkViaRedirect":return KL;case"reauthViaPopup":case"reauthViaRedirect":return WL;default:jr(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var dse=new Lo(2e3,1e4);var QL="pendingRedirect",ch=new Map,g0=class t extends m0{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return L(this,null,function*(){let e=ch.get(this.auth._key());if(!e){try{let i=(yield YL(this.resolver,this.auth))?yield _r(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return L(this,null,function*(){if(e.type==="signInViaRedirect")return _r(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,_r(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return L(this,null,function*(){})}cleanUp(){}};function YL(t,e){return L(this,null,function*(){let n=XL(e),i=JL(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function ZL(t,e){ch.set(t._key(),e)}function JL(t){return er(t._redirectPersistence)}function XL(t){return lh(QL,t.config.apiKey,t.name)}function eV(t,e,n=!1){return L(this,null,function*(){if(Oi(t.app))return Promise.reject(Fo(t));let i=D0(t),r=qL(i,e),s=yield new g0(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var tV=10*60*1e3,_0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!D1(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Oo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tV&&this.cachedEventUids.clear(),this.cachedEventUids.has(QT(e))}saveEventToCache(e){this.cachedEventUids.add(QT(e)),this.lastProcessedEventTime=Date.now()}};function QT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D1(t);default:return!1}}function iV(n){return L(this,arguments,function*(t,e={}){return Ks(t,"GET","/v1/projects",e)})}var rV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oV=/^https?/;function sV(t){return L(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield iV(t);for(let n of e)try{if(aV(n))return}catch{}jr(t,"unauthorized-domain")})}function aV(t){let e=r0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!oV.test(n))return!1;if(rV.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var lV=new Lo(3e4,6e4);function YT(){let t=_i().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cV(t){return new Promise((e,n)=>{var i,r,o;function s(){YT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YT(),n(Oo(t,"network-request-failed"))},timeout:lV.get()})}if(!((r=(i=_i().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=_i().gapi)===null||o===void 0)&&o.load)s();else{let a=y1("iframefcb");return _i()[a]=()=>{gapi.load?s():n(Oo(t,"network-request-failed"))},wL(`${EL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw uh=null,e})}var uh=null;function uV(t){return uh=uh||cV(t),uh}var dV=new Lo(5e3,15e3),hV="__/auth/iframe",fV="emulator/auth/iframe",pV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gV(t){let e=t.config;de(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?w0(e,fV):`https://${t.config.authDomain}/${hV}`,i={apiKey:e.apiKey,appName:t.name,v:di},r=mV.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${co(i).slice(1)}`}function _V(t){return L(this,null,function*(){let e=yield uV(t),n=_i().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:gV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pV,dontclear:!0},i=>new Promise((r,o)=>L(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=Oo(t,"network-request-failed"),a=_i().setTimeout(()=>{o(s)},dV.get());function c(){_i().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{o(s)})})))})}var yV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vV=500,CV=600,wV="_blank",EV="http://localhost",wh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function bV(t,e,n,i=vV,r=CV){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},yV),{width:i.toString(),height:r.toString(),top:o,left:s}),u=Rt().toLowerCase();n&&(a=d1(u)?wV:n),c1(u)&&(e=e||EV,c.scrollbars="yes");let f=Object.entries(c).reduce((E,[b,I])=>`${E}${b}=${I},`,"");if(gL(u)&&a!=="_self")return SV(e||"",a),new wh(null);let _=window.open(e||"",a,f);de(_,t,"popup-blocked");try{_.focus()}catch{}return new wh(_)}function SV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var IV="__/auth/handler",TV="emulator/auth/handler",DV=encodeURIComponent("fac");function ZT(t,e,n,i,r,o){return L(this,null,function*(){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:di,eventId:r};if(e instanceof _h){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Za(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,_]of Object.entries(o||{}))s[f]=_}if(e instanceof d0){let f=e.getScopes().filter(_=>_!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let c=yield t._getAppCheckToken(),u=c?`#${DV}=${encodeURIComponent(c)}`:"";return`${xV(t)}?${co(a).slice(1)}${u}`})}function xV({config:t}){return t.emulator?w0(t,TV):`https://${t.authDomain}/${IV}`}var i0="webStorageSupport",y0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P0,this._completeRedirectFn=eV,this._overrideRedirectResult=ZL}_openPopup(e,n,i,r){return L(this,null,function*(){var o;Hr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield ZT(e,n,i,r0(),r);return bV(e,s,E1())})}_openRedirect(e,n,i,r){return L(this,null,function*(){yield this._originValidation(e);let o=yield ZT(e,n,i,r0(),r);return FL(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Hr(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return L(this,null,function*(){let n=yield _V(e),i=new _0(e);return n.register("authEvent",r=>(de(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(i0,{type:i0},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[i0];s!==void 0&&n(!!s),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g1()||u1()||T0()}},x1=y0;var JT="@firebase/auth",XT="1.7.9";var v0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return L(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function AV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NV(t){ui(new cn("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_1(t)},u=new u0(i,r,o,c);return bL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ui(new cn("auth-internal",e=>{let n=D0(e.getProvider("auth").getImmediate());return(i=>new v0(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lt(JT,XT,AV(t)),lt(JT,XT,"esm2017")}var MV=5*60,RV=am("authIdTokenMaxAge")||MV,e1=null,PV=t=>e=>L(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>RV)return;let r=n?.token;e1!==r&&(e1=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function k0(t=vr()){let e=ho(t,"auth");if(e.isInitialized())return e.getImmediate();let n=A0(t,{popupRedirectResolver:x1,persistence:[T1,w1,P0]}),i=am("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=PV(o.toString());R0(n,s,()=>s(n.currentUser)),M0(n,a=>s(a))}}let r=om("auth");return r&&N0(n,`http://${r}`),n}function kV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}CL({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=Oo("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",kV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NV("Browser");var A1="auth",Bl=class{constructor(e){return e}},Bo=class{constructor(){return ko(A1)}};var F0=new ee("angularfire2.auth-instances");function x3(t,e){let n=zs(A1,t,e);return n&&new Bl(n)}function A3(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Bl(i)}}var N3={provide:Bo,deps:[[new xt,F0]]},M3={provide:Bl,useFactory:x3,deps:[[new xt,F0],Xn]};function N1(t,...e){return lt("angularfire",Zi.full,"auth"),Pn([M3,N3,{provide:F0,useFactory:A3(t),multi:!0,deps:[Ue,Ft,Br,Ji,[new xt,Vr],...e]}])}var M1=tn(k0,!0);var R1="@firebase/database",P1="1.0.8";var Uy="";function R3(t){Uy=t}var $0=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),wt(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ds(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var G0=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var uD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $0(e)}}catch{}return new G0},jo=uD("localStorage"),q0=uD("sessionStorage");var Zs=new li("@firebase/database"),P3=function(){let t=1;return function(){return t++}}(),dD=function(t){let e=RE(t),n=new _u;n.update(e);let i=n.digest();return yu.encodeByteArray(i)},rc=function(...t){let e="";for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=rc.apply(null,i):typeof i=="object"?e+=wt(i):e+=i,e+=" "}return e},Ho=null,k1=!0,k3=function(t,e){$(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Zs.logLevel=Pe.VERBOSE,Ho=Zs.log.bind(Zs),e&&q0.set("logging_enabled",!0)):typeof t=="function"?Ho=t:(Ho=null,q0.remove("logging_enabled"))},Ot=function(...t){if(k1===!0&&(k1=!1,Ho===null&&q0.get("logging_enabled")===!0&&k3(!0)),Ho){let e=rc.apply(null,t);Ho(e)}},oc=function(t){return function(...e){Ot(t,...e)}},z0=function(...t){let e="FIREBASE INTERNAL ERROR: "+rc(...t);Zs.error(e)},tr=function(...t){let e=`FIREBASE FATAL ERROR: ${rc(...t)}`;throw Zs.error(e),new Error(e)},rn=function(...t){let e="FIREBASE WARNING: "+rc(...t);Zs.warn(e)},F3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jy=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},O3=function(t){if(ai()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xs="[MIN_NAME]",$o="[MAX_NAME]",zo=function(t,e){if(t===e)return 0;if(t===Xs||e===$o)return-1;if(e===Xs||t===$o)return 1;{let n=F1(t),i=F1(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},L3=function(t,e){return t===e?0:t<e?-1:1},Ul=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+wt(e))},Hy=function(t){if(typeof t!="object"||t===null)return wt(t);let e=[];for(let i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=wt(e[i]),n+=":",n+=Hy(t[e[i]]);return n+="}",n},hD=function(t,e){let n=t.length;if(n<=e)return[t];let i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Lt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var fD=function(t){$(!jy(t),"Invalid JSON number");let e=11,n=52,i=(1<<e-1)-1,r,o,s,a,c;t===0?(o=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=a+i,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-i-n))));let u=[];for(c=n;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(r?1:0),u.reverse();let f=u.join(""),_="";for(c=0;c<64;c+=8){let E=parseInt(f.substr(c,8),2).toString(16);E.length===1&&(E="0"+E),_=_+E}return _.toLowerCase()},V3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},B3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function U3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}var j3=new RegExp("^-?(0*)\\d{1,10}$"),H3=-2147483648,$3=2147483647,F1=function(t){if(j3.test(t)){let e=Number(t);if(e>=H3&&e<=$3)return e}return null},aa=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw rn("Exception was thrown by user callback.",n),e},Math.floor(0))}},G3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ql=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var W0=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){rn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var K0=class{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rn(e)}},zl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Sh="5",pD="v",mD="s",gD="r",_D="f",yD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vD="ls",CD="p",Q0="ac",wD="websocket",ED="long_polling";var Ih=class{constructor(e,n,i,r,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function q3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function bD(t,e,n){$(typeof e=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");let i;if(e===wD)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ED)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);q3(t)&&(n.ns=t.namespace);let r=[];return Lt(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Y0=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return EE(this.counters_)}};var O0={},L0={};function $y(t){let e=t.toString();return O0[e]||(O0[e]=new Y0),O0[e]}function z3(t,e){let n=t.toString();return L0[n]||(L0[n]=e()),L0[n]}var Z0=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&aa(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var O1="start",W3="close",K3="pLPCommand",Q3="pRTLPCB",SD="id",ID="pw",TD="ser",Y3="cb",Z3="seg",J3="ts",X3="d",e4="dframe",DD=1870,xD=30,t4=DD-xD,n4=25e3,i4=3e4,J0=class t{constructor(e,n,i,r,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oc(e),this.stats_=$y(n),this.urlFn=c=>(this.appCheckToken&&(c[Q0]=this.appCheckToken),bD(n,ED,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Z0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(i4)),O3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new X0((...o)=>{let[s,a,c,u,f]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===O1)this.id=a,this.password=c;else if(s===W3)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[O1]="t",i[TD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Y3]=this.scriptTagHolder.uniqueCallbackIdentifier),i[pD]=Sh,this.transportSessionId&&(i[mD]=this.transportSessionId),this.lastSessionId&&(i[vD]=this.lastSessionId),this.applicationId&&(i[CD]=this.applicationId),this.appCheckToken&&(i[Q0]=this.appCheckToken),typeof location<"u"&&location.hostname&&yD.test(location.hostname)&&(i[gD]=_D);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return ai()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!V3()&&!B3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=wt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=im(n),r=hD(i,t4);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(ai())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[e4]="t",i[SD]=e,i[ID]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=wt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},X0=class t{constructor(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,ai())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=P3(),window[K3+this.uniqueCallbackIdentifier]=e,window[Q3+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ot("frame writing exception"),a.stack&&Ot(a.stack),Ot(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ot("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[SD]=this.myID,e[ID]=this.myPW,e[TD]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xD+i.length<=DD;){let s=this.pendingSegs.shift();i=i+"&"+Z3+r+"="+s.seg+"&"+J3+r+"="+s.ts+"&"+X3+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(n4)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){ai()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var r4=16384,o4=45e3,Th=null;typeof MozWebSocket<"u"?Th=MozWebSocket:typeof WebSocket<"u"&&(Th=WebSocket);var jl=(()=>{class t{constructor(n,i,r,o,s,a,c){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oc(this.connId),this.stats_=$y(i),this.connURL=t.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[pD]=Sh,!ai()&&typeof location<"u"&&location.hostname&&yD.test(location.hostname)&&(a[gD]=_D),i&&(a[mD]=i),r&&(a[vD]=r),o&&(a[Q0]=o),s&&(a[CD]=s),bD(n,wD,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jo.set("previous_websocket_failure",!0);try{let r;if(ai()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Sh}/${Uy}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Th(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Th!==null&&!t.forceDisallow_}static previouslyFailed(){return jo.isInMemoryStorage||jo.get("previous_websocket_failure")===!0}markConnectionHealthy(){jo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=ds(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if($(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=wt(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=hD(i,r4);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(o4))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),s4=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[J0,jl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=jl&&jl.isAvailable(),r=i&&!jl.previouslyFailed();if(n.webSocketOnly&&(i||rn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jl];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),a4=6e4,l4=5e3,c4=10*1024,u4=100*1024,V0="t",L1="d",d4="s",V1="r",h4="e",B1="o",U1="a",j1="n",H1="p",f4="h",ey=class{constructor(e,n,i,r,o,s,a,c,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oc("c:"+this.id+":"),this.transportManager_=new s4(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=ql(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>u4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>c4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(V0 in e){let n=e[V0];n===U1?this.upgradeIfSecondaryHealthy_():n===V1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===B1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ul("t",e),i=Ul("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:H1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:U1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:j1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ul("t",e),i=Ul("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ul(V0,e);if(L1 in e){let i=e[L1];if(n===f4){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===j1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===d4?this.onConnectionShutdown_(i):n===V1?this.onReset_(i):n===h4?z0("Server Error: "+i):n===B1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):z0("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Sh!==i&&rn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),ql(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(a4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ql(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(l4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:H1,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Dh=class{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}};var xh=class{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});let r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){$(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Ah=class t extends xh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ya()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var $1=32,G1=768,je=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Be(){return new je("")}function xe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function zr(t){return t.pieces_.length-t.pieceNum_}function Ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new je(t.pieces_,e)}function Gy(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function p4(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Yl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function AD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new je(e,0)}function mt(t,e){let n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof je)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new je(n,0)}function Te(t){return t.pieceNum_>=t.pieces_.length}function nn(t,e){let n=xe(t),i=xe(e);if(n===null)return e;if(n===i)return nn(Ye(t),Ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function m4(t,e){let n=Yl(t,0),i=Yl(e,0);for(let r=0;r<n.length&&r<i.length;r++){let o=zo(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function ND(t,e){if(zr(t)!==zr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Fn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(zr(t)>zr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var ty=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Yl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=el(this.parts_[i]);MD(this)}};function g4(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=el(e),MD(t)}function _4(t){let e=t.parts_.pop();t.byteLength_-=el(e),t.parts_.length>0&&(t.byteLength_-=1)}function MD(t){if(t.byteLength_>G1)throw new Error(t.errorPrefix_+"has a key path longer than "+G1+" bytes ("+t.byteLength_+").");if(t.parts_.length>$1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$1+") or object contains a cycle "+Uo(t))}function Uo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var ny=class t extends xh{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new t}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}};var Hl=1e3,y4=60*5*1e3,q1=30*1e3,v4=1.3,C4=3e4,w4="server_kill",z1=3,qy=(()=>{class t extends Dh{constructor(n,i,r,o,s,a,c,u){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=oc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hl,this.maxReconnectDelay_=y4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!ai())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ny.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ah.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(wt(s)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new Pi,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?i.resolve(c):i.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let u=c.d,f=c.s;t.warnOnListenWarnings_(u,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(f,u))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&Hn(n,"w")){let r=ao(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();rn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||NE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=q1)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=AE(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+wt(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):z0("Unrecognized action received from server: "+wt(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>C4&&(this.reconnectDelay_=Hl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*v4)}this.onConnectStatus_(!1)}establishConnection_(){return L(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,u=function(){c?c.close():(a=!0,r())},f=function(E){$(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(E)};this.realtime_={close:u,sendRequest:f};let _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[E,b]=yield Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);a?Ot("getToken() completed but was canceled"):(Ot("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=b&&b.token,c=new ey(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,I=>{rn(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(w4)},s))}catch(E){this.log_("Failed to get token: "+E),a||(this.repoInfo_.nodeAdmin&&rn(E),u())}}})}interrupt(n){Ot("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ot("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Za(this.interruptReasons_)&&(this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>Hy(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new je(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Ot("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=z1&&(this.reconnectDelay_=q1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Ot("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=z1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";ai()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+Uy.replace(/\./g,"-")]=1,Ya()?n["framework.cordova"]=1:wu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Ah.getInstance().currentlyOnline();return Za(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Ee=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var ea=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let i=new Ee(Xs,e),r=new Ee(Xs,n);return this.compare(i,r)!==0}minPost(){return Ee.MIN}};var bh,Nh=class extends ea{static get __EMPTY_NODE(){return bh}static set __EMPTY_NODE(e){bh=e}compare(e,n){return zo(e.name,n.name)}isDefinedOn(e){throw so("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee($o,bh)}makePost(e,n){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new Ee(e,bh)}toString(){return".key"}},Js=new Nh;var Ys=class{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?i(e.key,n):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ei=(()=>{class t{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??t.RED,this.left=o??On.EMPTY_NODE,this.right=s??On.EMPTY_NODE}copy(n,i,r,o,s){return new t(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return On.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return On.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),iy=class{copy(e,n,i,r,o){return this}insert(e,n,i){return new ei(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},On=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ei.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ei.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ys(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ys(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ys(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ys(this.root_,null,this.comparator_,!0,e)}};On.EMPTY_NODE=new iy;function E4(t,e){return zo(t.name,e.name)}function zy(t,e){return zo(t,e)}var ry;function b4(t){ry=t}var RD=function(t){return typeof t=="number"?"number:"+fD(t):"string:"+t},PD=function(t){if(t.isLeafNode()){let e=t.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Hn(e,".sv"),"Priority must be a string or number.")}else $(t===ry||t.isEmpty(),"priority of unexpected type.");$(t===ry||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var W1,ta=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),PD(this.priorityNode_)}static set __childrenNodeConstructor(n){W1=n}static get __childrenNodeConstructor(){return W1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Te(n)?this:xe(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=xe(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:($(r!==".priority"||zr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ye(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+RD(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=fD(this.value_):n+=this.value_,this.lazyHash_=dD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:($(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(i),s=t.VALUE_TYPE_ORDER.indexOf(r);return $(o>=0,"Unknown leaf type: "+i),$(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),kD,FD;function S4(t){kD=t}function I4(t){FD=t}var oy=class extends ea{compare(e,n){let i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?zo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee($o,new ta("[PRIORITY-POST]",FD))}makePost(e,n){let i=kD(e);return new Ee(n,new ta("[PRIORITY-POST]",i))}toString(){return".priority"}},gt=new oy;var T4=Math.log(2),sy=class{constructor(e){let n=o=>parseInt(Math.log(o)/T4,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Mh=function(t,e,n,i){t.sort(e);let r=function(c,u){let f=u-c,_,E;if(f===0)return null;if(f===1)return _=t[c],E=n?n(_):_,new ei(E,_.node,ei.BLACK,null,null);{let b=parseInt(f/2,10)+c,I=r(c,b),F=r(b+1,u);return _=t[b],E=n?n(_):_,new ei(E,_.node,ei.BLACK,I,F)}},o=function(c){let u=null,f=null,_=t.length,E=function(I,F){let j=_-I,K=_;_-=I;let X=r(j+1,K),oe=t[j],pe=n?n(oe):oe;b(new ei(pe,oe.node,F,null,X))},b=function(I){u?(u.left=I,u=I):(f=I,u=I)};for(let I=0;I<c.count;++I){let F=c.nextBitIsOne(),j=Math.pow(2,c.count-(I+1));F?E(j,ei.BLACK):(E(j,ei.BLACK),E(j,ei.RED))}return f},s=new sy(t.length),a=o(s);return new On(i||e,a)};var B0,Qs={},na=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return $(Qs&&gt,"ChildrenNode.ts has not been loaded"),B0=B0||new t({".priority":Qs},{".priority":gt}),B0}get(e){let n=ao(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof On?n:null}hasIndex(e){return Hn(this.indexSet_,e.toString())}addIndex(e,n){$(e!==Js,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(Ee.Wrap),s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=Mh(i,e.getCompare()):a=Qs;let c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;let f=Object.assign({},this.indexes_);return f[c]=a,new t(f,u)}addToIndexes(e,n){let i=Ja(this.indexes_,(r,o)=>{let s=ao(this.indexSet_,o);if($(s,"Missing index implementation for "+o),r===Qs)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(Ee.Wrap),u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Mh(a,s.getCompare())}else return Qs;else{let a=n.get(e.name),c=r;return a&&(c=c.remove(new Ee(e.name,a))),c.insert(e,e.node)}});return new t(i,this.indexSet_)}removeFromIndexes(e,n){let i=Ja(this.indexes_,r=>{if(r===Qs)return r;{let o=n.get(e.name);return o?r.remove(new Ee(e.name,o)):r}});return new t(i,this.indexSet_)}};var $l,ge=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&PD(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $l||($l=new t(new On(zy),null,na.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$l}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?$l:i}}getChild(n){let i=xe(n);return i===null?this:this.getImmediateChild(i).getChild(Ye(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if($(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new Ee(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?$l:this.priorityNode_;return new t(o,a,s)}}updateChild(n,i){let r=xe(n);if(r===null)return i;{$(xe(n)!==".priority"||zr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(Ye(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(gt,(a,c)=>{i[a]=c.val(n),r++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let c in i)a[c]=i[c];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+RD(this.getPriority().val())+":"),this.forEachChild(gt,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":dD(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new Ee(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new Ee(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new Ee(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Ee.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Ee.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===sc?-1:0}withIndex(n){if(n===Js||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Js||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(gt),o=i.getIterator(gt),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Js?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),ay=class extends ge{constructor(){super(new On(zy),ge.EMPTY_NODE,na.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}},sc=new ay;Object.defineProperties(Ee,{MIN:{value:new Ee(Xs,ge.EMPTY_NODE)},MAX:{value:new Ee($o,sc)}});Nh.__EMPTY_NODE=ge.EMPTY_NODE;ta.__childrenNodeConstructor=ge;b4(sc);I4(sc);var D4=!0;function At(t,e=null){if(t===null)return ge.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new ta(n,At(e))}if(!(t instanceof Array)&&D4){let n=[],i=!1;if(Lt(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=At(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),n.push(new Ee(s,c)))}}),n.length===0)return ge.EMPTY_NODE;let o=Mh(n,E4,s=>s.name,zy);if(i){let s=Mh(n,gt.getCompare());return new ge(o,At(e),new na({".priority":s},{".priority":gt}))}else return new ge(o,At(e),na.Default)}else{let n=ge.EMPTY_NODE;return Lt(t,(i,r)=>{if(Hn(t,i)&&i.substring(0,1)!=="."){let o=At(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(At(e))}}S4(At);var ly=class extends ea{constructor(e){super(),this.indexPath_=e,$(!Te(e)&&xe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?zo(e.name,n.name):o}makePost(e,n){let i=At(e),r=ge.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ee(n,r)}maxPost(){let e=ge.EMPTY_NODE.updateChild(this.indexPath_,sc);return new Ee($o,e)}toString(){return Yl(this.indexPath_,0).join("/")}};var cy=class extends ea{compare(e,n){let i=e.node.compareTo(n.node);return i===0?zo(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ee.MIN}maxPost(){return Ee.MAX}makePost(e,n){let i=At(e);return new Ee(n,i)}toString(){return".value"}},x4=new cy;function OD(t){return{type:"value",snapshotNode:t}}function ia(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Zl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Jl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function A4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Xl=class{constructor(e){this.index_=e}updateChild(e,n,i,r,o,s){$(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?e.hasChild(n)?s.trackChildChange(Zl(n,a)):$(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ia(n,i)):s.trackChildChange(Jl(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(gt,(r,o)=>{n.hasChild(r)||i.trackChildChange(Zl(r,o))}),n.isLeafNode()||n.forEachChild(gt,(r,o)=>{if(e.hasChild(r)){let s=e.getImmediateChild(r);s.equals(o)||i.trackChildChange(Jl(r,o,s))}else i.trackChildChange(ia(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ge.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Rh=class t{constructor(e){this.indexedFilter_=new Xl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,s){return this.matches(new Ee(n,i))||(i=ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,s)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ge.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(ge.EMPTY_NODE);let o=this;return n.forEachChild(gt,(s,a)=>{o.matches(new Ee(s,a))||(r=r.updateImmediateChild(s,ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var uy=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Rh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,s){return this.rangedFilter_.matches(new Ee(n,i))||(i=ge.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,s):this.fullLimitUpdateChild_(e,n,i,o,s)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=ge.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(ge.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let s;if(this.reverse_){let _=this.index_.getCompare();s=(E,b)=>_(b,E)}else s=this.index_.getCompare();let a=e;$(a.numChildren()===this.limit_,"");let c=new Ee(n,i),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(a.hasChild(n)){let _=a.getImmediateChild(n),E=r.getChildAfterChild(this.index_,u,this.reverse_);for(;E!=null&&(E.name===n||a.hasChild(E.name));)E=r.getChildAfterChild(this.index_,E,this.reverse_);let b=E==null?1:s(E,c);if(f&&!i.isEmpty()&&b>=0)return o?.trackChildChange(Jl(n,i,_)),a.updateImmediateChild(n,i);{o?.trackChildChange(Zl(n,_));let F=a.updateImmediateChild(n,ge.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(o?.trackChildChange(ia(E.name,E.node)),F.updateImmediateChild(E.name,E.node)):F}}else return i.isEmpty()?e:f&&s(u,c)>=0?(o!=null&&(o.trackChildChange(Zl(u.name,u.node)),o.trackChildChange(ia(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(u.name,ge.EMPTY_NODE)):e}};var dy=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xs}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$o}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gt}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function N4(t){return t.loadsAllData()?new Xl(t.getIndex()):t.hasLimit()?new uy(t):new Rh(t)}function K1(t){let e={};if(t.isDefault())return e;let n;if(t.index_===gt?n="$priority":t.index_===x4?n="$value":t.index_===Js?n="$key":($(t.index_ instanceof ly,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=wt(n),t.startSet_){let i=t.startAfterSet_?"startAfter":"startAt";e[i]=wt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+wt(t.indexStartName_))}if(t.endSet_){let i=t.endBeforeSet_?"endBefore":"endAt";e[i]=wt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+wt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Q1(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gt&&(e.i=t.index_.toString()),e}var hy=class t extends Dh{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=oc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,i),a={};this.listens_[s]=a;let c=K1(e._queryParams);this.restRequest_(o+".json",c,(u,f)=>{let _=f;if(u===404&&(_=null,u=null),u===null&&this.onDataUpdate_(o,_,!1,i),ao(this.listens_,s)===a){let E;u?u===401?E="permission_denied":E="rest_error:"+u:E="ok",r(E,null)}})}unlisten(e,n){let i=t.getListenId_(e,n);delete this.listens_[i]}get(e){let n=K1(e._queryParams),i=e._path.toString(),r=new Pi;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+co(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=ds(a.responseText)}catch{rn("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else a.status!==401&&a.status!==404&&rn("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var fy=class{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ph(){return{value:null,children:new Map}}function LD(t,e,n){if(Te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let i=xe(e);t.children.has(i)||t.children.set(i,Ph());let r=t.children.get(i);e=Ye(e),LD(r,e,n)}}function py(t,e,n){t.value!==null?n(e,t.value):M4(t,(i,r)=>{let o=new je(e.toString()+"/"+i);py(r,o,n)})}function M4(t,e){t.children.forEach((n,i)=>{e(i,n)})}var my=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Lt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}};var Y1=10*1e3,R4=30*1e3,P4=5*60*1e3,gy=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new my(e);let i=Y1+(R4-Y1)*Math.random();ql(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),n={},i=!1;Lt(e,(r,o)=>{o>0&&Hn(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),ql(this.reportStats_.bind(this),Math.floor(Math.random()*2*P4))}};var yi=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(yi||{});function Wy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ky(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var _y=class t{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=yi.ACK_USER_WRITE,this.source=Wy()}operationForChild(e){if(Te(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new je(e));return new t(Be(),n,this.revert)}}else return $(xe(this.path)===e,"operationForChild called for unrelated child."),new t(Ye(this.path),this.affectedTree,this.revert)}};var kh=class t{constructor(e,n){this.source=e,this.path=n,this.type=yi.LISTEN_COMPLETE}operationForChild(e){return Te(this.path)?new t(this.source,Be()):new t(this.source,Ye(this.path))}};var ra=class t{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=yi.OVERWRITE}operationForChild(e){return Te(this.path)?new t(this.source,Be(),this.snap.getImmediateChild(e)):new t(this.source,Ye(this.path),this.snap)}};var ec=class t{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=yi.MERGE}operationForChild(e){if(Te(this.path)){let n=this.children.subtree(new je(e));return n.isEmpty()?null:n.value?new ra(this.source,Be(),n.value):new t(this.source,Be(),n)}else return $(xe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var vi=class{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Te(e))return this.isFullyInitialized()&&!this.filtered_;let n=xe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var yy=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function k4(t,e,n,i){let r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(A4(s.childName,s.snapshotNode))}),Gl(t,r,"child_removed",e,i,n),Gl(t,r,"child_added",e,i,n),Gl(t,r,"child_moved",o,i,n),Gl(t,r,"child_changed",e,i,n),Gl(t,r,"value",e,i,n),r}function Gl(t,e,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,c)=>O4(t,a,c)),s.forEach(a=>{let c=F4(t,a,o);r.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,t.query_))})})}function F4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function O4(t,e,n){if(e.childName==null||n.childName==null)throw so("Should only compare child_ events.");let i=new Ee(e.childName,e.snapshotNode),r=new Ee(n.childName,n.snapshotNode);return t.index_.compare(i,r)}function Gh(t,e){return{eventCache:t,serverCache:e}}function Wl(t,e,n,i){return Gh(new vi(e,n,i),t.serverCache)}function VD(t,e,n,i){return Gh(t.eventCache,new vi(e,n,i))}function Fh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Go(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var U0,L4=()=>(U0||(U0=new On(L3)),U0),on=class t{constructor(e,n=L4()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Lt(e,(i,r)=>{n=n.set(new je(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Be(),value:this.value};if(Te(e))return null;{let i=xe(e),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(Ye(e),n);return o!=null?{path:mt(new je(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Te(e))return this;{let n=xe(e),i=this.children.get(n);return i!==null?i.subtree(Ye(e)):new t(null)}}set(e,n){if(Te(e))return new t(n,this.children);{let i=xe(e),o=(this.children.get(i)||new t(null)).set(Ye(e),n),s=this.children.insert(i,o);return new t(this.value,s)}}remove(e){if(Te(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=xe(e),i=this.children.get(n);if(i){let r=i.remove(Ye(e)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(Te(e))return this.value;{let n=xe(e),i=this.children.get(n);return i?i.get(Ye(e)):null}}setTree(e,n){if(Te(e))return n;{let i=xe(e),o=(this.children.get(i)||new t(null)).setTree(Ye(e),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new t(this.value,s)}}fold(e){return this.fold_(Be(),e)}fold_(e,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(mt(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Be(),n)}findOnPath_(e,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(Te(e))return null;{let o=xe(e),s=this.children.get(o);return s?s.findOnPath_(Ye(e),mt(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Be(),n)}foreachOnPath_(e,n,i){if(Te(e))return this;{this.value&&i(n,this.value);let r=xe(e),o=this.children.get(r);return o?o.foreachOnPath_(Ye(e),mt(n,r),i):new t(null)}}foreach(e){this.foreach_(Be(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(mt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}};var ti=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new on(null))}};function Kl(t,e,n){if(Te(e))return new ti(new on(n));{let i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,o=i.value,s=nn(r,e);return o=o.updateChild(s,n),new ti(t.writeTree_.set(r,o))}else{let r=new on(n),o=t.writeTree_.setTree(e,r);return new ti(o)}}}function vy(t,e,n){let i=t;return Lt(n,(r,o)=>{i=Kl(i,mt(e,r),o)}),i}function Z1(t,e){if(Te(e))return ti.empty();{let n=t.writeTree_.setTree(e,new on(null));return new ti(n)}}function Cy(t,e){return Wo(t,e)!=null}function Wo(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(nn(n.path,e)):null}function J1(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gt,(i,r)=>{e.push(new Ee(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Ee(i,r.value))}),e}function Gr(t,e){if(Te(e))return t;{let n=Wo(t,e);return n!=null?new ti(new on(n)):new ti(t.writeTree_.subtree(e))}}function wy(t){return t.writeTree_.isEmpty()}function oa(t,e){return BD(Be(),t.writeTree_,e)}function BD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?($(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=BD(mt(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(mt(t,".priority"),i)),n}}function qh(t,e){return $D(e,t)}function V4(t,e,n,i,r){$(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Kl(t.visibleWrites,e,n)),t.lastWriteId=i}function B4(t,e,n,i){$(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=vy(t.visibleWrites,e,n),t.lastWriteId=i}function U4(t,e){for(let n=0;n<t.allWrites.length;n++){let i=t.allWrites[n];if(i.writeId===e)return i}return null}function j4(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);$(n>=0,"removeWrite called with nonexistent writeId.");let i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&H4(a,i.path)?r=!1:Fn(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return $4(t),!0;if(i.snap)t.visibleWrites=Z1(t.visibleWrites,i.path);else{let a=i.children;Lt(a,c=>{t.visibleWrites=Z1(t.visibleWrites,mt(i.path,c))})}return!0}else return!1}function H4(t,e){if(t.snap)return Fn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Fn(mt(t.path,n),e))return!0;return!1}function $4(t){t.visibleWrites=UD(t.allWrites,G4,Be()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function G4(t){return t.visible}function UD(t,e,n){let i=ti.empty();for(let r=0;r<t.length;++r){let o=t[r];if(e(o)){let s=o.path,a;if(o.snap)Fn(n,s)?(a=nn(n,s),i=Kl(i,a,o.snap)):Fn(s,n)&&(a=nn(s,n),i=Kl(i,Be(),o.snap.getChild(a)));else if(o.children){if(Fn(n,s))a=nn(n,s),i=vy(i,a,o.children);else if(Fn(s,n))if(a=nn(s,n),Te(a))i=vy(i,Be(),o.children);else{let c=ao(o.children,xe(a));if(c){let u=c.getChild(Ye(a));i=Kl(i,Be(),u)}}}else throw so("WriteRecord should have .snap or .children")}}return i}function jD(t,e,n,i,r){if(!i&&!r){let o=Wo(t.visibleWrites,e);if(o!=null)return o;{let s=Gr(t.visibleWrites,e);if(wy(s))return n;if(n==null&&!Cy(s,Be()))return null;{let a=n||ge.EMPTY_NODE;return oa(s,a)}}}else{let o=Gr(t.visibleWrites,e);if(!r&&wy(o))return n;if(!r&&n==null&&!Cy(o,Be()))return null;{let s=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(Fn(u.path,e)||Fn(e,u.path))},a=UD(t.allWrites,s,e),c=n||ge.EMPTY_NODE;return oa(a,c)}}}function q4(t,e,n){let i=ge.EMPTY_NODE,r=Wo(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(gt,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=Gr(t.visibleWrites,e);return n.forEachChild(gt,(s,a)=>{let c=oa(Gr(o,new je(s)),a);i=i.updateImmediateChild(s,c)}),J1(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=Gr(t.visibleWrites,e);return J1(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function z4(t,e,n,i,r){$(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=mt(e,n);if(Cy(t.visibleWrites,o))return null;{let s=Gr(t.visibleWrites,o);return wy(s)?r.getChild(n):oa(s,r.getChild(n))}}function W4(t,e,n,i){let r=mt(e,n),o=Wo(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=Gr(t.visibleWrites,r);return oa(s,i.getNode().getImmediateChild(n))}else return null}function K4(t,e){return Wo(t.visibleWrites,e)}function Q4(t,e,n,i,r,o,s){let a,c=Gr(t.visibleWrites,e),u=Wo(c,Be());if(u!=null)a=u;else if(n!=null)a=oa(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let f=[],_=s.getCompare(),E=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),b=E.getNext();for(;b&&f.length<r;)_(b,i)!==0&&f.push(b),b=E.getNext();return f}else return[]}function Y4(){return{visibleWrites:ti.empty(),allWrites:[],lastWriteId:-1}}function Oh(t,e,n,i){return jD(t.writeTree,t.treePath,e,n,i)}function Yy(t,e){return q4(t.writeTree,t.treePath,e)}function X1(t,e,n,i){return z4(t.writeTree,t.treePath,e,n,i)}function Lh(t,e){return K4(t.writeTree,mt(t.treePath,e))}function Z4(t,e,n,i,r,o){return Q4(t.writeTree,t.treePath,e,n,i,r,o)}function Zy(t,e,n){return W4(t.writeTree,t.treePath,e,n)}function HD(t,e){return $D(mt(t.treePath,e),t.writeTree)}function $D(t,e){return{treePath:t,writeTree:e}}var Ey=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,i=e.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Jl(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Zl(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,ia(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Jl(i,e.snapshotNode,r.oldSnap));else throw so("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var by=class{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}},GD=new by,tc=class{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new vi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zy(this.writes_,e,i)}}getChildAfterChild(e,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Go(this.viewCache_),o=Z4(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}};function J4(t){return{filter:t}}function X4(t,e){$(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function eB(t,e,n,i,r){let o=new Ey,s,a;if(n.type===yi.OVERWRITE){let u=n;u.source.fromUser?s=Sy(t,e,u.path,u.snap,i,r,o):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Te(u.path),s=Vh(t,e,u.path,u.snap,i,r,a,o))}else if(n.type===yi.MERGE){let u=n;u.source.fromUser?s=nB(t,e,u.path,u.children,i,r,o):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Iy(t,e,u.path,u.children,i,r,a,o))}else if(n.type===yi.ACK_USER_WRITE){let u=n;u.revert?s=oB(t,e,u.path,i,r,o):s=iB(t,e,u.path,u.affectedTree,i,r,o)}else if(n.type===yi.LISTEN_COMPLETE)s=rB(t,e,n.path,i,o);else throw so("Unknown operation type: "+n.type);let c=o.getChanges();return tB(e,s,c),{viewCache:s,changes:c}}function tB(t,e,n){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Fh(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(OD(Fh(e)))}}function qD(t,e,n,i,r,o){let s=e.eventCache;if(Lh(i,n)!=null)return e;{let a,c;if(Te(n))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=Go(e),f=u instanceof ge?u:ge.EMPTY_NODE,_=Yy(i,f);a=t.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{let u=Oh(i,Go(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{let u=xe(n);if(u===".priority"){$(zr(n)===1,"Can't have a priority with additional path components");let f=s.getNode();c=e.serverCache.getNode();let _=X1(i,n,f,c);_!=null?a=t.filter.updatePriority(f,_):a=s.getNode()}else{let f=Ye(n),_;if(s.isCompleteForChild(u)){c=e.serverCache.getNode();let E=X1(i,n,s.getNode(),c);E!=null?_=s.getNode().getImmediateChild(u).updateChild(f,E):_=s.getNode().getImmediateChild(u)}else _=Zy(i,u,e.serverCache);_!=null?a=t.filter.updateChild(s.getNode(),u,_,f,r,o):a=s.getNode()}}return Wl(e,a,s.isFullyInitialized()||Te(n),t.filter.filtersNodes())}}function Vh(t,e,n,i,r,o,s,a){let c=e.serverCache,u,f=s?t.filter:t.filter.getIndexedFilter();if(Te(n))u=f.updateFullNode(c.getNode(),i,null);else if(f.filtersNodes()&&!c.isFiltered()){let b=c.getNode().updateChild(n,i);u=f.updateFullNode(c.getNode(),b,null)}else{let b=xe(n);if(!c.isCompleteForPath(n)&&zr(n)>1)return e;let I=Ye(n),j=c.getNode().getImmediateChild(b).updateChild(I,i);b===".priority"?u=f.updatePriority(c.getNode(),j):u=f.updateChild(c.getNode(),b,j,I,GD,null)}let _=VD(e,u,c.isFullyInitialized()||Te(n),f.filtersNodes()),E=new tc(r,_,o);return qD(t,_,n,r,E,a)}function Sy(t,e,n,i,r,o,s){let a=e.eventCache,c,u,f=new tc(r,e,o);if(Te(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,s),c=Wl(e,u,!0,t.filter.filtersNodes());else{let _=xe(n);if(_===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),c=Wl(e,u,a.isFullyInitialized(),a.isFiltered());else{let E=Ye(n),b=a.getNode().getImmediateChild(_),I;if(Te(E))I=i;else{let F=f.getCompleteChild(_);F!=null?Gy(E)===".priority"&&F.getChild(AD(E)).isEmpty()?I=F:I=F.updateChild(E,i):I=ge.EMPTY_NODE}if(b.equals(I))c=e;else{let F=t.filter.updateChild(a.getNode(),_,I,E,f,s);c=Wl(e,F,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function eD(t,e){return t.eventCache.isCompleteForChild(e)}function nB(t,e,n,i,r,o,s){let a=e;return i.foreach((c,u)=>{let f=mt(n,c);eD(e,xe(f))&&(a=Sy(t,a,f,u,r,o,s))}),i.foreach((c,u)=>{let f=mt(n,c);eD(e,xe(f))||(a=Sy(t,a,f,u,r,o,s))}),a}function tD(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Iy(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;Te(n)?u=i:u=new on(null).setTree(n,i);let f=e.serverCache.getNode();return u.children.inorderTraversal((_,E)=>{if(f.hasChild(_)){let b=e.serverCache.getNode().getImmediateChild(_),I=tD(t,b,E);c=Vh(t,c,new je(_),I,r,o,s,a)}}),u.children.inorderTraversal((_,E)=>{let b=!e.serverCache.isCompleteForChild(_)&&E.value===null;if(!f.hasChild(_)&&!b){let I=e.serverCache.getNode().getImmediateChild(_),F=tD(t,I,E);c=Vh(t,c,new je(_),F,r,o,s,a)}}),c}function iB(t,e,n,i,r,o,s){if(Lh(r,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(i.value!=null){if(Te(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Vh(t,e,n,c.getNode().getChild(n),r,o,a,s);if(Te(n)){let u=new on(null);return c.getNode().forEachChild(Js,(f,_)=>{u=u.set(new je(f),_)}),Iy(t,e,n,u,r,o,a,s)}else return e}else{let u=new on(null);return i.foreach((f,_)=>{let E=mt(n,f);c.isCompleteForPath(E)&&(u=u.set(f,c.getNode().getChild(E)))}),Iy(t,e,n,u,r,o,a,s)}}function rB(t,e,n,i,r){let o=e.serverCache,s=VD(e,o.getNode(),o.isFullyInitialized()||Te(n),o.isFiltered());return qD(t,s,n,i,GD,r)}function oB(t,e,n,i,r,o){let s;if(Lh(i,n)!=null)return e;{let a=new tc(i,e,r),c=e.eventCache.getNode(),u;if(Te(n)||xe(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Oh(i,Go(e));else{let _=e.serverCache.getNode();$(_ instanceof ge,"serverChildren would be complete if leaf node"),f=Yy(i,_)}f=f,u=t.filter.updateFullNode(c,f,o)}else{let f=xe(n),_=Zy(i,f,e.serverCache);_==null&&e.serverCache.isCompleteForChild(f)&&(_=c.getImmediateChild(f)),_!=null?u=t.filter.updateChild(c,f,_,Ye(n),a,o):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(c,f,ge.EMPTY_NODE,Ye(n),a,o):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Oh(i,Go(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Lh(i,Be())!=null,Wl(e,u,s,t.filter.filtersNodes())}}var Ty=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Xl(i.getIndex()),o=N4(i);this.processor_=J4(o);let s=n.serverCache,a=n.eventCache,c=r.updateFullNode(ge.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(ge.EMPTY_NODE,a.getNode(),null),f=new vi(c,s.isFullyInitialized(),r.filtersNodes()),_=new vi(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Gh(_,f),this.eventGenerator_=new yy(this.query_)}get query(){return this.query_}};function sB(t){return t.viewCache_.serverCache.getNode()}function aB(t){return Fh(t.viewCache_)}function lB(t,e){let n=Go(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Te(e)&&!n.getImmediateChild(xe(e)).isEmpty())?n.getChild(e):null}function nD(t){return t.eventRegistrations_.length===0}function cB(t,e){t.eventRegistrations_.push(e)}function iD(t,e,n){let i=[];if(n){$(e==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))r.push(s);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function rD(t,e,n,i){e.type===yi.MERGE&&e.source.queryId!==null&&($(Go(t.viewCache_),"We should always have a full cache before handling merges"),$(Fh(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,o=eB(t.processor_,r,e,n,i);return X4(t.processor_,o.viewCache),$(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,zD(t,o.changes,o.viewCache.eventCache.getNode(),null)}function uB(t,e){let n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(gt,(o,s)=>{i.push(ia(o,s))}),n.isFullyInitialized()&&i.push(OD(n.getNode())),zD(t,i,n.getNode(),e)}function zD(t,e,n,i){let r=i?[i]:t.eventRegistrations_;return k4(t.eventGenerator_,e,n,r)}var Bh,Uh=class{constructor(){this.views=new Map}};function dB(t){$(!Bh,"__referenceConstructor has already been defined"),Bh=t}function hB(){return $(Bh,"Reference.ts has not been loaded"),Bh}function fB(t){return t.views.size===0}function Jy(t,e,n,i){let r=e.source.queryId;if(r!==null){let o=t.views.get(r);return $(o!=null,"SyncTree gave us an op for an invalid query."),rD(o,e,n,i)}else{let o=[];for(let s of t.views.values())o=o.concat(rD(s,e,n,i));return o}}function WD(t,e,n,i,r){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Oh(n,r?i:null),c=!1;a?c=!0:i instanceof ge?(a=Yy(n,i),c=!1):(a=ge.EMPTY_NODE,c=!1);let u=Gh(new vi(a,c,!1),new vi(i,r,!1));return new Ty(e,u)}return s}function pB(t,e,n,i,r,o){let s=WD(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),cB(s,n),uB(s,n)}function mB(t,e,n,i){let r=e._queryIdentifier,o=[],s=[],a=Wr(t);if(r==="default")for(let[c,u]of t.views.entries())s=s.concat(iD(u,n,i)),nD(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||o.push(u.query));else{let c=t.views.get(r);c&&(s=s.concat(iD(c,n,i)),nD(c)&&(t.views.delete(r),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Wr(t)&&o.push(new(hB())(e._repo,e._path)),{removed:o,events:s}}function KD(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function qr(t,e){let n=null;for(let i of t.views.values())n=n||lB(i,e);return n}function QD(t,e){if(e._queryParams.loadsAllData())return zh(t);{let i=e._queryIdentifier;return t.views.get(i)}}function YD(t,e){return QD(t,e)!=null}function Wr(t){return zh(t)!=null}function zh(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var jh;function gB(t){$(!jh,"__referenceConstructor has already been defined"),jh=t}function _B(){return $(jh,"Reference.ts has not been loaded"),jh}var yB=1,Hh=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new on(null),this.pendingWriteTree_=Y4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function ZD(t,e,n,i,r){return V4(t.pendingWriteTree_,e,n,i,r),r?la(t,new ra(Wy(),e,n)):[]}function vB(t,e,n,i){B4(t.pendingWriteTree_,e,n,i);let r=on.fromObject(n);return la(t,new ec(Wy(),e,r))}function $r(t,e,n=!1){let i=U4(t.pendingWriteTree_,e);if(j4(t.pendingWriteTree_,e)){let o=new on(null);return i.snap!=null?o=o.set(Be(),!0):Lt(i.children,s=>{o=o.set(new je(s),!0)}),la(t,new _y(i.path,o,n))}else return[]}function ac(t,e,n){return la(t,new ra(Ky(),e,n))}function CB(t,e,n){let i=on.fromObject(n);return la(t,new ec(Ky(),e,i))}function wB(t,e){return la(t,new kh(Ky(),e))}function EB(t,e,n){let i=ev(t,n);if(i){let r=tv(i),o=r.path,s=r.queryId,a=nn(o,e),c=new kh(Qy(s),a);return nv(t,o,c)}else return[]}function JD(t,e,n,i,r=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||YD(s,e))){let c=mB(s,e,n,i);fB(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let u=c.removed;if(a=c.events,!r){let f=u.findIndex(E=>E._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(o,(E,b)=>Wr(b));if(f&&!_){let E=t.syncPointTree_.subtree(o);if(!E.isEmpty()){let b=TB(E);for(let I=0;I<b.length;++I){let F=b[I],j=F.query,K=nx(t,F);t.listenProvider_.startListening(Ql(j),nc(t,j),K.hashFn,K.onComplete)}}}!_&&u.length>0&&!i&&(f?t.listenProvider_.stopListening(Ql(e),null):u.forEach(E=>{let b=t.queryToTagMap.get(Wh(E));t.listenProvider_.stopListening(Ql(E),b)}))}DB(t,u)}return a}function XD(t,e,n,i){let r=ev(t,i);if(r!=null){let o=tv(r),s=o.path,a=o.queryId,c=nn(s,e),u=new ra(Qy(a),c,n);return nv(t,s,u)}else return[]}function bB(t,e,n,i){let r=ev(t,i);if(r){let o=tv(r),s=o.path,a=o.queryId,c=nn(s,e),u=on.fromObject(n),f=new ec(Qy(a),c,u);return nv(t,s,f)}else return[]}function SB(t,e,n,i=!1){let r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(E,b)=>{let I=nn(E,r);o=o||qr(b,I),s=s||Wr(b)});let a=t.syncPointTree_.get(r);a?(s=s||Wr(a),o=o||qr(a,Be())):(a=new Uh,t.syncPointTree_=t.syncPointTree_.set(r,a));let c;o!=null?c=!0:(c=!1,o=ge.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((b,I)=>{let F=qr(I,Be());F&&(o=o.updateImmediateChild(b,F))}));let u=YD(a,e);if(!u&&!e._queryParams.loadsAllData()){let E=Wh(e);$(!t.queryToTagMap.has(E),"View does not exist, but we have a tag");let b=xB();t.queryToTagMap.set(E,b),t.tagToQueryMap.set(b,E)}let f=qh(t.pendingWriteTree_,r),_=pB(a,e,n,f,o,c);if(!u&&!s&&!i){let E=QD(a,e);_=_.concat(AB(t,e,E))}return _}function Xy(t,e,n){let r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=nn(s,e),u=qr(a,c);if(u)return u});return jD(r,e,o,n,!0)}function IB(t,e){let n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,(u,f)=>{let _=nn(u,n);i=i||qr(f,_)});let r=t.syncPointTree_.get(n);r?i=i||qr(r,Be()):(r=new Uh,t.syncPointTree_=t.syncPointTree_.set(n,r));let o=i!=null,s=o?new vi(i,!0,!1):null,a=qh(t.pendingWriteTree_,e._path),c=WD(r,e,a,o?s.getNode():ge.EMPTY_NODE,o);return aB(c)}function la(t,e){return ex(e,t.syncPointTree_,null,qh(t.pendingWriteTree_,Be()))}function ex(t,e,n,i){if(Te(t.path))return tx(t,e,n,i);{let r=e.get(Be());n==null&&r!=null&&(n=qr(r,Be()));let o=[],s=xe(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let u=n?n.getImmediateChild(s):null,f=HD(i,s);o=o.concat(ex(a,c,u,f))}return r&&(o=o.concat(Jy(r,t,i,n))),o}}function tx(t,e,n,i){let r=e.get(Be());n==null&&r!=null&&(n=qr(r,Be()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,u=HD(i,s),f=t.operationForChild(s);f&&(o=o.concat(tx(f,a,c,u)))}),r&&(o=o.concat(Jy(r,t,i,n))),o}function nx(t,e){let n=e.query,i=nc(t,n);return{hashFn:()=>(sB(e)||ge.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?EB(t,n._path,i):wB(t,n._path);{let o=U3(r,n);return JD(t,n,null,o)}}}}function nc(t,e){let n=Wh(e);return t.queryToTagMap.get(n)}function Wh(t){return t._path.toString()+"$"+t._queryIdentifier}function ev(t,e){return t.tagToQueryMap.get(e)}function tv(t){let e=t.indexOf("$");return $(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new je(t.substr(0,e))}}function nv(t,e,n){let i=t.syncPointTree_.get(e);$(i,"Missing sync point for query tag that we're tracking");let r=qh(t.pendingWriteTree_,e);return Jy(i,n,r,null)}function TB(t){return t.fold((e,n,i)=>{if(n&&Wr(n))return[zh(n)];{let r=[];return n&&(r=KD(n)),Lt(i,(o,s)=>{r=r.concat(s)}),r}})}function Ql(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(_B())(t._repo,t._path):t}function DB(t,e){for(let n=0;n<e.length;++n){let i=e[n];if(!i._queryParams.loadsAllData()){let r=Wh(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function xB(){return yB++}function AB(t,e,n){let i=e._path,r=nc(t,e),o=nx(t,n),s=t.listenProvider_.startListening(Ql(e),r,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(i);if(r)$(!Wr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((u,f,_)=>{if(!Te(u)&&f&&Wr(f))return[zh(f).query];{let E=[];return f&&(E=E.concat(KD(f).map(b=>b.query))),Lt(_,(b,I)=>{E=E.concat(I)}),E}});for(let u=0;u<c.length;++u){let f=c[u];t.listenProvider_.stopListening(Ql(f),nc(t,f))}}return s}var Dy=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},xy=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=mt(this.path_,e);return new t(this.syncTree_,n)}node(){return Xy(this.syncTree_,this.path_)}},NB=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},oD=function(t,e,n){if(!t||typeof t!="object")return t;if($(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return MB(t[".sv"],e,n);if(typeof t[".sv"]=="object")return RB(t[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},MB=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+t)}},RB=function(t,e,n){t.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let i=t.increment;typeof i!="number"&&$(!1,"Unexpected increment value: "+i);let r=e.node();if($(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},ix=function(t,e,n,i){return iv(e,new xy(n,t),i)},rx=function(t,e,n){return iv(t,new Dy(e),n)};function iv(t,e,n){let i=t.getPriority().val(),r=oD(i,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=oD(s.getValue(),e,n);return a!==s.getValue()||r!==s.getPriority().val()?new ta(a,At(r)):t}else{let s=t;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new ta(r))),s.forEachChild(gt,(a,c)=>{let u=iv(c,e.getImmediateChild(a),n);u!==c&&(o=o.updateImmediateChild(a,u))}),o}}var ic=class{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}};function rv(t,e){let n=e instanceof je?e:new je(e),i=t,r=xe(n);for(;r!==null;){let o=ao(i.node.children,r)||{children:{},childCount:0};i=new ic(r,i,o),n=Ye(n),r=xe(n)}return i}function ca(t){return t.node.value}function ox(t,e){t.node.value=e,Ay(t)}function sx(t){return t.node.childCount>0}function PB(t){return ca(t)===void 0&&!sx(t)}function Kh(t,e){Lt(t.node.children,(n,i)=>{e(new ic(n,t,i))})}function ax(t,e,n,i){n&&!i&&e(t),Kh(t,r=>{ax(r,e,!0,i)}),n&&i&&e(t)}function kB(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function lc(t){return new je(t.parent===null?t.name:lc(t.parent)+"/"+t.name)}function Ay(t){t.parent!==null&&FB(t.parent,t.name,t)}function FB(t,e,n){let i=PB(n),r=Hn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Ay(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Ay(t))}var OB=/[\[\].#$\/\u0000-\u001F\u007F]/,LB=/[\[\].#$\u0000-\u001F\u007F]/,j0=10*1024*1024,ov=function(t){return typeof t=="string"&&t.length!==0&&!OB.test(t)},lx=function(t){return typeof t=="string"&&t.length!==0&&!LB.test(t)},VB=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),lx(t)},BB=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!jy(t)||t&&typeof t=="object"&&Hn(t,".sv")},cx=function(t,e,n,i){i&&e===void 0||Qh(Xa(t,"value"),e,n)},Qh=function(t,e,n){let i=n instanceof je?new ty(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Uo(i));if(typeof e=="function")throw new Error(t+"contains a function "+Uo(i)+" with contents = "+e.toString());if(jy(e))throw new Error(t+"contains "+e.toString()+" "+Uo(i));if(typeof e=="string"&&e.length>j0/3&&el(e)>j0)throw new Error(t+"contains a string greater than "+j0+" utf8 bytes "+Uo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(Lt(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!ov(s)))throw new Error(t+" contains an invalid key ("+s+") "+Uo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);g4(i,s),Qh(t,a,i),_4(i)}),r&&o)throw new Error(t+' contains ".value" child '+Uo(i)+" in addition to actual children.")}},UB=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];let o=Yl(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!ov(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(m4);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&Fn(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},jB=function(t,e,n,i){if(i&&e===void 0)return;let r=Xa(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let o=[];Lt(e,(s,a)=>{let c=new je(s);if(Qh(r,a,mt(n,c)),Gy(c)===".priority"&&!BB(a))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),UB(r,o)};var ux=function(t,e,n,i){if(!(i&&n===void 0)&&!lx(n))throw new Error(Xa(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},HB=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ux(t,e,n,i)},sv=function(t,e){if(xe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},$B=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ov(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!VB(n))throw new Error(Xa(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Ny=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function av(t,e){let n=null;for(let i=0;i<e.length;i++){let r=e[i],o=r.getPath();n!==null&&!ND(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function Ln(t,e,n){av(t,n),GB(t,i=>Fn(i,e)||Fn(e,i))}function GB(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){let r=t.eventLists_[i];if(r){let o=r.path;e(o)?(qB(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function qB(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let i=n.getEventRunner();Ho&&Ot("event: "+n.toString()),aa(i)}}}var zB="repo_interrupt",WB=25,My=class{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ny,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ph(),this.transactionQueueTree_=new ic,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function KB(t,e,n){if(t.stats_=$y(t.repoInfo_),t.forceRestClient_||G3())t.server_=new hy(t.repoInfo_,(i,r,o,s)=>{sD(t,i,r,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>aD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{wt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new qy(t.repoInfo_,e,(i,r,o,s)=>{sD(t,i,r,o,s)},i=>{aD(t,i)},i=>{QB(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=z3(t.repoInfo_,()=>new gy(t.stats_,t.server_)),t.infoData_=new fy,t.infoSyncTree_=new Hh({startListening:(i,r,o,s)=>{let a=[],c=t.infoData_.getNode(i._path);return c.isEmpty()||(a=ac(t.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),lv(t,"connected",!1),t.serverSyncTree_=new Hh({startListening:(i,r,o,s)=>(t.server_.listen(i,o,r,(a,c)=>{let u=s(a,c);Ln(t.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function dx(t){let n=t.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Yh(t){return NB({timestamp:dx(t)})}function sD(t,e,n,i,r){t.dataUpdateCount++;let o=new je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(r)if(i){let c=Ja(n,u=>At(u));s=bB(t.serverSyncTree_,o,c,r)}else{let c=At(n);s=XD(t.serverSyncTree_,o,c,r)}else if(i){let c=Ja(n,u=>At(u));s=CB(t.serverSyncTree_,o,c)}else{let c=At(n);s=ac(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=sa(t,o)),Ln(t.eventQueue_,a,s)}function aD(t,e){lv(t,"connected",e),e===!1&&XB(t)}function QB(t,e){Lt(e,(n,i)=>{lv(t,n,i)})}function lv(t,e,n){let i=new je("/.info/"+e),r=At(n);t.infoData_.updateSnapshot(i,r);let o=ac(t.infoSyncTree_,i,r);Ln(t.eventQueue_,i,o)}function cv(t){return t.nextWriteId_++}function YB(t,e,n){let i=IB(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{let o=At(r).withIndex(e._queryParams.getIndex());SB(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=ac(t.serverSyncTree_,e._path,o);else{let a=nc(t.serverSyncTree_,e);s=XD(t.serverSyncTree_,e._path,o,a)}return Ln(t.eventQueue_,e._path,s),JD(t.serverSyncTree_,e,n,null,!0),o},r=>(cc(t,"get for query "+wt(e)+" failed: "+r),Promise.reject(new Error(r))))}function ZB(t,e,n,i,r){cc(t,"set",{path:e.toString(),value:n,priority:i});let o=Yh(t),s=At(n,i),a=Xy(t.serverSyncTree_,e),c=rx(s,a,o),u=cv(t),f=ZD(t.serverSyncTree_,e,c,u,!0);av(t.eventQueue_,f),t.server_.put(e.toString(),s.val(!0),(E,b)=>{let I=E==="ok";I||rn("set at "+e+" failed: "+E);let F=$r(t.serverSyncTree_,u,!I);Ln(t.eventQueue_,e,F),Ry(t,r,E,b)});let _=dv(t,e);sa(t,_),Ln(t.eventQueue_,_,[])}function JB(t,e,n,i){cc(t,"update",{path:e.toString(),value:n});let r=!0,o=Yh(t),s={};if(Lt(n,(a,c)=>{r=!1,s[a]=ix(mt(e,a),At(c),t.serverSyncTree_,o)}),r)Ot("update() called with empty data.  Don't do anything."),Ry(t,i,"ok",void 0);else{let a=cv(t),c=vB(t.serverSyncTree_,e,s,a);av(t.eventQueue_,c),t.server_.merge(e.toString(),n,(u,f)=>{let _=u==="ok";_||rn("update at "+e+" failed: "+u);let E=$r(t.serverSyncTree_,a,!_),b=E.length>0?sa(t,e):e;Ln(t.eventQueue_,b,E),Ry(t,i,u,f)}),Lt(n,u=>{let f=dv(t,mt(e,u));sa(t,f)}),Ln(t.eventQueue_,e,[])}}function XB(t){cc(t,"onDisconnectEvents");let e=Yh(t),n=Ph();py(t.onDisconnect_,Be(),(r,o)=>{let s=ix(r,o,t.serverSyncTree_,e);LD(n,r,s)});let i=[];py(n,Be(),(r,o)=>{i=i.concat(ac(t.serverSyncTree_,r,o));let s=dv(t,r);sa(t,s)}),t.onDisconnect_=Ph(),Ln(t.eventQueue_,Be(),i)}function eU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zB)}function cc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ot(n,...e)}function Ry(t,e,n,i){e&&aa(()=>{if(n==="ok")e(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,e(s)}})}function hx(t,e,n){return Xy(t.serverSyncTree_,e,n)||ge.EMPTY_NODE}function uv(t,e=t.transactionQueueTree_){if(e||Zh(t,e),ca(e)){let n=px(t,e);$(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&tU(t,lc(e),n)}else sx(e)&&Kh(e,n=>{uv(t,n)})}function tU(t,e,n){let i=n.map(u=>u.currentWriteId),r=hx(t,e,i),o=r,s=r.hash();for(let u=0;u<n.length;u++){let f=n[u];$(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;let _=nn(e,f.path);o=o.updateChild(_,f.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,u=>{cc(t,"transaction put response",{path:c.toString(),status:u});let f=[];if(u==="ok"){let _=[];for(let E=0;E<n.length;E++)n[E].status=2,f=f.concat($r(t.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&_.push(()=>n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)),n[E].unwatcher();Zh(t,rv(t.transactionQueueTree_,e)),uv(t,t.transactionQueueTree_),Ln(t.eventQueue_,e,f);for(let E=0;E<_.length;E++)aa(_[E])}else{if(u==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{rn("transaction at "+c.toString()+" failed: "+u);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=u}sa(t,e)}},s)}function sa(t,e){let n=fx(t,e),i=lc(n),r=px(t,n);return nU(t,r,i),i}function nU(t,e,n){if(e.length===0)return;let i=[],r=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],u=nn(n,c.path),f=!1,_;if($(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)f=!0,_=c.abortReason,r=r.concat($r(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=WB)f=!0,_="maxretry",r=r.concat($r(t.serverSyncTree_,c.currentWriteId,!0));else{let E=hx(t,c.path,s);c.currentInputSnapshot=E;let b=e[a].update(E.val());if(b!==void 0){Qh("transaction failed: Data returned ",b,c.path);let I=At(b);typeof b=="object"&&b!=null&&Hn(b,".priority")||(I=I.updatePriority(E.getPriority()));let j=c.currentWriteId,K=Yh(t),X=rx(I,E,K);c.currentOutputSnapshotRaw=I,c.currentOutputSnapshotResolved=X,c.currentWriteId=cv(t),s.splice(s.indexOf(j),1),r=r.concat(ZD(t.serverSyncTree_,c.path,X,c.currentWriteId,c.applyLocally)),r=r.concat($r(t.serverSyncTree_,j,!0))}else f=!0,_="nodata",r=r.concat($r(t.serverSyncTree_,c.currentWriteId,!0))}Ln(t.eventQueue_,n,r),r=[],f&&(e[a].status=2,function(E){setTimeout(E,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(_==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(_),!1,null))))}Zh(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)aa(i[a]);uv(t,t.transactionQueueTree_)}function fx(t,e){let n,i=t.transactionQueueTree_;for(n=xe(e);n!==null&&ca(i)===void 0;)i=rv(i,n),e=Ye(e),n=xe(e);return i}function px(t,e){let n=[];return mx(t,e,n),n.sort((i,r)=>i.order-r.order),n}function mx(t,e,n){let i=ca(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Kh(e,r=>{mx(t,r,n)})}function Zh(t,e){let n=ca(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,ox(e,n.length>0?n:void 0)}Kh(e,i=>{Zh(t,i)})}function dv(t,e){let n=lc(fx(t,e)),i=rv(t.transactionQueueTree_,e);return kB(i,r=>{H0(t,r)}),H0(t,i),ax(i,r=>{H0(t,r)}),n}function H0(t,e){let n=ca(e);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?($(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):($(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat($r(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?ox(e,void 0):n.length=o+1,Ln(t.eventQueue_,lc(e),r);for(let s=0;s<i.length;s++)aa(i[s])}}function iU(t){let e="",n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function rU(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):rn(`Invalid query segment '${n}' in query '${t}'`)}return e}var lD=function(t,e){let n=oU(t),i=n.namespace;n.domain==="firebase.com"&&tr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&tr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||F3();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ih(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new je(n.pathString)}},oU=function(t){let e="",n="",i="",r="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(f,_)),f<_&&(r=iU(t.substring(f,_)));let E=rU(t.substring(Math.min(t.length,_)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;let b=e.slice(0,u);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{let I=e.indexOf(".");i=e.substring(0,I).toLowerCase(),n=e.substring(I+1),o=i}"ns"in E&&(o=E.ns)}return{host:e,port:c,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var cD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",sU=function(){let t=0,e=[];return function(n){let i=n===t;t=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=cD.charAt(n%64),n=Math.floor(n/64);$(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=cD.charAt(e[r]);return $(s.length===20,"nextPushId: Length should be 20."),s}}();var Py=class{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+wt(this.snapshot.exportVal())}},ky=class{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Fy=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Oy=class t{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Te(this._path)?null:Gy(this._path)}get ref(){return new nr(this._repo,this._path)}get _queryIdentifier(){let e=Q1(this._queryParams),n=Hy(e);return n==="{}"?"default":n}get _queryObject(){return Q1(this._queryParams)}isEqual(e){if(e=qt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,i=ND(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+p4(this._path)}};var nr=class t extends Oy{constructor(e,n){super(e,n,new dy,!1)}get parent(){let e=AD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},$h=class t{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new je(e),i=qo(this.ref,e);return new t(this._node.getChild(n),i,gt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new t(r,qo(this.ref,i),gt)))}hasChild(e){let n=new je(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function gx(t,e){return t=qt(t),t._checkNotDeleted("ref"),e!==void 0?qo(t._root,e):t._root}function qo(t,e){return t=qt(t),xe(t._path)===null?HB("child","path",e,!1):ux("child","path",e,!1),new nr(t._repo,mt(t._path,e))}function _x(t,e){t=qt(t),sv("push",t._path),cx("push",e,t._path,!0);let n=dx(t._repo),i=sU(n),r=qo(t,i),o=qo(t,i),s;return e!=null?s=Jh(o,e).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function yx(t){return sv("remove",t._path),Jh(t,null)}function Jh(t,e){t=qt(t),sv("set",t._path),cx("set",e,t._path,!1);let n=new Pi;return ZB(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function vx(t,e){jB("update",e,t._path,!1);let n=new Pi;return JB(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Cx(t){t=qt(t);let e=new Fy(()=>{}),n=new Ly(e);return YB(t._repo,t,n).then(i=>new $h(i,new nr(t._repo,t._path),t._queryParams.getIndex()))}var Ly=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let i=n._queryParams.getIndex();return new Py("value",this,new $h(e.snapshotNode,new nr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ky(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};dB(nr);gB(nr);var aU="FIREBASE_DATABASE_EMULATOR_HOST",Vy={},lU=!1;function cU(t,e,n,i){t.repoInfo_=new Ih(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function uU(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||tr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ot("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=lD(o,r),a=s.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[aU]),u?(c=!0,o=`http://${u}?ns=${a.namespace}`,s=lD(o,r),a=s.repoInfo):c=!s.repoInfo.secure;let f=r&&c?new zl(zl.OWNER):new K0(t.name,t.options,e);$B("Invalid Firebase Database URL",s),Te(s.path)||tr("Database URL must point to the root of a Firebase Database (not including a child path).");let _=hU(a,t,f,new W0(t.name,n));return new By(_,t)}function dU(t,e){let n=Vy[e];(!n||n[t.key]!==t)&&tr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),eU(t),delete n[t.key]}function hU(t,e,n,i){let r=Vy[e.name];r||(r={},Vy[e.name]=r);let o=r[t.toURLString()];return o&&tr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new My(t,lU,n,i),r[t.toURLString()]=o,o}var By=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(KB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nr(this._repo,Be())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&tr("Cannot call "+e+" on a deleted database.")}};function wx(t=vr(),e){let n=ho(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let i=vu("database");i&&Ex(n,...i)}return n}function Ex(t,e,n,i={}){t=qt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&tr("Cannot call useEmulator() after instance has already been initialized.");let r=t._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&tr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new zl(zl.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:Cu(i.mockUserToken,t.app.options.projectId);o=new zl(s)}cU(r,e,n,o)}function fU(t){R3(di),ui(new cn("database",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return uU(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),lt(R1,P1,t),lt(R1,P1,"esm2017")}qy.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};qy.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};fU();var ir=class{constructor(e){return e}},bx="database",hv=class{constructor(){return ko(bx)}};var fv=new ee("angularfire2.database-instances");function pU(t,e){let n=zs(bx,t,e);return n&&new ir(n)}function mU(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new ir(i)}}var gU={provide:hv,deps:[[new xt,fv]]},_U={provide:ir,useFactory:pU,deps:[[new xt,fv],Xn]};function Sx(t,...e){return lt("angularfire",Zi.full,"rtdb"),Pn([_U,gU,{provide:fv,useFactory:mU(t),multi:!0,deps:[Ue,Ft,Br,Ji,[new xt,Bo],[new xt,Vr],...e]}])}var Nt=tn(qo,!0);var Ci=tn(Cx,!0),Ix=tn(wx,!0);var ua=tn(_x,!0);var Xh=tn(gx,!0);var uc=tn(yx,!0);var da=tn(Jh,!0);var Ko=tn(vx,!0);var Nx=null;function or(){return Nx}function Mx(t){Nx??=t}var ef=class{};var fn=new ee(""),mv=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:()=>Q(yU),providedIn:"platform"})}return t})();var yU=(()=>{class t extends mv{_location;_history;_doc=Q(fn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return or().getBaseHref(this._doc)}onPopState(n){let i=or().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=or().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function gv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Dx(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function rr(t){return t&&t[0]!=="?"?"?"+t:t}var Kr=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:()=>Q(Px),providedIn:"root"})}return t})(),Rx=new ee(""),Px=(()=>{class t extends Kr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Q(fn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return gv(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+rr(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+rr(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+rr(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(le(mv),le(Rx,8))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kx=(()=>{class t extends Kr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=gv(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+rr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+rr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(le(mv),le(Rx,8))};static \u0275prov=te({token:t,factory:t.\u0275fac})}return t})(),dc=(()=>{class t{_subject=new Et;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=wU(Dx(xx(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+rr(i))}normalize(n){return t.stripTrailingSlash(CU(this._basePath,xx(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=rr;static joinWithSlash=gv;static stripTrailingSlash=Dx;static \u0275fac=function(i){return new(i||t)(le(Kr))};static \u0275prov=te({token:t,factory:()=>vU(),providedIn:"root"})}return t})();function vU(){return new dc(le(Kr))}function CU(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function xx(t){return t.replace(/\/index.html$/,"")}function wU(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Fx(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var pv=/\s+/,Ax=[],He=(()=>{class t{_ngEl;_renderer;initialClasses=Ax;rawClass;stateMap=new Map;constructor(n,i){this._ngEl=n,this._renderer=i}set klass(n){this.initialClasses=n!=null?n.trim().split(pv):Ax}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(pv):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(pv).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||t)(B(en),B(Jn))};static \u0275dir=ct({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Oe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Lr({type:t});static \u0275inj=Pr({})}return t})(),Ox="browser",EU="server";function _v(t){return t===EU}var tf=class{};var vv=class extends ef{supportsDOMEvents=!0},Cv=class t extends vv{static makeCurrent(){Mx(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=bU();return n==null?null:SU(n)}resetBaseElement(){hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fx(document.cookie,e)}},hc=null;function bU(){return hc=hc||document.querySelector("base"),hc?hc.getAttribute("href"):null}function SU(t){return new URL(t,document.baseURI).pathname}var IU=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac})}return t})(),wv=new ee(""),jx=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||t)(le(wv),le(Ue))};static \u0275prov=te({token:t,factory:t.\u0275fac})}return t})(),nf=class{_doc;constructor(e){this._doc=e}manager},Ev="ng-app-id";function Lx(t){for(let e of t)e.remove()}function Vx(t,e){let n=e.createElement("style");return n.textContent=t,n}function TU(t,e,n){let i=t.head?.querySelectorAll(`style[${Ev}="${e}"]`);if(i)for(let r of i)r.textContent&&(r.removeAttribute(Ev),n.set(r.textContent,{usage:0,elements:[r]}))}function bv(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Hx=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.isServer=_v(o),TU(n,i,this.inline),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,Vx);i?.forEach(r=>this.addUsage(r,this.external,bv))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(Lx(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Lx(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,Vx(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,bv(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Ev,this.appId),n.appendChild(i)}static \u0275fac=function(i){return new(i||t)(le(fn),le(M_),le(k_,8),le(Fr))};static \u0275prov=te({token:t,factory:t.\u0275fac})}return t})(),yv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Iv=/%COMP%/g,$x="%COMP%",DU=`_nghost-${$x}`,xU=`_ngcontent-${$x}`,AU=!0,NU=new ee("",{providedIn:"root",factory:()=>AU});function MU(t){return xU.replace(Iv,t)}function RU(t){return DU.replace(Iv,t)}function Gx(t,e){return e.map(n=>n.replace(Iv,t))}var rf=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.platformIsServer=_v(a),this.defaultRenderer=new fc(n,s,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===mi.ShadowDom&&(i=_e(U({},i),{encapsulation:mi.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof of?r.applyToHost(n):r instanceof pc&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case mi.Emulated:o=new of(c,u,i,this.appId,f,s,a,_);break;case mi.ShadowDom:return new Sv(c,u,n,i,s,a,this.nonce,_);default:o=new pc(c,u,i,f,s,a,_);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(i){return new(i||t)(le(jx),le(Hx),le(M_),le(NU),le(fn),le(Fr),le(Ue),le(k_))};static \u0275prov=te({token:t,factory:t.\u0275fac})}return t})(),fc=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(yv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Bx(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(Bx(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new G(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=yv[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=yv[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Hi.DashCase|Hi.Important)?e.style.setProperty(n,i,r&Hi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Hi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=or().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Bx(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Sv=class extends fc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Gx(r.id,r.styles);for(let _ of u){let E=document.createElement("style");a&&E.setAttribute("nonce",a),E.textContent=_,this.shadowRoot.appendChild(E)}let f=r.getExternalStyles?.();if(f)for(let _ of f){let E=bv(_,o);a&&E.setAttribute("nonce",a),this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pc=class extends fc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?Gx(c,i.styles):i.styles,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},of=class extends pc{contentAttr;hostAttr;constructor(e,n,i,r,o,s,a,c){let u=r+"-"+i.id;super(e,n,i,o,s,a,c,u),this.contentAttr=MU(u),this.hostAttr=RU(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},PU=(()=>{class t extends nf{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static \u0275fac=function(i){return new(i||t)(le(fn))};static \u0275prov=te({token:t,factory:t.\u0275fac})}return t})(),Ux=["alt","control","meta","shift"],kU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},OU=(()=>{class t extends nf{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>or().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Ux.forEach(u=>{let f=i.indexOf(u);f>-1&&(i.splice(f,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(n,i){let r=kU[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Ux.forEach(s=>{if(s!==r){let a=FU[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{t.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||t)(le(fn))};static \u0275prov=te({token:t,factory:t.\u0275fac})}return t})();function qx(t,e){return VT(U({rootComponent:t},LU(e)))}function LU(t){return{appProviders:[...HU,...t?.providers??[]],platformProviders:jU}}function VU(){Cv.makeCurrent()}function BU(){return new Ar}function UU(){return AI(document),document}var jU=[{provide:Fr,useValue:Ox},{provide:R_,useValue:VU,multi:!0},{provide:fn,useFactory:UU,deps:[]}];var HU=[{provide:Ud,useValue:"root"},{provide:Ar,useFactory:BU,deps:[]},{provide:wv,useClass:PU,multi:!0,deps:[fn,Ue,Fr]},{provide:wv,useClass:OU,multi:!0,deps:[fn]},rf,Hx,jx,{provide:Mr,useExisting:rf},{provide:tf,useClass:IU,deps:[]},[]];var zx=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||t)(le(fn))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ye="primary",Nc=Symbol("RouteTitle"),Nv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _a(t){return new Nv(t)}function GU(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function qU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wi(t[n],e[n]))return!1;return!0}function wi(t,e){let n=t?Mv(t):void 0,i=e?Mv(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!eA(t[r],e[r]))return!1;return!0}function Mv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function tA(t){return t.length>0?t[t.length-1]:null}function Qr(t){return Om(t)?t:Ao(t)?ke(Promise.resolve(t)):he(t)}var zU={exact:iA,subset:rA},nA={exact:WU,subset:KU,ignored:()=>!0};function Wx(t,e,n){return zU[n.paths](t.root,e.root,n.matrixParams)&&nA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function WU(t,e){return wi(t,e)}function iA(t,e,n){if(!Yo(t.segments,e.segments)||!lf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!iA(t.children[i],e.children[i],n))return!1;return!0}function KU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eA(t[n],e[n]))}function rA(t,e,n){return oA(t,e,e.segments,n)}function oA(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Yo(r,n)||e.hasChildren()||!lf(r,n,i))}else if(t.segments.length===n.length){if(!Yo(t.segments,n)||!lf(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!rA(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Yo(t.segments,r)||!lf(t.segments,r,i)||!t.children[ye]?!1:oA(t.children[ye],e,o,i)}}function lf(t,e,n){return e.every((i,r)=>nA[n](t[r].parameters,i.parameters))}var ar=class{root;queryParams;fragment;_queryParamMap;constructor(e=new $e([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=_a(this.queryParams),this._queryParamMap}toString(){return ZU.serialize(this)}},$e=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cf(this)}},Qo=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_a(this.parameters),this._parameterMap}toString(){return aA(this)}};function QU(t,e){return Yo(t,e)&&t.every((n,i)=>wi(n.parameters,e[i].parameters))}function Yo(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function YU(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===ye&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==ye&&(n=n.concat(e(r,i)))}),n}var iC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:()=>new wc,providedIn:"root"})}return t})(),wc=class{parse(e){let n=new Pv(e);return new ar(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${mc(e.root,!0)}`,i=ej(e.queryParams),r=typeof e.fragment=="string"?`#${JU(e.fragment)}`:"";return`${n}${i}${r}`}},ZU=new wc;function cf(t){return t.segments.map(e=>aA(e)).join("/")}function mc(t,e){if(!t.hasChildren())return cf(t);if(e){let n=t.children[ye]?mc(t.children[ye],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==ye&&i.push(`${r}:${mc(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=YU(t,(i,r)=>r===ye?[mc(t.children[ye],!1)]:[`${r}:${mc(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[ye]!=null?`${cf(t)}/${n[0]}`:`${cf(t)}/(${n.join("//")})`}}function sA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sf(t){return sA(t).replace(/%3B/gi,";")}function JU(t){return encodeURI(t)}function Rv(t){return sA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uf(t){return decodeURIComponent(t)}function Kx(t){return uf(t.replace(/\+/g,"%20"))}function aA(t){return`${Rv(t.path)}${XU(t.parameters)}`}function XU(t){return Object.entries(t).map(([e,n])=>`;${Rv(e)}=${Rv(n)}`).join("")}function ej(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${sf(n)}=${sf(r)}`).join("&"):`${sf(n)}=${sf(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var tj=/^[^\/()?;#]+/;function Tv(t){let e=t.match(tj);return e?e[0]:""}var nj=/^[^\/()?;=#]+/;function ij(t){let e=t.match(nj);return e?e[0]:""}var rj=/^[^=?&#]+/;function oj(t){let e=t.match(rj);return e?e[0]:""}var sj=/^[^&#]+/;function aj(t){let e=t.match(sj);return e?e[0]:""}var Pv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ye]=new $e(e,n)),i}parseSegment(){let e=Tv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new Qo(uf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ij(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Tv(this.remaining);r&&(i=r,this.capture(i))}e[uf(n)]=uf(i)}parseQueryParam(e){let n=oj(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=aj(this.remaining);s&&(i=s,this.capture(i))}let r=Kx(n),o=Kx(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Tv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new G(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ye);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ye]:new $e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function lA(t){return t.segments.length>0?new $e([],{[ye]:t}):t}function cA(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=cA(r);if(i===ye&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new $e(t.segments,e);return lj(n)}function lj(t){if(t.numberOfChildren===1&&t.children[ye]){let e=t.children[ye];return new $e(t.segments.concat(e.segments),e.children)}return t}function Zo(t){return t instanceof ar}function cj(t,e,n=null,i=null){let r=uA(t);return dA(r,e,n,i)}function uA(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new $e(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=lA(i);return e??r}function dA(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Dv(r,r,r,n,i);let o=uj(e);if(o.toRoot())return Dv(r,r,new $e([],{}),n,i);let s=dj(o,r,t),a=s.processChildren?yc(s.segmentGroup,s.index,o.commands):fA(s.segmentGroup,s.index,o.commands);return Dv(r,s.segmentGroup,a,n,i)}function df(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ec(t){return typeof t=="object"&&t!=null&&t.outlets}function Dv(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let s;t===e?s=n:s=hA(t,e,n);let a=lA(cA(s));return new ar(a,o,r)}function hA(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=hA(o,e,n)}),new $e(t.segments,i)}var hf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&df(i[0]))throw new G(4003,!1);let r=i.find(Ec);if(r&&r!==tA(i))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uj(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hf(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new hf(n,e,i)}var pa=class{segmentGroup;processChildren;index;constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function dj(t,e,n){if(t.isAbsolute)return new pa(e,!0,0);if(!n)return new pa(e,!1,NaN);if(n.parent===null)return new pa(n,!0,0);let i=df(t.commands[0])?0:1,r=n.segments.length-1+i;return hj(n,r,t.numberOfDoubleDots)}function hj(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new G(4005,!1);r=i.segments.length}return new pa(i,!1,r-o)}function fj(t){return Ec(t[0])?t[0].outlets:{[ye]:t}}function fA(t,e,n){if(t??=new $e([],{}),t.segments.length===0&&t.hasChildren())return yc(t,e,n);let i=pj(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new $e(t.segments.slice(0,i.pathIndex),{});return o.children[ye]=new $e(t.segments.slice(i.pathIndex),t.children),yc(o,0,r)}else return i.match&&r.length===0?new $e(t.segments,{}):i.match&&!t.hasChildren()?kv(t,e,n):i.match?yc(t,0,r):kv(t,e,n)}function yc(t,e,n){if(n.length===0)return new $e(t.segments,{});{let i=fj(n),r={};if(Object.keys(i).some(o=>o!==ye)&&t.children[ye]&&t.numberOfChildren===1&&t.children[ye].segments.length===0){let o=yc(t.children[ye],e,n);return new $e(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=fA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new $e(t.segments,r)}}function pj(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(Ec(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Yx(c,u,s))return o;i+=2}else{if(!Yx(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function kv(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(Ec(o)){let c=mj(o.outlets);return new $e(i,c)}if(r===0&&df(n[0])){let c=t.segments[e];i.push(new Qo(c.path,Qx(n[0]))),r++;continue}let s=Ec(o)?o.outlets[ye]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&df(a)?(i.push(new Qo(s,Qx(a))),r+=2):(i.push(new Qo(s,{})),r++)}return new $e(i,{})}function mj(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=kv(new $e([],{}),0,i))}),e}function Qx(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function Yx(t,e,n){return t==n.path&&wi(e,n.parameters)}var vc="imperative",Vt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Vt||{}),Vn=class{id;url;constructor(e,n){this.id=e,this.url=n}},bc=class extends Vn{type=Vt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,i="imperative",r=null){super(e,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},lr=class extends Vn{urlAfterRedirects;type=Vt.NavigationEnd;constructor(e,n,i){super(e,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},En=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(En||{}),Fv=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Fv||{}),sr=class extends Vn{reason;code;type=Vt.NavigationCancel;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jo=class extends Vn{reason;code;type=Vt.NavigationSkipped;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}},Sc=class extends Vn{error;target;type=Vt.NavigationError;constructor(e,n,i,r){super(e,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ff=class extends Vn{urlAfterRedirects;state;type=Vt.RoutesRecognized;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ov=class extends Vn{urlAfterRedirects;state;type=Vt.GuardsCheckStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lv=class extends Vn{urlAfterRedirects;state;shouldActivate;type=Vt.GuardsCheckEnd;constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Vv=class extends Vn{urlAfterRedirects;state;type=Vt.ResolveStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bv=class extends Vn{urlAfterRedirects;state;type=Vt.ResolveEnd;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uv=class{route;type=Vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jv=class{route;type=Vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hv=class{snapshot;type=Vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$v=class{snapshot;type=Vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gv=class{snapshot;type=Vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qv=class{snapshot;type=Vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ic=class{},ya=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function gj(t,e){return t.providers&&!t._injector&&(t._injector=K_(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ni(t){return t.outlet||ye}function _j(t,e){let n=t.filter(i=>ni(i)===e);return n.push(...t.filter(i=>ni(i)!==e)),n}function Mc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zv=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Mc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Cf(this.rootInjector)}},Cf=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new zv(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||t)(le(Mn))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Wv(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Wv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Kv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Kv(e,this._root).map(n=>n.value)}};function Wv(t,e){if(t===e.value)return e;for(let n of e.children){let i=Wv(t,n);if(i)return i}return null}function Kv(t,e){if(t===e.value)return[e];for(let n of e.children){let i=Kv(t,n);if(i.length)return i.unshift(e),i}return[]}var wn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function fa(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var mf=class extends pf{snapshot;constructor(e,n){super(e),this.snapshot=n,rC(this,e)}toString(){return this.snapshot.toString()}};function pA(t){let e=yj(t),n=new Pt([new Qo("",{})]),i=new Pt({}),r=new Pt({}),o=new Pt({}),s=new Pt(""),a=new We(n,i,o,s,r,ye,t,e.root);return a.snapshot=e.root,new mf(new wn(a,[]),e)}function yj(t){let e={},n={},i={},r="",o=new ma([],e,i,r,n,ye,t,null,{});return new _f("",new wn(o,[]))}var We=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ce(u=>u[Nc]))??he(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>_a(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>_a(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gf(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),r?.data),t._resolvedData)}:i={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},r&&gA(r)&&(i.resolve[Nc]=r.title),i}var ma=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Nc]}constructor(e,n,i,r,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_a(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_a(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_f=class extends pf{url;constructor(e,n){super(n),this.url=e,rC(this,n)}toString(){return mA(this._root)}};function rC(t,e){e.value._routerState=t,e.children.forEach(n=>rC(t,n))}function mA(t){let e=t.children.length>0?` { ${t.children.map(mA).join(", ")} } `:"";return`${t.value}${e}`}function xv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),wi(e.params,n.params)||t.paramsSubject.next(n.params),qU(e.url,n.url)||t.urlSubject.next(n.url),wi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Qv(t,e){let n=wi(t.params,e.params)&&QU(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||Qv(t.parent,e.parent))}function gA(t){return typeof t.title=="string"||t.title===null}var vj=new ee(""),ii=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ye;activateEvents=new Dt;deactivateEvents=new Dt;attachEvents=new Dt;detachEvents=new Dt;routerOutletData=EI(void 0);parentContexts=Q(Cf);location=Q(Gs);changeDetector=Q(Mo);inputBinder=Q(oC,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Yv(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ct({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Wi]})}return t})(),Yv=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,i,r){this.route=e,this.childContexts=n,this.parent=i,this.outletData=r}get(e,n){return e===We?this.route:e===Cf?this.childContexts:e===vj?this.outletData:this.parent.get(e,n)}},oC=new ee("");function Cj(t,e,n){let i=Tc(t,e._root,n?n._root:void 0);return new mf(i,e)}function Tc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=wj(t,e,n);return new wn(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Tc(t,a)),s}}let i=Ej(e.value),r=e.children.map(o=>Tc(t,o));return new wn(i,r)}}function wj(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Tc(t,i,r);return Tc(t,i)})}function Ej(t){return new We(new Pt(t.url),new Pt(t.params),new Pt(t.queryParams),new Pt(t.fragment),new Pt(t.data),t.outlet,t.component,t)}var Dc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},_A="ngNavigationCancelingError";function yf(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=yA(!1,En.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function yA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[_A]=!0,n.cancellationCode=e,n}function bj(t){return vA(t)&&Zo(t.url)}function vA(t){return!!t&&t[_A]}var Sj=(t,e,n,i)=>ce(r=>(new Zv(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Zv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),xv(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=fa(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=fa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=fa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=fa(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new qv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $v(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(xv(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},vf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ga=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Ij(t,e,n){let i=t._root,r=e?e._root:null;return gc(i,r,n,[i.value])}function Tj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ca(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!yS(t)?t:e.get(t):i}function gc(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=fa(e);return t.children.forEach(s=>{Dj(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Cc(a,n.getContext(s),r)),r}function Dj(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=xj(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new vf(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?gc(t,e,a?a.children:null,i,r):gc(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ga(a.outlet.component,s))}else s&&Cc(e,a,r),r.canActivateChecks.push(new vf(i)),o.component?gc(t,null,a?a.children:null,i,r):gc(t,null,n,i,r);return r}function xj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Yo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yo(t.url,e.url)||!wi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qv(t,e)||!wi(t.queryParams,e.queryParams);case"paramsChange":default:return!Qv(t,e)}}function Cc(t,e,n){let i=fa(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Cc(s,e.children.getContext(o),n):Cc(s,null,n):Cc(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ga(e.outlet.component,r)):n.canDeactivateChecks.push(new ga(null,r)):n.canDeactivateChecks.push(new ga(null,r))}function Rc(t){return typeof t=="function"}function Aj(t){return typeof t=="boolean"}function Nj(t){return t&&Rc(t.canLoad)}function Mj(t){return t&&Rc(t.canActivate)}function Rj(t){return t&&Rc(t.canActivateChild)}function Pj(t){return t&&Rc(t.canDeactivate)}function kj(t){return t&&Rc(t.canMatch)}function CA(t){return t instanceof Li||t?.name==="EmptyError"}var af=Symbol("INITIAL_VALUE");function va(){return qn(t=>Wu(t.map(e=>e.pipe(Vi(1),jm(af)))).pipe(ce(e=>{for(let n of e)if(n!==!0){if(n===af)return af;if(n===!1||Fj(n))return n}return!0}),Gn(e=>e!==af),Vi(1)))}function Fj(t){return Zo(t)||t instanceof Dc}function Oj(t,e){return St(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?he(_e(U({},n),{guardsResult:!0})):Lj(s,i,r,t).pipe(St(a=>a&&Aj(a)?Vj(i,o,t,e):he(a)),ce(a=>_e(U({},n),{guardsResult:a})))})}function Lj(t,e,n,i){return ke(t).pipe(St(r=>$j(r.component,r.route,n,e,i)),Bi(r=>r!==!0,!0))}function Vj(t,e,n,i){return ke(e).pipe(Is(r=>Ss(Uj(r.route.parent,i),Bj(r.route,i),Hj(t,r.path,n),jj(t,r.route,n))),Bi(r=>r!==!0,!0))}function Bj(t,e){return t!==null&&e&&e(new Gv(t)),he(!0)}function Uj(t,e){return t!==null&&e&&e(new Hv(t)),he(!0)}function jj(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return he(!0);let r=i.map(o=>Ku(()=>{let s=Mc(e)??n,a=Ca(o,s),c=Mj(a)?a.canActivate(e,t):Yn(s,()=>a(e,t));return Qr(c).pipe(Bi())}));return he(r).pipe(va())}function Hj(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Tj(s)).filter(s=>s!==null).map(s=>Ku(()=>{let a=s.guards.map(c=>{let u=Mc(s.node)??n,f=Ca(c,u),_=Rj(f)?f.canActivateChild(i,t):Yn(u,()=>f(i,t));return Qr(_).pipe(Bi())});return he(a).pipe(va())}));return he(o).pipe(va())}function $j(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return he(!0);let s=o.map(a=>{let c=Mc(e)??r,u=Ca(a,c),f=Pj(u)?u.canDeactivate(t,e,n,i):Yn(c,()=>u(t,e,n,i));return Qr(f).pipe(Bi())});return he(s).pipe(va())}function Gj(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return he(!0);let o=r.map(s=>{let a=Ca(s,t),c=Nj(a)?a.canLoad(e,n):Yn(t,()=>a(e,n));return Qr(c)});return he(o).pipe(va(),wA(i))}function wA(t){return xm(It(e=>{if(typeof e!="boolean")throw yf(t,e)}),ce(e=>e===!0))}function qj(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return he(!0);let o=r.map(s=>{let a=Ca(s,t),c=kj(a)?a.canMatch(e,n):Yn(t,()=>a(e,n));return Qr(c)});return he(o).pipe(va(),wA(i))}var xc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ac=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ha(t){return Es(new xc(t))}function zj(t){return Es(new G(4e3,!1))}function Wj(t){return Es(yA(!1,En.GuardRejected))}var Jv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return he(i);if(r.numberOfChildren>1||!r.children[ye])return zj(`${e.redirectTo}`);r=r.children[ye]}}applyRedirectCommands(e,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:f,url:_,outlet:E,params:b,data:I,title:F}=r,j=Yn(o,()=>a({params:b,data:I,queryParams:c,fragment:u,routeConfig:f,url:_,outlet:E,title:F}));if(j instanceof ar)throw new Ac(j);n=j}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new Ac(s);return s}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new ar(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new $e(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new G(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Xv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kj(t,e,n,i,r){let o=EA(t,e,n);return o.matched?(i=gj(e,i),qj(i,e,n,r).pipe(ce(s=>s===!0?o:U({},Xv)))):he(o)}function EA(t,e,n){if(e.path==="**")return Qj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Xv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||GU)(n,t,e);if(!r)return U({},Xv);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?U(U({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Qj(t){return{matched:!0,parameters:t.length>0?tA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Zx(t,e,n,i){return n.length>0&&Jj(t,n,i)?{segmentGroup:new $e(e,Zj(i,new $e(n,t.children))),slicedSegments:[]}:n.length===0&&Xj(t,n,i)?{segmentGroup:new $e(t.segments,Yj(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new $e(t.segments,t.children),slicedSegments:n}}function Yj(t,e,n,i){let r={};for(let o of n)if(wf(t,e,o)&&!i[ni(o)]){let s=new $e([],{});r[ni(o)]=s}return U(U({},i),r)}function Zj(t,e){let n={};n[ye]=e;for(let i of t)if(i.path===""&&ni(i)!==ye){let r=new $e([],{});n[ni(i)]=r}return n}function Jj(t,e,n){return n.some(i=>wf(t,e,i)&&ni(i)!==ye)}function Xj(t,e,n){return n.some(i=>wf(t,e,i))}function wf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function eH(t,e,n){return e.length===0&&!t.children[n]}var eC=class{};function tH(t,e,n,i,r,o,s="emptyOnly"){return new tC(t,e,n,i,r,s,o).recognize()}var nH=31,tC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Jv(this.urlSerializer,this.urlTree)}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=Zx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:n,rootSnapshot:i})=>{let r=new wn(i,n),o=new _f("",r),s=cj(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ma([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ye,n).pipe(ce(i=>({children:i,rootSnapshot:n})),br(i=>{if(i instanceof Ac)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof xc?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,o):this.processSegment(e,n,i,i.segments,r,!0,o).pipe(ce(s=>s instanceof wn?[s]:[]))}processChildren(e,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(Is(s=>{let a=i.children[s],c=_j(n,s);return this.processSegmentGroup(e,c,a,s,r)}),Um((s,a)=>(s.push(...a),s)),Sr(null),Bm(),St(s=>{if(s===null)return ha(i);let a=bA(s);return iH(a),he(a)}))}processSegment(e,n,i,r,o,s,a){return ke(n).pipe(Is(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,o,s,a).pipe(br(u=>{if(u instanceof xc)return he(null);throw u}))),Bi(c=>!!c),br(c=>{if(CA(c))return eH(i,r,o)?he(new eC):ha(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,o,s,a,c){return ni(i)!==s&&(s===ye||!wf(r,o,i))?ha(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s,c):ha(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s,a){let{matched:c,parameters:u,consumedSegments:f,positionalParamSegments:_,remainingSegments:E}=EA(n,r,o);if(!c)return ha(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nH&&(this.allowRedirects=!1));let b=new ma(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Jx(r),ni(r),r.component??r._loadedComponent??null,r,Xx(r)),I=gf(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(I.params),b.data=Object.freeze(I.data);let F=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,_,b,e);return this.applyRedirects.lineralizeSegments(r,F).pipe(St(j=>this.processSegment(e,i,n,j.concat(E),s,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,o,s){let a=Kj(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(qn(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(qn(({routes:u})=>{let f=i._loadedInjector??e,{parameters:_,consumedSegments:E,remainingSegments:b}=c,I=new ma(E,_,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Jx(i),ni(i),i.component??i._loadedComponent??null,i,Xx(i)),F=gf(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(F.params),I.data=Object.freeze(F.data);let{segmentGroup:j,slicedSegments:K}=Zx(n,E,b,u);if(K.length===0&&j.hasChildren())return this.processChildren(f,u,j,I).pipe(ce(oe=>new wn(I,oe)));if(u.length===0&&K.length===0)return he(new wn(I,[]));let X=ni(i)===o;return this.processSegment(f,u,j,K,X?ye:o,!0,I).pipe(ce(oe=>new wn(I,oe instanceof wn?[oe]:[])))}))):ha(n)))}getChildConfig(e,n,i){return n.children?he({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?he({routes:n._loadedRoutes,injector:n._loadedInjector}):Gj(e,n,i,this.urlSerializer).pipe(St(r=>r?this.configLoader.loadChildren(e,n).pipe(It(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Wj(n))):he({routes:[],injector:e})}};function iH(t){t.sort((e,n)=>e.value.outlet===ye?-1:n.value.outlet===ye?1:e.value.outlet.localeCompare(n.value.outlet))}function rH(t){let e=t.value.routeConfig;return e&&e.path===""}function bA(t){let e=[],n=new Set;for(let i of t){if(!rH(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=bA(i.children);e.push(new wn(i.value,r))}return e.filter(i=>!n.has(i))}function Jx(t){return t.data||{}}function Xx(t){return t.resolve||{}}function oH(t,e,n,i,r,o){return St(s=>tH(t,e,n,i,s.extractedUrl,r,o).pipe(ce(({state:a,tree:c})=>_e(U({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function sH(t,e){return St(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return he(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of SA(c))s.add(u);let a=0;return ke(s).pipe(Is(c=>o.has(c)?aH(c,i,t,e):(c.data=gf(c,c.parent,t).resolve,he(void 0))),It(()=>a++),Ts(1),St(c=>a===s.size?he(n):yn))})}function SA(t){let e=t.children.map(n=>SA(n)).flat();return[t,...e]}function aH(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!gA(r)&&(o[Nc]=r.title),lH(o,t,e,i).pipe(ce(s=>(t._resolvedData=s,t.data=gf(t,t.parent,n).resolve,null)))}function lH(t,e,n,i){let r=Mv(t);if(r.length===0)return he({});let o={};return ke(r).pipe(St(s=>cH(t[s],e,n,i).pipe(Bi(),It(a=>{if(a instanceof Dc)throw yf(new wc,a);o[s]=a}))),Ts(1),Vm(o),br(s=>CA(s)?yn:Es(s)))}function cH(t,e,n,i){let r=Mc(e)??i,o=Ca(t,r),s=o.resolve?o.resolve(e,n):Yn(r,()=>o(e,n));return Qr(s)}function Av(t){return qn(e=>{let n=t(e);return n?ke(n).pipe(ce(()=>e)):he(e)})}var IA=(()=>{class t{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ye);return i}getResolvedTitleForRoute(n){return n.data[Nc]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:()=>Q(uH),providedIn:"root"})}return t})(),uH=(()=>{class t extends IA{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(le(zx))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sC=new ee("",{providedIn:"root",factory:()=>({})}),dH=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ae({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,r){i&1&&A(0,"router-outlet")},dependencies:[ii],encapsulation:2})}return t})();function aC(t){let e=t.children&&t.children.map(aC),n=e?_e(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ye&&(n.component=dH),n}var lC=new ee(""),hH=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Q(Z_);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return he(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Qr(n.loadComponent()).pipe(ce(TA),It(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),sl(()=>{this.componentLoaders.delete(n)})),r=new ys(i,()=>new Et).pipe(_s());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return he({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=fH(i,this.compiler,n,this.onLoadEndListener).pipe(sl(()=>{this.childrenLoaders.delete(i)})),s=new ys(o,()=>new Et).pipe(_s());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fH(t,e,n,i){return Qr(t.loadChildren()).pipe(ce(TA),St(r=>r instanceof bl||Array.isArray(r)?he(r):ke(e.compileModuleAsync(r))),ce(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(lC,[],{optional:!0,self:!0}).flat()),{routes:s.map(aC),injector:o}}))}function pH(t){return t&&typeof t=="object"&&"default"in t}function TA(t){return pH(t)?t.default:t}var cC=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:()=>Q(mH),providedIn:"root"})}return t})(),mH=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gH=new ee("");var _H=new ee(""),yH=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Et;transitionAbortSubject=new Et;configLoader=Q(hH);environmentInjector=Q(Mn);urlSerializer=Q(iC);rootContexts=Q(Cf);location=Q(dc);inputBindingEnabled=Q(oC,{optional:!0})!==null;titleStrategy=Q(IA);options=Q(sC,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Q(cC);createViewTransition=Q(gH,{optional:!0});navigationErrorHandler=Q(_H,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>he(void 0);rootComponentType=null;constructor(){let n=r=>this.events.next(new Uv(r)),i=r=>this.events.next(new jv(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(_e(U(U({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new Pt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:vc,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gn(o=>o.id!==0),ce(o=>_e(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),qn(o=>{let s=!1,a=!1;return he(o).pipe(qn(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",En.SupersededByNewNavigation),yn;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?_e(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&f!=="reload"){let _="";return this.events.next(new Jo(c.id,this.urlSerializer.serialize(c.rawUrl),_,Fv.IgnoredSameUrlNavigation)),c.resolve(!1),yn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return he(c).pipe(qn(_=>{let E=this.transitions?.getValue();return this.events.next(new bc(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),E!==this.transitions?.getValue()?yn:Promise.resolve(_)}),oH(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),It(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=_e(U({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let E=new ff(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(E)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:_,extractedUrl:E,source:b,restoredState:I,extras:F}=c,j=new bc(_,this.urlSerializer.serialize(E),b,I);this.events.next(j);let K=pA(this.rootComponentType).snapshot;return this.currentTransition=o=_e(U({},c),{targetSnapshot:K,urlAfterRedirects:E,extras:_e(U({},F),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,he(o)}else{let _="";return this.events.next(new Jo(c.id,this.urlSerializer.serialize(c.extractedUrl),_,Fv.IgnoredByUrlHandlingStrategy)),c.resolve(!1),yn}}),It(c=>{let u=new Ov(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ce(c=>(this.currentTransition=o=_e(U({},c),{guards:Ij(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Oj(this.environmentInjector,c=>this.events.next(c)),It(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw yf(this.urlSerializer,c.guardsResult);let u=new Lv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Gn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",En.GuardRejected),!1)),Av(c=>{if(c.guards.canActivateChecks.length)return he(c).pipe(It(u=>{let f=new Vv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),qn(u=>{let f=!1;return he(u).pipe(sH(this.paramsInheritanceStrategy,this.environmentInjector),It({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",En.NoDataFromResolver)}}))}),It(u=>{let f=new Bv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),Av(c=>{let u=f=>{let _=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(f.routeConfig).pipe(It(E=>{f.component=E}),ce(()=>{})));for(let E of f.children)_.push(...u(E));return _};return Wu(u(c.targetSnapshot.root)).pipe(Sr(null),Vi(1))}),Av(()=>this.afterPreactivation()),qn(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,f=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return f?ke(f).pipe(ce(()=>o)):he(o)}),ce(c=>{let u=Cj(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=_e(U({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),It(()=>{this.events.next(new Ic)}),Sj(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Vi(1),It({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Hm(this.transitionAbortSubject.pipe(It(c=>{throw c}))),sl(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",En.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),br(c=>{if(a=!0,vA(c))this.events.next(new sr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),bj(c)?this.events.next(new ya(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Sc(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let f=Yn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(f instanceof Dc){let{message:_,cancellationCode:E}=yf(this.urlSerializer,f);this.events.next(new sr(o.id,this.urlSerializer.serialize(o.extractedUrl),_,E)),this.events.next(new ya(f.redirectTo,f.navigationBehaviorOptions))}else throw this.events.next(u),c}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return yn}))}))}cancelNavigationTransition(n,i,r){let o=new sr(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vH(t){return t!==vc}var CH=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:()=>Q(wH),providedIn:"root"})}return t})(),nC=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},wH=(()=>{class t extends nC{static \u0275fac=(()=>{let n;return function(r){return(n||(n=gi(t)))(r||t)}})();static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),DA=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:()=>Q(EH),providedIn:"root"})}return t})(),EH=(()=>{class t extends DA{location=Q(dc);urlSerializer=Q(iC);options=Q(sC,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=Q(cC);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ar;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=pA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof bc)this.stateMemento=this.createStateMemento();else if(n instanceof Jo)this.rawUrlTree=i.initialUrl;else if(n instanceof ff){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof Ic?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof sr&&(n.code===En.GuardRejected||n.code===En.NoDataFromResolver)?this.restoreHistory(i):n instanceof Sc?this.restoreHistory(i,!0):n instanceof lr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof ar?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=U(U({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=gi(t)))(r||t)}})();static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_c=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_c||{});function bH(t,e){t.events.pipe(Gn(n=>n instanceof lr||n instanceof sr||n instanceof Sc||n instanceof Jo),ce(n=>n instanceof lr||n instanceof Jo?_c.COMPLETE:(n instanceof sr?n.code===En.Redirect||n.code===En.SupersededByNewNavigation:!1)?_c.REDIRECTING:_c.FAILED),Gn(n=>n!==_c.REDIRECTING),Vi(1)).subscribe(()=>{e()})}var SH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ei=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Q(eh);stateManager=Q(DA);options=Q(sC,{optional:!0})||{};pendingTasks=Q(Hs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Q(yH);urlSerializer=Q(iC);location=Q(dc);urlHandlingStrategy=Q(cC);_events=new Et;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Q(CH);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Q(lC,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Q(oC,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new pt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof sr&&i.code!==En.Redirect&&i.code!==En.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof lr)this.navigated=!0;else if(i instanceof ya){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=U({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vH(r.source)},s);this.scheduleNavigation(a,vc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}DH(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=U({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(aC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let _;try{let E=r?r.snapshot:this.routerState.snapshot.root;_=uA(E)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),_=this.currentUrlTree.root}return dA(_,n,f,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Zo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,vc,null,i)}navigate(n,i={skipLocationChange:!1}){return TH(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=U({},SH):i===!1?r=U({},IH):r=i,Zo(n))return Wx(this.currentUrlTree,n,r);let o=this.parseUrl(n);return Wx(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((_,E)=>{a=_,c=E});let f=this.pendingTasks.add();return bH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(_=>Promise.reject(_))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function DH(t){return!(t instanceof Ic)&&!(t instanceof ya)}var Bn=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Et;constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof lr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zo(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:kI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Zo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||t)(B(Ei),B(We),x_("tabindex"),B(Jn),B(en),B(Kr))};static \u0275dir=ct({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&z("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Ml("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ro],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ro],replaceUrl:[2,"replaceUrl","replaceUrl",Ro],routerLink:"routerLink"},features:[Q_,Wi]})}return t})(),bi=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Dt;constructor(n,i,r,o,s){this.router=n,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof lr&&this.update()})}ngAfterContentInit(){he(this.links.changes,he(null)).pipe(bs()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ke(n).pipe(bs()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){let i=Array.isArray(n)?n:n.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(i=>{n?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let i=xH(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?n.isActive(o,i):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(i){return new(i||t)(B(Ei),B(en),B(Jn),B(Mo),B(Bn,8))};static \u0275dir=ct({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&AT(o,Bn,5),i&2){let s;NT(s=MT())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Wi]})}return t})();function xH(t){return!!t.paths}var AH=new ee("");function Ef(t,...e){return Pn([{provide:lC,multi:!0,useValue:t},[],{provide:We,useFactory:NH,deps:[Ei]},{provide:Y_,multi:!0,useFactory:RH},e.map(n=>n.\u0275providers)])}function NH(t){return t.routerState.root}function MH(t,e){return{\u0275kind:t,\u0275providers:e}}function RH(){let t=Q(Ft);return e=>{let n=t.get(No);if(e!==n.components[0])return;let i=t.get(Ei),r=t.get(PH);t.get(kH)===1&&i.initialNavigation(),t.get(FH,null,Ce.Optional)?.setUpPreloading(),t.get(AH,null,Ce.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var PH=new ee("",{factory:()=>new Et}),kH=new ee("",{providedIn:"root",factory:()=>1});var FH=new ee("");function xA(){return MH(6,[{provide:Kr,useClass:kx}])}var Ae=class t{constructor(){}isArabic=!1;static \u0275fac=function(n){return new(n||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})};var OH=(t,e)=>({"offcanvas-end":t,"offcanvas-start":e}),LH=t=>({"mr-90":t});function VH(t,e){t&1&&h(0," \u0623\u0643\u0645\u064A \u062A\u0627\u0644 ")}function BH(t,e){t&1&&h(0," acmeTal ")}function UH(t,e){t&1&&h(0," \u0623\u0643\u0645\u064A \u062A\u0627\u0644 ")}function jH(t,e){t&1&&h(0," acmeTal ")}function HH(t,e){t&1&&h(0," \u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u0633\u064A\u0629 ")}function $H(t,e){t&1&&h(0," Home Page ")}function GH(t,e){t&1&&h(0," \u0627\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A ")}function qH(t,e){t&1&&h(0," sectors Settings ")}function zH(t,e){t&1&&h(0," \u062E\u062F\u0645\u0627\u062A\u0646\u0627 ")}function WH(t,e){t&1&&h(0," Services ")}function KH(t,e){t&1&&h(0," \u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 ")}function QH(t,e){t&1&&h(0," Contact Us ")}function YH(t,e){t&1&&(h(0," \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 "),A(1,"i",26))}function ZH(t,e){t&1&&(h(0," Login "),A(1,"i",26))}function JH(t,e){t&1&&h(0," English ")}function XH(t,e){t&1&&h(0," \u0627\u0644\u0639\u0631\u0628\u064A\u0629 ")}var bf=class t{constructor(e){this.dataService=e}isArabic=!1;changeLangBtn(){this.dataService.isArabic?(this.dataService.isArabic=!1,this.isArabic=!1,localStorage.setItem("acmeTal","en")):(this.dataService.isArabic=!0,this.isArabic=!0,localStorage.setItem("acmeTal","ar"))}changeLang(){this.dataService.isArabic?this.isArabic=!0:this.isArabic=!1}ngOnInit(){this.changeLang()}static \u0275fac=function(n){return new(n||t)(B(Ae))};static \u0275cmp=ae({type:t,selectors:[["app-navbar"]],decls:50,vars:15,consts:[[1,"navbar","navbar-expand-lg","py-2"],[1,"container-fluid"],["routerLink","main",1,"navbar-brand","text-light"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"fa-solid","fa-list"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas",3,"ngClass"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","btn-close-white",3,"ngClass"],[1,"offcanvas-body"],[1,"navbar-nav","m-auto"],["data-bs-dismiss","offcanvas","aria-label","Close",1,"nav-item","mx-3"],["routerLink","main","routerLinkActive","active",1,"nav-link"],["routerLink","sectorsSettings","routerLinkActive","active",1,"nav-link"],["routerLink","services","routerLinkActive","active",1,"nav-link"],["routerLink","contact","routerLinkActive","active",1,"nav-link"],[1,"navbar-nav","my-1","my-lg-0","text-center"],["data-bs-dismiss","offcanvas","aria-label","Close",1,"mx-2"],["routerLink","login",1,"nav-link","loginOrProfile"],["routerLink","profile","routerLinkActive","active",1,"nav-link","loginOrProfile"],[1,"fa-solid","fa-user"],["data-bs-dismiss","offcanvas","aria-label","Close"],["data-bs-dismiss","offcanvas","aria-label","Close",1,"nav-link","selectLang",3,"click"],[1,"mt-3","d-md-none","acme"],[1,"fa-solid","fa-heart","text-danger"],["href","https://acmecode-eg.com/","target","_blank"],[1,"fa-solid","fa-key"]],template:function(n,i){n&1&&(y(0,"nav",0)(1,"div",1)(2,"a",2),C(3,VH,1,0)(4,BH,1,0),g(),y(5,"button",3),A(6,"i",4),g(),y(7,"div",5)(8,"div",6)(9,"h5",7)(10,"a",2),C(11,UH,1,0)(12,jH,1,0),g()(),A(13,"button",8),g(),y(14,"div",9)(15,"ul",10)(16,"li",11)(17,"a",12),C(18,HH,1,0)(19,$H,1,0),g()(),y(20,"li",11)(21,"a",13),C(22,GH,1,0)(23,qH,1,0),g()(),y(24,"li",11)(25,"a",14),C(26,zH,1,0)(27,WH,1,0),g()(),y(28,"li",11)(29,"a",15),C(30,KH,1,0)(31,QH,1,0),g()()(),y(32,"ul",16)(33,"li",17)(34,"a",18),C(35,YH,2,0)(36,ZH,2,0),g()(),y(37,"li",17)(38,"a",19),A(39,"i",20),g()(),y(40,"li",21)(41,"button",22),z("click",function(){return i.changeLangBtn()}),C(42,JH,1,0)(43,XH,1,0),g()(),y(44,"li",23),h(45," Made With "),A(46,"i",24),h(47," By "),y(48,"a",25),h(49," AcmeCode "),g()()()()()()()),n&2&&(m(3),w(i.isArabic?3:4),m(4),H("ngClass",ih(10,OH,i.isArabic,!i.isArabic)),m(4),w(i.isArabic?11:12),m(2),H("ngClass",Z(13,LH,i.isArabic)),m(5),w(i.isArabic?18:19),m(4),w(i.isArabic?22:23),m(4),w(i.isArabic?26:27),m(4),w(i.isArabic?30:31),m(5),w(i.isArabic?35:36),m(7),w(i.isArabic?42:43))},dependencies:[Oe,He,Bn,bi],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}.navbar[_ngcontent-%COMP%]{background-color:#e2e3e5}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#01143c;text-align:center;padding:.2rem .4rem;font-size:.8rem;border-radius:.2rem;transition:all .3s}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#0079cf33;border-radius:.2rem}.navbar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}.navbar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}.selectLang[_ngcontent-%COMP%]{background-color:#fff;color:#0079cf!important;cursor:pointer}.selectLang[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#01143c}.navbar[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:none;color:#fff}.navbar[_ngcontent-%COMP%]   .navbar-toggler[aria-expanded=true][_ngcontent-%COMP%]{border:1px solid rgb(255,255,255)}.fa-list[_ngcontent-%COMP%]{color:#fff;transition:all .3s ease-in-out}.rotate-gear[_ngcontent-%COMP%]{transform:rotate(90deg)}@media (max-width: 991.98px){.offcanvas[_ngcontent-%COMP%]{background-color:#000c;max-width:80%}}.mr-90[_ngcontent-%COMP%]{margin-right:90px}.changeNavColors[_ngcontent-%COMP%]{background-color:#01143c}.acme[_ngcontent-%COMP%]{color:#0079cf;font-weight:800}.acme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-style:italic;transition:all .3s}.acme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}']})};var Sf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["app-footer"]],decls:2,vars:0,template:function(n,i){n&1&&(y(0,"p"),h(1,"footer works!"),g())},encapsulation:2})};var If=class t{constructor(e){this.dataService=e}title="acmetal-v2";scrollHeight=0;scrollValue=0;isNavbarHidden=!1;lastScrollPosition=0;onActivate(){window.scroll(0,0),this.calculateScrollHeight()}direction(){this.dataService.isArabic?document.querySelector(".direction")?.classList.add("rtl"):document.querySelector(".direction")?.classList.remove("rtl"),setTimeout(()=>{this.direction()},100)}calculateScrollHeight(){setTimeout(()=>{this.scrollHeight=document.documentElement.scrollHeight-window.innerHeight},100)}scrNavbar(){let e=window.pageYOffset||document.documentElement.scrollTop;e>this.lastScrollPosition?this.isNavbarHidden=!0:e<this.lastScrollPosition&&(this.isNavbarHidden=!1),this.lastScrollPosition=e}onScroll(){this.scrNavbar();let e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.scrollValue=e,this.scrollHeight<=0}ngOnInit(){this.calculateScrollHeight(),localStorage.getItem("acmeTal")=="en"?this.dataService.isArabic=!1:this.dataService.isArabic=!0,this.direction()}static \u0275fac=function(n){return new(n||t)(B(Ae))};static \u0275cmp=ae({type:t,selectors:[["app-root"]],hostBindings:function(n,i){n&1&&z("scroll",function(){return i.onScroll()},!1,OI)},decls:5,vars:0,consts:[[1,"direction","overflow-hidden","main-bg"],[1,"navbarScr","mb-3"],[1,"min-vh-100","my-5"],[3,"activate"]],template:function(n,i){n&1&&(y(0,"div",0),A(1,"app-navbar",1),y(2,"div",2)(3,"router-outlet",3),z("activate",function(){return i.onActivate()}),g()(),A(4,"app-footer"),g())},dependencies:[bf,Sf,ii,Oe],styles:[".rtl[_ngcontent-%COMP%]{direction:rtl}.navbarScr[_ngcontent-%COMP%]{top:0;transition:all .8s ease;position:fixed;width:100%;z-index:1000}.hidden-navbar[_ngcontent-%COMP%]{top:-100%;transition:all .8s ease}"]})};var AA={production:!0,firebaseConfig:{apiKey:"AIzaSyA0kQwURkB4OHnKhBtmHPUUhHDrU27lLJo",authDomain:"acmetal-a3be3.firebaseapp.com",databaseURL:"https://acmetal-a3be3-default-rtdb.firebaseio.com",projectId:"acmetal-a3be3",storageBucket:"acmetal-a3be3.firebasestorage.app",messagingSenderId:"705911496102",appId:"1:705911496102:web:8a4823148b374d59f14367",measurementId:"G-78760CTLSB"}};var Tf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["app-main"]],decls:2,vars:0,template:function(n,i){n&1&&(y(0,"p"),h(1,"main works!"),g())},encapsulation:2})};var e$=(t,e)=>({"end-0":t,"start-0":e});function t$(t,e){t&1&&h(0," \u062D\u062F\u062F \u0646\u0648\u0639 \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A ")}function n$(t,e){t&1&&h(0," Select Sectors Type ")}function i$(t,e){t&1&&h(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0645\u0641\u0635\u0644\u064A ")}function r$(t,e){t&1&&h(0," Hinged Sectors ")}function o$(t,e){t&1&&h(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0633\u062D\u0627\u0628 ")}function s$(t,e){t&1&&h(0," Sliding Sectors ")}function a$(t,e){t&1&&h(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0632\u062C\u0627\u062C ")}function l$(t,e){t&1&&h(0," Glass Settings ")}function c$(t,e){t&1&&h(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0645\u0641\u0635\u0644\u064A ")}function u$(t,e){t&1&&h(0," Hinged Sectors ")}function d$(t,e){t&1&&h(0," \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A \u0627\u0644\u0633\u062D\u0627\u0628 ")}function h$(t,e){t&1&&h(0," Sliding Sectors ")}function f$(t,e){t&1&&h(0," \u0632\u062C\u0627\u062C - \u062C\u0648\u0631\u062C\u064A\u0627 - \u0641\u0631\u0627\u063A ")}function p$(t,e){t&1&&h(0," glass - georgia - spacer ")}function m$(t,e){t&1&&h(0," \u0627\u0644\u0643\u0631\u062A\u0646 \u0648\u0648\u0644 ")}function g$(t,e){t&1&&h(0," Curtain Wall ")}var Df=class t{constructor(e,n){this.dataService=e;this.router=n}isArabic=!1;changeLang(){this.dataService.isArabic?this.isArabic=!0:this.isArabic=!1,setTimeout(()=>{this.changeLang()},100)}navigateToSection(e){let n=e;n&&this.router.navigate([`sectorsSettings/${n}`])}onActivate(){window.scroll(0,0)}ngOnInit(){this.changeLang()}static \u0275fac=function(n){return new(n||t)(B(Ae),B(Ei))};static \u0275cmp=ae({type:t,selectors:[["app-sectors-settings"]],decls:34,vars:12,consts:[["select",""],[1,"position-relative"],[1,"row","g-2"],[1,"d-lg-none","mt-5","px-3"],["id","sectionSelector",1,"form-select",3,"change"],["value","","selected","","disabled",""],["value","hingedSettings"],["value","slidingSettings"],["value","glassSettings"],[1,"col-lg-2"],[1,"sectorsTitles","d-none","d-lg-block","position-fixed","top-0","vh-100",3,"ngClass"],["routerLink","hingedSettings","routerLinkActive","routerLinkActive"],["routerLink","slidingSettings","routerLinkActive","routerLinkActive"],["routerLink","glassSettings","routerLinkActive","routerLinkActive"],["routerLink","curtainWallSettings","routerLinkActive","routerLinkActive"],[1,"col-lg-10"],[1,"p-1","py-lg-3"],[3,"activate"]],template:function(n,i){if(n&1){let r=ue();y(0,"div",1)(1,"div",2)(2,"div",3)(3,"select",4,0),z("change",function(){ne(r);let s=nh(4);return ie(i.navigateToSection(s.value))}),y(5,"option",5),C(6,t$,1,0)(7,n$,1,0),g(),y(8,"option",6),C(9,i$,1,0)(10,r$,1,0),g(),y(11,"option",7),C(12,o$,1,0)(13,s$,1,0),g(),y(14,"option",8),C(15,a$,1,0)(16,l$,1,0),g()()(),y(17,"div",9)(18,"div",10)(19,"a",11),C(20,c$,1,0)(21,u$,1,0),g(),y(22,"a",12),C(23,d$,1,0)(24,h$,1,0),g(),y(25,"a",13),C(26,f$,1,0)(27,p$,1,0),g(),y(28,"a",14),C(29,m$,1,0)(30,g$,1,0),g()()(),y(31,"div",15)(32,"div",16)(33,"router-outlet",17),z("activate",function(){return ne(r),ie(i.onActivate())}),g()()()()()}n&2&&(m(6),w(i.isArabic?6:7),m(3),w(i.isArabic?9:10),m(3),w(i.isArabic?12:13),m(3),w(i.isArabic?15:16),m(3),H("ngClass",ih(9,e$,i.isArabic,!i.isArabic)),m(2),w(i.isArabic?20:21),m(3),w(i.isArabic?23:24),m(3),w(i.isArabic?26:27),m(3),w(i.isArabic?29:30))},dependencies:[ii,Bn,bi,Oe,He],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}.sectorsTitles[_ngcontent-%COMP%]{background-color:#e2e3e5;padding:5rem .2rem 0;width:16.6%}.sectorsTitles[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}.sectorsTitles[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}.sectorsTitles[_ngcontent-%COMP%]   a.routerLinkActive[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}.sectorsTitles[_ngcontent-%COMP%]   a.routerLinkActive[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}@media (max-width: 991.98px){.sectorsTitles[_ngcontent-%COMP%]{position:static;height:auto;padding-top:1rem}}']})};var BA=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||t)(B(Jn),B(en))};static \u0275dir=ct({type:t})}return t})(),Vc=(()=>{class t extends BA{static \u0275fac=(()=>{let n;return function(r){return(n||(n=gi(t)))(r||t)}})();static \u0275dir=ct({type:t,features:[Cn]})}return t})(),Ia=new ee(""),_$={provide:Ia,useExisting:Qn(()=>mC),multi:!0},mC=(()=>{class t extends Vc{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(r){return(n||(n=gi(t)))(r||t)}})();static \u0275dir=ct({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&z("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Qi([_$]),Cn]})}return t})(),y$={provide:Ia,useExisting:Qn(()=>Ge),multi:!0};function v$(){let t=or()?or().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var C$=new ee(""),Ge=(()=>{class t extends BA{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!v$())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||t)(B(Jn),B(en),B(C$,8))};static \u0275dir=ct({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&z("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Qi([y$]),Cn]})}return t})();function Yr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function UA(t){return t!=null&&typeof t.length=="number"}var gC=new ee(""),jA=new ee(""),w$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,q=class{static min(e){return E$(e)}static max(e){return b$(e)}static required(e){return HA(e)}static requiredTrue(e){return S$(e)}static email(e){return I$(e)}static minLength(e){return T$(e)}static maxLength(e){return D$(e)}static pattern(e){return x$(e)}static nullValidator(e){return Nf(e)}static compose(e){return KA(e)}static composeAsync(e){return YA(e)}};function E$(t){return e=>{if(Yr(e.value)||Yr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function b$(t){return e=>{if(Yr(e.value)||Yr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function HA(t){return Yr(t.value)?{required:!0}:null}function S$(t){return t.value===!0?null:{required:!0}}function I$(t){return Yr(t.value)||w$.test(t.value)?null:{email:!0}}function T$(t){return e=>Yr(e.value)||!UA(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function D$(t){return e=>UA(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function x$(t){if(!t)return Nf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Yr(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Nf(t){return null}function $A(t){return t!=null}function GA(t){return Ao(t)?ke(t):t}function qA(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function zA(t,e){return e.map(n=>n(t))}function A$(t){return!t.validate}function WA(t){return t.map(e=>A$(e)?e:n=>e.validate(n))}function KA(t){if(!t)return null;let e=t.filter($A);return e.length==0?null:function(n){return qA(zA(n,e))}}function QA(t){return t!=null?KA(WA(t)):null}function YA(t){if(!t)return null;let e=t.filter($A);return e.length==0?null:function(n){let i=zA(n,e).map(GA);return Lm(i).pipe(ce(qA))}}function ZA(t){return t!=null?YA(WA(t)):null}function NA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function JA(t){return t._rawValidators}function XA(t){return t._rawAsyncValidators}function uC(t){return t?Array.isArray(t)?t:[t]:[]}function Mf(t,e){return Array.isArray(t)?t.includes(e):t===e}function MA(t,e){let n=uC(e);return uC(t).forEach(r=>{Mf(n,r)||n.push(r)}),n}function RA(t,e){return uC(e).filter(n=>!Mf(t,n))}var Rf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=QA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ba=class extends Rf{name;get formDirective(){return null}get path(){return null}},Lc=class extends Rf{_parent=null;name=null;valueAccessor=null},Pf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},N$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$ce=_e(U({},N$),{"[class.ng-submitted]":"isSubmitted"}),Ze=(()=>{class t extends Pf{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(B(Lc,2))};static \u0275dir=ct({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&th("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Cn]})}return t})(),Je=(()=>{class t extends Pf{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(B(ba,10))};static \u0275dir=ct({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&th("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Cn]})}return t})();var Pc="VALID",xf="INVALID",wa="PENDING",kc="DISABLED",Zr=class{},kf=class extends Zr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Fc=class extends Zr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Oc=class extends Zr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Ea=class extends Zr{status;source;constructor(e,n){super(),this.status=e,this.source=n}},dC=class extends Zr{source;constructor(e){super(),this.source=e}},hC=class extends Zr{source;constructor(e){super(),this.source=e}};function _C(t){return(Vf(t)?t.validators:t)||null}function M$(t){return Array.isArray(t)?QA(t):t||null}function yC(t,e){return(Vf(e)?e.asyncValidators:t)||null}function R$(t){return Array.isArray(t)?ZA(t):t||null}function Vf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function eN(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new G(1e3,"");if(!i[n])throw new G(1001,"")}function tN(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new G(1002,"")})}var Sa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Yi(this.statusReactive)}set status(e){Yi(()=>this.statusReactive.set(e))}_status=Rl(()=>this.statusReactive());statusReactive=Nl(void 0);get valid(){return this.status===Pc}get invalid(){return this.status===xf}get pending(){return this.status==wa}get disabled(){return this.status===kc}get enabled(){return this.status!==kc}errors;get pristine(){return Yi(this.pristineReactive)}set pristine(e){Yi(()=>this.pristineReactive.set(e))}_pristine=Rl(()=>this.pristineReactive());pristineReactive=Nl(!0);get dirty(){return!this.pristine}get touched(){return Yi(this.touchedReactive)}set touched(e){Yi(()=>this.touchedReactive.set(e))}_touched=Rl(()=>this.touchedReactive());touchedReactive=Nl(!1);get untouched(){return!this.touched}_events=new Et;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RA(e,this._rawAsyncValidators))}hasValidator(e){return Mf(this._rawValidators,e)}hasAsyncValidator(e){return Mf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(_e(U({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Oc(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new Oc(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(_e(U({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Fc(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Fc(!0,i))}markAsPending(e={}){this.status=wa;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ea(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(_e(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=kc,this.errors=null,this._forEachChild(r=>{r.disable(_e(U({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kf(this.value,i)),this._events.next(new Ea(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_e(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pc,this._forEachChild(i=>{i.enable(_e(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(_e(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pc||this.status===wa)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kf(this.value,n)),this._events.next(new Ea(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(_e(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kc:Pc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=wa,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=GA(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Ea(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new Dt,this.statusChanges=new Dt}_calculateStatus(){return this._allControlsDisabled()?kc:this.errors?xf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wa)?wa:this._anyControlsHaveStatus(xf)?xf:Pc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Fc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Oc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=M$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=R$(this._rawAsyncValidators)}},Ff=class extends Sa{constructor(e,n,i){super(_C(n),yC(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){tN(this,!0,e),Object.keys(e).forEach(i=>{eN(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var fC=class extends Ff{};var nN=new ee("CallSetDisabledState",{providedIn:"root",factory:()=>vC}),vC="always";function P$(t,e){return[...e.path,t]}function PA(t,e,n=vC){CC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),F$(t,e),L$(t,e),O$(t,e),k$(t,e)}function kA(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Lf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Of(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function k$(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function CC(t,e){let n=JA(t);e.validator!==null?t.setValidators(NA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=XA(t);e.asyncValidator!==null?t.setAsyncValidators(NA(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Of(e._rawValidators,r),Of(e._rawAsyncValidators,r)}function Lf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=JA(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=XA(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Of(e._rawValidators,i),Of(e._rawAsyncValidators,i),n}function F$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&iN(t,e)})}function O$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&iN(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function iN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function L$(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function V$(t,e){t==null,CC(t,e)}function B$(t,e){return Lf(t,e)}function U$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function j$(t){return Object.getPrototypeOf(t.constructor)===Vc}function H$(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function $$(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Ge?n=o:j$(o)?i=o:r=o}),r||i||n||null}function G$(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function FA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function OA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Af=class extends Sa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,i){super(_C(n),yC(i,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(OA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){OA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var q$=t=>t instanceof Af;var Xe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ct({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),z$={provide:Ia,useExisting:Qn(()=>ut),multi:!0},ut=(()=>{class t extends Vc{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=gi(t)))(r||t)}})();static \u0275dir=ct({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&z("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Qi([z$]),Cn]})}return t})();var rN=new ee("");var W$={provide:ba,useExisting:Qn(()=>Ke)},Ke=(()=>{class t extends ba{callSetDisabledState;get submitted(){return Yi(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Rl(()=>this._submittedReactive());_submittedReactive=Nl(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Dt;constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return PA(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){kA(n.control||null,n,!1),G$(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),H$(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new dC(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new hC(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(kA(i||null,n),q$(r)&&(PA(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);V$(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&B$(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){CC(this.form,this),this._oldForm&&Lf(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||t)(B(gC,10),B(jA,10),B(nN,8))};static \u0275dir=ct({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&z("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Qi([W$]),Cn,Wi]})}return t})();var K$={provide:Lc,useExisting:Qn(()=>Qe)},Qe=(()=>{class t extends Lc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Dt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=$$(this,o)}ngOnChanges(n){this._added||this._setUpControl(),U$(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return P$(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||t)(B(ba,13),B(gC,10),B(jA,10),B(Ia,10),B(rN,8))};static \u0275dir=ct({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Qi([K$]),Cn,Wi]})}return t})(),Q$={provide:Ia,useExisting:Qn(()=>sN),multi:!0};function oN(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Y$(t){return t.split(":")[0]}var sN=(()=>{class t extends Vc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let i=this._getOptionId(n),r=oN(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=Y$(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=gi(t)))(r||t)}})();static \u0275dir=ct({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&z("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Qi([Q$]),Cn]})}return t})(),aN=(()=>{class t{_element;_renderer;_select;id;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(oN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(B(en),B(Jn),B(sN,9))};static \u0275dir=ct({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),Z$={provide:Ia,useExisting:Qn(()=>lN),multi:!0};function LA(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function J$(t){return t.split(":")[0]}var lN=(()=>{class t extends Vc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);r.push(u)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);r.push(u)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=J$(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=gi(t)))(r||t)}})();static \u0275dir=ct({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&z("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Qi([Z$]),Cn]})}return t})(),cN=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(LA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(LA(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(B(en),B(Jn),B(lN,9))};static \u0275dir=ct({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var X$=(()=>{class t{_validator=Nf;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Nf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ct({type:t,features:[Wi]})}return t})();var e5={provide:gC,useExisting:Qn(()=>sn),multi:!0};var sn=(()=>{class t extends X${required;inputName="required";normalizeInput=Ro;createValidator=n=>HA;enabled(n){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=gi(t)))(r||t)}})();static \u0275dir=ct({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ml("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Qi([e5]),Cn]})}return t})();var t5=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Lr({type:t});static \u0275inj=Pr({})}return t})(),pC=class extends Sa{constructor(e,n,i){super(_C(n),yC(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){tN(this,!1,e),e.forEach((i,r)=>{eN(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function VA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var et=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,i=null){let r=this._reduceControls(n),o={};return VA(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ff(r,o)}record(n,i=null){let r=this._reduceControls(n);return new fC(r,i)}control(n,i,r){let o={};return this.useNonNullable?(VA(i)?o=i:(o.validators=i,o.asyncValidators=r),new Af(n,_e(U({},o),{nonNullable:!0}))):new Af(n,i,r)}array(n,i,r){let o=n.map(s=>this._createControl(s));return new pC(o,i,r)}_reduceControls(n){let i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){if(n instanceof Af)return n;if(n instanceof Sa)return n;if(Array.isArray(n)){let i=n[0],r=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(i,r,o)}else return this.control(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tt=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:rN,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:nN,useValue:n.callSetDisabledState??vC}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Lr({type:t});static \u0275inj=Pr({imports:[t5]})}return t})();var yt=class t{constructor(e){this.db=e;this.hingedSectorRef=Xh(this.db,"sectors")}hingedSectorRef;getAllSectors(){return ke(Ci(this.hingedSectorRef)).pipe(ce(e=>{let n=e.val();return n?Object.keys(n).map(i=>U({id:i},n[i])):[]}))}getSectorById(e){let n=Nt(this.hingedSectorRef,e);return ke(Ci(n)).pipe(ce(i=>{let r=i.val();if(r)return U({id:e},r);throw new Error("Sector not found")}))}addSector(e){let n=ua(this.hingedSectorRef).key;if(!n)return Promise.reject("Failed to generate sector ID");let i=Nt(this.hingedSectorRef,n);return da(i,{name:e})}updateSector(e,n){let i=Nt(this.hingedSectorRef,e);return Ko(i,n)}duplicateSector(e,n){return L(this,null,function*(){let i=Nt(this.hingedSectorRef,e),r=ua(this.hingedSectorRef).key;if(!r)return Promise.reject("Failed to generate new sector ID");let o=Nt(this.hingedSectorRef,r),s=yield Ci(i);if(!s.exists())return Promise.reject("Existing sector does not exist");let a=s.val(),c=_e(U({},a),{name:n});return yield da(o,c)})}deleteSector(e){let n=Nt(this.hingedSectorRef,e);return uc(n)}getSectorsBySectorId(e,n){let i=Nt(this.hingedSectorRef,`${e}/${n}`);return ke(Ci(i)).pipe(ce(r=>{let o=r.val();return o?Object.keys(o).map(s=>U({id:s},o[s])):[]}))}addSectorType(e,n,i){let r=ua(Nt(this.hingedSectorRef,`${e}/${n}`)).key;if(!r)return Promise.reject("Failed to generate frame ID");let o=Nt(this.hingedSectorRef,`${e}/${n}/${r}`);return da(o,_e(U({},i),{id:r}))}updateSectorType(e,n,i,r){let o=Nt(this.hingedSectorRef,`${e}/${n}/${i}`);return Ko(o,r)}deleteSectorType(e,n,i){let r=Nt(this.hingedSectorRef,`${e}/${n}/${i}`);return uc(r)}setPriceForAllTypes(e,n){return L(this,null,function*(){let i=Nt(this.hingedSectorRef,`${e}`);try{let r=yield Ci(i);if(!r.exists())throw new Error(`No data found for sector ID: ${e}`);let o={};r.forEach(s=>{let a=s.key;a&&a!=="specialties"&&s.forEach(c=>{let u=c.key;u&&(o[`${a}/${u}/price`]=n)})}),yield Ko(i,o),console.log(`All prices updated to ${n} successfully for all types (except specialties) in sector: ${e}`)}catch(r){throw console.error("Error updating prices for all types:",r),r}})}getSpecialtiesBySectorId(e){let n=Nt(this.hingedSectorRef,`${e}/specialties`);return ke(Ci(n)).pipe(ce(i=>{let r=i.val();if(r)return{data:r};throw new Error("notFound")}))}updateSpecialties(e,n){let i=Nt(this.hingedSectorRef,`${e}/specialties`);return Ko(i,n)}static \u0275fac=function(n){return new(n||t)(le(ir))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})};var n5=t=>({"is-invalid":t});function i5(t,e){t&1&&h(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0645\u0641\u0635\u0644\u064A ")}function r5(t,e){t&1&&h(0," Hinged Settings ")}function o5(t,e){t&1&&h(0," \u0642\u0637\u0627\u0639 ")}function s5(t,e){t&1&&h(0," Sector ")}function a5(t,e){t&1&&h(0," \u062D\u062F\u062F \u0627\u0644\u0642\u0637\u0627\u0639 ")}function l5(t,e){t&1&&h(0," select the sector ")}function c5(t,e){if(t&1&&(y(0,"option",28),h(1),g()),t&2){let n=e.$implicit;H("value",n.id),m(),V(" ",n.name," ")}}function u5(t,e){if(t&1){let n=ue();y(0,"div",16)(1,"label",25),C(2,o5,1,0)(3,s5,1,0),g(),y(4,"select",26,0),z("change",function(){ne(n);let r=nh(5),o=x(2);return ie(o.onSectorChange(r.value))}),y(6,"option",27),C(7,a5,1,0)(8,l5,1,0),g(),st(9,c5,2,2,"option",28,ot),g()()}if(t&2){let n=x(2);m(2),w(n.isArabic?2:3),m(5),w(n.isArabic?7:8),m(2),at(n.sectors)}}function d5(t,e){t&1&&h(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0642\u0637\u0627\u0639\u0627\u062A \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0642\u0637\u0627\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function h5(t,e){t&1&&h(0," There is no sectors, at least one sector should be added ")}function f5(t,e){if(t&1&&(y(0,"div",17)(1,"div",29),A(2,"i",30),C(3,d5,1,0)(4,h5,1,0),g()()),t&2){let n=x(2);m(3),w(n.isArabic?3:4)}}function p5(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function m5(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function g5(t,e){if(t&1&&(y(0,"div",18),A(1,"i",31),C(2,p5,1,1)(3,m5,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function _5(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function y5(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function v5(t,e){if(t&1&&(y(0,"div",19),A(1,"i",30),C(2,_5,1,1)(3,y5,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function C5(t,e){t&1&&h(0," \u0627\u0636\u0627\u0641\u0647 \u0642\u0637\u0627\u0639 \u062C\u062F\u064A\u062F ")}function w5(t,e){t&1&&h(0," Add a new sector ")}function E5(t,e){if(t&1&&h(0),t&2){let n=x().$implicit;V(" ",n.labelAr," ")}}function b5(t,e){if(t&1&&h(0),t&2){let n=x().$implicit;V(" ",n.labelEn," ")}}function S5(t,e){if(t&1&&(y(0,"li",33)(1,"a",35),C(2,E5,1,1)(3,b5,1,1),g()()),t&2){let n=e.$implicit,i=x(3);m(),H("routerLink",n.path),m(),w(i.isArabic?2:3)}}function I5(t,e){if(t&1&&(y(0,"ul",32),st(1,S5,4,2,"li",33,ot),g(),A(3,"hr",34)),t&2){let n=x(2);m(),at(n.links)}}function T5(t,e){t&1&&h(0," \u062D\u062F\u062F \u0642\u0637\u0627\u0639 ")}function D5(t,e){t&1&&h(0," select sector ")}function x5(t,e){if(t&1&&(y(0,"div",23)(1,"div",36),A(2,"i",30),C(3,T5,1,0)(4,D5,1,0),g()()),t&2){let n=x(2);m(3),w(n.isArabic?3:4)}}function A5(t,e){if(t&1){let n=ue();y(0,"div",3),C(1,u5,11,2,"div",16)(2,f5,5,1,"div",17)(3,g5,4,1,"div",18)(4,v5,4,1,"div",19),y(5,"div",20)(6,"button",21),A(7,"i",22),C(8,C5,1,0)(9,w5,1,0),g()(),y(10,"div",17),C(11,I5,4,0)(12,x5,5,1,"div",23),g(),y(13,"router-outlet",24),z("activate",function(){ne(n);let r=x();return ie(r.onActivate())}),g()()}if(t&2){let n=x();m(),w(n.sectors.length>0?1:2),m(2),w((n.showMessage==null?null:n.showMessage.type)==="success"?3:(n.showMessage==null?null:n.showMessage.type)==="error"?4:-1),m(5),w(n.isArabic?8:9),m(3),w(n.selectedSectorId!==null?11:12)}}function N5(t,e){t&1&&(y(0,"div",4)(1,"div",37),A(2,"i",38)(3,"br")(4,"span",39),g()())}function M5(t,e){t&1&&h(0," \u0627\u0636\u0627\u0641\u0647 \u0642\u0637\u0627\u0639 \u062C\u062F\u064A\u062F ")}function R5(t,e){t&1&&h(0," Add a new sector ")}function P5(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function k5(t,e){t&1&&h(0," cancel ")}function F5(t,e){t&1&&h(0," \u0625\u0636\u0627\u0641\u0629 ")}function O5(t,e){t&1&&h(0," add ")}var Ta=class t{constructor(e,n,i,r,o){this.dataService=e;this.hingedSettingsSectorService=n;this.router=i;this.activatedRoute=r;this.fb=o;this.newSectorForm=this.fb.group({name:["",[q.required]]})}isArabic=!1;sectors;selectedSectorId=null;newSectorForm;links=[];showMessage=null;initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.fetchSectors(),100),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}onActivate(){window.scroll(0,0)}fetchSectors(){this.hingedSettingsSectorService.getAllSectors().subscribe(e=>this.sectors=e,e=>console.error("Error fetching sectors:",e))}addSector(){if(this.newSectorForm.invalid)return;let{name:e}=this.newSectorForm.value;this.hingedSettingsSectorService.addSector(e).then(()=>{this.showMessage={type:"success",text:"Sector added Successfully",arText:"\u062A\u0645 \u0627\u0636\u0627\u0641\u0647 \u0627\u0644\u0642\u0637\u0627\u0639 \u0628\u0646\u062C\u0627\u062D"},this.fetchSectors(),this.newSectorForm.reset(),this.setLastSectorAsSelected(),this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0627\u0636\u0627\u0641\u0647. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}setLastSectorAsSelected(){setTimeout(()=>{if(this.sectors.length>0){let e=this.sectors[this.sectors.length-1].id;this.updateSelectedSector(e)}},500)}onSectorChange(e){e&&(this.selectedSectorId=e,this.links=this.generateLinks(this.selectedSectorId),this.navigateToFrames(this.selectedSectorId),this.hingedSettingsSectorService.getSectorById(e).subscribe(n=>{n&&this.navigateToFrames(e)},n=>{console.error("Error fetching sector by ID:",n)}))}generateLinks(e){return[{path:`hingedSectors/${e}`,labelAr:"\u0642\u0637\u0627\u0639\u0627\u062A",labelEn:"Sectors"},{path:`hingedSpecialties/${e}`,labelAr:"\u062A\u062E\u0635\u064A\u0645\u0627\u062A",labelEn:"Specialties"},{path:`hingedAccessories/${e}`,labelAr:"\u0625\u0643\u0633\u0633\u0648\u0627\u0631\u0627\u062A",labelEn:"Accessories"},{path:`hingedInstructions/${e}`,labelAr:"\u0625\u0631\u0634\u0627\u062F\u0627\u062A",labelEn:"Instructions"},{path:`hingedFeatures/${e}`,labelAr:"\u062E\u0635\u0627\u0626\u0635",labelEn:"Features"}]}navigateToFrames(e){this.router.navigate(["sectorsSettings/hingedSettings/hingedSectors",e,"hingedFrames"])}handleRouteParams(){this.activatedRoute.firstChild?.params.subscribe(e=>{e.sectorId&&(this.selectedSectorId=e.sectorId,this.links=this.generateLinks(e.sectorId))})}updateSelectedSector(e){this.selectedSectorId=e,this.links=this.generateLinks(e),this.navigateToFrames(e)}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}ngOnInit(){this.initializeLanguage(),this.fetchSectors(),this.handleRouteParams()}static \u0275fac=function(n){return new(n||t)(B(Ae),B(yt),B(Ei),B(We),B(et))};static \u0275cmp=ae({type:t,selectors:[["app-hinged-settings"]],decls:23,vars:10,consts:[["sector",""],[1,"text-center","alert","alert-secondary"],[1,"alert","alert-secondary","px-4"],[1,"row","g-2"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","addNewSectorStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","addNewSectorStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"fa-solid","fa-bell","mx-1","text-primary"],["for","addNewSector",1,"form-label"],["type","text","formControlName","name","name","addNewSector","id","addNewSector","placeholder","Enter the sector name",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","btn-sm"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary","btn-sm",3,"disabled"],[1,"col-md-3"],[1,"col-md-12"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"col-md-3","align-self-end"],["data-bs-toggle","modal","data-bs-target","#addNewSectorStaticBackdrop",1,"btn","btn-primary"],[1,"fa-solid","fa-folder-plus"],[1,"col-md-6"],[3,"activate"],["for","sectorsNames",1,"form-label"],["name","sectorsNames","id","sectorsNames",1,"form-select",3,"change"],["value","","disabled","","selected",""],[3,"value"],[1,"alert","alert-danger","py-2"],[1,"fa-solid","fa-circle-exclamation"],[1,"fa-regular","fa-circle-check"],[1,"list-unstyled","d-flex","flex-wrap","justify-content-start"],[1,"nav-item","mx-2","flex-shrink-0"],[1,"my-0"],["routerLinkActive","active",1,"nav-link","text-nowrap",3,"routerLink"],[1,"alert","alert-primary","mt-2","p-2"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){if(n&1&&(y(0,"h2",1),C(1,i5,1,0)(2,r5,1,0),g(),y(3,"div",2),C(4,A5,14,4,"div",3)(5,N5,5,0,"div",4),g(),y(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"form",9),z("ngSubmit",function(){return i.addSector()}),A(11,"i",10),y(12,"label",11),C(13,M5,1,0)(14,R5,1,0),g(),A(15,"input",12),y(16,"div",13)(17,"button",14),C(18,P5,1,0)(19,k5,1,0),g(),y(20,"button",15),C(21,F5,1,0)(22,O5,1,0),g()()()()()()()),n&2){let r;m(),w(i.isArabic?1:2),m(3),w(i.sectors?4:5),m(6),H("formGroup",i.newSectorForm),m(3),w(i.isArabic?13:14),m(2),H("ngClass",Z(8,n5,((r=i.newSectorForm.get("name"))==null?null:r.invalid)&&((r=i.newSectorForm.get("name"))==null?null:r.touched))),m(3),w(i.isArabic?18:19),m(2),H("disabled",i.newSectorForm.invalid),m(),w(i.isArabic?21:22)}},dependencies:[Bn,bi,ii,tt,Xe,aN,cN,Ge,Ze,Je,Ke,Qe,Oe,He],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}a.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}a.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}']})};var Bf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["app-sliding-settings"]],decls:2,vars:0,consts:[[1,"text-center","alert","alert-success"]],template:function(n,i){n&1&&(y(0,"h2",0),h(1," Sliding Settings "),g())},encapsulation:2})};function V5(t,e){if(t&1&&h(0),t&2){let n=x().$implicit;V(" ",n.labelAr," ")}}function B5(t,e){if(t&1&&h(0),t&2){let n=x().$implicit;V(" ",n.labelEn," ")}}function U5(t,e){if(t&1&&(y(0,"li",2)(1,"a",3),C(2,V5,1,1)(3,B5,1,1),g()()),t&2){let n=e.$implicit,i=x();m(),H("routerLink",n.path),m(),w(i.isArabic?2:3)}}var Uf=class t{constructor(e){this.dataService=e}isArabic=!1;links=[{path:"glass",labelAr:"\u0632\u062C\u0627\u062C",labelEn:"Glass"},{path:"georgia",labelAr:"\u062C\u0648\u0631\u062C\u064A\u0627",labelEn:"Georgia"},{path:"space",labelAr:"\u0641\u0631\u0627\u063A",labelEn:"spacer"}];ngOnInit(){this.detectLanguageChange()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}static \u0275fac=function(n){return new(n||t)(B(Ae))};static \u0275cmp=ae({type:t,selectors:[["app-glass-settings"]],decls:5,vars:0,consts:[[1,"alert","alert-primary"],[1,"list-unstyled","d-flex","flex-wrap","justify-content-start"],[1,"nav-item","mx-2","flex-shrink-0"],["routerLinkActive","active",1,"nav-link","text-nowrap",3,"routerLink"]],template:function(n,i){n&1&&(y(0,"div",0)(1,"ul",1),st(2,U5,4,2,"li",2,ot),g()(),A(4,"router-outlet")),n&2&&(m(2),at(i.links))},dependencies:[ii,Bn,bi],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}a.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}a.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}']})};var j5=t=>({"is-invalid":t});function H5(t,e){t&1&&h(0,"\u062A\u062B\u0628\u064A\u062A \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function $5(t,e){t&1&&h(0,"Fixing the price per kilo")}function G5(t,e){t&1&&h(0," \u062A\u0637\u0628\u064A\u0642 ")}function q5(t,e){t&1&&h(0," Update ")}function z5(t,e){if(t&1&&h(0),t&2){let n=x(2);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function W5(t,e){if(t&1&&h(0),t&2){let n=x(2);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function K5(t,e){if(t&1&&(y(0,"div",7),A(1,"i",11),C(2,z5,1,1)(3,W5,1,1),g()),t&2){let n=x();m(2),w(n.isArabic?2:3)}}function Q5(t,e){if(t&1&&h(0),t&2){let n=x(2);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Y5(t,e){if(t&1&&h(0),t&2){let n=x(2);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function Z5(t,e){if(t&1&&(y(0,"div",8),A(1,"i",12),C(2,Q5,1,1)(3,Y5,1,1),g()),t&2){let n=x();m(2),w(n.isArabic?2:3)}}function J5(t,e){if(t&1&&h(0),t&2){let n=x().$implicit;V(" ",n.labelAr," ")}}function X5(t,e){if(t&1&&h(0),t&2){let n=x().$implicit;V(" ",n.labelEn," ")}}function eG(t,e){if(t&1&&(y(0,"li",10)(1,"a",13),C(2,J5,1,1)(3,X5,1,1),g()()),t&2){let n=e.$implicit,i=x();m(),H("routerLink",n.path),m(),w(i.isArabic?2:3)}}var jf=class t{constructor(e,n,i,r){this.dataService=e;this.hingedSettingsSectorService=n;this.activatedRoute=i;this.formBuilder=r;this.priceForm=this.formBuilder.group({price:["",[q.required,q.min(0)]]})}isArabic=!1;selectedSectorId=null;priceForm;showMessage=null;links=[{path:"hingedFrames",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u062D\u0644\u0648\u0642",labelEn:"Frames Types"},{path:"hingedBars",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0628\u0627\u0631\u0627\u062A",labelEn:"Bars Types"},{path:"hingedSashes",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0636\u0644\u0641",labelEn:"Sashes Types"},{path:"hingedBarCloses",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0628\u0627\u0643\u062A\u0627\u062A",labelEn:"Bar Close types"},{path:"hingedTProfiles",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0642\u0648\u0627\u0637\u0639 \u0648\u0627\u0644\u0633\u0624\u0627\u0633\u0627\u062A",labelEn:"Types of T Profiles"},{path:"hingedWireSashes",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0636\u0644\u0641 \u0627\u0644\u0633\u0644\u0643",labelEn:"Wire Sashes Types"},{path:"HingedAccessories",labelAr:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0641\u0644\u062A\u0627\u062A",labelEn:"Sashes"},{path:"HingedAccessories",labelAr:"\u0627\u0644\u0645\u0631\u062F",labelEn:"Sashes"}];ngOnInit(){this.isArabic=this.dataService.isArabic,this.listenToRouteParams(),this.initializeLanguage()}initializeLanguage(){setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}listenToRouteParams(){this.activatedRoute.params.subscribe(e=>{this.selectedSectorId=e.sectorId||null})}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}onSubmit(){if(!this.selectedSectorId){console.warn("No sector selected to update prices.");return}if(this.priceForm.invalid){console.warn("Form is invalid. Please enter a valid price.");return}let e=this.priceForm.value.price;this.hingedSettingsSectorService.setPriceForAllTypes(this.selectedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Prices updated successfully for this sector",arText:"\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0623\u0633\u0639\u0627\u0631 \u0628\u0646\u062C\u0627\u062D \u0644\u0647\u0630\u0627 \u0627\u0644\u0642\u0637\u0627\u0639"},this.clearMessage(),console.log(`: ${this.selectedSectorId}`)}).catch(n=>{this.showMessage={type:"error",text:"Error updating prices for this sector",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0623\u0633\u0639\u0627\u0631 \u0644\u0647\u0630\u0627 \u0627\u0644\u0642\u0637\u0627\u0639"},this.clearMessage(),console.error(`: ${this.selectedSectorId}`,n)})}static \u0275fac=function(n){return new(n||t)(B(Ae),B(yt),B(We),B(et))};static \u0275cmp=ae({type:t,selectors:[["app-hinged-sectors"]],decls:18,vars:8,consts:[[3,"ngSubmit","formGroup"],["for","price",1,"form-label"],[1,"row","g-2","align-items-center"],[1,"col-auto"],["id","price","type","number","formControlName","price",1,"form-control","d-inline-block",3,"ngClass"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fa-solid","fa-pen-to-square"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"list-unstyled","d-flex","flex-wrap","justify-content-start","mt-2"],[1,"nav-item","mx-2","flex-shrink-0"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],["routerLinkActive","active",1,"nav-link","text-nowrap",3,"routerLink"]],template:function(n,i){if(n&1&&(y(0,"form",0),z("ngSubmit",function(){return i.onSubmit()}),y(1,"label",1),C(2,H5,1,0)(3,$5,1,0),g(),y(4,"div",2)(5,"div",3),A(6,"input",4),g(),y(7,"div",3)(8,"button",5),C(9,G5,1,0)(10,q5,1,0),A(11,"i",6),g()(),C(12,K5,4,1,"div",7)(13,Z5,4,1,"div",8),g()(),y(14,"ul",9),st(15,eG,4,2,"li",10,ot),g(),A(17,"router-outlet")),n&2){let r;H("formGroup",i.priceForm),m(2),w(i.isArabic?2:3),m(4),H("ngClass",Z(6,j5,((r=i.priceForm.get("price"))==null?null:r.invalid)&&((r=i.priceForm.get("price"))==null?null:r.touched))),m(2),H("disabled",i.priceForm.invalid),m(),w(i.isArabic?9:10),m(3),w((i.showMessage==null?null:i.showMessage.type)==="success"?12:(i.showMessage==null?null:i.showMessage.type)==="error"?13:-1),m(3),at(i.links)}},dependencies:[Bn,bi,ii,tt,Xe,Ge,ut,Ze,Je,Ke,Qe,Oe,He],styles:['label[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}.min-vh-50[_ngcontent-%COMP%]{height:50vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#01143c}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0079cf}[_ngcontent-%COMP%]::selection{color:#0079cf;background:#000}a[_ngcontent-%COMP%]{background-color:#0079cf0d;display:block;padding:.3rem;margin:.5rem;font-size:.8rem;text-decoration:none;border-radius:.2rem;transition:all .3s ease-in-out}a[_ngcontent-%COMP%]:hover{background-color:#0079cf33}a.active[_ngcontent-%COMP%]{background-color:#0079cf;color:#fff!important;transition:all .3s ease-in-out}a.active[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:8px;height:8px;background-color:#37ff00;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_vibration .5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_vibration{0%{transform:scale(1)}to{transform:scale(.8)}}']})};var Da=t=>({"is-invalid":t});function tG(t,e){t&1&&h(0," \u0644\u0645 \u064A\u062A\u0645 \u062D\u0641\u0638 \u0627\u064A \u062A\u062E\u0635\u064A\u0645\u0627\u062A \u0644\u0647\u0630\u0627 \u0627\u0644\u0642\u0637\u0627\u0639 \u0645\u0646 \u0642\u0628\u0644 , \u064A\u062C\u0628 \u0639\u0644\u064A\u0643 \u062D\u0641\u0638\u0647\u0627 ")}function nG(t,e){t&1&&h(0," No specialties have been saved for this sector before, you must save them ")}function iG(t,e){if(t&1&&(y(0,"div",1),A(1,"i",22),C(2,tG,1,0)(3,nG,1,0),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function rG(t,e){t&1&&h(0," \u0627\u0644\u0645\u0642\u0627\u0633 \u0627\u0644\u0632\u0627\u0626\u062F \u0639\u0646\u062F \u0631\u0633\u0645 \u0627\u0644\u0636\u0644\u0641\u0629 ")}function oG(t,e){t&1&&h(0," Extra Size When Drawing The Sash ")}function sG(t,e){t&1&&h(0," \u0627\u0644\u062A\u062E\u0635\u064A\u0645 \u0628\u064A\u0646 \u0627\u0644\u0636\u0644\u0641\u062A\u064A\u0646 ( \u0633\u0645\u0643 \u0627\u0644\u0645\u0631\u062F ) ")}function aG(t,e){t&1&&h(0," Factoring Between The Two Sashes ")}function lG(t,e){t&1&&h(0," \u062A\u062E\u0635\u064A\u0645 \u0632\u062C\u0627\u062C \u0627\u0644\u0636\u0644\u0641 ")}function cG(t,e){t&1&&h(0," Factoring Window Glass ")}function uG(t,e){t&1&&h(0," \u062A\u062E\u0635\u064A\u0645 \u0632\u062C\u0627\u062C \u0627\u0644\u062B\u0627\u0628\u062A ")}function dG(t,e){t&1&&h(0," Factoring Fixed Glass ")}function hG(t,e){t&1&&h(0," \u062A\u062E\u0635\u064A\u0645 \u0627\u0644\u0633\u0644\u0643 \u0627\u0644\u0645\u062A\u062D\u0631\u0643 ")}function fG(t,e){t&1&&h(0," Factoring Moving Wire ")}function pG(t,e){t&1&&h(0," \u062A\u062E\u0635\u064A\u0645 \u0627\u0644\u0633\u0644\u0643 \u0627\u0644\u062B\u0627\u0628\u062A ")}function mG(t,e){t&1&&h(0," Factoring Fixed Wire ")}function gG(t,e){t&1&&h(0," \u062D\u0641\u0638 ")}function _G(t,e){t&1&&h(0," Save ")}function yG(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function vG(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function CG(t,e){if(t&1&&(y(0,"div",20),A(1,"i",23),C(2,yG,1,1)(3,vG,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function wG(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function EG(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function bG(t,e){if(t&1&&(y(0,"div",21),A(1,"i",22),C(2,wG,1,1)(3,EG,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function SG(t,e){if(t&1){let n=ue();C(0,iG,4,1,"div",1),y(1,"form",2),z("ngSubmit",function(){ne(n);let r=x();return ie(r.updateSpecialties())}),y(2,"div",3)(3,"div",4)(4,"label",5),C(5,rG,1,0)(6,oG,1,0),g(),A(7,"input",6),g(),y(8,"div",4)(9,"label",7),C(10,sG,1,0)(11,aG,1,0),g(),A(12,"input",8),g(),y(13,"div",4)(14,"label",9),C(15,lG,1,0)(16,cG,1,0),g(),A(17,"input",10),g(),y(18,"div",4)(19,"label",11),C(20,uG,1,0)(21,dG,1,0),g(),A(22,"input",12),g(),y(23,"div",4)(24,"label",13),C(25,hG,1,0)(26,fG,1,0),g(),A(27,"input",14),g(),y(28,"div",4)(29,"label",15),C(30,pG,1,0)(31,mG,1,0),g(),A(32,"input",16),g(),y(33,"div",17)(34,"button",18),C(35,gG,1,0)(36,_G,1,0),A(37,"i",19),g()()()(),C(38,CG,4,1,"div",20)(39,bG,4,1,"div",21)}if(t&2){let n,i,r,o,s,a,c=x();w(c.specialties=="notFound"?0:-1),m(),H("formGroup",c.specialtiesForm),m(4),w(c.isArabic?5:6),m(2),H("ngClass",Z(17,Da,((n=c.specialtiesForm.get("ExtraSizeWhenDrawingTheSash"))==null?null:n.invalid)&&((n=c.specialtiesForm.get("ExtraSizeWhenDrawingTheSash"))==null?null:n.touched))),m(3),w(c.isArabic?10:11),m(2),H("ngClass",Z(19,Da,((i=c.specialtiesForm.get("FactoringBetweenTheTwoSashes"))==null?null:i.invalid)&&((i=c.specialtiesForm.get("FactoringBetweenTheTwoSashes"))==null?null:i.touched))),m(3),w(c.isArabic?15:16),m(2),H("ngClass",Z(21,Da,((r=c.specialtiesForm.get("FactoringWindowGlass"))==null?null:r.invalid)&&((r=c.specialtiesForm.get("FactoringWindowGlass"))==null?null:r.touched))),m(3),w(c.isArabic?20:21),m(2),H("ngClass",Z(23,Da,((o=c.specialtiesForm.get("FactoringFixedGlass"))==null?null:o.invalid)&&((o=c.specialtiesForm.get("FactoringFixedGlass"))==null?null:o.touched))),m(3),w(c.isArabic?25:26),m(2),H("ngClass",Z(25,Da,((s=c.specialtiesForm.get("FactoringMovingWire"))==null?null:s.invalid)&&((s=c.specialtiesForm.get("FactoringMovingWire"))==null?null:s.touched))),m(3),w(c.isArabic?30:31),m(2),H("ngClass",Z(27,Da,((a=c.specialtiesForm.get("FactoringFixedWire"))==null?null:a.invalid)&&((a=c.specialtiesForm.get("FactoringFixedWire"))==null?null:a.touched))),m(2),H("disabled",c.specialtiesForm.invalid),m(),w(c.isArabic?35:36),m(3),w((c.showMessage==null?null:c.showMessage.type)==="success"?38:(c.showMessage==null?null:c.showMessage.type)==="error"?39:-1)}}function IG(t,e){t&1&&(y(0,"div",0)(1,"div",24),A(2,"i",25)(3,"br")(4,"span",26),g()())}var Hf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.specialtiesForm=this.fb.group({ExtraSizeWhenDrawingTheSash:["",q.required],FactoringBetweenTheTwoSashes:["",q.required],FactoringWindowGlass:["",q.required],FactoringFixedGlass:["",q.required],FactoringMovingWire:["",q.required],FactoringFixedWire:["",q.required]})}isArabic=!1;specialties=null;specialtiesForm;sectorId="";showMessage=null;initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}loadSpecialties(){this.hingedSettingsSectorService.getSpecialtiesBySectorId(this.sectorId).subscribe({next:e=>{this.specialties=e.data,this.specialtiesForm.patchValue(this.specialties)},error:e=>{this.specialties=e}})}updateSpecialties(){this.specialtiesForm.valid?this.hingedSettingsSectorService.updateSpecialties(this.sectorId,this.specialtiesForm.value).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062D\u0641\u0638 \u0628\u0646\u062C\u0627\u062D"}}).catch(e=>{this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0641\u0638. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},console.error("Error updating specialties:",e)}):console.warn("Form is invalid"),this.loadSpecialties(),this.clearMessage()}ngOnInit(){this.initializeLanguage(),this.activatedRoute.params.subscribe(e=>{e.sectorId&&(this.sectorId=e.sectorId,this.loadSpecialties())})}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(B(et),B(Ae),B(yt),B(We))};static \u0275cmp=ae({type:t,selectors:[["app-hinged-specialties"]],decls:2,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],[1,"alert","alert-danger","text-center"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-3","col-12"],["for","ExtraSizeWhenDrawingTheSash",1,"form-label"],["formControlName","ExtraSizeWhenDrawingTheSash","type","number","name","ExtraSizeWhenDrawingTheSash","id","ExtraSizeWhenDrawingTheSash","required","",1,"form-control",3,"ngClass"],["for","FactoringBetweenTheTwoSashes",1,"form-label"],["formControlName","FactoringBetweenTheTwoSashes","type","number","name","FactoringBetweenTheTwoSashes","id","FactoringBetweenTheTwoSashes","required","",1,"form-control",3,"ngClass"],["for","FactoringWindowGlass",1,"form-label"],["formControlName","FactoringWindowGlass","type","number","name","FactoringWindowGlass","id","FactoringWindowGlass","required","",1,"form-control",3,"ngClass"],["for","FactoringFixedGlass",1,"form-label"],["formControlName","FactoringFixedGlass","type","number","name","FactoringFixedGlass","id","FactoringFixedGlass","required","",1,"form-control",3,"ngClass"],["for","FactoringMovingWire",1,"form-label"],["formControlName","FactoringMovingWire","type","number","name","FactoringMovingWire","id","FactoringMovingWire","required","",1,"form-control",3,"ngClass"],["for","FactoringFixedWire",1,"form-label"],["formControlName","FactoringFixedWire","type","number","name","FactoringFixedWire","id","FactoringFixedWire","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fa-solid","fa-floppy-disk"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"fa-solid","fa-circle-exclamation"],[1,"fa-regular","fa-circle-check"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&C(0,SG,40,29)(1,IG,5,0,"div",0),n&2&&w(i.specialties?0:1)},dependencies:[tt,Xe,Ge,ut,Ze,Je,sn,Ke,Qe,Oe,He],encapsulation:2})};var $f=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["app-hinged-accessories"]],decls:2,vars:0,template:function(n,i){n&1&&(y(0,"p"),h(1,"hinged-accessories works!"),g())},encapsulation:2})};var Gf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["app-hinged-instructions"]],decls:2,vars:0,template:function(n,i){n&1&&(y(0,"p"),h(1,"hinged-instructions works!"),g())},encapsulation:2})};var uN=t=>({"is-invalid":t});function TG(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 : ")}function DG(t,e){t&1&&h(0," Sector Name : ")}function xG(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function AG(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function NG(t,e){if(t&1&&(y(0,"div",4),A(1,"i",32),C(2,xG,1,1)(3,AG,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function MG(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function RG(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function PG(t,e){if(t&1&&(y(0,"div",5),A(1,"i",33),C(2,MG,1,1)(3,RG,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function kG(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function FG(t,e){t&1&&h(0," Modify the sector name ")}function OG(t,e){t&1&&h(0," \u0646\u0633\u062E \u0627\u0644\u0642\u0637\u0627\u0639 \u0628\u0627\u0633\u0645 \u062C\u062F\u064A\u062F ")}function LG(t,e){t&1&&h(0," Copy the sector with a new name ")}function VG(t,e){t&1&&h(0," \u062D\u0630\u0641 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function BG(t,e){t&1&&h(0," Delete The Sector ")}function UG(t,e){t&1&&h(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function jG(t,e){t&1&&h(0," are you sure you want to ")}function HG(t,e){t&1&&h(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function $G(t,e){t&1&&h(0," Delete ? ")}function GG(t,e){t&1&&h(0," \u0644\u0627 ")}function qG(t,e){t&1&&h(0," No ")}function zG(t,e){t&1&&h(0," \u0646\u0639\u0645 ")}function WG(t,e){t&1&&h(0," Yes ")}function KG(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function QG(t,e){t&1&&h(0," Modify the sector name ")}function YG(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function ZG(t,e){t&1&&h(0," cancel ")}function JG(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function XG(t,e){t&1&&h(0," Update ")}function eq(t,e){t&1&&h(0," \u0646\u0633\u062E \u0627\u0644\u0642\u0637\u0627\u0639 \u0628\u0627\u0633\u0645 \u062C\u062F\u064A\u062F ")}function tq(t,e){t&1&&h(0," Copy the sector with a new name ")}function nq(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function iq(t,e){t&1&&h(0," cancel ")}function rq(t,e){t&1&&h(0," \u0646\u0633\u062E ")}function oq(t,e){t&1&&h(0," copy ")}function sq(t,e){if(t&1){let n=ue();y(0,"div",1)(1,"div",2)(2,"h3"),C(3,TG,1,0)(4,DG,1,0),y(5,"span",3),h(6),g()()(),y(7,"div",2),C(8,NG,4,1,"div",4)(9,PG,4,1,"div",5),g()(),y(10,"div",1)(11,"div",6)(12,"button",7),C(13,kG,1,0)(14,FG,1,0),A(15,"i",8),g(),y(16,"button",9),C(17,OG,1,0)(18,LG,1,0),A(19,"i",10),g(),y(20,"button",11),C(21,VG,1,0)(22,BG,1,0),A(23,"i",12),g()()(),y(24,"div",13)(25,"div",14)(26,"div",15)(27,"div",16),A(28,"i",17),C(29,UG,1,0)(30,jG,1,0),y(31,"b",18),C(32,HG,1,0)(33,$G,1,0),y(34,"span",3),h(35),g()()(),y(36,"div",19)(37,"button",20),C(38,GG,1,0)(39,qG,1,0),g(),y(40,"button",21),z("click",function(){ne(n);let r=x();return ie(r.delete())}),C(41,zG,1,0)(42,WG,1,0),g()()()()(),y(43,"div",22)(44,"div",14)(45,"div",15)(46,"div",16)(47,"form",23),z("ngSubmit",function(){ne(n);let r=x();return ie(r.editSectorName())}),A(48,"i",24),y(49,"label",25),C(50,KG,1,0)(51,QG,1,0),y(52,"span",3),h(53),g()(),A(54,"input",26),y(55,"div",19)(56,"button",27),C(57,YG,1,0)(58,ZG,1,0),g(),y(59,"button",28),C(60,JG,1,0)(61,XG,1,0),g()()()()()()(),y(62,"div",29)(63,"div",14)(64,"div",15)(65,"div",16)(66,"form",23),z("ngSubmit",function(){ne(n);let r=x();return ie(r.duplicateExistingSector())}),A(67,"i",24),y(68,"label",30),C(69,eq,1,0)(70,tq,1,0),y(71,"span",3),h(72),g()(),A(73,"input",31),y(74,"div",19)(75,"button",27),C(76,nq,1,0)(77,iq,1,0),g(),y(78,"button",28),C(79,rq,1,0)(80,oq,1,0),g()()()()()()()}if(t&2){let n,i,r=x();m(3),w(r.isArabic?3:4),m(3),V(" ",r.sectorInfo.name," "),m(2),w((r.showMessage==null?null:r.showMessage.type)==="success"?8:(r.showMessage==null?null:r.showMessage.type)==="error"?9:-1),m(5),w(r.isArabic?13:14),m(4),w(r.isArabic?17:18),m(4),w(r.isArabic?21:22),m(8),w(r.isArabic?29:30),m(3),w(r.isArabic?32:33),m(3),V(" ( ",r.sectorInfo.name," ) "),m(3),w(r.isArabic?38:39),m(3),w(r.isArabic?41:42),m(6),H("formGroup",r.editSectorForm),m(3),w(r.isArabic?50:51),m(3),V(" ( ",r.sectorInfo.name," ) "),m(),H("ngClass",Z(25,uN,((n=r.editSectorForm.get("sectorName"))==null?null:n.invalid)&&((n=r.editSectorForm.get("sectorName"))==null?null:n.touched))),m(3),w(r.isArabic?57:58),m(2),H("disabled",r.editSectorForm.invalid),m(),w(r.isArabic?60:61),m(6),H("formGroup",r.copiedSectorForm),m(3),w(r.isArabic?69:70),m(3),V(" ( ",r.sectorInfo.name," ) "),m(),H("ngClass",Z(27,uN,((i=r.copiedSectorForm.get("sectorName"))==null?null:i.invalid)&&((i=r.copiedSectorForm.get("sectorName"))==null?null:i.touched))),m(3),w(r.isArabic?76:77),m(2),H("disabled",r.copiedSectorForm.invalid),m(),w(r.isArabic?79:80)}}function aq(t,e){t&1&&(y(0,"div",0)(1,"div",34),A(2,"i",35)(3,"br")(4,"span",36),g()())}var qf=class t{constructor(e,n,i,r,o,s){this.dataService=e;this.hingedSettingsSectorService=n;this.activatedRoute=i;this.fb=r;this.router=o;this.hingedSettingsComponent=s;this.editSectorForm=this.fb.group({sectorName:["",[q.required,q.minLength(3)]]}),this.copiedSectorForm=this.fb.group({sectorName:["",[q.required,q.minLength(3)]]})}isArabic=!1;sectorId="";sectorInfo=null;editSectorForm;copiedSectorForm;showMessage=null;changeLang(){this.isArabic=this.dataService.isArabic,setTimeout(()=>this.changeLang(),100)}delete(){if(!this.sectorId){console.error("No sector ID provided for deletion.");return}this.hingedSettingsSectorService.deleteSector(this.sectorId).then(()=>{this.hingedSettingsComponent.selectedSectorId=null,this.router.navigate(["/sectorsSettings"]),this.sectorInfo=null}).catch(e=>{console.error("Error deleting sector:",e)})}getSectorInfo(){if(!this.sectorId){console.error("No sector ID provided to fetch information.");return}this.hingedSettingsSectorService.getSectorById(this.sectorId).subscribe({next:e=>{this.sectorInfo=e},error:e=>{console.error("Error fetching sector info:",e),this.sectorInfo=null}})}editSectorName(){if(this.editSectorForm.invalid){console.error("Form is invalid.");return}let e=this.editSectorForm.value.sectorName;this.hingedSettingsSectorService.updateSector(this.sectorId,{name:e}).then(()=>{console.log("Sector name updated successfully."),this.sectorInfo.name=e,this.editSectorForm.reset()}).catch(n=>{console.error("Error updating sector name:",n)})}duplicateExistingSector(){let e=this.copiedSectorForm.value.sectorName;this.hingedSettingsSectorService.duplicateSector(this.sectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector duplicated successfully !",arText:"\u062A\u0645 \u0646\u0633\u062E \u0627\u0644\u0642\u0637\u0627\u0639 \u0628\u0646\u062C\u0627\u062D!"},this.clearMessage()}).catch(n=>{this.showMessage={type:"error",text:"An error occurred while duplicate the sector. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0627 \u0627\u062B\u0646\u0627\u0621 \u0646\u0633\u062E \u0627\u0644\u0642\u0637\u0627\u0639. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}clearMessage(){setTimeout(()=>{this.showMessage=null},2e3)}ngOnInit(){this.changeLang(),this.activatedRoute.params.subscribe(e=>{e.sectorId&&(this.sectorId=e.sectorId,this.getSectorInfo())})}static \u0275fac=function(n){return new(n||t)(B(Ae),B(yt),B(We),B(et),B(Ei),B(Ta))};static \u0275cmp=ae({type:t,selectors:[["app-hinged-features"]],decls:2,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],[1,"row","g-3"],[1,"col-md-6"],[1,"fst-italic","text-primary"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"col-md-3"],["data-bs-toggle","modal","data-bs-target","#editSectorNameStaticBackdrop",1,"btn","btn-outline-primary","w-100","m-2"],[1,"fa-solid","fa-pen-to-square"],["data-bs-toggle","modal","data-bs-target","#copySectorWithNewNameStaticBackdrop",1,"btn","btn-outline-primary","w-100","m-2"],[1,"fa-solid","fa-copy"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-outline-danger","w-100","m-2"],[1,"fa-solid","fa-trash-can"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","editSectorNameStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","editSectorNameStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[3,"ngSubmit","formGroup"],[1,"fa-solid","fa-bell","mx-1","text-primary"],["for","newSectorName",1,"form-label"],["type","text","formControlName","sectorName","name","newSectorName","id","newSectorName","placeholder","Enter the new sector name",1,"form-control",3,"ngClass"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","btn-sm"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary","btn-sm",3,"disabled"],["id","copySectorWithNewNameStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","copySectorWithNewNameStaticBackdrop","aria-hidden","true",1,"modal","fade"],["for","copiedSectorName",1,"form-label"],["type","text","formControlName","sectorName","name","copiedSectorName","id","copiedSectorName","placeholder","Enter the name of the new sector",1,"form-control",3,"ngClass"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&C(0,sq,81,29)(1,aq,5,0,"div",0),n&2&&w(i.sectorInfo?0:1)},dependencies:[Oe,He,tt,Xe,Ge,Ze,Je,Ke,Qe],encapsulation:2})};var Bc=t=>({"is-invalid":t});function lq(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function cq(t,e){t&1&&h(0," Sector Number ")}function uq(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function dq(t,e){t&1&&h(0," Sector Name ")}function hq(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function fq(t,e){t&1&&h(0," Sector Weight ")}function pq(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function mq(t,e){t&1&&h(0," Sector Thickness ")}function gq(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function _q(t,e){t&1&&h(0," Price per kilo ")}function yq(t,e){t&1&&h(0," \u062A\u062D\u062F\u064A\u062B ")}function vq(t,e){t&1&&h(0," Update ")}function Cq(t,e){if(t&1&&(y(0,"span"),C(1,yq,1,0)(2,vq,1,0),A(3,"i",35),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function wq(t,e){t&1&&h(0," \u0625\u0636\u0627\u0641\u0629 ")}function Eq(t,e){t&1&&h(0," Add ")}function bq(t,e){if(t&1&&(y(0,"span"),C(1,wq,1,0)(2,Eq,1,0),A(3,"i",36),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function Sq(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function Iq(t,e){t&1&&h(0," cancel ")}function Tq(t,e){if(t&1){let n=ue();y(0,"button",37),z("click",function(){ne(n);let r=x(2);return ie(r.cancelEdit())}),y(1,"span"),C(2,Sq,1,0)(3,Iq,1,0),A(4,"i",38),g()()}if(t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function Dq(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function xq(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function Aq(t,e){if(t&1&&(y(0,"div",30),A(1,"i",39),C(2,Dq,1,1)(3,xq,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function Nq(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Mq(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function Rq(t,e){if(t&1&&(y(0,"div",31),A(1,"i",40),C(2,Nq,1,1)(3,Mq,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function Pq(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function kq(t,e){t&1&&h(0," Sector Number ")}function Fq(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Oq(t,e){t&1&&h(0," Sector Name ")}function Lq(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function Vq(t,e){t&1&&h(0," Weight ")}function Bq(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Uq(t,e){t&1&&h(0," Thickness ")}function jq(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function Hq(t,e){t&1&&h(0," Price per kilo ")}function $q(t,e){t&1&&h(0," \u062D\u0630\u0641 \u0627\u0644\u0628\u0627\u0631 ")}function Gq(t,e){t&1&&h(0," delete the bar ")}function qq(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function zq(t,e){t&1&&h(0," Update ")}function Wq(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function Kq(t,e){t&1&&h(0," Delete ")}function Qq(t,e){t&1&&A(0,"i",44)}function Yq(t,e){t&1&&A(0,"i",45)}function Zq(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function Jq(t,e){t&1&&h(0," Update ")}function Xq(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function e9(t,e){t&1&&h(0," Delete ")}function t9(t,e){if(t&1){let n=ue();y(0,"tr")(1,"td"),h(2),g(),y(3,"td"),h(4),g(),y(5,"td"),h(6),g(),y(7,"td"),h(8),g(),y(9,"td"),h(10),g(),y(11,"td"),h(12),g(),y(13,"td"),C(14,Qq,1,0,"i",44)(15,Yq,1,0,"i",45),g(),y(16,"td")(17,"button",46),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.editSector(r))}),C(18,Zq,1,0)(19,Jq,1,0),A(20,"i",35),g()(),y(21,"td")(22,"button",47),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.getDeletedSector(r))}),C(23,Xq,1,0)(24,e9,1,0),A(25,"i",48),g()()()}if(t&2){let n=e.$implicit,i=e.$index,r=x(3);m(2),V(" ",i+1," "),m(2),V(" ",n.sectorNumber," "),m(2),V(" ",n.sectorName," "),m(2),V(" ",n.weight," "),m(2),V(" ",n.thickness," "),m(2),V(" ",n.price," "),m(2),w(n.withoutBar==!0?14:15),m(4),w(r.isArabic?18:19),m(5),w(r.isArabic?23:24)}}function n9(t,e){if(t&1&&(y(0,"table",33)(1,"thead",41)(2,"tr")(3,"th"),h(4," # "),g(),y(5,"th"),C(6,Pq,1,0)(7,kq,1,0),g(),y(8,"th"),C(9,Fq,1,0)(10,Oq,1,0),g(),y(11,"th"),C(12,Lq,1,0)(13,Vq,1,0),g(),y(14,"th"),C(15,Bq,1,0)(16,Uq,1,0),g(),y(17,"th"),C(18,jq,1,0)(19,Hq,1,0),g(),y(20,"th"),C(21,$q,1,0)(22,Gq,1,0),g(),y(23,"th",42),C(24,qq,1,0)(25,zq,1,0),g(),y(26,"th",43),C(27,Wq,1,0)(28,Kq,1,0),g()()(),y(29,"tbody"),st(30,t9,26,9,"tr",null,ot),g()()),t&2){let n=x(2);m(6),w(n.isArabic?6:7),m(3),w(n.isArabic?9:10),m(3),w(n.isArabic?12:13),m(3),w(n.isArabic?15:16),m(3),w(n.isArabic?18:19),m(3),w(n.isArabic?21:22),m(3),w(n.isArabic?24:25),m(3),w(n.isArabic?27:28),m(3),at(n.frames)}}function i9(t,e){t&1&&h(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u062D\u0644\u0648\u0642 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function r9(t,e){t&1&&h(0," There are no types of frames, at least one type must be added ")}function o9(t,e){if(t&1&&(y(0,"div",34),A(1,"i",40),C(2,i9,1,0)(3,r9,1,0),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function s9(t,e){if(t&1){let n=ue();y(0,"div",0)(1,"form",11),z("ngSubmit",function(){ne(n);let r=x();return ie(r.selectedSector?r.updateSector():r.addNewSector())}),y(2,"div",12)(3,"div",13)(4,"label",14),C(5,lq,1,0)(6,cq,1,0),g(),A(7,"input",15),g(),y(8,"div",13)(9,"label",16),C(10,uq,1,0)(11,dq,1,0),g(),A(12,"input",17),g(),y(13,"div",13)(14,"label",18),C(15,hq,1,0)(16,fq,1,0),g(),A(17,"input",19),g(),y(18,"div",13)(19,"label",20),C(20,pq,1,0)(21,mq,1,0),g(),A(22,"input",21),g(),y(23,"div",13)(24,"label",22),C(25,gq,1,0)(26,_q,1,0),g(),A(27,"input",23),g(),y(28,"div",24)(29,"label",25),h(30),g(),A(31,"input",26),g(),y(32,"div",27)(33,"button",28),C(34,Cq,4,1,"span")(35,bq,4,1,"span"),g(),C(36,Tq,5,1,"button",29),g()()(),C(37,Aq,4,1,"div",30)(38,Rq,4,1,"div",31),y(39,"div",32),C(40,n9,32,8,"table",33)(41,o9,4,1,"div",34),g()()}if(t&2){let n,i,r,o,s,a=x();m(),H("formGroup",a.frameForm),m(4),w(a.isArabic?5:6),m(2),H("ngClass",Z(18,Bc,((n=a.frameForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.frameForm.get("sectorNumber"))==null?null:n.touched))),m(3),w(a.isArabic?10:11),m(2),H("ngClass",Z(20,Bc,((i=a.frameForm.get("sectorName"))==null?null:i.invalid)&&((i=a.frameForm.get("sectorName"))==null?null:i.touched))),m(3),w(a.isArabic?15:16),m(2),H("ngClass",Z(22,Bc,((r=a.frameForm.get("weight"))==null?null:r.invalid)&&((r=a.frameForm.get("weight"))==null?null:r.touched))),m(3),w(a.isArabic?20:21),m(2),H("ngClass",Z(24,Bc,((o=a.frameForm.get("thickness"))==null?null:o.invalid)&&((o=a.frameForm.get("thickness"))==null?null:o.touched))),m(3),w(a.isArabic?25:26),m(2),H("ngClass",Z(26,Bc,((s=a.frameForm.get("price"))==null?null:s.invalid)&&((s=a.frameForm.get("price"))==null?null:s.touched))),m(),H("title",a.isArabic?"\u0639\u0646\u062F \u0627\u0644\u062A\u062D\u062F\u064A\u062F , \u0644\u0645 \u064A\u062A\u0645 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0628\u0627\u0631 \u0645\u0639 \u0647\u0630\u0627 \u0627\u0644\u062D\u0644\u0642":"When selected, no bar was used with this Frame"),m(2),V(" ",a.isArabic?"\u062D\u0630\u0641 \u0627\u0644\u0628\u0627\u0631":"Delete the Bar"," "),m(3),H("disabled",a.frameForm.invalid),m(),w(a.selectedSector!=null?34:35),m(2),w(a.selectedSector!=null?36:-1),m(),w((a.showMessage==null?null:a.showMessage.type)==="success"?37:(a.showMessage==null?null:a.showMessage.type)==="error"?38:-1),m(3),w(a.frames.length>0?40:41)}}function a9(t,e){t&1&&(y(0,"div",1)(1,"div",49),A(2,"i",50)(3,"br")(4,"span",51),g()())}function l9(t,e){t&1&&h(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function c9(t,e){t&1&&h(0," are you sure you want to ")}function u9(t,e){t&1&&h(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function d9(t,e){t&1&&h(0," Delete ? ")}function h9(t,e){t&1&&h(0," \u0644\u0627 ")}function f9(t,e){t&1&&h(0," No ")}function p9(t,e){t&1&&h(0," \u0646\u0639\u0645 ")}function m9(t,e){t&1&&h(0," Yes ")}var zf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.frameForm=this.fb.group({sectorName:["",q.required],sectorNumber:["",q.required],weight:["",[q.required,q.min(.1)]],thickness:["",[q.required,q.min(.1)]],price:["",[q.required,q.min(.1)]],withoutBar:[!1]})}isArabic=!1;sectorsType="frames";frames;selectedSectorId="";EditedSectorId="";frameForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getFrames()})}getFrames(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.frames=e,error:e=>console.error("Error fetching frames:",e)})}addNewSector(){this.frameForm.valid?(this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.frameForm.value).then(()=>{this.frameForm.reset(),this.getFrames(),this.showMessage={type:"success",text:"Sector added successfully",arText:"\u062A\u0645 \u0627\u0644\u0627\u0636\u0627\u0641\u0647 \u0628\u0646\u062C\u0627\u062D"}}).catch(e=>{this.showMessage={type:"error",text:"An error occurred while adding. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0627\u0636\u0627\u0641\u0647. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"}}),this.clearMessage()):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getFrames(),this.deletedSector=null,this.showMessage={type:"success",text:"Sector deleted successfully",arText:"\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D"}}).catch(n=>{console.error("Error deleting frame:",n),this.deletedSector=null,this.showMessage={type:"error",text:"An error occurred while deleting. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"}}),this.clearMessage()}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.frameForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price,withoutBar:e.withoutBar})}cancelEdit(){this.frameForm.reset(),this.selectedSector=null}updateSector(){if(this.frameForm.valid&&this.selectedSector){let e=U(U({},this.selectedSector),this.frameForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getFrames(),this.frameForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(B(et),B(Ae),B(yt),B(We))};static \u0275cmp=ae({type:t,selectors:[["app-hinged-frames"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-2","col-12","d-flex","align-items-center","withoutBar",3,"title"],["for","withoutBar",1,"form-check-label"],["formControlName","withoutBar","type","checkbox","id","withoutBar",1,"form-check-input","me-2"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"fa-solid","fa-check","p-1","alert","alert-primary"],[1,"fa-solid","fa-xmark","p-1","alert","alert-danger"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(C(0,s9,42,28,"div",0)(1,a9,5,0,"div",1),y(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),A(6,"i",6),C(7,l9,1,0)(8,c9,1,0),y(9,"b",7),C(10,u9,1,0)(11,d9,1,0),g()(),y(12,"div",8)(13,"button",9),C(14,h9,1,0)(15,f9,1,0),g(),y(16,"button",10),z("click",function(){return i.delete(i.deletedSector.id)}),C(17,p9,1,0)(18,m9,1,0),g()()()()()),n&2&&(w(i.frames?0:1),m(7),w(i.isArabic?7:8),m(3),w(i.isArabic?10:11),m(4),w(i.isArabic?14:15),m(3),w(i.isArabic?17:18))},dependencies:[tt,Xe,Ge,ut,mC,Ze,Je,sn,Ke,Qe,Oe,He],styles:['.withoutBar[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:20px;cursor:help}.withoutBar[title][_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;top:-90%;left:50%;transform:translate(-50%);background-color:#cfe2ff;color:#084298;font-size:.8rem;padding:.5rem;font-style:italic;border-radius:.375rem;box-shadow:0 4px 6px #0000001a;width:100%;z-index:10;opacity:0;visibility:hidden}.withoutBar[title][_ngcontent-%COMP%]:hover:before{content:"";position:absolute;top:8%;left:50%;transform:translate(-50%);border-width:.5rem;border-style:solid;border-color:transparent transparent #084298 transparent;z-index:9;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease;animation:_ngcontent-%COMP%_arrowAnimation .4s ease-in-out infinite alternate}.withoutBar[title][_ngcontent-%COMP%]:hover:after, .withoutBar[title][_ngcontent-%COMP%]:hover:before{opacity:1;visibility:visible;transform:translate(-50%) translateY(-5px)}@keyframes _ngcontent-%COMP%_arrowAnimation{0%{top:5%}to{top:10%}}']})};var Uc=t=>({"is-invalid":t});function g9(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function _9(t,e){t&1&&h(0," Sector Number ")}function y9(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function v9(t,e){t&1&&h(0," Sector Name ")}function C9(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function w9(t,e){t&1&&h(0," Sector Weight ")}function E9(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function b9(t,e){t&1&&h(0," Sector Thickness ")}function S9(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function I9(t,e){t&1&&h(0," Price per kilo ")}function T9(t,e){t&1&&h(0," \u062A\u062D\u062F\u064A\u062B ")}function D9(t,e){t&1&&h(0," Update ")}function x9(t,e){if(t&1&&(y(0,"span"),C(1,T9,1,0)(2,D9,1,0),A(3,"i",32),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function A9(t,e){t&1&&h(0," \u0625\u0636\u0627\u0641\u0629 ")}function N9(t,e){t&1&&h(0," Add ")}function M9(t,e){if(t&1&&(y(0,"span"),C(1,A9,1,0)(2,N9,1,0),A(3,"i",33),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function R9(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function P9(t,e){t&1&&h(0," cancel ")}function k9(t,e){if(t&1){let n=ue();y(0,"button",34),z("click",function(){ne(n);let r=x(2);return ie(r.cancelEdit())}),y(1,"span"),C(2,R9,1,0)(3,P9,1,0),A(4,"i",35),g()()}if(t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function F9(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function O9(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function L9(t,e){if(t&1&&(y(0,"div",27),A(1,"i",36),C(2,F9,1,1)(3,O9,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function V9(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function B9(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function U9(t,e){if(t&1&&(y(0,"div",28),A(1,"i",37),C(2,V9,1,1)(3,B9,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function j9(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function H9(t,e){t&1&&h(0," Sector Number ")}function $9(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function G9(t,e){t&1&&h(0," Sector Name ")}function q9(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function z9(t,e){t&1&&h(0," Weight ")}function W9(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function K9(t,e){t&1&&h(0," Thickness ")}function Q9(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function Y9(t,e){t&1&&h(0," Price per kilo ")}function Z9(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function J9(t,e){t&1&&h(0," Update ")}function X9(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function ez(t,e){t&1&&h(0," Delete ")}function tz(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function nz(t,e){t&1&&h(0," Update ")}function iz(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function rz(t,e){t&1&&h(0," Delete ")}function oz(t,e){if(t&1){let n=ue();y(0,"tr")(1,"td"),h(2),g(),y(3,"td"),h(4),g(),y(5,"td"),h(6),g(),y(7,"td"),h(8),g(),y(9,"td"),h(10),g(),y(11,"td"),h(12),g(),y(13,"td")(14,"button",41),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.editSector(r))}),C(15,tz,1,0)(16,nz,1,0),A(17,"i",32),g()(),y(18,"td")(19,"button",42),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.getDeletedSector(r))}),C(20,iz,1,0)(21,rz,1,0),A(22,"i",43),g()()()}if(t&2){let n=e.$implicit,i=e.$index,r=x(3);m(2),V(" ",i+1," "),m(2),V(" ",n.sectorNumber," "),m(2),V(" ",n.sectorName," "),m(2),V(" ",n.weight," "),m(2),V(" ",n.thickness," "),m(2),V(" ",n.price," "),m(3),w(r.isArabic?15:16),m(5),w(r.isArabic?20:21)}}function sz(t,e){if(t&1&&(y(0,"table",30)(1,"thead",38)(2,"tr")(3,"th"),h(4," # "),g(),y(5,"th"),C(6,j9,1,0)(7,H9,1,0),g(),y(8,"th"),C(9,$9,1,0)(10,G9,1,0),g(),y(11,"th"),C(12,q9,1,0)(13,z9,1,0),g(),y(14,"th"),C(15,W9,1,0)(16,K9,1,0),g(),y(17,"th"),C(18,Q9,1,0)(19,Y9,1,0),g(),y(20,"th",39),C(21,Z9,1,0)(22,J9,1,0),g(),y(23,"th",40),C(24,X9,1,0)(25,ez,1,0),g()()(),y(26,"tbody"),st(27,oz,23,8,"tr",null,ot),g()()),t&2){let n=x(2);m(6),w(n.isArabic?6:7),m(3),w(n.isArabic?9:10),m(3),w(n.isArabic?12:13),m(3),w(n.isArabic?15:16),m(3),w(n.isArabic?18:19),m(3),w(n.isArabic?21:22),m(3),w(n.isArabic?24:25),m(3),at(n.bars)}}function az(t,e){t&1&&h(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0628\u0627\u0631\u0627\u062A \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function lz(t,e){t&1&&h(0," There are no types of bars, at least one type must be added ")}function cz(t,e){if(t&1&&(y(0,"div",31),A(1,"i",37),C(2,az,1,0)(3,lz,1,0),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function uz(t,e){if(t&1){let n=ue();y(0,"div",0)(1,"form",11),z("ngSubmit",function(){ne(n);let r=x();return ie(r.selectedSector?r.updateSector():r.addNewSector())}),y(2,"div",12)(3,"div",13)(4,"label",14),C(5,g9,1,0)(6,_9,1,0),g(),A(7,"input",15),g(),y(8,"div",13)(9,"label",16),C(10,y9,1,0)(11,v9,1,0),g(),A(12,"input",17),g(),y(13,"div",13)(14,"label",18),C(15,C9,1,0)(16,w9,1,0),g(),A(17,"input",19),g(),y(18,"div",13)(19,"label",20),C(20,E9,1,0)(21,b9,1,0),g(),A(22,"input",21),g(),y(23,"div",13)(24,"label",22),C(25,S9,1,0)(26,I9,1,0),g(),A(27,"input",23),g(),y(28,"div",24)(29,"button",25),C(30,x9,4,1,"span")(31,M9,4,1,"span"),g(),C(32,k9,5,1,"button",26),g()()(),C(33,L9,4,1,"div",27)(34,U9,4,1,"div",28),y(35,"div",29),C(36,sz,29,7,"table",30)(37,cz,4,1,"div",31),g()()}if(t&2){let n,i,r,o,s,a=x();m(),H("formGroup",a.barForm),m(4),w(a.isArabic?5:6),m(2),H("ngClass",Z(16,Uc,((n=a.barForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.barForm.get("sectorNumber"))==null?null:n.touched))),m(3),w(a.isArabic?10:11),m(2),H("ngClass",Z(18,Uc,((i=a.barForm.get("sectorName"))==null?null:i.invalid)&&((i=a.barForm.get("sectorName"))==null?null:i.touched))),m(3),w(a.isArabic?15:16),m(2),H("ngClass",Z(20,Uc,((r=a.barForm.get("weight"))==null?null:r.invalid)&&((r=a.barForm.get("weight"))==null?null:r.touched))),m(3),w(a.isArabic?20:21),m(2),H("ngClass",Z(22,Uc,((o=a.barForm.get("thickness"))==null?null:o.invalid)&&((o=a.barForm.get("thickness"))==null?null:o.touched))),m(3),w(a.isArabic?25:26),m(2),H("ngClass",Z(24,Uc,((s=a.barForm.get("price"))==null?null:s.invalid)&&((s=a.barForm.get("price"))==null?null:s.touched))),m(2),H("disabled",a.barForm.invalid),m(),w(a.selectedSector!=null?30:31),m(2),w(a.selectedSector!=null?32:-1),m(),w((a.showMessage==null?null:a.showMessage.type)==="success"?33:(a.showMessage==null?null:a.showMessage.type)==="error"?34:-1),m(3),w(a.bars.length>0?36:37)}}function dz(t,e){t&1&&(y(0,"div",1)(1,"div",44),A(2,"i",45)(3,"br")(4,"span",46),g()())}function hz(t,e){t&1&&h(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function fz(t,e){t&1&&h(0," are you sure you want to ")}function pz(t,e){t&1&&h(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function mz(t,e){t&1&&h(0," Delete ? ")}function gz(t,e){t&1&&h(0," \u0644\u0627 ")}function _z(t,e){t&1&&h(0," No ")}function yz(t,e){t&1&&h(0," \u0646\u0639\u0645 ")}function vz(t,e){t&1&&h(0," Yes ")}var Wf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.barForm=this.fb.group({sectorName:["",q.required],sectorNumber:["",q.required],weight:["",[q.required,q.min(.1)]],thickness:["",[q.required,q.min(.1)]],price:["",[q.required,q.min(.1)]]})}isArabic=!1;sectorsType="bars";bars;selectedSectorId="";EditedSectorId="";barForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getBars()})}getBars(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.bars=e,error:e=>console.error("Error fetching bars:",e)})}addNewSector(){this.barForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.barForm.value).then(()=>{this.barForm.reset(),this.getBars()}).catch(e=>console.error("Error adding bar:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getBars(),this.deletedSector=null}).catch(n=>{console.error("Error deleting bar:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.barForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.barForm.reset(),this.selectedSector=null}updateSector(){if(this.barForm.valid&&this.selectedSector){let e=U(U({},this.selectedSector),this.barForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getBars(),this.barForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(B(et),B(Ae),B(yt),B(We))};static \u0275cmp=ae({type:t,selectors:[["app-hinged-bars"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(C(0,uz,38,26,"div",0)(1,dz,5,0,"div",1),y(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),A(6,"i",6),C(7,hz,1,0)(8,fz,1,0),y(9,"b",7),C(10,pz,1,0)(11,mz,1,0),g()(),y(12,"div",8)(13,"button",9),C(14,gz,1,0)(15,_z,1,0),g(),y(16,"button",10),z("click",function(){return i.delete(i.deletedSector.id)}),C(17,yz,1,0)(18,vz,1,0),g()()()()()),n&2&&(w(i.bars?0:1),m(7),w(i.isArabic?7:8),m(3),w(i.isArabic?10:11),m(4),w(i.isArabic?14:15),m(3),w(i.isArabic?17:18))},dependencies:[tt,Xe,Ge,ut,Ze,Je,sn,Ke,Qe,Oe,He],encapsulation:2})};var jc=t=>({"is-invalid":t});function Cz(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function wz(t,e){t&1&&h(0," Sector Number ")}function Ez(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function bz(t,e){t&1&&h(0," Sector Name ")}function Sz(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Iz(t,e){t&1&&h(0," Sector Weight ")}function Tz(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Dz(t,e){t&1&&h(0," Sector Thickness ")}function xz(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function Az(t,e){t&1&&h(0," Price per kilo ")}function Nz(t,e){t&1&&h(0," \u062A\u062D\u062F\u064A\u062B ")}function Mz(t,e){t&1&&h(0," Update ")}function Rz(t,e){if(t&1&&(y(0,"span"),C(1,Nz,1,0)(2,Mz,1,0),A(3,"i",32),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function Pz(t,e){t&1&&h(0," \u0625\u0636\u0627\u0641\u0629 ")}function kz(t,e){t&1&&h(0," Add ")}function Fz(t,e){if(t&1&&(y(0,"span"),C(1,Pz,1,0)(2,kz,1,0),A(3,"i",33),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function Oz(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function Lz(t,e){t&1&&h(0," cancel ")}function Vz(t,e){if(t&1){let n=ue();y(0,"button",34),z("click",function(){ne(n);let r=x(2);return ie(r.cancelEdit())}),y(1,"span"),C(2,Oz,1,0)(3,Lz,1,0),A(4,"i",35),g()()}if(t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function Bz(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Uz(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function jz(t,e){if(t&1&&(y(0,"div",27),A(1,"i",36),C(2,Bz,1,1)(3,Uz,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function Hz(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function $z(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function Gz(t,e){if(t&1&&(y(0,"div",28),A(1,"i",37),C(2,Hz,1,1)(3,$z,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function qz(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function zz(t,e){t&1&&h(0," Sector Number ")}function Wz(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Kz(t,e){t&1&&h(0," Sector Name ")}function Qz(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function Yz(t,e){t&1&&h(0," Weight ")}function Zz(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Jz(t,e){t&1&&h(0," Thickness ")}function Xz(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function e7(t,e){t&1&&h(0," Price per kilo ")}function t7(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function n7(t,e){t&1&&h(0," Update ")}function i7(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function r7(t,e){t&1&&h(0," Delete ")}function o7(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function s7(t,e){t&1&&h(0," Update ")}function a7(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function l7(t,e){t&1&&h(0," Delete ")}function c7(t,e){if(t&1){let n=ue();y(0,"tr")(1,"td"),h(2),g(),y(3,"td"),h(4),g(),y(5,"td"),h(6),g(),y(7,"td"),h(8),g(),y(9,"td"),h(10),g(),y(11,"td"),h(12),g(),y(13,"td")(14,"button",41),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.editSector(r))}),C(15,o7,1,0)(16,s7,1,0),A(17,"i",32),g()(),y(18,"td")(19,"button",42),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.getDeletedSector(r))}),C(20,a7,1,0)(21,l7,1,0),A(22,"i",43),g()()()}if(t&2){let n=e.$implicit,i=e.$index,r=x(3);m(2),V(" ",i+1," "),m(2),V(" ",n.sectorNumber," "),m(2),V(" ",n.sectorName," "),m(2),V(" ",n.weight," "),m(2),V(" ",n.thickness," "),m(2),V(" ",n.price," "),m(3),w(r.isArabic?15:16),m(5),w(r.isArabic?20:21)}}function u7(t,e){if(t&1&&(y(0,"table",30)(1,"thead",38)(2,"tr")(3,"th"),h(4," # "),g(),y(5,"th"),C(6,qz,1,0)(7,zz,1,0),g(),y(8,"th"),C(9,Wz,1,0)(10,Kz,1,0),g(),y(11,"th"),C(12,Qz,1,0)(13,Yz,1,0),g(),y(14,"th"),C(15,Zz,1,0)(16,Jz,1,0),g(),y(17,"th"),C(18,Xz,1,0)(19,e7,1,0),g(),y(20,"th",39),C(21,t7,1,0)(22,n7,1,0),g(),y(23,"th",40),C(24,i7,1,0)(25,r7,1,0),g()()(),y(26,"tbody"),st(27,c7,23,8,"tr",null,ot),g()()),t&2){let n=x(2);m(6),w(n.isArabic?6:7),m(3),w(n.isArabic?9:10),m(3),w(n.isArabic?12:13),m(3),w(n.isArabic?15:16),m(3),w(n.isArabic?18:19),m(3),w(n.isArabic?21:22),m(3),w(n.isArabic?24:25),m(3),at(n.sashes)}}function d7(t,e){t&1&&h(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0636\u0644\u0641 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function h7(t,e){t&1&&h(0," There are no types of sashes, at least one type must be added ")}function f7(t,e){if(t&1&&(y(0,"div",31),A(1,"i",37),C(2,d7,1,0)(3,h7,1,0),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function p7(t,e){if(t&1){let n=ue();y(0,"div",0)(1,"form",11),z("ngSubmit",function(){ne(n);let r=x();return ie(r.selectedSector?r.updateSector():r.addNewSector())}),y(2,"div",12)(3,"div",13)(4,"label",14),C(5,Cz,1,0)(6,wz,1,0),g(),A(7,"input",15),g(),y(8,"div",13)(9,"label",16),C(10,Ez,1,0)(11,bz,1,0),g(),A(12,"input",17),g(),y(13,"div",13)(14,"label",18),C(15,Sz,1,0)(16,Iz,1,0),g(),A(17,"input",19),g(),y(18,"div",13)(19,"label",20),C(20,Tz,1,0)(21,Dz,1,0),g(),A(22,"input",21),g(),y(23,"div",13)(24,"label",22),C(25,xz,1,0)(26,Az,1,0),g(),A(27,"input",23),g(),y(28,"div",24)(29,"button",25),C(30,Rz,4,1,"span")(31,Fz,4,1,"span"),g(),C(32,Vz,5,1,"button",26),g()()(),C(33,jz,4,1,"div",27)(34,Gz,4,1,"div",28),y(35,"div",29),C(36,u7,29,7,"table",30)(37,f7,4,1,"div",31),g()()}if(t&2){let n,i,r,o,s,a=x();m(),H("formGroup",a.sashForm),m(4),w(a.isArabic?5:6),m(2),H("ngClass",Z(16,jc,((n=a.sashForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.sashForm.get("sectorNumber"))==null?null:n.touched))),m(3),w(a.isArabic?10:11),m(2),H("ngClass",Z(18,jc,((i=a.sashForm.get("sectorName"))==null?null:i.invalid)&&((i=a.sashForm.get("sectorName"))==null?null:i.touched))),m(3),w(a.isArabic?15:16),m(2),H("ngClass",Z(20,jc,((r=a.sashForm.get("weight"))==null?null:r.invalid)&&((r=a.sashForm.get("weight"))==null?null:r.touched))),m(3),w(a.isArabic?20:21),m(2),H("ngClass",Z(22,jc,((o=a.sashForm.get("thickness"))==null?null:o.invalid)&&((o=a.sashForm.get("thickness"))==null?null:o.touched))),m(3),w(a.isArabic?25:26),m(2),H("ngClass",Z(24,jc,((s=a.sashForm.get("price"))==null?null:s.invalid)&&((s=a.sashForm.get("price"))==null?null:s.touched))),m(2),H("disabled",a.sashForm.invalid),m(),w(a.selectedSector!=null?30:31),m(2),w(a.selectedSector!=null?32:-1),m(),w((a.showMessage==null?null:a.showMessage.type)==="success"?33:(a.showMessage==null?null:a.showMessage.type)==="error"?34:-1),m(3),w(a.sashes.length>0?36:37)}}function m7(t,e){t&1&&(y(0,"div",1)(1,"div",44),A(2,"i",45)(3,"br")(4,"span",46),g()())}function g7(t,e){t&1&&h(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function _7(t,e){t&1&&h(0," are you sure you want to ")}function y7(t,e){t&1&&h(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function v7(t,e){t&1&&h(0," Delete ? ")}function C7(t,e){t&1&&h(0," \u0644\u0627 ")}function w7(t,e){t&1&&h(0," No ")}function E7(t,e){t&1&&h(0," \u0646\u0639\u0645 ")}function b7(t,e){t&1&&h(0," Yes ")}var Kf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.sashForm=this.fb.group({sectorName:["",q.required],sectorNumber:["",q.required],weight:["",[q.required,q.min(.1)]],thickness:["",[q.required,q.min(.1)]],price:["",[q.required,q.min(.1)]]})}isArabic=!1;sectorsType="sashes";sashes;selectedSectorId="";EditedSectorId="";sashForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getSashes()})}getSashes(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.sashes=e,error:e=>console.error("Error fetching sashes:",e)})}addNewSector(){this.sashForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.sashForm.value).then(()=>{this.sashForm.reset(),this.getSashes()}).catch(e=>console.error("Error adding sash:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getSashes(),this.deletedSector=null}).catch(n=>{console.error("Error deleting sash:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.sashForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.sashForm.reset(),this.selectedSector=null}updateSector(){if(this.sashForm.valid&&this.selectedSector){let e=U(U({},this.selectedSector),this.sashForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getSashes(),this.sashForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(B(et),B(Ae),B(yt),B(We))};static \u0275cmp=ae({type:t,selectors:[["app-hinged-sashes"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(C(0,p7,38,26,"div",0)(1,m7,5,0,"div",1),y(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),A(6,"i",6),C(7,g7,1,0)(8,_7,1,0),y(9,"b",7),C(10,y7,1,0)(11,v7,1,0),g()(),y(12,"div",8)(13,"button",9),C(14,C7,1,0)(15,w7,1,0),g(),y(16,"button",10),z("click",function(){return i.delete(i.deletedSector.id)}),C(17,E7,1,0)(18,b7,1,0),g()()()()()),n&2&&(w(i.sashes?0:1),m(7),w(i.isArabic?7:8),m(3),w(i.isArabic?10:11),m(4),w(i.isArabic?14:15),m(3),w(i.isArabic?17:18))},dependencies:[tt,Xe,Ge,ut,Ze,Je,sn,Ke,Qe,Oe,He],encapsulation:2})};var Hc=t=>({"is-invalid":t});function S7(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function I7(t,e){t&1&&h(0," Sector Number ")}function T7(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function D7(t,e){t&1&&h(0," Sector Name ")}function x7(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function A7(t,e){t&1&&h(0," Sector Weight ")}function N7(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function M7(t,e){t&1&&h(0," Sector Thickness ")}function R7(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function P7(t,e){t&1&&h(0," Price per kilo ")}function k7(t,e){t&1&&h(0," \u062A\u062D\u062F\u064A\u062B ")}function F7(t,e){t&1&&h(0," Update ")}function O7(t,e){if(t&1&&(y(0,"span"),C(1,k7,1,0)(2,F7,1,0),A(3,"i",32),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function L7(t,e){t&1&&h(0," \u0625\u0636\u0627\u0641\u0629 ")}function V7(t,e){t&1&&h(0," Add ")}function B7(t,e){if(t&1&&(y(0,"span"),C(1,L7,1,0)(2,V7,1,0),A(3,"i",33),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function U7(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function j7(t,e){t&1&&h(0," cancel ")}function H7(t,e){if(t&1){let n=ue();y(0,"button",34),z("click",function(){ne(n);let r=x(2);return ie(r.cancelEdit())}),y(1,"span"),C(2,U7,1,0)(3,j7,1,0),A(4,"i",35),g()()}if(t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function $7(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function G7(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function q7(t,e){if(t&1&&(y(0,"div",27),A(1,"i",36),C(2,$7,1,1)(3,G7,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function z7(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function W7(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function K7(t,e){if(t&1&&(y(0,"div",28),A(1,"i",37),C(2,z7,1,1)(3,W7,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function Q7(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function Y7(t,e){t&1&&h(0," Sector Number ")}function Z7(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function J7(t,e){t&1&&h(0," Sector Name ")}function X7(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function e8(t,e){t&1&&h(0," Weight ")}function t8(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function n8(t,e){t&1&&h(0," Thickness ")}function i8(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function r8(t,e){t&1&&h(0," Price per kilo ")}function o8(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function s8(t,e){t&1&&h(0," Update ")}function a8(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function l8(t,e){t&1&&h(0," Delete ")}function c8(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function u8(t,e){t&1&&h(0," Update ")}function d8(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function h8(t,e){t&1&&h(0," Delete ")}function f8(t,e){if(t&1){let n=ue();y(0,"tr")(1,"td"),h(2),g(),y(3,"td"),h(4),g(),y(5,"td"),h(6),g(),y(7,"td"),h(8),g(),y(9,"td"),h(10),g(),y(11,"td"),h(12),g(),y(13,"td")(14,"button",41),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.editSector(r))}),C(15,c8,1,0)(16,u8,1,0),A(17,"i",32),g()(),y(18,"td")(19,"button",42),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.getDeletedSector(r))}),C(20,d8,1,0)(21,h8,1,0),A(22,"i",43),g()()()}if(t&2){let n=e.$implicit,i=e.$index,r=x(3);m(2),V(" ",i+1," "),m(2),V(" ",n.sectorNumber," "),m(2),V(" ",n.sectorName," "),m(2),V(" ",n.weight," "),m(2),V(" ",n.thickness," "),m(2),V(" ",n.price," "),m(3),w(r.isArabic?15:16),m(5),w(r.isArabic?20:21)}}function p8(t,e){if(t&1&&(y(0,"table",30)(1,"thead",38)(2,"tr")(3,"th"),h(4," # "),g(),y(5,"th"),C(6,Q7,1,0)(7,Y7,1,0),g(),y(8,"th"),C(9,Z7,1,0)(10,J7,1,0),g(),y(11,"th"),C(12,X7,1,0)(13,e8,1,0),g(),y(14,"th"),C(15,t8,1,0)(16,n8,1,0),g(),y(17,"th"),C(18,i8,1,0)(19,r8,1,0),g(),y(20,"th",39),C(21,o8,1,0)(22,s8,1,0),g(),y(23,"th",40),C(24,a8,1,0)(25,l8,1,0),g()()(),y(26,"tbody"),st(27,f8,23,8,"tr",null,ot),g()()),t&2){let n=x(2);m(6),w(n.isArabic?6:7),m(3),w(n.isArabic?9:10),m(3),w(n.isArabic?12:13),m(3),w(n.isArabic?15:16),m(3),w(n.isArabic?18:19),m(3),w(n.isArabic?21:22),m(3),w(n.isArabic?24:25),m(3),at(n.barCloses)}}function m8(t,e){t&1&&h(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0628\u0627\u0643\u062A\u0627\u062A \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function g8(t,e){t&1&&h(0," There are no types of barCloses, at least one type must be added ")}function _8(t,e){if(t&1&&(y(0,"div",31),A(1,"i",37),C(2,m8,1,0)(3,g8,1,0),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function y8(t,e){if(t&1){let n=ue();y(0,"div",0)(1,"form",11),z("ngSubmit",function(){ne(n);let r=x();return ie(r.selectedSector?r.updateSector():r.addNewSector())}),y(2,"div",12)(3,"div",13)(4,"label",14),C(5,S7,1,0)(6,I7,1,0),g(),A(7,"input",15),g(),y(8,"div",13)(9,"label",16),C(10,T7,1,0)(11,D7,1,0),g(),A(12,"input",17),g(),y(13,"div",13)(14,"label",18),C(15,x7,1,0)(16,A7,1,0),g(),A(17,"input",19),g(),y(18,"div",13)(19,"label",20),C(20,N7,1,0)(21,M7,1,0),g(),A(22,"input",21),g(),y(23,"div",13)(24,"label",22),C(25,R7,1,0)(26,P7,1,0),g(),A(27,"input",23),g(),y(28,"div",24)(29,"button",25),C(30,O7,4,1,"span")(31,B7,4,1,"span"),g(),C(32,H7,5,1,"button",26),g()()(),C(33,q7,4,1,"div",27)(34,K7,4,1,"div",28),y(35,"div",29),C(36,p8,29,7,"table",30)(37,_8,4,1,"div",31),g()()}if(t&2){let n,i,r,o,s,a=x();m(),H("formGroup",a.barCloseForm),m(4),w(a.isArabic?5:6),m(2),H("ngClass",Z(16,Hc,((n=a.barCloseForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.barCloseForm.get("sectorNumber"))==null?null:n.touched))),m(3),w(a.isArabic?10:11),m(2),H("ngClass",Z(18,Hc,((i=a.barCloseForm.get("sectorName"))==null?null:i.invalid)&&((i=a.barCloseForm.get("sectorName"))==null?null:i.touched))),m(3),w(a.isArabic?15:16),m(2),H("ngClass",Z(20,Hc,((r=a.barCloseForm.get("weight"))==null?null:r.invalid)&&((r=a.barCloseForm.get("weight"))==null?null:r.touched))),m(3),w(a.isArabic?20:21),m(2),H("ngClass",Z(22,Hc,((o=a.barCloseForm.get("thickness"))==null?null:o.invalid)&&((o=a.barCloseForm.get("thickness"))==null?null:o.touched))),m(3),w(a.isArabic?25:26),m(2),H("ngClass",Z(24,Hc,((s=a.barCloseForm.get("price"))==null?null:s.invalid)&&((s=a.barCloseForm.get("price"))==null?null:s.touched))),m(2),H("disabled",a.barCloseForm.invalid),m(),w(a.selectedSector!=null?30:31),m(2),w(a.selectedSector!=null?32:-1),m(),w((a.showMessage==null?null:a.showMessage.type)==="success"?33:(a.showMessage==null?null:a.showMessage.type)==="error"?34:-1),m(3),w(a.barCloses.length>0?36:37)}}function v8(t,e){t&1&&(y(0,"div",1)(1,"div",44),A(2,"i",45)(3,"br")(4,"span",46),g()())}function C8(t,e){t&1&&h(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function w8(t,e){t&1&&h(0," are you sure you want to ")}function E8(t,e){t&1&&h(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function b8(t,e){t&1&&h(0," Delete ? ")}function S8(t,e){t&1&&h(0," \u0644\u0627 ")}function I8(t,e){t&1&&h(0," No ")}function T8(t,e){t&1&&h(0," \u0646\u0639\u0645 ")}function D8(t,e){t&1&&h(0," Yes ")}var Qf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.barCloseForm=this.fb.group({sectorName:["",q.required],sectorNumber:["",q.required],weight:["",[q.required,q.min(.1)]],thickness:["",[q.required,q.min(.1)]],price:["",[q.required,q.min(.1)]]})}isArabic=!1;sectorsType="barCloses";barCloses;selectedSectorId="";EditedSectorId="";barCloseForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getBarCloses()})}getBarCloses(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.barCloses=e,error:e=>console.error("Error fetching bar closes:",e)})}addNewSector(){this.barCloseForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.barCloseForm.value).then(()=>{this.barCloseForm.reset(),this.getBarCloses()}).catch(e=>console.error("Error adding bar close:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getBarCloses(),this.deletedSector=null}).catch(n=>{console.error("Error deleting bar close:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.barCloseForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.barCloseForm.reset(),this.selectedSector=null}updateSector(){if(this.barCloseForm.valid&&this.selectedSector){let e=U(U({},this.selectedSector),this.barCloseForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getBarCloses(),this.barCloseForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(B(et),B(Ae),B(yt),B(We))};static \u0275cmp=ae({type:t,selectors:[["app-hinged-bar-closes"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(C(0,y8,38,26,"div",0)(1,v8,5,0,"div",1),y(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),A(6,"i",6),C(7,C8,1,0)(8,w8,1,0),y(9,"b",7),C(10,E8,1,0)(11,b8,1,0),g()(),y(12,"div",8)(13,"button",9),C(14,S8,1,0)(15,I8,1,0),g(),y(16,"button",10),z("click",function(){return i.delete(i.deletedSector.id)}),C(17,T8,1,0)(18,D8,1,0),g()()()()()),n&2&&(w(i.barCloses?0:1),m(7),w(i.isArabic?7:8),m(3),w(i.isArabic?10:11),m(4),w(i.isArabic?14:15),m(3),w(i.isArabic?17:18))},dependencies:[tt,Xe,Ge,ut,Ze,Je,sn,Ke,Qe,Oe,He],encapsulation:2})};var $c=t=>({"is-invalid":t});function x8(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function A8(t,e){t&1&&h(0," Sector Number ")}function N8(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function M8(t,e){t&1&&h(0," Sector Name ")}function R8(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function P8(t,e){t&1&&h(0," Sector Weight ")}function k8(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function F8(t,e){t&1&&h(0," Sector Thickness ")}function O8(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function L8(t,e){t&1&&h(0," Price per kilo ")}function V8(t,e){t&1&&h(0," \u062A\u062D\u062F\u064A\u062B ")}function B8(t,e){t&1&&h(0," Update ")}function U8(t,e){if(t&1&&(y(0,"span"),C(1,V8,1,0)(2,B8,1,0),A(3,"i",32),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function j8(t,e){t&1&&h(0," \u0625\u0636\u0627\u0641\u0629 ")}function H8(t,e){t&1&&h(0," Add ")}function $8(t,e){if(t&1&&(y(0,"span"),C(1,j8,1,0)(2,H8,1,0),A(3,"i",33),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function G8(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function q8(t,e){t&1&&h(0," cancel ")}function z8(t,e){if(t&1){let n=ue();y(0,"button",34),z("click",function(){ne(n);let r=x(2);return ie(r.cancelEdit())}),y(1,"span"),C(2,G8,1,0)(3,q8,1,0),A(4,"i",35),g()()}if(t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function W8(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function K8(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function Q8(t,e){if(t&1&&(y(0,"div",27),A(1,"i",36),C(2,W8,1,1)(3,K8,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function Y8(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function Z8(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function J8(t,e){if(t&1&&(y(0,"div",28),A(1,"i",37),C(2,Y8,1,1)(3,Z8,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function X8(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function eW(t,e){t&1&&h(0," Sector Number ")}function tW(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function nW(t,e){t&1&&h(0," Sector Name ")}function iW(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function rW(t,e){t&1&&h(0," Weight ")}function oW(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function sW(t,e){t&1&&h(0," Thickness ")}function aW(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function lW(t,e){t&1&&h(0," Price per kilo ")}function cW(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function uW(t,e){t&1&&h(0," Update ")}function dW(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function hW(t,e){t&1&&h(0," Delete ")}function fW(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function pW(t,e){t&1&&h(0," Update ")}function mW(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function gW(t,e){t&1&&h(0," Delete ")}function _W(t,e){if(t&1){let n=ue();y(0,"tr")(1,"td"),h(2),g(),y(3,"td"),h(4),g(),y(5,"td"),h(6),g(),y(7,"td"),h(8),g(),y(9,"td"),h(10),g(),y(11,"td"),h(12),g(),y(13,"td")(14,"button",41),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.editSector(r))}),C(15,fW,1,0)(16,pW,1,0),A(17,"i",32),g()(),y(18,"td")(19,"button",42),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.getDeletedSector(r))}),C(20,mW,1,0)(21,gW,1,0),A(22,"i",43),g()()()}if(t&2){let n=e.$implicit,i=e.$index,r=x(3);m(2),V(" ",i+1," "),m(2),V(" ",n.sectorNumber," "),m(2),V(" ",n.sectorName," "),m(2),V(" ",n.weight," "),m(2),V(" ",n.thickness," "),m(2),V(" ",n.price," "),m(3),w(r.isArabic?15:16),m(5),w(r.isArabic?20:21)}}function yW(t,e){if(t&1&&(y(0,"table",30)(1,"thead",38)(2,"tr")(3,"th"),h(4," # "),g(),y(5,"th"),C(6,X8,1,0)(7,eW,1,0),g(),y(8,"th"),C(9,tW,1,0)(10,nW,1,0),g(),y(11,"th"),C(12,iW,1,0)(13,rW,1,0),g(),y(14,"th"),C(15,oW,1,0)(16,sW,1,0),g(),y(17,"th"),C(18,aW,1,0)(19,lW,1,0),g(),y(20,"th",39),C(21,cW,1,0)(22,uW,1,0),g(),y(23,"th",40),C(24,dW,1,0)(25,hW,1,0),g()()(),y(26,"tbody"),st(27,_W,23,8,"tr",null,ot),g()()),t&2){let n=x(2);m(6),w(n.isArabic?6:7),m(3),w(n.isArabic?9:10),m(3),w(n.isArabic?12:13),m(3),w(n.isArabic?15:16),m(3),w(n.isArabic?18:19),m(3),w(n.isArabic?21:22),m(3),w(n.isArabic?24:25),m(3),at(n.tProfiles)}}function vW(t,e){t&1&&h(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0642\u0648\u0627\u0637\u0639 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function CW(t,e){t&1&&h(0," There are no types of T Profiles, at least one type must be added ")}function wW(t,e){if(t&1&&(y(0,"div",31),A(1,"i",37),C(2,vW,1,0)(3,CW,1,0),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function EW(t,e){if(t&1){let n=ue();y(0,"div",0)(1,"form",11),z("ngSubmit",function(){ne(n);let r=x();return ie(r.selectedSector?r.updateSector():r.addNewSector())}),y(2,"div",12)(3,"div",13)(4,"label",14),C(5,x8,1,0)(6,A8,1,0),g(),A(7,"input",15),g(),y(8,"div",13)(9,"label",16),C(10,N8,1,0)(11,M8,1,0),g(),A(12,"input",17),g(),y(13,"div",13)(14,"label",18),C(15,R8,1,0)(16,P8,1,0),g(),A(17,"input",19),g(),y(18,"div",13)(19,"label",20),C(20,k8,1,0)(21,F8,1,0),g(),A(22,"input",21),g(),y(23,"div",13)(24,"label",22),C(25,O8,1,0)(26,L8,1,0),g(),A(27,"input",23),g(),y(28,"div",24)(29,"button",25),C(30,U8,4,1,"span")(31,$8,4,1,"span"),g(),C(32,z8,5,1,"button",26),g()()(),C(33,Q8,4,1,"div",27)(34,J8,4,1,"div",28),y(35,"div",29),C(36,yW,29,7,"table",30)(37,wW,4,1,"div",31),g()()}if(t&2){let n,i,r,o,s,a=x();m(),H("formGroup",a.tProfileForm),m(4),w(a.isArabic?5:6),m(2),H("ngClass",Z(16,$c,((n=a.tProfileForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.tProfileForm.get("sectorNumber"))==null?null:n.touched))),m(3),w(a.isArabic?10:11),m(2),H("ngClass",Z(18,$c,((i=a.tProfileForm.get("sectorName"))==null?null:i.invalid)&&((i=a.tProfileForm.get("sectorName"))==null?null:i.touched))),m(3),w(a.isArabic?15:16),m(2),H("ngClass",Z(20,$c,((r=a.tProfileForm.get("weight"))==null?null:r.invalid)&&((r=a.tProfileForm.get("weight"))==null?null:r.touched))),m(3),w(a.isArabic?20:21),m(2),H("ngClass",Z(22,$c,((o=a.tProfileForm.get("thickness"))==null?null:o.invalid)&&((o=a.tProfileForm.get("thickness"))==null?null:o.touched))),m(3),w(a.isArabic?25:26),m(2),H("ngClass",Z(24,$c,((s=a.tProfileForm.get("price"))==null?null:s.invalid)&&((s=a.tProfileForm.get("price"))==null?null:s.touched))),m(2),H("disabled",a.tProfileForm.invalid),m(),w(a.selectedSector!=null?30:31),m(2),w(a.selectedSector!=null?32:-1),m(),w((a.showMessage==null?null:a.showMessage.type)==="success"?33:(a.showMessage==null?null:a.showMessage.type)==="error"?34:-1),m(3),w(a.tProfiles.length>0?36:37)}}function bW(t,e){t&1&&(y(0,"div",1)(1,"div",44),A(2,"i",45)(3,"br")(4,"span",46),g()())}function SW(t,e){t&1&&h(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function IW(t,e){t&1&&h(0," are you sure you want to ")}function TW(t,e){t&1&&h(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function DW(t,e){t&1&&h(0," Delete ? ")}function xW(t,e){t&1&&h(0," \u0644\u0627 ")}function AW(t,e){t&1&&h(0," No ")}function NW(t,e){t&1&&h(0," \u0646\u0639\u0645 ")}function MW(t,e){t&1&&h(0," Yes ")}var Yf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.tProfileForm=this.fb.group({sectorName:["",q.required],sectorNumber:["",q.required],weight:["",[q.required,q.min(.1)]],thickness:["",[q.required,q.min(.1)]],price:["",[q.required,q.min(.1)]]})}isArabic=!1;sectorsType="T-profiles";tProfiles;selectedSectorId="";EditedSectorId="";tProfileForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getTProfiles()})}getTProfiles(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.tProfiles=e,error:e=>console.error("Error fetching T-profiles:",e)})}addNewSector(){this.tProfileForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.tProfileForm.value).then(()=>{this.tProfileForm.reset(),this.getTProfiles()}).catch(e=>console.error("Error adding T-profile:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getTProfiles(),this.deletedSector=null}).catch(n=>{console.error("Error deleting T-profile:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.tProfileForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.tProfileForm.reset(),this.selectedSector=null}updateSector(){if(this.tProfileForm.valid&&this.selectedSector){let e=U(U({},this.selectedSector),this.tProfileForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getTProfiles(),this.tProfileForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(B(et),B(Ae),B(yt),B(We))};static \u0275cmp=ae({type:t,selectors:[["app-hinged-t-profiles"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(C(0,EW,38,26,"div",0)(1,bW,5,0,"div",1),y(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),A(6,"i",6),C(7,SW,1,0)(8,IW,1,0),y(9,"b",7),C(10,TW,1,0)(11,DW,1,0),g()(),y(12,"div",8)(13,"button",9),C(14,xW,1,0)(15,AW,1,0),g(),y(16,"button",10),z("click",function(){return i.delete(i.deletedSector.id)}),C(17,NW,1,0)(18,MW,1,0),g()()()()()),n&2&&(w(i.tProfiles?0:1),m(7),w(i.isArabic?7:8),m(3),w(i.isArabic?10:11),m(4),w(i.isArabic?14:15),m(3),w(i.isArabic?17:18))},dependencies:[tt,Xe,Ge,ut,Ze,Je,sn,Ke,Qe,Oe,He],encapsulation:2})};var Gc=t=>({"is-invalid":t});function RW(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function PW(t,e){t&1&&h(0," Sector Number ")}function kW(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function FW(t,e){t&1&&h(0," Sector Name ")}function OW(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function LW(t,e){t&1&&h(0," Sector Weight ")}function VW(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function BW(t,e){t&1&&h(0," Sector Thickness ")}function UW(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648")}function jW(t,e){t&1&&h(0," Price per kilo ")}function HW(t,e){t&1&&h(0," \u062A\u062D\u062F\u064A\u062B ")}function $W(t,e){t&1&&h(0," Update ")}function GW(t,e){if(t&1&&(y(0,"span"),C(1,HW,1,0)(2,$W,1,0),A(3,"i",32),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function qW(t,e){t&1&&h(0," \u0625\u0636\u0627\u0641\u0629 ")}function zW(t,e){t&1&&h(0," Add ")}function WW(t,e){if(t&1&&(y(0,"span"),C(1,qW,1,0)(2,zW,1,0),A(3,"i",33),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function KW(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function QW(t,e){t&1&&h(0," cancel ")}function YW(t,e){if(t&1){let n=ue();y(0,"button",34),z("click",function(){ne(n);let r=x(2);return ie(r.cancelEdit())}),y(1,"span"),C(2,KW,1,0)(3,QW,1,0),A(4,"i",35),g()()}if(t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function ZW(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function JW(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function XW(t,e){if(t&1&&(y(0,"div",27),A(1,"i",36),C(2,ZW,1,1)(3,JW,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function eK(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function tK(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function nK(t,e){if(t&1&&(y(0,"div",28),A(1,"i",37),C(2,eK,1,1)(3,tK,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function iK(t,e){t&1&&h(0," \u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function rK(t,e){t&1&&h(0," Sector Number ")}function oK(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function sK(t,e){t&1&&h(0," Sector Name ")}function aK(t,e){t&1&&h(0," \u0648\u0632\u0646 \u0627\u0644\u0645\u062A\u0631 ")}function lK(t,e){t&1&&h(0," Weight ")}function cK(t,e){t&1&&h(0," \u0633\u0645\u0643 \u0627\u0644\u0642\u0637\u0627\u0639 ")}function uK(t,e){t&1&&h(0," Thickness ")}function dK(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0643\u064A\u0644\u0648 ")}function hK(t,e){t&1&&h(0," Price per kilo ")}function fK(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function pK(t,e){t&1&&h(0," Update ")}function mK(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function gK(t,e){t&1&&h(0," Delete ")}function _K(t,e){t&1&&h(0," \u062A\u0639\u062F\u064A\u0644 ")}function yK(t,e){t&1&&h(0," Update ")}function vK(t,e){t&1&&h(0," \u062D\u0630\u0641 ")}function CK(t,e){t&1&&h(0," Delete ")}function wK(t,e){if(t&1){let n=ue();y(0,"tr")(1,"td"),h(2),g(),y(3,"td"),h(4),g(),y(5,"td"),h(6),g(),y(7,"td"),h(8),g(),y(9,"td"),h(10),g(),y(11,"td"),h(12),g(),y(13,"td")(14,"button",41),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.editSector(r))}),C(15,_K,1,0)(16,yK,1,0),A(17,"i",32),g()(),y(18,"td")(19,"button",42),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.getDeletedSector(r))}),C(20,vK,1,0)(21,CK,1,0),A(22,"i",43),g()()()}if(t&2){let n=e.$implicit,i=e.$index,r=x(3);m(2),V(" ",i+1," "),m(2),V(" ",n.sectorNumber," "),m(2),V(" ",n.sectorName," "),m(2),V(" ",n.weight," "),m(2),V(" ",n.thickness," "),m(2),V(" ",n.price," "),m(3),w(r.isArabic?15:16),m(5),w(r.isArabic?20:21)}}function EK(t,e){if(t&1&&(y(0,"table",30)(1,"thead",38)(2,"tr")(3,"th"),h(4," # "),g(),y(5,"th"),C(6,iK,1,0)(7,rK,1,0),g(),y(8,"th"),C(9,oK,1,0)(10,sK,1,0),g(),y(11,"th"),C(12,aK,1,0)(13,lK,1,0),g(),y(14,"th"),C(15,cK,1,0)(16,uK,1,0),g(),y(17,"th"),C(18,dK,1,0)(19,hK,1,0),g(),y(20,"th",39),C(21,fK,1,0)(22,pK,1,0),g(),y(23,"th",40),C(24,mK,1,0)(25,gK,1,0),g()()(),y(26,"tbody"),st(27,wK,23,8,"tr",null,ot),g()()),t&2){let n=x(2);m(6),w(n.isArabic?6:7),m(3),w(n.isArabic?9:10),m(3),w(n.isArabic?12:13),m(3),w(n.isArabic?15:16),m(3),w(n.isArabic?18:19),m(3),w(n.isArabic?21:22),m(3),w(n.isArabic?24:25),m(3),at(n.wireSashes)}}function bK(t,e){t&1&&h(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0644\u0644\u0636\u0644\u0641 \u0627\u0644\u0633\u0644\u0643 \u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function SK(t,e){t&1&&h(0," There are no types of wireSashes, at least one type must be added ")}function IK(t,e){if(t&1&&(y(0,"div",31),A(1,"i",37),C(2,bK,1,0)(3,SK,1,0),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function TK(t,e){if(t&1){let n=ue();y(0,"div",0)(1,"form",11),z("ngSubmit",function(){ne(n);let r=x();return ie(r.selectedSector?r.updateSector():r.addNewSector())}),y(2,"div",12)(3,"div",13)(4,"label",14),C(5,RW,1,0)(6,PW,1,0),g(),A(7,"input",15),g(),y(8,"div",13)(9,"label",16),C(10,kW,1,0)(11,FW,1,0),g(),A(12,"input",17),g(),y(13,"div",13)(14,"label",18),C(15,OW,1,0)(16,LW,1,0),g(),A(17,"input",19),g(),y(18,"div",13)(19,"label",20),C(20,VW,1,0)(21,BW,1,0),g(),A(22,"input",21),g(),y(23,"div",13)(24,"label",22),C(25,UW,1,0)(26,jW,1,0),g(),A(27,"input",23),g(),y(28,"div",24)(29,"button",25),C(30,GW,4,1,"span")(31,WW,4,1,"span"),g(),C(32,YW,5,1,"button",26),g()()(),C(33,XW,4,1,"div",27)(34,nK,4,1,"div",28),y(35,"div",29),C(36,EK,29,7,"table",30)(37,IK,4,1,"div",31),g()()}if(t&2){let n,i,r,o,s,a=x();m(),H("formGroup",a.wireSashForm),m(4),w(a.isArabic?5:6),m(2),H("ngClass",Z(16,Gc,((n=a.wireSashForm.get("sectorNumber"))==null?null:n.invalid)&&((n=a.wireSashForm.get("sectorNumber"))==null?null:n.touched))),m(3),w(a.isArabic?10:11),m(2),H("ngClass",Z(18,Gc,((i=a.wireSashForm.get("sectorName"))==null?null:i.invalid)&&((i=a.wireSashForm.get("sectorName"))==null?null:i.touched))),m(3),w(a.isArabic?15:16),m(2),H("ngClass",Z(20,Gc,((r=a.wireSashForm.get("weight"))==null?null:r.invalid)&&((r=a.wireSashForm.get("weight"))==null?null:r.touched))),m(3),w(a.isArabic?20:21),m(2),H("ngClass",Z(22,Gc,((o=a.wireSashForm.get("thickness"))==null?null:o.invalid)&&((o=a.wireSashForm.get("thickness"))==null?null:o.touched))),m(3),w(a.isArabic?25:26),m(2),H("ngClass",Z(24,Gc,((s=a.wireSashForm.get("price"))==null?null:s.invalid)&&((s=a.wireSashForm.get("price"))==null?null:s.touched))),m(2),H("disabled",a.wireSashForm.invalid),m(),w(a.selectedSector!=null?30:31),m(2),w(a.selectedSector!=null?32:-1),m(),w((a.showMessage==null?null:a.showMessage.type)==="success"?33:(a.showMessage==null?null:a.showMessage.type)==="error"?34:-1),m(3),w(a.wireSashes.length>0?36:37)}}function DK(t,e){t&1&&(y(0,"div",1)(1,"div",44),A(2,"i",45)(3,"br")(4,"span",46),g()())}function xK(t,e){t&1&&h(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function AK(t,e){t&1&&h(0," are you sure you want to ")}function NK(t,e){t&1&&h(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function MK(t,e){t&1&&h(0," Delete ? ")}function RK(t,e){t&1&&h(0," \u0644\u0627 ")}function PK(t,e){t&1&&h(0," No ")}function kK(t,e){t&1&&h(0," \u0646\u0639\u0645 ")}function FK(t,e){t&1&&h(0," Yes ")}var Zf=class t{constructor(e,n,i,r){this.fb=e;this.dataService=n;this.hingedSettingsSectorService=i;this.activatedRoute=r;this.wireSashForm=this.fb.group({sectorName:["",q.required],sectorNumber:["",q.required],weight:["",[q.required,q.min(.1)]],thickness:["",[q.required,q.min(.1)]],price:["",[q.required,q.min(.1)]]})}isArabic=!1;sectorsType="wire-sashes";wireSashes;selectedSectorId="";EditedSectorId="";wireSashForm;showMessage=null;selectedSector=null;deletedSector;ngOnInit(){this.initializeLanguage(),this.initializeRouteParams()}initializeLanguage(){this.updateLanguageState(),setInterval(()=>this.updateLanguageState(),100)}updateLanguageState(){this.isArabic=this.dataService.isArabic}initializeRouteParams(){this.activatedRoute.parent?.params.subscribe(e=>{this.selectedSectorId=e.sectorId,this.getWireSashes()})}getWireSashes(){this.hingedSettingsSectorService.getSectorsBySectorId(this.selectedSectorId,this.sectorsType).subscribe({next:e=>this.wireSashes=e,error:e=>console.error("Error fetching wire-sashes:",e)})}addNewSector(){this.wireSashForm.valid?this.hingedSettingsSectorService.addSectorType(this.selectedSectorId,this.sectorsType,this.wireSashForm.value).then(()=>{this.wireSashForm.reset(),this.getWireSashes()}).catch(e=>console.error("Error adding wire-sash:",e)):console.warn("Form is invalid.")}getDeletedSector(e){this.deletedSector=e}delete(e){this.hingedSettingsSectorService.deleteSectorType(this.selectedSectorId,this.sectorsType,e).then(()=>{this.getWireSashes(),this.deletedSector=null}).catch(n=>{console.error("Error deleting wire-sash:",n),this.deletedSector=null})}editSector(e){this.selectedSector=e,this.EditedSectorId=e.id,this.wireSashForm.patchValue({sectorName:e.sectorName,sectorNumber:e.sectorNumber,weight:e.weight,thickness:e.thickness,price:e.price})}cancelEdit(){this.wireSashForm.reset(),this.selectedSector=null}updateSector(){if(this.wireSashForm.valid&&this.selectedSector){let e=U(U({},this.selectedSector),this.wireSashForm.value);this.hingedSettingsSectorService.updateSectorType(this.selectedSectorId,this.sectorsType,this.EditedSectorId,e).then(()=>{this.showMessage={type:"success",text:"Sector successfully updated",arText:"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D"},this.getWireSashes(),this.wireSashForm.reset(),this.selectedSector=null,this.clearMessage()}).catch(n=>{console.error("Update failed:",n),this.showMessage={type:"error",text:"An error occurred while updating. Try again later",arText:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627"},this.clearMessage()})}}clearMessage(){setTimeout(()=>this.showMessage=null,2e3)}static \u0275fac=function(n){return new(n||t)(B(et),B(Ae),B(yt),B(We))};static \u0275cmp=ae({type:t,selectors:[["app-hinged-wire-sashes"]],decls:19,vars:5,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-2","mb-4"],[1,"col-md-6","col-lg-2","col-12"],["for","sectorNumber",1,"form-label"],["formControlName","sectorNumber","type","number","name","sectorNumber","id","sectorNumber","placeholder","Sector Number","required","",1,"form-control",3,"ngClass"],["for","sectorName",1,"form-label"],["formControlName","sectorName","type","text","name","sectorName","id","sectorName","placeholder","Sector Name","required","",1,"form-control",3,"ngClass"],["for","weight",1,"form-label"],["formControlName","weight","type","number","name","weight","id","weight","placeholder","Weight","required","",1,"form-control",3,"ngClass"],["for","thickness",1,"form-label"],["formControlName","thickness","type","number","name","thickness","id","thickness","placeholder","Thickness","required","",1,"form-control",3,"ngClass"],["for","price",1,"form-label"],["formControlName","price","type","number","name","price","id","price","placeholder","Price per kilo","required","",1,"form-control",3,"ngClass"],[1,"col-md-6","col-lg-12","col-12","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-primary","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"overflow-x-auto","text-center"],[1,"table","table-bordered","table-hover"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"table-secondary"],[1,"bg-warning-subtle"],[1,"bg-danger-subtle"],[1,"btn","btn-warning","btn-sm","m-1",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm","m-1",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(C(0,TK,38,26,"div",0)(1,DK,5,0,"div",1),y(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),A(6,"i",6),C(7,xK,1,0)(8,AK,1,0),y(9,"b",7),C(10,NK,1,0)(11,MK,1,0),g()(),y(12,"div",8)(13,"button",9),C(14,RK,1,0)(15,PK,1,0),g(),y(16,"button",10),z("click",function(){return i.delete(i.deletedSector.id)}),C(17,kK,1,0)(18,FK,1,0),g()()()()()),n&2&&(w(i.wireSashes?0:1),m(7),w(i.isArabic?7:8),m(3),w(i.isArabic?10:11),m(4),w(i.isArabic?14:15),m(3),w(i.isArabic?17:18))},dependencies:[tt,Xe,Ge,ut,Ze,Je,sn,Ke,Qe,Oe,He],encapsulation:2})};var Jf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["app-curtain-wall-settings"]],decls:2,vars:0,consts:[[1,"text-center","alert","alert-info"]],template:function(n,i){n&1&&(y(0,"h2",0),h(1," Curtain Wall Settings "),g())},encapsulation:2})};var Jr=class t{constructor(e){this.db=e}getRef(e){return Xh(this.db,e)}getAllItems(e){let n=this.getRef(e);return ke(Ci(n)).pipe(ce(i=>i.val()))}addItem(e,n){let i=this.getRef(e),r=ua(i),o=r.key;return ke(da(r,U({id:o},n)))}getItemById(e,n){let i=Nt(this.getRef(e),n);return ke(Ci(i)).pipe(ce(r=>r.val()))}updateItem(e,n,i){let r=Nt(this.getRef(e),n);return ke(Ko(r,i))}deleteItem(e,n){let i=Nt(this.getRef(e),n);return ke(uc(i))}static \u0275fac=function(n){return new(n||t)(le(ir))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})};var dN=t=>({"is-invalid":t});function OK(t,e){t&1&&h(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0632\u062C\u0627\u062C ")}function LK(t,e){t&1&&h(0," Glass Settings ")}function VK(t,e){t&1&&h(0," \u0627\u0644\u0627\u0633\u0645 ")}function BK(t,e){t&1&&h(0," Name ")}function UK(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function jK(t,e){t&1&&h(0," Meter Price ")}function HK(t,e){t&1&&h(0," \u062A\u062D\u062F\u064A\u062B ")}function $K(t,e){t&1&&h(0," Update ")}function GK(t,e){if(t&1&&(y(0,"span"),C(1,HK,1,0)(2,$K,1,0),A(3,"i",29),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function qK(t,e){t&1&&h(0," \u0625\u0636\u0627\u0641\u0629 ")}function zK(t,e){t&1&&h(0," Add ")}function WK(t,e){if(t&1&&(y(0,"span"),C(1,qK,1,0)(2,zK,1,0),A(3,"i",30),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function KK(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function QK(t,e){t&1&&h(0," cancel ")}function YK(t,e){if(t&1){let n=ue();y(0,"button",31),z("click",function(){ne(n);let r=x(2);return ie(r.cancelEdit())}),y(1,"span"),C(2,KK,1,0)(3,QK,1,0),A(4,"i",32),g()()}if(t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function ZK(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function JK(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function XK(t,e){if(t&1&&(y(0,"div",25),A(1,"i",33),C(2,ZK,1,1)(3,JK,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function eQ(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function tQ(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function nQ(t,e){if(t&1&&(y(0,"div",26),A(1,"i",34),C(2,eQ,1,1)(3,tQ,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function iQ(t,e){t&1&&h(0," \u0627\u0633\u0645 \u0627\u0644\u0632\u062C\u0627\u062C ")}function rQ(t,e){t&1&&h(0," Glass Name ")}function oQ(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function sQ(t,e){t&1&&h(0," Meter Price ")}function aQ(t,e){if(t&1){let n=ue();y(0,"tr")(1,"th"),h(2),g(),y(3,"td"),h(4),g(),y(5,"td")(6,"button",41),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.editGlass(r))}),h(7," Update "),g()(),y(8,"td")(9,"button",42),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.getDeletedGlass(r))}),h(10," Delete "),g()()()}if(t&2){let n=e.$implicit;m(2),V(" ",n.glassName," "),m(2),V(" ",n.meterPrice," ")}}function lQ(t,e){if(t&1&&(y(0,"table",27)(1,"thead")(2,"tr",35)(3,"th",36),C(4,iQ,1,0)(5,rQ,1,0),g(),y(6,"th",36),C(7,oQ,1,0)(8,sQ,1,0),g(),y(9,"th",37),A(10,"i",38),g(),y(11,"th",39),A(12,"i",40),g()()(),y(13,"tbody"),st(14,aQ,11,2,"tr",null,ot),g()()),t&2){let n=x(2);m(4),w(n.isArabic?4:5),m(3),w(n.isArabic?7:8),m(7),at(n.glassList)}}function cQ(t,e){t&1&&h(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0645\u0646 \u0627\u0644\u0632\u062C\u0627\u062C\u060C \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function uQ(t,e){t&1&&h(0," There are no types of glass, at least one type must be added ")}function dQ(t,e){if(t&1&&(y(0,"div",28),A(1,"i",34),C(2,cQ,1,0)(3,uQ,1,0),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function hQ(t,e){if(t&1){let n=ue();y(0,"form",12),z("ngSubmit",function(){ne(n);let r=x();return ie(r.selectedGlass?r.updateGlassItem():r.addGlassItem())}),y(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17),A(6,"input",18),y(7,"label",19),C(8,VK,1,0)(9,BK,1,0),g()()(),y(10,"div",16)(11,"div",20),A(12,"input",21),y(13,"label",19),C(14,UK,1,0)(15,jK,1,0),g()()(),y(16,"div",22)(17,"div",1)(18,"button",23),C(19,GK,4,1,"span")(20,WK,4,1,"span"),g(),C(21,YK,5,1,"button",24),g()()()()()(),C(22,XK,4,1,"div",25)(23,nQ,4,1,"div",26),y(24,"div",14),C(25,lQ,16,2,"table",27)(26,dQ,4,1,"div",28),g()}if(t&2){let n,i,r=x();H("formGroup",r.glassForm),m(5),H("dir",r.isArabic?"rtl":"ltr"),m(),H("ngClass",Z(11,dN,((n=r.glassForm.get("glassName"))==null?null:n.invalid)&&((n=r.glassForm.get("glassName"))==null?null:n.touched))),m(2),w(r.isArabic?8:9),m(4),H("ngClass",Z(13,dN,((i=r.glassForm.get("meterPrice"))==null?null:i.invalid)&&((i=r.glassForm.get("meterPrice"))==null?null:i.touched))),m(2),w(r.isArabic?14:15),m(4),H("disabled",r.glassForm.invalid),m(),w(r.selectedGlass!=null?19:20),m(2),w(r.selectedGlass!=null?21:-1),m(),w((r.showMessage==null?null:r.showMessage.type)==="success"?22:(r.showMessage==null?null:r.showMessage.type)==="error"?23:-1),m(3),w(r.glassList.length>0?25:26)}}function fQ(t,e){t&1&&(y(0,"div",2)(1,"div",43),A(2,"i",44)(3,"br")(4,"span",45),g()())}function pQ(t,e){t&1&&h(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function mQ(t,e){t&1&&h(0," are you sure you want to ")}function gQ(t,e){t&1&&h(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function _Q(t,e){t&1&&h(0," Delete ? ")}function yQ(t,e){t&1&&h(0," \u0644\u0627 ")}function vQ(t,e){t&1&&h(0," No ")}function CQ(t,e){t&1&&h(0," \u0646\u0639\u0645 ")}function wQ(t,e){t&1&&h(0," Yes ")}var Xf=class t{constructor(e,n,i){this.fb=e;this.dataService=n;this.glassSettingsService=i;this.glassForm=this.fb.group({glassName:["",q.required],meterPrice:[null,[q.required,q.min(1)]]})}path="glass-Settings";isArabic=!1;glassForm;glassList;selectedGlass=null;deletedGlass=null;editedGlassId="";showMessage=null;ngOnInit(){this.detectLanguageChange(),this.loadGlassItems()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}loadGlassItems(){this.glassSettingsService.getAllItems(this.path).subscribe(e=>{this.glassList=e?Object.values(e):[]})}addGlassItem(){if(this.glassForm.invalid)return;let e=this.glassForm.value;this.glassSettingsService.addItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item added successfully","\u062A\u0645\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062C\u0627\u062D")})}editGlass(e){this.selectedGlass=e,this.editedGlassId=e.id,this.glassForm.patchValue({glassName:e.glassName,meterPrice:e.meterPrice})}updateGlassItem(){if(this.glassForm.invalid||!this.editedGlassId)return;let e=this.glassForm.value;this.glassSettingsService.updateItem(this.path,this.editedGlassId,e).subscribe(()=>{this.onSuccess("Glass item updated successfully","\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D")})}deleteGlassItem(e){this.glassSettingsService.deleteItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item deleted successfully","\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D")})}cancelEdit(){this.glassForm.reset(),this.selectedGlass=null,this.editedGlassId=""}getDeletedGlass(e){this.deletedGlass=e}onSuccess(e,n){this.showMessage={type:"success",text:e,arText:n},this.loadGlassItems(),this.cancelEdit(),this.clearMessage()}clearMessage(){setTimeout(()=>{this.showMessage=null},2e3)}static \u0275fac=function(n){return new(n||t)(B(et),B(Ae),B(Jr))};static \u0275cmp=ae({type:t,selectors:[["app-glass"]],decls:23,vars:6,consts:[[1,"alert","alert-primary","my-3","px-4"],[1,"text-center"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"row","g-3","my-3"],[1,"col-md-5"],[1,"form-floating",3,"dir"],["id","glassName","name","glassName","formControlName","glassName","placeholder","","type","text",1,"form-control",3,"ngClass"],["for","glassName"],[1,"form-floating"],["id","meterPrice","name","meterPrice","formControlName","meterPrice","placeholder","Meter Price","type","number",1,"form-control",3,"ngClass"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"table","table-inalert-primary","table-hover","table-striped","text-center","table-bordered"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"text-white"],["scope","col"],["scope","col",1,"bg-warning-subtle"],[1,"fa-solid","fa-pen-to-square","text-warning"],["scope","col",1,"bg-danger-subtle"],[1,"fa-solid","fa-trash-can","text-danger"],[1,"btn","btn-warning","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(y(0,"div",0)(1,"h2",1),C(2,OK,1,0)(3,LK,1,0),g(),C(4,hQ,27,15)(5,fQ,5,0,"div",2),g(),y(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6),A(10,"i",7),C(11,pQ,1,0)(12,mQ,1,0),y(13,"b",8),C(14,gQ,1,0)(15,_Q,1,0),g()(),y(16,"div",9)(17,"button",10),C(18,yQ,1,0)(19,vQ,1,0),g(),y(20,"button",11),z("click",function(){return i.deleteGlassItem(i.deletedGlass.id)}),C(21,CQ,1,0)(22,wQ,1,0),g()()()()()),n&2&&(m(2),w(i.isArabic?2:3),m(2),w(i.glassList?4:5),m(7),w(i.isArabic?11:12),m(3),w(i.isArabic?14:15),m(4),w(i.isArabic?18:19),m(3),w(i.isArabic?21:22))},dependencies:[tt,Xe,Ge,ut,Ze,Je,Ke,Qe,Oe,He],encapsulation:2})};var hN=t=>({"is-invalid":t});function EQ(t,e){t&1&&h(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062C\u0648\u0631\u062C\u064A\u0627 ")}function bQ(t,e){t&1&&h(0," georgia Settings ")}function SQ(t,e){t&1&&h(0," \u0646\u0648\u0639 \u0627\u0644\u062C\u0648\u0631\u062C\u064A\u0627 ")}function IQ(t,e){t&1&&h(0," georgia Type ")}function TQ(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function DQ(t,e){t&1&&h(0," Meter Price ")}function xQ(t,e){t&1&&h(0," \u062A\u062D\u062F\u064A\u062B ")}function AQ(t,e){t&1&&h(0," Update ")}function NQ(t,e){if(t&1&&(y(0,"span"),C(1,xQ,1,0)(2,AQ,1,0),A(3,"i",29),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function MQ(t,e){t&1&&h(0," \u0625\u0636\u0627\u0641\u0629 ")}function RQ(t,e){t&1&&h(0," Add ")}function PQ(t,e){if(t&1&&(y(0,"span"),C(1,MQ,1,0)(2,RQ,1,0),A(3,"i",30),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function kQ(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function FQ(t,e){t&1&&h(0," cancel ")}function OQ(t,e){if(t&1){let n=ue();y(0,"button",31),z("click",function(){ne(n);let r=x(2);return ie(r.cancelEdit())}),y(1,"span"),C(2,kQ,1,0)(3,FQ,1,0),A(4,"i",32),g()()}if(t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function LQ(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function VQ(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function BQ(t,e){if(t&1&&(y(0,"div",25),A(1,"i",33),C(2,LQ,1,1)(3,VQ,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function UQ(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function jQ(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function HQ(t,e){if(t&1&&(y(0,"div",26),A(1,"i",34),C(2,UQ,1,1)(3,jQ,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function $Q(t,e){t&1&&h(0," \u0646\u0648\u0639 \u0627\u0644\u062C\u0648\u0631\u062C\u064A\u0627")}function GQ(t,e){t&1&&h(0," georgia Type ")}function qQ(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function zQ(t,e){t&1&&h(0," Meter Price ")}function WQ(t,e){if(t&1){let n=ue();y(0,"tr")(1,"th"),h(2),g(),y(3,"td"),h(4),g(),y(5,"td")(6,"button",41),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.editGlass(r))}),h(7," Update "),g()(),y(8,"td")(9,"button",42),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.getDeletedGlass(r))}),h(10," Delete "),g()()()}if(t&2){let n=e.$implicit;m(2),V(" ",n.glassName," "),m(2),V(" ",n.meterPrice," ")}}function KQ(t,e){if(t&1&&(y(0,"table",27)(1,"thead")(2,"tr",35)(3,"th",36),C(4,$Q,1,0)(5,GQ,1,0),g(),y(6,"th",36),C(7,qQ,1,0)(8,zQ,1,0),g(),y(9,"th",37),A(10,"i",38),g(),y(11,"th",39),A(12,"i",40),g()()(),y(13,"tbody"),st(14,WQ,11,2,"tr",null,ot),g()()),t&2){let n=x(2);m(4),w(n.isArabic?4:5),m(3),w(n.isArabic?7:8),m(7),at(n.glassList)}}function QQ(t,e){t&1&&h(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0645\u0646 \u0627\u0644\u062C\u0648\u0631\u062C\u064A\u0627, \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function YQ(t,e){t&1&&h(0," There are no types of georgia, at least one type must be added ")}function ZQ(t,e){if(t&1&&(y(0,"div",28),A(1,"i",34),C(2,QQ,1,0)(3,YQ,1,0),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function JQ(t,e){if(t&1){let n=ue();y(0,"form",12),z("ngSubmit",function(){ne(n);let r=x();return ie(r.selectedGlass?r.updateGlassItem():r.addGlassItem())}),y(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17),A(6,"input",18),y(7,"label",19),C(8,SQ,1,0)(9,IQ,1,0),g()()(),y(10,"div",16)(11,"div",20),A(12,"input",21),y(13,"label",19),C(14,TQ,1,0)(15,DQ,1,0),g()()(),y(16,"div",22)(17,"div",1)(18,"button",23),C(19,NQ,4,1,"span")(20,PQ,4,1,"span"),g(),C(21,OQ,5,1,"button",24),g()()()()()(),C(22,BQ,4,1,"div",25)(23,HQ,4,1,"div",26),y(24,"div",14),C(25,KQ,16,2,"table",27)(26,ZQ,4,1,"div",28),g()}if(t&2){let n,i,r=x();H("formGroup",r.glassForm),m(5),H("dir",r.isArabic?"rtl":"ltr"),m(),H("ngClass",Z(11,hN,((n=r.glassForm.get("glassName"))==null?null:n.invalid)&&((n=r.glassForm.get("glassName"))==null?null:n.touched))),m(2),w(r.isArabic?8:9),m(4),H("ngClass",Z(13,hN,((i=r.glassForm.get("meterPrice"))==null?null:i.invalid)&&((i=r.glassForm.get("meterPrice"))==null?null:i.touched))),m(2),w(r.isArabic?14:15),m(4),H("disabled",r.glassForm.invalid),m(),w(r.selectedGlass!=null?19:20),m(2),w(r.selectedGlass!=null?21:-1),m(),w((r.showMessage==null?null:r.showMessage.type)==="success"?22:(r.showMessage==null?null:r.showMessage.type)==="error"?23:-1),m(3),w(r.glassList.length>0?25:26)}}function XQ(t,e){t&1&&(y(0,"div",2)(1,"div",43),A(2,"i",44)(3,"br")(4,"span",45),g()())}function eY(t,e){t&1&&h(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function tY(t,e){t&1&&h(0," are you sure you want to ")}function nY(t,e){t&1&&h(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function iY(t,e){t&1&&h(0," Delete ? ")}function rY(t,e){t&1&&h(0," \u0644\u0627 ")}function oY(t,e){t&1&&h(0," No ")}function sY(t,e){t&1&&h(0," \u0646\u0639\u0645 ")}function aY(t,e){t&1&&h(0," Yes ")}var ep=class t{constructor(e,n,i){this.fb=e;this.dataService=n;this.glassSettingsService=i;this.glassForm=this.fb.group({glassName:["",q.required],meterPrice:[null,[q.required,q.min(1)]]})}path="georgia-Settings";isArabic=!1;glassForm;glassList;selectedGlass=null;deletedGlass=null;editedGlassId="";showMessage=null;ngOnInit(){this.detectLanguageChange(),this.loadGlassItems()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}loadGlassItems(){this.glassSettingsService.getAllItems(this.path).subscribe(e=>{this.glassList=e?Object.values(e):[]})}addGlassItem(){if(this.glassForm.invalid)return;let e=this.glassForm.value;this.glassSettingsService.addItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item added successfully","\u062A\u0645\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062C\u0627\u062D")})}editGlass(e){this.selectedGlass=e,this.editedGlassId=e.id,this.glassForm.patchValue({glassName:e.glassName,meterPrice:e.meterPrice})}updateGlassItem(){if(this.glassForm.invalid||!this.editedGlassId)return;let e=this.glassForm.value;this.glassSettingsService.updateItem(this.path,this.editedGlassId,e).subscribe(()=>{this.onSuccess("Glass item updated successfully","\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D")})}deleteGlassItem(e){this.glassSettingsService.deleteItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item deleted successfully","\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D")})}cancelEdit(){this.glassForm.reset(),this.selectedGlass=null,this.editedGlassId=""}getDeletedGlass(e){this.deletedGlass=e}onSuccess(e,n){this.showMessage={type:"success",text:e,arText:n},this.loadGlassItems(),this.cancelEdit(),this.clearMessage()}clearMessage(){setTimeout(()=>{this.showMessage=null},2e3)}static \u0275fac=function(n){return new(n||t)(B(et),B(Ae),B(Jr))};static \u0275cmp=ae({type:t,selectors:[["app-georgia"]],decls:23,vars:6,consts:[[1,"alert","alert-primary","my-3","px-4"],[1,"text-center"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"row","g-3","my-3"],[1,"col-md-5"],[1,"form-floating",3,"dir"],["id","glassName","name","glassName","formControlName","glassName","placeholder","","type","text",1,"form-control",3,"ngClass"],["for","glassName"],[1,"form-floating"],["id","meterPrice","name","meterPrice","formControlName","meterPrice","placeholder","Meter Price","type","number",1,"form-control",3,"ngClass"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"table","table-inalert-primary","table-hover","table-striped","text-center","table-bordered"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"text-white"],["scope","col"],["scope","col",1,"bg-warning-subtle"],[1,"fa-solid","fa-pen-to-square","text-warning"],["scope","col",1,"bg-danger-subtle"],[1,"fa-solid","fa-trash-can","text-danger"],[1,"btn","btn-warning","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(y(0,"div",0)(1,"h2",1),C(2,EQ,1,0)(3,bQ,1,0),g(),C(4,JQ,27,15)(5,XQ,5,0,"div",2),g(),y(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6),A(10,"i",7),C(11,eY,1,0)(12,tY,1,0),y(13,"b",8),C(14,nY,1,0)(15,iY,1,0),g()(),y(16,"div",9)(17,"button",10),C(18,rY,1,0)(19,oY,1,0),g(),y(20,"button",11),z("click",function(){return i.deleteGlassItem(i.deletedGlass.id)}),C(21,sY,1,0)(22,aY,1,0),g()()()()()),n&2&&(m(2),w(i.isArabic?2:3),m(2),w(i.glassList?4:5),m(7),w(i.isArabic?11:12),m(3),w(i.isArabic?14:15),m(4),w(i.isArabic?18:19),m(3),w(i.isArabic?21:22))},dependencies:[tt,Xe,Ge,ut,Ze,Je,Ke,Qe,Oe,He],encapsulation:2})};var fN=t=>({"is-invalid":t});function lY(t,e){t&1&&h(0," \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0641\u0631\u0627\u063A ")}function cY(t,e){t&1&&h(0," Spacer Settings ")}function uY(t,e){t&1&&h(0," \u0646\u0648\u0639 \u0627\u0644\u0641\u0631\u0627\u063A ")}function dY(t,e){t&1&&h(0," Spacer Type ")}function hY(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function fY(t,e){t&1&&h(0," Meter Price ")}function pY(t,e){t&1&&h(0," \u062A\u062D\u062F\u064A\u062B ")}function mY(t,e){t&1&&h(0," Update ")}function gY(t,e){if(t&1&&(y(0,"span"),C(1,pY,1,0)(2,mY,1,0),A(3,"i",29),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function _Y(t,e){t&1&&h(0," \u0625\u0636\u0627\u0641\u0629 ")}function yY(t,e){t&1&&h(0," Add ")}function vY(t,e){if(t&1&&(y(0,"span"),C(1,_Y,1,0)(2,yY,1,0),A(3,"i",30),g()),t&2){let n=x(2);m(),w(n.isArabic?1:2)}}function CY(t,e){t&1&&h(0," \u0625\u0644\u063A\u0627\u0621 ")}function wY(t,e){t&1&&h(0," cancel ")}function EY(t,e){if(t&1){let n=ue();y(0,"button",31),z("click",function(){ne(n);let r=x(2);return ie(r.cancelEdit())}),y(1,"span"),C(2,CY,1,0)(3,wY,1,0),A(4,"i",32),g()()}if(t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function bY(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function SY(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function IY(t,e){if(t&1&&(y(0,"div",25),A(1,"i",33),C(2,bY,1,1)(3,SY,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function TY(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.arText," ")}}function DY(t,e){if(t&1&&h(0),t&2){let n=x(3);V(" ",n.showMessage==null?null:n.showMessage.text," ")}}function xY(t,e){if(t&1&&(y(0,"div",26),A(1,"i",34),C(2,TY,1,1)(3,DY,1,1),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function AY(t,e){t&1&&h(0," \u0646\u0648\u0639 \u0627\u0644\u0641\u0631\u0627\u063A")}function NY(t,e){t&1&&h(0," Spacer Type ")}function MY(t,e){t&1&&h(0," \u0633\u0639\u0631 \u0627\u0644\u0645\u062A\u0631 ")}function RY(t,e){t&1&&h(0," Meter Price ")}function PY(t,e){if(t&1){let n=ue();y(0,"tr")(1,"th"),h(2),g(),y(3,"td"),h(4),g(),y(5,"td")(6,"button",41),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.editGlass(r))}),h(7," Update "),g()(),y(8,"td")(9,"button",42),z("click",function(){let r=ne(n).$implicit,o=x(3);return ie(o.getDeletedGlass(r))}),h(10," Delete "),g()()()}if(t&2){let n=e.$implicit;m(2),V(" ",n.glassName," "),m(2),V(" ",n.meterPrice," ")}}function kY(t,e){if(t&1&&(y(0,"table",27)(1,"thead")(2,"tr",35)(3,"th",36),C(4,AY,1,0)(5,NY,1,0),g(),y(6,"th",36),C(7,MY,1,0)(8,RY,1,0),g(),y(9,"th",37),A(10,"i",38),g(),y(11,"th",39),A(12,"i",40),g()()(),y(13,"tbody"),st(14,PY,11,2,"tr",null,ot),g()()),t&2){let n=x(2);m(4),w(n.isArabic?4:5),m(3),w(n.isArabic?7:8),m(7),at(n.glassList)}}function FY(t,e){t&1&&h(0," \u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0646\u0648\u0627\u0639 \u0645\u0646 \u0627\u0644\u0641\u0631\u0627\u063A, \u064A\u062C\u0628 \u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 ")}function OY(t,e){t&1&&h(0," There are no types of Spacer, at least one type must be added ")}function LY(t,e){if(t&1&&(y(0,"div",28),A(1,"i",34),C(2,FY,1,0)(3,OY,1,0),g()),t&2){let n=x(2);m(2),w(n.isArabic?2:3)}}function VY(t,e){if(t&1){let n=ue();y(0,"form",12),z("ngSubmit",function(){ne(n);let r=x();return ie(r.selectedGlass?r.updateGlassItem():r.addGlassItem())}),y(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17),A(6,"input",18),y(7,"label",19),C(8,uY,1,0)(9,dY,1,0),g()()(),y(10,"div",16)(11,"div",20),A(12,"input",21),y(13,"label",19),C(14,hY,1,0)(15,fY,1,0),g()()(),y(16,"div",22)(17,"div",1)(18,"button",23),C(19,gY,4,1,"span")(20,vY,4,1,"span"),g(),C(21,EY,5,1,"button",24),g()()()()()(),C(22,IY,4,1,"div",25)(23,xY,4,1,"div",26),y(24,"div",14),C(25,kY,16,2,"table",27)(26,LY,4,1,"div",28),g()}if(t&2){let n,i,r=x();H("formGroup",r.glassForm),m(5),H("dir",r.isArabic?"rtl":"ltr"),m(),H("ngClass",Z(11,fN,((n=r.glassForm.get("glassName"))==null?null:n.invalid)&&((n=r.glassForm.get("glassName"))==null?null:n.touched))),m(2),w(r.isArabic?8:9),m(4),H("ngClass",Z(13,fN,((i=r.glassForm.get("meterPrice"))==null?null:i.invalid)&&((i=r.glassForm.get("meterPrice"))==null?null:i.touched))),m(2),w(r.isArabic?14:15),m(4),H("disabled",r.glassForm.invalid),m(),w(r.selectedGlass!=null?19:20),m(2),w(r.selectedGlass!=null?21:-1),m(),w((r.showMessage==null?null:r.showMessage.type)==="success"?22:(r.showMessage==null?null:r.showMessage.type)==="error"?23:-1),m(3),w(r.glassList.length>0?25:26)}}function BY(t,e){t&1&&(y(0,"div",2)(1,"div",43),A(2,"i",44)(3,"br")(4,"span",45),g()())}function UY(t,e){t&1&&h(0," \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F ")}function jY(t,e){t&1&&h(0," are you sure you want to ")}function HY(t,e){t&1&&h(0," \u0627\u0644\u062D\u0630\u0641 \u061F ")}function $Y(t,e){t&1&&h(0," Delete ? ")}function GY(t,e){t&1&&h(0," \u0644\u0627 ")}function qY(t,e){t&1&&h(0," No ")}function zY(t,e){t&1&&h(0," \u0646\u0639\u0645 ")}function WY(t,e){t&1&&h(0," Yes ")}var tp=class t{constructor(e,n,i){this.fb=e;this.dataService=n;this.glassSettingsService=i;this.glassForm=this.fb.group({glassName:["",q.required],meterPrice:[null,[q.required,q.min(1)]]})}path="space-Settings";isArabic=!1;glassForm;glassList;selectedGlass=null;deletedGlass=null;editedGlassId="";showMessage=null;ngOnInit(){this.detectLanguageChange(),this.loadGlassItems()}detectLanguageChange(){this.isArabic=this.dataService.isArabic,setInterval(()=>{this.isArabic=this.dataService.isArabic},100)}loadGlassItems(){this.glassSettingsService.getAllItems(this.path).subscribe(e=>{this.glassList=e?Object.values(e):[]})}addGlassItem(){if(this.glassForm.invalid)return;let e=this.glassForm.value;this.glassSettingsService.addItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item added successfully","\u062A\u0645\u062A \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062C\u0627\u062D")})}editGlass(e){this.selectedGlass=e,this.editedGlassId=e.id,this.glassForm.patchValue({glassName:e.glassName,meterPrice:e.meterPrice})}updateGlassItem(){if(this.glassForm.invalid||!this.editedGlassId)return;let e=this.glassForm.value;this.glassSettingsService.updateItem(this.path,this.editedGlassId,e).subscribe(()=>{this.onSuccess("Glass item updated successfully","\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0628\u0646\u062C\u0627\u062D")})}deleteGlassItem(e){this.glassSettingsService.deleteItem(this.path,e).subscribe(()=>{this.onSuccess("Glass item deleted successfully","\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D")})}cancelEdit(){this.glassForm.reset(),this.selectedGlass=null,this.editedGlassId=""}getDeletedGlass(e){this.deletedGlass=e}onSuccess(e,n){this.showMessage={type:"success",text:e,arText:n},this.loadGlassItems(),this.cancelEdit(),this.clearMessage()}clearMessage(){setTimeout(()=>{this.showMessage=null},2e3)}static \u0275fac=function(n){return new(n||t)(B(et),B(Ae),B(Jr))};static \u0275cmp=ae({type:t,selectors:[["app-space"]],decls:23,vars:6,consts:[[1,"alert","alert-primary","my-3","px-4"],[1,"text-center"],[1,"d-flex","justify-content-center","align-items-center","min-vh-50"],["id","deletingStaticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","deletingStaticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"fa-solid","fa-bell"],[1,"text-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"row","g-3","my-3"],[1,"col-md-5"],[1,"form-floating",3,"dir"],["id","glassName","name","glassName","formControlName","glassName","placeholder","","type","text",1,"form-control",3,"ngClass"],["for","glassName"],[1,"form-floating"],["id","meterPrice","name","meterPrice","formControlName","meterPrice","placeholder","Meter Price","type","number",1,"form-control",3,"ngClass"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"],[1,"table","table-inalert-primary","table-hover","table-striped","text-center","table-bordered"],[1,"alert","alert-danger","mt-2"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-plus"],["type","button",1,"btn","btn-secondary","btn-sm","mx-2",3,"click"],[1,"fa-solid","fa-ban"],[1,"fa-regular","fa-circle-check"],[1,"fa-solid","fa-circle-exclamation"],[1,"text-white"],["scope","col"],["scope","col",1,"bg-warning-subtle"],[1,"fa-solid","fa-pen-to-square","text-warning"],["scope","col",1,"bg-danger-subtle"],[1,"fa-solid","fa-trash-can","text-danger"],[1,"btn","btn-warning","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletingStaticBackdrop",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fs-1","text-center"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"fst-italic","loading"]],template:function(n,i){n&1&&(y(0,"div",0)(1,"h2",1),C(2,lY,1,0)(3,cY,1,0),g(),C(4,VY,27,15)(5,BY,5,0,"div",2),g(),y(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6),A(10,"i",7),C(11,UY,1,0)(12,jY,1,0),y(13,"b",8),C(14,HY,1,0)(15,$Y,1,0),g()(),y(16,"div",9)(17,"button",10),C(18,GY,1,0)(19,qY,1,0),g(),y(20,"button",11),z("click",function(){return i.deleteGlassItem(i.deletedGlass.id)}),C(21,zY,1,0)(22,WY,1,0),g()()()()()),n&2&&(m(2),w(i.isArabic?2:3),m(2),w(i.glassList?4:5),m(7),w(i.isArabic?11:12),m(3),w(i.isArabic?14:15),m(4),w(i.isArabic?18:19),m(3),w(i.isArabic?21:22))},dependencies:[tt,Xe,Ge,ut,Ze,Je,Ke,Qe,Oe,He],encapsulation:2})};var np=[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",title:"main page",component:Tf},{path:"sectorsSettings",title:"sectors settings",component:Df,children:[{path:"",redirectTo:"hingedSettings",pathMatch:"full"},{path:"hingedSettings",title:"Hinged Settings",component:Ta,children:[{path:"hingedSectors/:sectorId",title:"hinged sectors",component:jf,children:[{path:"",redirectTo:"hingedFrames",pathMatch:"full"},{path:"hingedFrames",title:"hinged sectors frames",component:zf},{path:"hingedBars",title:"hinged sectors Bars",component:Wf},{path:"hingedSashes",title:"hinged sectors Sashes",component:Kf},{path:"hingedBarCloses",title:"hinged sectors Sashes",component:Qf},{path:"hingedTProfiles",title:"hinged sectors Sashes",component:Yf},{path:"hingedWireSashes",title:"hinged sectors Sashes",component:Zf}]},{path:"hingedSpecialties/:sectorId",title:"hinged sectors",component:Hf},{path:"hingedAccessories/:sectorId",title:"hinged sectors",component:$f},{path:"hingedInstructions/:sectorId",title:"hinged sectors",component:Gf},{path:"hingedFeatures/:sectorId",title:"hinged sectors",component:qf}]},{path:"slidingSettings",title:"Sliding Settings",component:Bf},{path:"glassSettings",title:"Glass Settings",component:Uf,children:[{path:"",redirectTo:"glass",pathMatch:"full"},{path:"glass",title:"glass",component:Xf},{path:"georgia",title:"georgia",component:ep},{path:"space",title:"space",component:tp}]},{path:"curtainWallSettings",title:"Curtain Wall Settings",component:Jf}]}];var pN={providers:[OT({eventCoalescing:!0}),Ef(np,xA())]};var be=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(be||{}),Ii="*";function mN(t,e=null){return{type:be.Sequence,steps:t,options:e}}function EC(t){return{type:be.Style,styles:t,offset:null}}var Xr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,n=0){this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},qc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},ip="!";function gN(t){return new G(3e3,!1)}function KY(){return new G(3100,!1)}function QY(){return new G(3101,!1)}function YY(t){return new G(3001,!1)}function ZY(t){return new G(3003,!1)}function JY(t){return new G(3004,!1)}function XY(t,e){return new G(3005,!1)}function eZ(){return new G(3006,!1)}function tZ(){return new G(3007,!1)}function nZ(t,e){return new G(3008,!1)}function iZ(t){return new G(3002,!1)}function rZ(t,e,n,i,r){return new G(3010,!1)}function oZ(){return new G(3011,!1)}function sZ(){return new G(3012,!1)}function aZ(){return new G(3200,!1)}function lZ(){return new G(3202,!1)}function cZ(){return new G(3013,!1)}function uZ(t){return new G(3014,!1)}function dZ(t){return new G(3015,!1)}function hZ(t){return new G(3016,!1)}function fZ(t,e){return new G(3404,!1)}function pZ(t){return new G(3502,!1)}function mZ(t){return new G(3503,!1)}function gZ(){return new G(3300,!1)}function _Z(t){return new G(3504,!1)}function yZ(t){return new G(3301,!1)}function vZ(t,e){return new G(3302,!1)}function CZ(t){return new G(3303,!1)}function wZ(t,e){return new G(3400,!1)}function EZ(t){return new G(3401,!1)}function bZ(t){return new G(3402,!1)}function SZ(t,e){return new G(3505,!1)}function eo(t){switch(t.length){case 0:return new Xr;case 1:return t[0];default:return new qc(t)}}function NN(t,e,n=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),f=u==s,_=f&&a||new Map;c.forEach((E,b)=>{let I=b,F=E;if(b!=="offset")switch(I=t.normalizePropertyName(I,r),F){case ip:F=n.get(b);break;case Ii:F=i.get(b);break;default:F=t.normalizeStyleValue(b,I,F,r);break}_.set(I,F)}),f||o.push(_),a=_,s=u}),r.length)throw pZ(r);return o}function GC(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&bC(n,"start",t)));break;case"done":t.onDone(()=>i(n&&bC(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&bC(n,"destroy",t)));break}}function bC(t,e,n){let i=n.totalTime,r=!!n.disabled,o=qC(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function qC(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function In(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function _N(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var IZ=typeof document>"u"?null:document.documentElement;function zC(t){let e=t.parentNode||t.host||null;return e===IZ?null:e}function TZ(t){return t.substring(1,6)=="ebkit"}var Xo=null,yN=!1;function DZ(t){Xo||(Xo=xZ()||{},yN=Xo.style?"WebkitAppearance"in Xo.style:!1);let e=!0;return Xo.style&&!TZ(t)&&(e=t in Xo.style,!e&&yN&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Xo.style)),e}function xZ(){return typeof document<"u"?document.body:null}function MN(t,e){for(;e;){if(e===t)return!0;e=zC(e)}return!1}function RN(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var WC=(()=>{class t{validateStyleProperty(n){return DZ(n)}containsElement(n,i){return MN(n,i)}getParentElement(n){return zC(n)}query(n,i,r){return RN(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,o,s,a=[],c){return new Xr(r,o)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=te({token:t,factory:t.\u0275fac})}return t})(),ns=class{static NOOP=new WC},is=class{};var AZ=1e3,PN="{{",NZ="}}",kN="ng-enter",AC="ng-leave",rp="ng-trigger",cp=".ng-trigger",vN="ng-animating",NC=".ng-animating";function cr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:MC(parseFloat(e[1]),e[2])}function MC(t,e){switch(e){case"s":return t*AZ;default:return t}}function up(t,e,n){return t.hasOwnProperty("duration")?t:MZ(t,e,n)}function MZ(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(i);if(a===null)return e.push(gN(t)),{duration:0,delay:0,easing:""};r=MC(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=MC(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else r=t;if(!n){let a=!1,c=e.length;r<0&&(e.push(KY()),a=!0),o<0&&(e.push(QY()),a=!0),a&&e.splice(c,0,gN(t))}return{duration:r,delay:o,easing:s}}function RZ(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ti(t,e,n){e.forEach((i,r)=>{let o=KC(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function ts(t,e){e.forEach((n,i)=>{let r=KC(i);t.style[r]=""})}function zc(t){return Array.isArray(t)?t.length==1?t[0]:mN(t):t}function PZ(t,e,n){let i=e.params||{},r=FN(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(YY(o))})}var RC=new RegExp(`${PN}\\s*(.+?)\\s*${NZ}`,"g");function FN(t){let e=[];if(typeof t=="string"){let n;for(;n=RC.exec(t);)e.push(n[1]);RC.lastIndex=0}return e}function Kc(t,e,n){let i=`${t}`,r=i.replace(RC,(o,s)=>{let a=e[s];return a==null&&(n.push(ZY(s)),a=""),a.toString()});return r==i?t:r}var kZ=/-+([a-z0-9])/g;function KC(t){return t.replace(kZ,(...e)=>e[1].toUpperCase())}function FZ(t,e){return t===0||e===0}function OZ(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,QC(t,a)))}}return e}function Sn(t,e,n){switch(e.type){case be.Trigger:return t.visitTrigger(e,n);case be.State:return t.visitState(e,n);case be.Transition:return t.visitTransition(e,n);case be.Sequence:return t.visitSequence(e,n);case be.Group:return t.visitGroup(e,n);case be.Animate:return t.visitAnimate(e,n);case be.Keyframes:return t.visitKeyframes(e,n);case be.Style:return t.visitStyle(e,n);case be.Reference:return t.visitReference(e,n);case be.AnimateChild:return t.visitAnimateChild(e,n);case be.AnimateRef:return t.visitAnimateRef(e,n);case be.Query:return t.visitQuery(e,n);case be.Stagger:return t.visitStagger(e,n);default:throw JY(e.type)}}function QC(t,e){return window.getComputedStyle(t)[e]}var LZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),dp=class extends is{normalizePropertyName(e,n){return KC(e)}normalizeStyleValue(e,n,i,r){let o="",s=i.toString().trim();if(LZ.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(XY(e,i))}return s+o}};var hp="*";function VZ(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>BZ(i,n,e)):n.push(t),n}function BZ(t,e,n){if(t[0]==":"){let c=UZ(t,n);if(typeof c=="function"){e.push(c);return}t=c}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(dZ(t)),e;let r=i[1],o=i[2],s=i[3];e.push(CN(r,s));let a=r==hp&&s==hp;o[0]=="<"&&!a&&e.push(CN(s,r))}function UZ(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(hZ(t)),"* => *"}}var op=new Set(["true","1"]),sp=new Set(["false","0"]);function CN(t,e){let n=op.has(t)||sp.has(t),i=op.has(e)||sp.has(e);return(r,o)=>{let s=t==hp||t==r,a=e==hp||e==o;return!s&&n&&typeof r=="boolean"&&(s=r?op.has(t):sp.has(t)),!a&&i&&typeof o=="boolean"&&(a=o?op.has(e):sp.has(e)),s&&a}}var ON=":self",jZ=new RegExp(`s*${ON}s*,?`,"g");function LN(t,e,n,i){return new PC(t).build(e,n,i)}var wN="",PC=class{_driver;constructor(e){this._driver=e}build(e,n,i){let r=new kC(n);return this._resetContextStyleTimingState(r),Sn(this,zc(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=wN,e.collectedStyles=new Map,e.collectedStyles.set(wN,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(eZ()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==be.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(f=>{c.name=f,o.push(this.visitState(c,n))}),c.name=u}else if(a.type==be.Transition){let c=this.visitTransition(a,n);i+=c.queryCount,r+=c.depCount,s.push(c)}else n.errors.push(tZ())}),{type:be.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{FN(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&n.errors.push(nZ(e.name,[...o.values()]))}return{type:be.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Sn(this,zc(e.animation),n),r=VZ(e.expr,n.errors);return{type:be.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:es(e.options)}}visitSequence(e,n){return{type:be.Sequence,steps:e.steps.map(i=>Sn(this,i,n)),options:es(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(s=>{n.currentTime=i;let a=Sn(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:be.Group,steps:o,options:es(e.options)}}visitAnimate(e,n){let i=qZ(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:EC({});if(o.type==be.Keyframes)r=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};i.easing&&(u.easing=i.easing),s=EC(u)}n.currentTime+=i.duration+i.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,r=c}return n.currentAnimateTimings=null,{type:be.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Ii?i.push(a):n.errors.push(iZ(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(PN)>=0){o=!0;break}}}),{type:be.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=n.collectedStyles.get(n.currentQuerySelector),f=u.get(c),_=!0;f&&(o!=r&&o>=f.startTime&&r<=f.endTime&&(n.errors.push(rZ(c,f.startTime,f.endTime,o,r)),_=!1),o=f.startTime),_&&u.set(c,{startTime:o,endTime:r}),n.options&&PZ(a,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:be.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(oZ()),i;let r=1,o=0,s=[],a=!1,c=!1,u=0,f=e.steps.map(K=>{let X=this._makeStyleAst(K,n),oe=X.offset!=null?X.offset:GZ(X.styles),pe=0;return oe!=null&&(o++,pe=X.offset=oe),c=c||pe<0||pe>1,a=a||pe<u,u=pe,s.push(pe),X});c&&n.errors.push(sZ()),a&&n.errors.push(aZ());let _=e.steps.length,E=0;o>0&&o<_?n.errors.push(lZ()):o==0&&(E=r/(_-1));let b=_-1,I=n.currentTime,F=n.currentAnimateTimings,j=F.duration;return f.forEach((K,X)=>{let oe=E>0?X==b?1:E*X:s[X],pe=oe*j;n.currentTime=I+F.delay+pe,F.duration=pe,this._validateStyleAst(K,n),K.offset=oe,i.styles.push(K)}),i}visitReference(e,n){return{type:be.Reference,animation:Sn(this,zc(e.animation),n),options:es(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:be.AnimateChild,options:es(e.options)}}visitAnimateRef(e,n){return{type:be.AnimateRef,animation:this.visitReference(e.animation,n),options:es(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=HZ(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,In(n.collectedStyles,n.currentQuerySelector,new Map);let a=Sn(this,zc(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:be.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:es(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(cZ());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:up(e.timings,n.errors,!0);return{type:be.Stagger,animation:Sn(this,zc(e.animation),n),timings:i,options:null}}};function HZ(t){let e=!!t.split(/\s*,\s*/).find(n=>n==ON);return e&&(t=t.replace(jZ,"")),t=t.replace(/@\*/g,cp).replace(/@\w+/g,n=>cp+"-"+n.slice(1)).replace(/:animating/g,NC),[t,e]}function $Z(t){return t?U({},t):null}var kC=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function GZ(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function qZ(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=up(t,e).duration;return SC(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=SC(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=up(n,e);return SC(r.duration,r.delay,r.easing)}function es(t){return t?(t=U({},t),t.params&&(t.params=$Z(t.params))):t={},t}function SC(t,e,n){return{duration:t,delay:e,easing:n}}function YC(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Qc=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},zZ=1,WZ=":enter",KZ=new RegExp(WZ,"g"),QZ=":leave",YZ=new RegExp(QZ,"g");function VN(t,e,n,i,r,o=new Map,s=new Map,a,c,u=[]){return new FC().buildKeyframes(t,e,n,i,r,o,s,a,c,u)}var FC=class{buildKeyframes(e,n,i,r,o,s,a,c,u,f=[]){u=u||new Qc;let _=new OC(e,n,u,r,o,f,[]);_.options=c;let E=c.delay?cr(c.delay):0;_.currentTimeline.delayNextStep(E),_.currentTimeline.setStyles([s],null,_.errors,c),Sn(this,i,_);let b=_.timelines.filter(I=>I.containsAnimation());if(b.length&&a.size){let I;for(let F=b.length-1;F>=0;F--){let j=b[F];if(j.element===n){I=j;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([a],null,_.errors,c)}return b.length?b.map(I=>I.buildKeyframes()):[YC(n,[],[],[],0,E,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:cr(Kc(o,r?.params??{},n.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,s=i.duration!=null?cr(i.duration):null,a=i.delay!=null?cr(i.delay):null;return s!==0&&e.forEach(c=>{let u=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Sn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==be.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fp);let s=cr(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Sn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?cr(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),Sn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?Kc(i,n.params,n.errors):i;return up(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==be.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?cr(r.delay):0;o&&(n.previousNode.type===be.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=fp);let s=i,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((u,f)=>{n.currentQueryIndex=f;let _=n.createSubContext(e.options,u);o&&_.delayNextStep(o),u===n.element&&(c=_.currentTimeline),Sn(this,e.animation,_),_.currentTimeline.applyStylesToKeyframe();let E=_.currentTimeline.currentTime;s=Math.max(s,E)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let f=n.currentTimeline;c&&f.delayNextStep(c);let _=f.currentTime;Sn(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-_+(r.startTime-i.currentTimeline.startTime)}},fp={},OC=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=fp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,n,i,r,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new pp(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=cr(i.duration)),i.delay!=null&&(r.delay=cr(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=Kc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=fp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new LC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(KZ,"."+this._enterClassName),e=e.replace(YZ,"."+this._leaveClassName);let c=i!=1,u=this._driver.query(this.element,e,c);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&a.length==0&&s.push(uZ(n)),a}},pp=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=zZ,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Ii),this._currentKeyframe.set(n,Ii);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},s=ZZ(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Kc(c,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ii),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((f,_)=>{f===ip?e.add(_):f===Ii&&n.add(_)}),i||u.set("offset",c/this.duration),r.push(u)});let o=[...e.values()],s=[...n.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return YC(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},LC=class extends pp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,n,i,r,o,s,a=!1){super(e,n,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=i+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",EN(a)),o.push(u);let f=e.length-1;for(let _=1;_<=f;_++){let E=new Map(e[_]),b=E.get("offset"),I=n+b*i;E.set("offset",EN(I/s)),o.push(E)}i=s,n=0,r="",e=o}return YC(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function EN(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function ZZ(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,Ii)}else for(let[o,s]of r)n.set(o,s)}),n}function bN(t,e,n,i,r,o,s,a,c,u,f,_,E){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:f,totalTime:_,errors:E}}var IC={},mp=class{_triggerName;ast;_stateStyles;constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return JZ(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,s,a,c,u,f){let _=[],E=this.ast.options&&this.ast.options.params||IC,b=a&&a.params||IC,I=this.buildStyles(i,b,_),F=c&&c.params||IC,j=this.buildStyles(r,F,_),K=new Set,X=new Map,oe=new Map,pe=r==="void",vt={params:BN(F,E),delay:this.ast.options?.delay},ve=f?[]:VN(e,n,this.ast.animation,o,s,I,j,vt,u,_),N=0;return ve.forEach(S=>{N=Math.max(S.duration+S.delay,N)}),_.length?bN(n,this._triggerName,i,r,pe,I,j,[],[],X,oe,N,_):(ve.forEach(S=>{let T=S.element,M=In(X,T,new Set);S.preStyleProps.forEach(k=>M.add(k));let R=In(oe,T,new Set);S.postStyleProps.forEach(k=>R.add(k)),T!==n&&K.add(T)}),bN(n,this._triggerName,i,r,pe,I,j,ve,[...K.values()],X,oe,N))}};function JZ(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function BN(t,e){let n=U({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var VC=class{styles;defaultParams;normalizer;constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=BN(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Kc(s,r,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),i.set(a,s)})}),i}};function XZ(t,e,n){return new BC(t,e,n)}var BC=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new VC(r.style,o,i))}),SN(this.states,"true","1"),SN(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new mp(e,r,this.states))}),this.fallbackTransition=eJ(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(s=>s.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function eJ(t,e,n){let i=[(s,a)=>!0],r={type:be.Sequence,steps:[],options:null},o={type:be.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new mp(t,o,e)}function SN(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var tJ=new Qc,UC=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i}register(e,n){let i=[],r=[],o=LN(this._driver,n,i,r);if(i.length)throw mZ(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=NN(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=VN(this._driver,n,o,kN,AC,new Map,new Map,i,tJ,r),s.forEach(f=>{let _=In(a,f.element,new Map);f.postStyleProps.forEach(E=>_.set(E,null))})):(r.push(gZ()),s=[]),r.length)throw _Z(r);a.forEach((f,_)=>{f.forEach((E,b)=>{f.set(b,this._driver.computeStyle(_,b,Ii))})});let c=s.map(f=>{let _=a.get(f.element);return this._buildPlayer(f,new Map,_)}),u=eo(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw yZ(e);return n}listen(e,n,i,r){let o=qC(n,"","","");return GC(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},IN="ng-animate-queued",nJ=".ng-animate-queued",TC="ng-animate-disabled",iJ=".ng-animate-disabled",rJ="ng-star-inserted",oJ=".ng-star-inserted",sJ=[],UN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oi="__ng_removed",Yc=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=cJ(r),i){let o=e,{value:s}=o,a=vE(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},Wc="void",DC=new Yc(Wc),jC=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this._hostClassName="ng-tns-"+e,Un(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw vZ(i,n);if(i==null||i.length==0)throw CZ(n);if(!uJ(i))throw wZ(i,n);let o=In(this._elementListeners,e,[]),s={name:n,phase:i,callback:r};o.push(s);let a=In(this._engine.statesByElement,e,new Map);return a.has(n)||(Un(e,rp),Un(e,rp+"-"+n),a.set(n,DC)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw EZ(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),s=new Zc(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Un(e,rp),Un(e,rp+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),u=new Yc(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=DC),!(u.value===Wc)&&c.value===u.value){if(!fJ(c.params,u.params)){let F=[],j=o.matchStyles(c.value,c.params,F),K=o.matchStyles(u.value,u.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{ts(e,j),Ti(e,K)})}return}let E=In(this._engine.playersByElement,e,[]);E.forEach(F=>{F.namespaceId==this.id&&F.triggerName==n&&F.queued&&F.destroy()});let b=o.matchTransition(c.value,u.value,e,u.params),I=!1;if(!b){if(!r)return;b=o.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:b,fromState:c,toState:u,player:s,isFallbackTransition:I}),I||(Un(e,IN),s.onStart(()=>{xa(e,IN)})),s.onDone(()=>{let F=this.players.indexOf(s);F>=0&&this.players.splice(F,1);let j=this._engine.playersByElement.get(e);if(j){let K=j.indexOf(s);K>=0&&j.splice(K,1)}}),this.players.push(s),E.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,cp,!0);i.forEach(r=>{if(r[oi])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let f=this.trigger(e,u,Wc,r);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),i&&eo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,u=i.get(s)||DC,f=new Yc(Wc),_=new Zc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:f,player:_,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[oi];(!o||o===UN)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){Un(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let c=qC(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,GC(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},HC=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,n)=>{};_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new jC(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=r.get(a);if(c){let u=i.indexOf(c);i.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(ap(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!ap(n))return;let o=n[oi];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Un(e,TC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xa(e,TC))}removeNode(e,n,i){if(ap(n)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[oi]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return ap(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,cp,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,NC,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return eo(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[oi];if(n&&n.setForRemoval){if(e[oi]=UN,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(TC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,iJ,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Un(r,rJ)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?eo(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw bZ(e)}_flushAnimations(e,n){let i=new Qc,r=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,f=new Set;this.disabledNodes.forEach(Y=>{f.add(Y);let J=this.driver.query(Y,nJ,!0);for(let re=0;re<J.length;re++)f.add(J[re])});let _=this.bodyNode,E=Array.from(this.statesByElement.keys()),b=xN(E,this.collectedEnterElements),I=new Map,F=0;b.forEach((Y,J)=>{let re=kN+F++;I.set(J,re),Y.forEach(Se=>Un(Se,re))});let j=[],K=new Set,X=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){let J=this.collectedLeaveElements[Y],re=J[oi];re&&re.setForRemoval&&(j.push(J),K.add(J),re.hasAnimation?this.driver.query(J,oJ,!0).forEach(Se=>K.add(Se)):X.add(J))}let oe=new Map,pe=xN(E,Array.from(K));pe.forEach((Y,J)=>{let re=AC+F++;oe.set(J,re),Y.forEach(Se=>Un(Se,re))}),e.push(()=>{b.forEach((Y,J)=>{let re=I.get(J);Y.forEach(Se=>xa(Se,re))}),pe.forEach((Y,J)=>{let re=oe.get(J);Y.forEach(Se=>xa(Se,re))}),j.forEach(Y=>{this.processLeaveNode(Y)})});let vt=[],ve=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(n).forEach(re=>{let Se=re.player,Ct=re.element;if(vt.push(Se),this.collectedEnterElements.length){let ht=Ct[oi];if(ht&&ht.setForMove){if(ht.previousTriggersValues&&ht.previousTriggersValues.has(re.triggerName)){let Ai=ht.previousTriggersValues.get(re.triggerName),ln=this.statesByElement.get(re.element);if(ln&&ln.has(re.triggerName)){let Ni=ln.get(re.triggerName);Ni.value=Ai,ln.set(re.triggerName,Ni)}}Se.destroy();return}}let Dn=!_||!this.driver.containsElement(_,Ct),dt=oe.get(Ct),nt=I.get(Ct),it=this._buildInstruction(re,i,nt,dt,Dn);if(it.errors&&it.errors.length){ve.push(it);return}if(Dn){Se.onStart(()=>ts(Ct,it.fromStyles)),Se.onDestroy(()=>Ti(Ct,it.toStyles)),r.push(Se);return}if(re.isFallbackTransition){Se.onStart(()=>ts(Ct,it.fromStyles)),Se.onDestroy(()=>Ti(Ct,it.toStyles)),r.push(Se);return}let hr=[];it.timelines.forEach(ht=>{ht.stretchStartingKeyframe=!0,this.disabledNodes.has(ht.element)||hr.push(ht)}),it.timelines=hr,i.append(Ct,it.timelines);let xp={instruction:it,player:Se,element:Ct};s.push(xp),it.queriedElements.forEach(ht=>In(a,ht,[]).push(Se)),it.preStyleProps.forEach((ht,Ai)=>{if(ht.size){let ln=c.get(Ai);ln||c.set(Ai,ln=new Set),ht.forEach((Ni,fr)=>ln.add(fr))}}),it.postStyleProps.forEach((ht,Ai)=>{let ln=u.get(Ai);ln||u.set(Ai,ln=new Set),ht.forEach((Ni,fr)=>ln.add(fr))})});if(ve.length){let Y=[];ve.forEach(J=>{Y.push(SZ(J.triggerName,J.errors))}),vt.forEach(J=>J.destroy()),this.reportError(Y)}let N=new Map,S=new Map;s.forEach(Y=>{let J=Y.element;i.has(J)&&(S.set(J,J),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,N))}),r.forEach(Y=>{let J=Y.element;this._getPreviousPlayers(J,!1,Y.namespaceId,Y.triggerName,null).forEach(Se=>{In(N,J,[]).push(Se),Se.destroy()})});let T=j.filter(Y=>AN(Y,c,u)),M=new Map;DN(M,this.driver,X,u,Ii).forEach(Y=>{AN(Y,c,u)&&T.push(Y)});let k=new Map;b.forEach((Y,J)=>{DN(k,this.driver,new Set(Y),c,ip)}),T.forEach(Y=>{let J=M.get(Y),re=k.get(Y);M.set(Y,new Map([...J?.entries()??[],...re?.entries()??[]]))});let D=[],Tn=[],dr={};s.forEach(Y=>{let{element:J,player:re,instruction:Se}=Y;if(i.has(J)){if(f.has(J)){re.onDestroy(()=>Ti(J,Se.toStyles)),re.disabled=!0,re.overrideTotalTime(Se.totalTime),r.push(re);return}let Ct=dr;if(S.size>1){let dt=J,nt=[];for(;dt=dt.parentNode;){let it=S.get(dt);if(it){Ct=it;break}nt.push(dt)}nt.forEach(it=>S.set(it,Ct))}let Dn=this._buildAnimation(re.namespaceId,Se,N,o,k,M);if(re.setRealPlayer(Dn),Ct===dr)D.push(re);else{let dt=this.playersByElement.get(Ct);dt&&dt.length&&(re.parentPlayer=eo(dt)),r.push(re)}}else ts(J,Se.fromStyles),re.onDestroy(()=>Ti(J,Se.toStyles)),Tn.push(re),f.has(J)&&r.push(re)}),Tn.forEach(Y=>{let J=o.get(Y.element);if(J&&J.length){let re=eo(J);Y.setRealPlayer(re)}}),r.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<j.length;Y++){let J=j[Y],re=J[oi];if(xa(J,AC),re&&re.hasAnimation)continue;let Se=[];if(a.size){let Dn=a.get(J);Dn&&Dn.length&&Se.push(...Dn);let dt=this.driver.query(J,NC,!0);for(let nt=0;nt<dt.length;nt++){let it=a.get(dt[nt]);it&&it.length&&Se.push(...it)}}let Ct=Se.filter(Dn=>!Dn.destroyed);Ct.length?dJ(this,J,Ct):this.processLeaveNode(J)}return j.length=0,D.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();let J=this.players.indexOf(Y);this.players.splice(J,1)}),Y.play()}),D}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Wc;a.forEach(u=>{u.queued||!c&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let c of n.timelines){let u=c.element,f=u!==o,_=In(i,u,[]);this._getPreviousPlayers(u,f,s,a,n.toState).forEach(b=>{let I=b.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),b.destroy(),_.push(b)})}ts(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,s){let a=n.triggerName,c=n.element,u=[],f=new Set,_=new Set,E=n.timelines.map(I=>{let F=I.element;f.add(F);let j=F[oi];if(j&&j.removedBeforeQueried)return new Xr(I.duration,I.delay);let K=F!==c,X=hJ((i.get(F)||sJ).map(N=>N.getRealPlayer())).filter(N=>{let S=N;return S.element?S.element===F:!1}),oe=o.get(F),pe=s.get(F),vt=NN(this._normalizer,I.keyframes,oe,pe),ve=this._buildPlayer(I,vt,X);if(I.subTimeline&&r&&_.add(F),K){let N=new Zc(e,a,F);N.setRealPlayer(ve),u.push(N)}return ve});u.forEach(I=>{In(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>lJ(this.playersByQueriedElement,I.element,I))}),f.forEach(I=>Un(I,vN));let b=eo(E);return b.onDestroy(()=>{f.forEach(I=>xa(I,vN)),Ti(c,n.toStyles)}),_.forEach(I=>{In(r,I,[]).push(b)}),b}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Xr(e.duration,e.delay)}},Zc=class{namespaceId;triggerName;element;_player=new Xr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>GC(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){In(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function lJ(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function cJ(t){return t??null}function ap(t){return t&&t.nodeType===1}function uJ(t){return t=="start"||t=="done"}function TN(t,e){let n=t.style.display;return t.style.display=e??"none",n}function DN(t,e,n,i,r){let o=[];n.forEach(c=>o.push(TN(c)));let s=[];i.forEach((c,u)=>{let f=new Map;c.forEach(_=>{let E=e.computeStyle(u,_,r);f.set(_,E),(!E||E.length==0)&&(u[oi]=aJ,s.push(u))}),t.set(u,f)});let a=0;return n.forEach(c=>TN(c,o[a++])),s}function xN(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let c=o.get(a);if(c)return c;let u=a.parentNode;return n.has(u)?c=u:r.has(u)?c=i:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==i&&n.get(c).push(a)}),n}function Un(t,e){t.classList?.add(e)}function xa(t,e){t.classList?.remove(e)}function dJ(t,e,n){eo(n).onDone(()=>t.processLeaveNode(e))}function hJ(t){let e=[];return jN(t,e),e}function jN(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof qc?jN(i.players,e):e.push(i)}}function fJ(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function AN(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var Aa=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,n)=>{};constructor(e,n,i){this._driver=n,this._normalizer=i,this._transitionEngine=new HC(e.body,n,i),this._timelineEngine=new UC(e.body,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,n,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let c=[],u=[],f=LN(this._driver,o,c,u);if(c.length)throw fZ(r,c);u.length&&void 0,a=XZ(r,f,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,s]=_N(i),a=r;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[s,a]=_N(i);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function pJ(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=xC(e[0]),e.length>1&&(i=xC(e[e.length-1]))):e instanceof Map&&(n=xC(e)),n||i?new mJ(t,n,i):null}var mJ=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r;let o=t.initialStylesByElement.get(n);o||t.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ti(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ti(this._element,this._initialStyles),this._endStyles&&(Ti(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ts(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ts(this._element,this._endStyles),this._endStyles=null),Ti(this._element,this._initialStyles),this._state=3)}}return t})();function xC(t){let e=null;return t.forEach((n,i)=>{gJ(i)&&(e=e||new Map,e.set(i,n))}),e}function gJ(t){return t==="display"||t==="position"}var gp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:QC(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},_p=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return MN(e,n)}getParentElement(e){return zC(e)}query(e,n,i){return RN(e,n,i)}computeStyle(e,n,i){return QC(e,n)}animate(e,n,i,r,o,s=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};o&&(c.easing=o);let u=new Map,f=s.filter(b=>b instanceof gp);FZ(i,r)&&f.forEach(b=>{b.currentSnapshot.forEach((I,F)=>u.set(F,I))});let _=RZ(n).map(b=>new Map(b));_=OZ(e,_,u);let E=pJ(e,_);return new gp(e,_,c,E)}};var lp="@",HN="@.disabled",yp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==lp&&n==HN?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},$C=class extends yp{factory;constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==lp?n.charAt(1)=="."&&n==HN?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==lp){let r=_J(e),o=n.slice(1),s="";return o.charAt(0)!=lp&&([o,s]=yJ(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,i,a)})}return this.delegate.listen(e,n,i)}};function _J(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function yJ(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var vp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,n.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,f=u.get(r);if(!f){let _=()=>u.delete(r);f=new yp(i,r,this.engine,_),u.set(r,f)}return f}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return n.data.animation.forEach(a),new $C(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var CJ=(()=>{class t extends Aa{constructor(n,i,r){super(n,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||t)(le(fn),le(ns),le(is))};static \u0275prov=te({token:t,factory:t.\u0275fac})}return t})();function wJ(){return new dp}function EJ(t,e,n){return new vp(t,e,n)}var $N=[{provide:is,useFactory:wJ},{provide:Aa,useClass:CJ},{provide:Mr,useFactory:EJ,deps:[rf,Aa,Ue]}],bJ=[{provide:ns,useFactory:()=>new _p},{provide:P_,useValue:"BrowserAnimations"},...$N],_he=[{provide:ns,useClass:WC},{provide:P_,useValue:"NoopAnimations"},...$N];function GN(){return Ki("NgEagerAnimations"),[...bJ]}var qN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zN={};var ZC,WN;(function(){var t;function e(N,S){function T(){}T.prototype=S.prototype,N.D=S.prototype,N.prototype=new T,N.prototype.constructor=N,N.C=function(M,R,k){for(var D=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)D[Tn-2]=arguments[Tn];return S.prototype[R].apply(M,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,S,T){T||(T=0);var M=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)M[R]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(R=0;16>R;++R)M[R]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=N.g[0],T=N.g[1],R=N.g[2];var k=N.g[3],D=S+(k^T&(R^k))+M[0]+3614090360&4294967295;S=T+(D<<7&4294967295|D>>>25),D=k+(R^S&(T^R))+M[1]+3905402710&4294967295,k=S+(D<<12&4294967295|D>>>20),D=R+(T^k&(S^T))+M[2]+606105819&4294967295,R=k+(D<<17&4294967295|D>>>15),D=T+(S^R&(k^S))+M[3]+3250441966&4294967295,T=R+(D<<22&4294967295|D>>>10),D=S+(k^T&(R^k))+M[4]+4118548399&4294967295,S=T+(D<<7&4294967295|D>>>25),D=k+(R^S&(T^R))+M[5]+1200080426&4294967295,k=S+(D<<12&4294967295|D>>>20),D=R+(T^k&(S^T))+M[6]+2821735955&4294967295,R=k+(D<<17&4294967295|D>>>15),D=T+(S^R&(k^S))+M[7]+4249261313&4294967295,T=R+(D<<22&4294967295|D>>>10),D=S+(k^T&(R^k))+M[8]+1770035416&4294967295,S=T+(D<<7&4294967295|D>>>25),D=k+(R^S&(T^R))+M[9]+2336552879&4294967295,k=S+(D<<12&4294967295|D>>>20),D=R+(T^k&(S^T))+M[10]+4294925233&4294967295,R=k+(D<<17&4294967295|D>>>15),D=T+(S^R&(k^S))+M[11]+2304563134&4294967295,T=R+(D<<22&4294967295|D>>>10),D=S+(k^T&(R^k))+M[12]+1804603682&4294967295,S=T+(D<<7&4294967295|D>>>25),D=k+(R^S&(T^R))+M[13]+4254626195&4294967295,k=S+(D<<12&4294967295|D>>>20),D=R+(T^k&(S^T))+M[14]+2792965006&4294967295,R=k+(D<<17&4294967295|D>>>15),D=T+(S^R&(k^S))+M[15]+1236535329&4294967295,T=R+(D<<22&4294967295|D>>>10),D=S+(R^k&(T^R))+M[1]+4129170786&4294967295,S=T+(D<<5&4294967295|D>>>27),D=k+(T^R&(S^T))+M[6]+3225465664&4294967295,k=S+(D<<9&4294967295|D>>>23),D=R+(S^T&(k^S))+M[11]+643717713&4294967295,R=k+(D<<14&4294967295|D>>>18),D=T+(k^S&(R^k))+M[0]+3921069994&4294967295,T=R+(D<<20&4294967295|D>>>12),D=S+(R^k&(T^R))+M[5]+3593408605&4294967295,S=T+(D<<5&4294967295|D>>>27),D=k+(T^R&(S^T))+M[10]+38016083&4294967295,k=S+(D<<9&4294967295|D>>>23),D=R+(S^T&(k^S))+M[15]+3634488961&4294967295,R=k+(D<<14&4294967295|D>>>18),D=T+(k^S&(R^k))+M[4]+3889429448&4294967295,T=R+(D<<20&4294967295|D>>>12),D=S+(R^k&(T^R))+M[9]+568446438&4294967295,S=T+(D<<5&4294967295|D>>>27),D=k+(T^R&(S^T))+M[14]+3275163606&4294967295,k=S+(D<<9&4294967295|D>>>23),D=R+(S^T&(k^S))+M[3]+4107603335&4294967295,R=k+(D<<14&4294967295|D>>>18),D=T+(k^S&(R^k))+M[8]+1163531501&4294967295,T=R+(D<<20&4294967295|D>>>12),D=S+(R^k&(T^R))+M[13]+2850285829&4294967295,S=T+(D<<5&4294967295|D>>>27),D=k+(T^R&(S^T))+M[2]+4243563512&4294967295,k=S+(D<<9&4294967295|D>>>23),D=R+(S^T&(k^S))+M[7]+1735328473&4294967295,R=k+(D<<14&4294967295|D>>>18),D=T+(k^S&(R^k))+M[12]+2368359562&4294967295,T=R+(D<<20&4294967295|D>>>12),D=S+(T^R^k)+M[5]+4294588738&4294967295,S=T+(D<<4&4294967295|D>>>28),D=k+(S^T^R)+M[8]+2272392833&4294967295,k=S+(D<<11&4294967295|D>>>21),D=R+(k^S^T)+M[11]+1839030562&4294967295,R=k+(D<<16&4294967295|D>>>16),D=T+(R^k^S)+M[14]+4259657740&4294967295,T=R+(D<<23&4294967295|D>>>9),D=S+(T^R^k)+M[1]+2763975236&4294967295,S=T+(D<<4&4294967295|D>>>28),D=k+(S^T^R)+M[4]+1272893353&4294967295,k=S+(D<<11&4294967295|D>>>21),D=R+(k^S^T)+M[7]+4139469664&4294967295,R=k+(D<<16&4294967295|D>>>16),D=T+(R^k^S)+M[10]+3200236656&4294967295,T=R+(D<<23&4294967295|D>>>9),D=S+(T^R^k)+M[13]+681279174&4294967295,S=T+(D<<4&4294967295|D>>>28),D=k+(S^T^R)+M[0]+3936430074&4294967295,k=S+(D<<11&4294967295|D>>>21),D=R+(k^S^T)+M[3]+3572445317&4294967295,R=k+(D<<16&4294967295|D>>>16),D=T+(R^k^S)+M[6]+76029189&4294967295,T=R+(D<<23&4294967295|D>>>9),D=S+(T^R^k)+M[9]+3654602809&4294967295,S=T+(D<<4&4294967295|D>>>28),D=k+(S^T^R)+M[12]+3873151461&4294967295,k=S+(D<<11&4294967295|D>>>21),D=R+(k^S^T)+M[15]+530742520&4294967295,R=k+(D<<16&4294967295|D>>>16),D=T+(R^k^S)+M[2]+3299628645&4294967295,T=R+(D<<23&4294967295|D>>>9),D=S+(R^(T|~k))+M[0]+4096336452&4294967295,S=T+(D<<6&4294967295|D>>>26),D=k+(T^(S|~R))+M[7]+1126891415&4294967295,k=S+(D<<10&4294967295|D>>>22),D=R+(S^(k|~T))+M[14]+2878612391&4294967295,R=k+(D<<15&4294967295|D>>>17),D=T+(k^(R|~S))+M[5]+4237533241&4294967295,T=R+(D<<21&4294967295|D>>>11),D=S+(R^(T|~k))+M[12]+1700485571&4294967295,S=T+(D<<6&4294967295|D>>>26),D=k+(T^(S|~R))+M[3]+2399980690&4294967295,k=S+(D<<10&4294967295|D>>>22),D=R+(S^(k|~T))+M[10]+4293915773&4294967295,R=k+(D<<15&4294967295|D>>>17),D=T+(k^(R|~S))+M[1]+2240044497&4294967295,T=R+(D<<21&4294967295|D>>>11),D=S+(R^(T|~k))+M[8]+1873313359&4294967295,S=T+(D<<6&4294967295|D>>>26),D=k+(T^(S|~R))+M[15]+4264355552&4294967295,k=S+(D<<10&4294967295|D>>>22),D=R+(S^(k|~T))+M[6]+2734768916&4294967295,R=k+(D<<15&4294967295|D>>>17),D=T+(k^(R|~S))+M[13]+1309151649&4294967295,T=R+(D<<21&4294967295|D>>>11),D=S+(R^(T|~k))+M[4]+4149444226&4294967295,S=T+(D<<6&4294967295|D>>>26),D=k+(T^(S|~R))+M[11]+3174756917&4294967295,k=S+(D<<10&4294967295|D>>>22),D=R+(S^(k|~T))+M[2]+718787259&4294967295,R=k+(D<<15&4294967295|D>>>17),D=T+(k^(R|~S))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(R+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+R&4294967295,N.g[3]=N.g[3]+k&4294967295}i.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var T=S-this.blockSize,M=this.B,R=this.h,k=0;k<S;){if(R==0)for(;k<=T;)r(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<S;)if(M[R++]=N.charCodeAt(k++),R==this.blockSize){r(this,M),R=0;break}}else for(;k<S;)if(M[R++]=N[k++],R==this.blockSize){r(this,M),R=0;break}}this.h=R,this.o+=S},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var T=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=T&255,T/=256;for(this.u(N),N=Array(16),S=T=0;4>S;++S)for(var M=0;32>M;M+=8)N[T++]=this.g[S]>>>M&255;return N};function o(N,S){var T=a;return Object.prototype.hasOwnProperty.call(T,N)?T[N]:T[N]=S(N)}function s(N,S){this.h=S;for(var T=[],M=!0,R=N.length-1;0<=R;R--){var k=N[R]|0;M&&k==S||(T[R]=k,M=!1)}this.g=T}var a={};function c(N){return-128<=N&&128>N?o(N,function(S){return new s([S|0],0>S?-1:0)}):new s([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return j(u(-N));for(var S=[],T=1,M=0;N>=T;M++)S[M]=N/T|0,T*=4294967296;return new s(S,0)}function f(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return j(f(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(S,8)),M=_,R=0;R<N.length;R+=8){var k=Math.min(8,N.length-R),D=parseInt(N.substring(R,R+k),S);8>k?(k=u(Math.pow(S,k)),M=M.j(k).add(u(D))):(M=M.j(T),M=M.add(u(D)))}return M}var _=c(0),E=c(1),b=c(16777216);t=s.prototype,t.m=function(){if(F(this))return-j(this).m();for(var N=0,S=1,T=0;T<this.g.length;T++){var M=this.i(T);N+=(0<=M?M:4294967296+M)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(F(this))return"-"+j(this).toString(N);for(var S=u(Math.pow(N,6)),T=this,M="";;){var R=pe(T,S).g;T=K(T,R.j(S));var k=((0<T.g.length?T.g[0]:T.h)>>>0).toString(N);if(T=R,I(T))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function I(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function F(N){return N.h==-1}t.l=function(N){return N=K(this,N),F(N)?-1:I(N)?0:1};function j(N){for(var S=N.g.length,T=[],M=0;M<S;M++)T[M]=~N.g[M];return new s(T,~N.h).add(E)}t.abs=function(){return F(this)?j(this):this},t.add=function(N){for(var S=Math.max(this.g.length,N.g.length),T=[],M=0,R=0;R<=S;R++){var k=M+(this.i(R)&65535)+(N.i(R)&65535),D=(k>>>16)+(this.i(R)>>>16)+(N.i(R)>>>16);M=D>>>16,k&=65535,D&=65535,T[R]=D<<16|k}return new s(T,T[T.length-1]&-2147483648?-1:0)};function K(N,S){return N.add(j(S))}t.j=function(N){if(I(this)||I(N))return _;if(F(this))return F(N)?j(this).j(j(N)):j(j(this).j(N));if(F(N))return j(this.j(j(N)));if(0>this.l(b)&&0>N.l(b))return u(this.m()*N.m());for(var S=this.g.length+N.g.length,T=[],M=0;M<2*S;M++)T[M]=0;for(M=0;M<this.g.length;M++)for(var R=0;R<N.g.length;R++){var k=this.i(M)>>>16,D=this.i(M)&65535,Tn=N.i(R)>>>16,dr=N.i(R)&65535;T[2*M+2*R]+=D*dr,X(T,2*M+2*R),T[2*M+2*R+1]+=k*dr,X(T,2*M+2*R+1),T[2*M+2*R+1]+=D*Tn,X(T,2*M+2*R+1),T[2*M+2*R+2]+=k*Tn,X(T,2*M+2*R+2)}for(M=0;M<S;M++)T[M]=T[2*M+1]<<16|T[2*M];for(M=S;M<2*S;M++)T[M]=0;return new s(T,0)};function X(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function oe(N,S){this.g=N,this.h=S}function pe(N,S){if(I(S))throw Error("division by zero");if(I(N))return new oe(_,_);if(F(N))return S=pe(j(N),S),new oe(j(S.g),j(S.h));if(F(S))return S=pe(N,j(S)),new oe(j(S.g),S.h);if(30<N.g.length){if(F(N)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var T=E,M=S;0>=M.l(N);)T=vt(T),M=vt(M);var R=ve(T,1),k=ve(M,1);for(M=ve(M,2),T=ve(T,2);!I(M);){var D=k.add(M);0>=D.l(N)&&(R=R.add(T),k=D),M=ve(M,1),T=ve(T,1)}return S=K(N,R.j(S)),new oe(R,S)}for(R=_;0<=N.l(S);){for(T=Math.max(1,Math.floor(N.m()/S.m())),M=Math.ceil(Math.log(T)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=u(T),D=k.j(S);F(D)||0<D.l(N);)T-=M,k=u(T),D=k.j(S);I(k)&&(k=E),R=R.add(k),N=K(N,D)}return new oe(R,N)}t.A=function(N){return pe(this,N).h},t.and=function(N){for(var S=Math.max(this.g.length,N.g.length),T=[],M=0;M<S;M++)T[M]=this.i(M)&N.i(M);return new s(T,this.h&N.h)},t.or=function(N){for(var S=Math.max(this.g.length,N.g.length),T=[],M=0;M<S;M++)T[M]=this.i(M)|N.i(M);return new s(T,this.h|N.h)},t.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),T=[],M=0;M<S;M++)T[M]=this.i(M)^N.i(M);return new s(T,this.h^N.h)};function vt(N){for(var S=N.g.length+1,T=[],M=0;M<S;M++)T[M]=N.i(M)<<1|N.i(M-1)>>>31;return new s(T,N.h)}function ve(N,S){var T=S>>5;S%=32;for(var M=N.g.length-T,R=[],k=0;k<M;k++)R[k]=0<S?N.i(k+T)>>>S|N.i(k+T+1)<<32-S:N.i(k+T);return new s(R,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,WN=zN.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=f,ZC=zN.Integer=s}).apply(typeof qN<"u"?qN:typeof self<"u"?self:typeof window<"u"?window:{});var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ur={};var KN,SJ,QN,YN,ZN,JN,XN,eM,tM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,p){return l==Array.prototype||l==Object.prototype||(l[d]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cp=="object"&&Cp];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function r(l,d){if(d)e:{var p=i;l=l.split(".");for(var v=0;v<l.length-1;v++){var P=l[v];if(!(P in p))break e;p=p[P]}l=l[l.length-1],v=p[l],d=d(v),d!=v&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}function o(l,d){l instanceof String&&(l+="");var p=0,v=!1,P={next:function(){if(!v&&p<l.length){var O=p++;return{value:d(O,l[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}r("Array.prototype.values",function(l){return l||function(){return o(this,function(d,p){return p})}});var s=s||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function f(l,d,p){return l.call.apply(l.bind,arguments)}function _(l,d,p){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,v),l.apply(d,P)}}return function(){return l.apply(d,arguments)}}function E(l,d,p){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:_,E.apply(null,arguments)}function b(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function I(l,d){function p(){}p.prototype=d.prototype,l.aa=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(v,P,O){for(var W=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)W[qe-2]=arguments[qe];return d.prototype[P].apply(v,W)}}function F(l){let d=l.length;if(0<d){let p=Array(d);for(let v=0;v<d;v++)p[v]=l[v];return p}return[]}function j(l,d){for(let p=1;p<arguments.length;p++){let v=arguments[p];if(c(v)){let P=l.length||0,O=v.length||0;l.length=P+O;for(let W=0;W<O;W++)l[P+W]=v[W]}else l.push(v)}}class K{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(l){return/^[\s\xa0]*$/.test(l)}function oe(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function pe(l){return pe[" "](l),l}pe[" "]=function(){};var vt=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function ve(l,d,p){for(let v in l)d.call(p,l[v],v,l)}function N(l,d){for(let p in l)d.call(void 0,l[p],p,l)}function S(l){let d={};for(let p in l)d[p]=l[p];return d}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(l,d){let p,v;for(let P=1;P<arguments.length;P++){v=arguments[P];for(p in v)l[p]=v[p];for(let O=0;O<T.length;O++)p=T[O],Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}}function R(l){var d=1;l=l.split(":");let p=[];for(;0<d&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function k(l){a.setTimeout(()=>{throw l},0)}function D(){var l=Se;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Tn{constructor(){this.h=this.g=null}add(d,p){let v=dr.get();v.set(d,p),this.h?this.h.next=v:this.g=v,this.h=v}}var dr=new K(()=>new Y,l=>l.reset());class Y{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let J,re=!1,Se=new Tn,Ct=()=>{let l=a.Promise.resolve(void 0);J=()=>{l.then(Dn)}};var Dn=()=>{for(var l;l=D();){try{l.h.call(l.g)}catch(p){k(p)}var d=dr;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}re=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return l}();function hr(l,d){if(nt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(vt){e:{try{pe(d.nodeName);var P=!0;break e}catch{}P=!1}P||(d=null)}}else p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xp[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&hr.aa.h.call(this)}}I(hr,nt);var xp={2:"touch",3:"pen",4:"mouse"};hr.prototype.h=function(){hr.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Ai=0;function ln(l,d,p,v,P){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!v,this.ha=P,this.key=++Ai,this.da=this.fa=!1}function Ni(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function fr(l){this.src=l,this.g={},this.h=0}fr.prototype.add=function(l,d,p,v,P){var O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);var W=Np(l,d,v,P);return-1<W?(d=l[W],p||(d.fa=!1)):(d=new ln(d,this.src,O,!!v,P),d.fa=p,l.push(d)),d};function Ap(l,d){var p=d.type;if(p in l.g){var v=l.g[p],P=Array.prototype.indexOf.call(v,d,void 0),O;(O=0<=P)&&Array.prototype.splice.call(v,P,1),O&&(Ni(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Np(l,d,p,v){for(var P=0;P<l.length;++P){var O=l[P];if(!O.da&&O.listener==d&&O.capture==!!p&&O.ha==v)return P}return-1}var Mp="closure_lm_"+(1e6*Math.random()|0),Rp={};function gw(l,d,p,v,P){if(v&&v.once)return yw(l,d,p,v,P);if(Array.isArray(d)){for(var O=0;O<d.length;O++)gw(l,d[O],p,v,P);return null}return p=Op(p),l&&l[ht]?l.K(d,p,u(v)?!!v.capture:!!v,P):_w(l,d,p,!1,v,P)}function _w(l,d,p,v,P,O){if(!d)throw Error("Invalid event type");var W=u(P)?!!P.capture:!!P,qe=kp(l);if(qe||(l[Mp]=qe=new fr(l)),p=qe.add(d,p,v,W,O),p.proxy)return p;if(v=pM(),p.proxy=v,v.src=l,v.listener=p,l.addEventListener)it||(P=W),P===void 0&&(P=!1),l.addEventListener(d.toString(),v,P);else if(l.attachEvent)l.attachEvent(Cw(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function pM(){function l(p){return d.call(l.src,l.listener,p)}let d=mM;return l}function yw(l,d,p,v,P){if(Array.isArray(d)){for(var O=0;O<d.length;O++)yw(l,d[O],p,v,P);return null}return p=Op(p),l&&l[ht]?l.L(d,p,u(v)?!!v.capture:!!v,P):_w(l,d,p,!0,v,P)}function vw(l,d,p,v,P){if(Array.isArray(d))for(var O=0;O<d.length;O++)vw(l,d[O],p,v,P);else v=u(v)?!!v.capture:!!v,p=Op(p),l&&l[ht]?(l=l.i,d=String(d).toString(),d in l.g&&(O=l.g[d],p=Np(O,p,v,P),-1<p&&(Ni(O[p]),Array.prototype.splice.call(O,p,1),O.length==0&&(delete l.g[d],l.h--)))):l&&(l=kp(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Np(d,p,v,P)),(p=-1<l?d[l]:null)&&Pp(p))}function Pp(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[ht])Ap(d.i,l);else{var p=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(p,v,l.capture):d.detachEvent?d.detachEvent(Cw(p),v):d.addListener&&d.removeListener&&d.removeListener(v),(p=kp(d))?(Ap(p,l),p.h==0&&(p.src=null,d[Mp]=null)):Ni(l)}}}function Cw(l){return l in Rp?Rp[l]:Rp[l]="on"+l}function mM(l,d){if(l.da)l=!0;else{d=new hr(d,this);var p=l.listener,v=l.ha||l.src;l.fa&&Pp(l),l=p.call(v,d)}return l}function kp(l){return l=l[Mp],l instanceof fr?l:null}var Fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Op(l){return typeof l=="function"?l:(l[Fp]||(l[Fp]=function(d){return l.handleEvent(d)}),l[Fp])}function Ht(){dt.call(this),this.i=new fr(this),this.M=this,this.F=null}I(Ht,dt),Ht.prototype[ht]=!0,Ht.prototype.removeEventListener=function(l,d,p,v){vw(this,l,d,p,v)};function Yt(l,d){var p,v=l.F;if(v)for(p=[];v;v=v.F)p.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new nt(d,l);else if(d instanceof nt)d.target=d.target||l;else{var P=d;d=new nt(v,l),M(d,P)}if(P=!0,p)for(var O=p.length-1;0<=O;O--){var W=d.g=p[O];P=tu(W,v,!0,d)&&P}if(W=d.g=l,P=tu(W,v,!0,d)&&P,P=tu(W,v,!1,d)&&P,p)for(O=0;O<p.length;O++)W=d.g=p[O],P=tu(W,v,!1,d)&&P}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var p=l.g[d],v=0;v<p.length;v++)Ni(p[v]);delete l.g[d],l.h--}}this.F=null},Ht.prototype.K=function(l,d,p,v){return this.i.add(String(l),d,!1,p,v)},Ht.prototype.L=function(l,d,p,v){return this.i.add(String(l),d,!0,p,v)};function tu(l,d,p,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var P=!0,O=0;O<d.length;++O){var W=d[O];if(W&&!W.da&&W.capture==p){var qe=W.listener,Mt=W.ha||W.src;W.fa&&Ap(l.i,W),P=qe.call(Mt,v)!==!1&&P}}return P&&!v.defaultPrevented}function ww(l,d,p){if(typeof l=="function")p&&(l=E(l,p));else if(l&&typeof l.handleEvent=="function")l=E(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function Ew(l){l.g=ww(()=>{l.g=null,l.i&&(l.i=!1,Ew(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class gM extends dt{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ew(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(l){dt.call(this),this.h=l,this.g={}}I(ka,dt);var bw=[];function Sw(l){ve(l.g,function(d,p){this.g.hasOwnProperty(p)&&Pp(d)},l),l.g={}}ka.prototype.N=function(){ka.aa.N.call(this),Sw(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lp=a.JSON.stringify,_M=a.JSON.parse,yM=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Vp(){}Vp.prototype.h=null;function Iw(l){return l.h||(l.h=l.i())}function Tw(){}var Fa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bp(){nt.call(this,"d")}I(Bp,nt);function Up(){nt.call(this,"c")}I(Up,nt);var no={},Dw=null;function nu(){return Dw=Dw||new Ht}no.La="serverreachability";function xw(l){nt.call(this,no.La,l)}I(xw,nt);function Oa(l){let d=nu();Yt(d,new xw(d))}no.STAT_EVENT="statevent";function Aw(l,d){nt.call(this,no.STAT_EVENT,l),this.stat=d}I(Aw,nt);function Zt(l){let d=nu();Yt(d,new Aw(d,l))}no.Ma="timingevent";function Nw(l,d){nt.call(this,no.Ma,l),this.size=d}I(Nw,nt);function La(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Va(){this.g=!0}Va.prototype.xa=function(){this.g=!1};function vM(l,d,p,v,P,O){l.info(function(){if(l.g)if(O)for(var W="",qe=O.split("&"),Mt=0;Mt<qe.length;Mt++){var Le=qe[Mt].split("=");if(1<Le.length){var $t=Le[0];Le=Le[1];var Gt=$t.split("_");W=2<=Gt.length&&Gt[1]=="type"?W+($t+"="+Le+"&"):W+($t+"=redacted&")}}else W=null;else W=O;return"XMLHTTP REQ ("+v+") [attempt "+P+"]: "+d+`
`+p+`
`+W})}function CM(l,d,p,v,P,O,W){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+P+"]: "+d+`
`+p+`
`+O+" "+W})}function as(l,d,p,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+EM(l,p)+(v?" "+v:"")})}function wM(l,d){l.info(function(){return"TIMEOUT: "+d})}Va.prototype.info=function(){};function EM(l,d){if(!l.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var v=p[l];if(!(2>v.length)){var P=v[1];if(Array.isArray(P)&&!(1>P.length)){var O=P[0];if(O!="noop"&&O!="stop"&&O!="close")for(var W=1;W<P.length;W++)P[W]=""}}}}return Lp(p)}catch{return d}}var iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jp;function ru(){}I(ru,Vp),ru.prototype.g=function(){return new XMLHttpRequest},ru.prototype.i=function(){return{}},jp=new ru;function pr(l,d,p,v){this.j=l,this.i=d,this.l=p,this.R=v||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rw}function Rw(){this.i=null,this.g="",this.h=!1}var Pw={},Hp={};function $p(l,d,p){l.L=1,l.v=lu(Mi(d)),l.m=p,l.P=!0,kw(l,null)}function kw(l,d){l.F=Date.now(),ou(l),l.A=Mi(l.v);var p=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Kw(p.i,"t",v),l.C=0,p=l.j.J,l.h=new Rw,l.g=hE(l.j,p?d:null,!l.m),0<l.O&&(l.M=new gM(E(l.Y,l,l.g),l.O)),d=l.U,p=l.g,v=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(bw[0]=P.toString()),P=bw);for(var O=0;O<P.length;O++){var W=gw(p,P[O],v||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Oa(),vM(l.i,l.u,l.A,l.l,l.R,l.m)}pr.prototype.ca=function(l){l=l.target;let d=this.M;d&&Ri(l)==3?d.j():this.Y(l)},pr.prototype.Y=function(l){try{if(l==this.g)e:{let Gt=Ri(this.g);var d=this.g.Ba();let us=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||tE(this.g)))){this.J||Gt!=4||d==7||(d==8||0>=us?Oa(3):Oa(2)),Gp(this);var p=this.g.Z();this.X=p;t:if(Fw(this)){var v=tE(this.g);l="";var P=v.length,O=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){io(this),Ba(this);var W="";break t}this.h.i=new a.TextDecoder}for(d=0;d<P;d++)this.h.h=!0,l+=this.h.i.decode(v[d],{stream:!(O&&d==P-1)});v.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,CM(this.i,this.u,this.A,this.l,this.R,Gt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Mt=this.g;if((qe=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(qe)){var Le=qe;break t}}Le=null}if(p=Le)as(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qp(this,p);else{this.o=!1,this.s=3,Zt(12),io(this),Ba(this);break e}}if(this.P){p=!0;let jn;for(;!this.J&&this.C<W.length;)if(jn=bM(this,W),jn==Hp){Gt==4&&(this.s=4,Zt(14),p=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==Pw){this.s=4,Zt(15),as(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else as(this.i,this.l,jn,null),qp(this,jn);if(Fw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||W.length!=0||this.h.h||(this.s=1,Zt(16),p=!1),this.o=this.o&&p,!p)as(this.i,this.l,W,"[Invalid Chunked Response]"),io(this),Ba(this);else if(0<W.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Zp($t),$t.M=!0,Zt(11))}}else as(this.i,this.l,W,null),qp(this,W);Gt==4&&io(this),this.o&&!this.J&&(Gt==4?lE(this.j,this):(this.o=!1,ou(this)))}else UM(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),io(this),Ba(this)}}}catch{}finally{}};function Fw(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function bM(l,d){var p=l.C,v=d.indexOf(`
`,p);return v==-1?Hp:(p=Number(d.substring(p,v)),isNaN(p)?Pw:(v+=1,v+p>d.length?Hp:(d=d.slice(v,v+p),l.C=v+p,d)))}pr.prototype.cancel=function(){this.J=!0,io(this)};function ou(l){l.S=Date.now()+l.I,Ow(l,l.I)}function Ow(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=La(E(l.ba,l),d)}function Gp(l){l.B&&(a.clearTimeout(l.B),l.B=null)}pr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(wM(this.i,this.A),this.L!=2&&(Oa(),Zt(17)),io(this),this.s=2,Ba(this)):Ow(this,this.S-l)};function Ba(l){l.j.G==0||l.J||lE(l.j,l)}function io(l){Gp(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Sw(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function qp(l,d){try{var p=l.j;if(p.G!=0&&(p.g==l||zp(p.h,l))){if(!l.K&&zp(p.h,l)&&p.G==3){try{var v=p.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var P=v;if(P[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)fu(p),du(p);else break e;Yp(p),Zt(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=La(E(p.Za,p),6e3));if(1>=Bw(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else oo(p,11)}else if((l.K||p.g==l)&&fu(p),!X(d))for(P=p.Da.g.parse(d),d=0;d<P.length;d++){let Le=P[d];if(p.T=Le[0],Le=Le[1],p.G==2)if(Le[0]=="c"){p.K=Le[1],p.ia=Le[2];let $t=Le[3];$t!=null&&(p.la=$t,p.j.info("VER="+p.la));let Gt=Le[4];Gt!=null&&(p.Aa=Gt,p.j.info("SVER="+p.Aa));let us=Le[5];us!=null&&typeof us=="number"&&0<us&&(v=1.5*us,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let jn=l.g;if(jn){let mu=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mu){var O=v.h;O.g||mu.indexOf("spdy")==-1&&mu.indexOf("quic")==-1&&mu.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Wp(O,O.h),O.h=null))}if(v.D){let Jp=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jp&&(v.ya=Jp,rt(v.I,v.D,Jp))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var W=l;if(v.qa=dE(v,v.J?v.ia:null,v.W),W.K){Uw(v.h,W);var qe=W,Mt=v.L;Mt&&(qe.I=Mt),qe.B&&(Gp(qe),ou(qe)),v.g=W}else sE(v);0<p.i.length&&hu(p)}else Le[0]!="stop"&&Le[0]!="close"||oo(p,7);else p.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?oo(p,7):Qp(p):Le[0]!="noop"&&p.l&&p.l.ta(Le),p.v=0)}}Oa(4)}catch{}}var SM=class{constructor(l,d){this.g=l,this.map=d}};function Lw(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vw(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Bw(l){return l.h?1:l.g?l.g.size:0}function zp(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Wp(l,d){l.g?l.g.add(d):l.h=d}function Uw(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Lw.prototype.cancel=function(){if(this.i=jw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function jw(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let p of l.g.values())d=d.concat(p.D);return d}return F(l.i)}function IM(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],p=l.length,v=0;v<p;v++)d.push(l[v]);return d}d=[],p=0;for(v in l)d[p++]=l[v];return d}function TM(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var p=0;p<l;p++)d.push(p);return d}d=[],p=0;for(let v in l)d[p++]=v;return d}}}function Hw(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var p=TM(l),v=IM(l),P=v.length,O=0;O<P;O++)d.call(void 0,v[O],p&&p[O],l)}var $w=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DM(l,d){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var v=l[p].indexOf("="),P=null;if(0<=v){var O=l[p].substring(0,v);P=l[p].substring(v+1)}else O=l[p];d(O,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ro(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ro){this.h=l.h,su(this,l.j),this.o=l.o,this.g=l.g,au(this,l.s),this.l=l.l;var d=l.i,p=new Ha;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Gw(this,p),this.m=l.m}else l&&(d=String(l).match($w))?(this.h=!1,su(this,d[1]||"",!0),this.o=Ua(d[2]||""),this.g=Ua(d[3]||"",!0),au(this,d[4]),this.l=Ua(d[5]||"",!0),Gw(this,d[6]||"",!0),this.m=Ua(d[7]||"")):(this.h=!1,this.i=new Ha(null,this.h))}ro.prototype.toString=function(){var l=[],d=this.j;d&&l.push(ja(d,qw,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(ja(d,qw,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(ja(p,p.charAt(0)=="/"?NM:AM,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",ja(p,RM)),l.join("")};function Mi(l){return new ro(l)}function su(l,d,p){l.j=p?Ua(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function au(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Gw(l,d,p){d instanceof Ha?(l.i=d,PM(l.i,l.h)):(p||(d=ja(d,MM)),l.i=new Ha(d,l.h))}function rt(l,d,p){l.i.set(d,p)}function lu(l){return rt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ua(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ja(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,xM),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function xM(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var qw=/[#\/\?@]/g,AM=/[#\?:]/g,NM=/[#\?]/g,MM=/[#\?@]/g,RM=/#/g;function Ha(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function mr(l){l.g||(l.g=new Map,l.h=0,l.i&&DM(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=Ha.prototype,t.add=function(l,d){mr(this),this.i=null,l=ls(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function zw(l,d){mr(l),d=ls(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Ww(l,d){return mr(l),d=ls(l,d),l.g.has(d)}t.forEach=function(l,d){mr(this),this.g.forEach(function(p,v){p.forEach(function(P){l.call(d,P,v,this)},this)},this)},t.na=function(){mr(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let v=0;v<d.length;v++){let P=l[v];for(let O=0;O<P.length;O++)p.push(d[v])}return p},t.V=function(l){mr(this);let d=[];if(typeof l=="string")Ww(this,l)&&(d=d.concat(this.g.get(ls(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)d=d.concat(l[p])}return d},t.set=function(l,d){return mr(this),this.i=null,l=ls(this,l),Ww(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Kw(l,d,p){zw(l,d),0<p.length&&(l.i=null,l.g.set(ls(l,d),F(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var v=d[p];let O=encodeURIComponent(String(v)),W=this.V(v);for(v=0;v<W.length;v++){var P=O;W[v]!==""&&(P+="="+encodeURIComponent(String(W[v]))),l.push(P)}}return this.i=l.join("&")};function ls(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function PM(l,d){d&&!l.j&&(mr(l),l.i=null,l.g.forEach(function(p,v){var P=v.toLowerCase();v!=P&&(zw(this,v),Kw(this,P,p))},l)),l.j=d}function kM(l,d){let p=new Va;if(a.Image){let v=new Image;v.onload=b(gr,p,"TestLoadImage: loaded",!0,d,v),v.onerror=b(gr,p,"TestLoadImage: error",!1,d,v),v.onabort=b(gr,p,"TestLoadImage: abort",!1,d,v),v.ontimeout=b(gr,p,"TestLoadImage: timeout",!1,d,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function FM(l,d){let p=new Va,v=new AbortController,P=setTimeout(()=>{v.abort(),gr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(O=>{clearTimeout(P),O.ok?gr(p,"TestPingServer: ok",!0,d):gr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),gr(p,"TestPingServer: error",!1,d)})}function gr(l,d,p,v,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),v(p)}catch{}}function OM(){this.g=new yM}function LM(l,d,p){let v=p||"";try{Hw(l,function(P,O){let W=P;u(P)&&(W=Lp(P)),d.push(v+O+"="+encodeURIComponent(W))})}catch(P){throw d.push(v+"type="+encodeURIComponent("_badmap")),P}}function $a(l){this.l=l.Ub||null,this.j=l.eb||!1}I($a,Vp),$a.prototype.g=function(){return new cu(this.l,this.j)},$a.prototype.i=function(l){return function(){return l}}({});function cu(l,d){Ht.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(cu,Ht),t=cu.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,qa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ga(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qw(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qw(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Ga(this):qa(this),this.readyState==3&&Qw(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ga(this))},t.Qa=function(l){this.g&&(this.response=l,Ga(this))},t.ga=function(){this.g&&Ga(this)};function Ga(l){l.readyState=4,l.l=null,l.j=null,l.v=null,qa(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join(`\r
`)};function qa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Yw(l){let d="";return ve(l,function(p,v){d+=v,d+=":",d+=p,d+=`\r
`}),d}function Kp(l,d,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=Yw(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):rt(l,d,p))}function ft(l){Ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ft,Ht);var VM=/^https?$/i,BM=["POST","PUT"];t=ft.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jp.g(),this.v=this.o?Iw(this.o):Iw(jp),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(O){Zw(this,O);return}if(l=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var P in v)p.set(P,v[P]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let O of v.keys())p.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(BM,d,void 0))||v||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,W]of p)this.g.setRequestHeader(O,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{eE(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){Zw(this,O)}};function Zw(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Jw(l),uu(l)}function Jw(l){l.A||(l.A=!0,Yt(l,"complete"),Yt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Yt(this,"complete"),Yt(this,"abort"),uu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uu(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xw(this):this.bb())},t.bb=function(){Xw(this)};function Xw(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Ri(l)!=4||l.Z()!=2)){if(l.u&&Ri(l)==4)ww(l.Ea,0,l);else if(Yt(l,"readystatechange"),Ri(l)==4){l.h=!1;try{let W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var v;if(v=W===0){var P=String(l.D).match($w)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),v=!VM.test(P?P.toLowerCase():"")}p=v}if(p)Yt(l,"complete"),Yt(l,"success");else{l.m=6;try{var O=2<Ri(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",Jw(l)}}finally{uu(l)}}}}function uu(l,d){if(l.g){eE(l);let p=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Yt(l,"ready");try{p.onreadystatechange=v}catch{}}}function eE(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Ri(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),_M(d)}};function tE(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function UM(l){let d={};l=(l.g&&2<=Ri(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(X(l[v]))continue;var p=R(l[v]);let P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let O=d[P]||[];d[P]=O,O.push(p)}N(d,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function nE(l){this.Aa=0,this.i=[],this.j=new Va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,l),this.cb=za("retryDelaySeedMs",1e4,l),this.Wa=za("forwardChannelMaxRetries",2,l),this.wa=za("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Lw(l&&l.concurrentRequestLimit),this.Da=new OM,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nE.prototype,t.la=8,t.G=1,t.connect=function(l,d,p,v){Zt(0),this.W=l,this.H=d||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=dE(this,null,this.W),hu(this)};function Qp(l){if(iE(l),l.G==3){var d=l.U++,p=Mi(l.I);if(rt(p,"SID",l.K),rt(p,"RID",d),rt(p,"TYPE","terminate"),Wa(l,p),d=new pr(l,l.j,d),d.L=2,d.v=lu(Mi(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=hE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ou(d)}uE(l)}function du(l){l.g&&(Zp(l),l.g.cancel(),l.g=null)}function iE(l){du(l),l.u&&(a.clearTimeout(l.u),l.u=null),fu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function hu(l){if(!Vw(l.h)&&!l.s){l.s=!0;var d=l.Ga;J||Ct(),re||(J(),re=!0),Se.add(d,l),l.B=0}}function jM(l,d){return Bw(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=La(E(l.Ga,l,d),cE(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let P=new pr(this,this.j,l),O=this.o;if(this.S&&(O?(O=S(O),M(O,this.S)):O=this.S),this.m!==null||this.O||(P.H=O,O=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=oE(this,P,d),p=Mi(this.I),rt(p,"RID",l),rt(p,"CVER",22),this.D&&rt(p,"X-HTTP-Session-Id",this.D),Wa(this,p),O&&(this.O?d="headers="+encodeURIComponent(String(Yw(O)))+"&"+d:this.m&&Kp(p,this.m,O)),Wp(this.h,P),this.Ua&&rt(p,"TYPE","init"),this.P?(rt(p,"$req",d),rt(p,"SID","null"),P.T=!0,$p(P,p,null)):$p(P,p,d),this.G=2}}else this.G==3&&(l?rE(this,l):this.i.length==0||Vw(this.h)||rE(this))};function rE(l,d){var p;d?p=d.l:p=l.U++;let v=Mi(l.I);rt(v,"SID",l.K),rt(v,"RID",p),rt(v,"AID",l.T),Wa(l,v),l.m&&l.o&&Kp(v,l.m,l.o),p=new pr(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),d&&(l.i=d.D.concat(l.i)),d=oE(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Wp(l.h,p),$p(p,v,d)}function Wa(l,d){l.H&&ve(l.H,function(p,v){rt(d,v,p)}),l.l&&Hw({},function(p,v){rt(d,v,p)})}function oE(l,d,p){p=Math.min(l.i.length,p);var v=l.l?E(l.l.Na,l.l,l):null;e:{var P=l.i;let O=-1;for(;;){let W=["count="+p];O==-1?0<p?(O=P[0].g,W.push("ofs="+O)):O=0:W.push("ofs="+O);let qe=!0;for(let Mt=0;Mt<p;Mt++){let Le=P[Mt].g,$t=P[Mt].map;if(Le-=O,0>Le)O=Math.max(0,P[Mt].g-100),qe=!1;else try{LM($t,W,"req"+Le+"_")}catch{v&&v($t)}}if(qe){v=W.join("&");break e}}}return l=l.i.splice(0,p),d.D=l,v}function sE(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;J||Ct(),re||(J(),re=!0),Se.add(d,l),l.v=0}}function Yp(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=La(E(l.Fa,l),cE(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,aE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=La(E(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),du(this),aE(this))};function Zp(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function aE(l){l.g=new pr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Mi(l.qa);rt(d,"RID","rpc"),rt(d,"SID",l.K),rt(d,"AID",l.T),rt(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&rt(d,"TO",l.ja),rt(d,"TYPE","xmlhttp"),Wa(l,d),l.m&&l.o&&Kp(d,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=lu(Mi(d)),p.m=null,p.P=!0,kw(p,l)}t.Za=function(){this.C!=null&&(this.C=null,du(this),Yp(this),Zt(19))};function fu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function lE(l,d){var p=null;if(l.g==d){fu(l),Zp(l),l.g=null;var v=2}else if(zp(l.h,d))p=d.D,Uw(l.h,d),v=1;else return;if(l.G!=0){if(d.o)if(v==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var P=l.B;v=nu(),Yt(v,new Nw(v,p)),hu(l)}else sE(l);else if(P=d.s,P==3||P==0&&0<d.X||!(v==1&&jM(l,d)||v==2&&Yp(l)))switch(p&&0<p.length&&(d=l.h,d.i=d.i.concat(p)),P){case 1:oo(l,5);break;case 4:oo(l,10);break;case 3:oo(l,6);break;default:oo(l,2)}}}function cE(l,d){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*d}function oo(l,d){if(l.j.info("Error code "+d),d==2){var p=E(l.fb,l),v=l.Xa;let P=!v;v=new ro(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||su(v,"https"),lu(v),P?kM(v.toString(),p):FM(v.toString(),p)}else Zt(2);l.G=0,l.l&&l.l.sa(d),uE(l),iE(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function uE(l){if(l.G=0,l.ka=[],l.l){let d=jw(l.h);(d.length!=0||l.i.length!=0)&&(j(l.ka,d),j(l.ka,l.i),l.h.i.length=0,F(l.i),l.i.length=0),l.l.ra()}}function dE(l,d,p){var v=p instanceof ro?Mi(p):new ro(p);if(v.g!="")d&&(v.g=d+"."+v.g),au(v,v.s);else{var P=a.location;v=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;var O=new ro(null);v&&su(O,v),d&&(O.g=d),P&&au(O,P),p&&(O.l=p),v=O}return p=l.D,d=l.ya,p&&d&&rt(v,p,d),rt(v,"VER",l.la),Wa(l,v),v}function hE(l,d,p){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new ft(new $a({eb:p})):new ft(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fE(){}t=fE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pu(){}pu.prototype.g=function(l,d){return new mn(l,d)};function mn(l,d){Ht.call(this),this.g=new nE(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!X(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new cs(this)}I(mn,Ht),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qp(this.g)},mn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Lp(l),l=p);d.i.push(new SM(d.Ya++,l)),d.G==3&&hu(d)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qp(this.g),delete this.g,mn.aa.N.call(this)};function pE(l){Bp.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}I(pE,Bp);function mE(){Up.call(this),this.status=1}I(mE,Up);function cs(l){this.g=l}I(cs,fE),cs.prototype.ua=function(){Yt(this.g,"a")},cs.prototype.ta=function(l){Yt(this.g,new pE(l))},cs.prototype.sa=function(l){Yt(this.g,new mE)},cs.prototype.ra=function(){Yt(this.g,"b")},pu.prototype.createWebChannel=pu.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,tM=ur.createWebChannelTransport=function(){return new pu},eM=ur.getStatEventTarget=function(){return nu()},XN=ur.Event=no,JN=ur.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,ZN=ur.ErrorCode=iu,Mw.COMPLETE="complete",YN=ur.EventType=Mw,Tw.EventType=Fa,Fa.OPEN="a",Fa.CLOSE="b",Fa.ERROR="c",Fa.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,QN=ur.WebChannel=Tw,SJ=ur.FetchXmlHttpFactory=$a,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,KN=ur.XhrIo=ft}).apply(typeof Cp<"u"?Cp:typeof self<"u"?self:typeof window<"u"?window:{});var nM="@firebase/firestore";var Ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");var Xc="10.14.0";var Ma=new li("@firebase/firestore");function si(t,...e){if(Ma.logLevel<=Pe.DEBUG){let n=e.map(fw);Ma.debug(`Firestore (${Xc}): ${t}`,...n)}}function aM(t,...e){if(Ma.logLevel<=Pe.ERROR){let n=e.map(fw);Ma.error(`Firestore (${Xc}): ${t}`,...n)}}function IJ(t,...e){if(Ma.logLevel<=Pe.WARN){let n=e.map(fw);Ma.warn(`Firestore (${Xc}): ${t}`,...n)}}function fw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function pn(t="Unexpected state"){let e=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: `+t;throw aM(e),new Error(e)}function rs(t,e){t||pn()}var an={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jt=class extends gn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var os=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var wp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},XC=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}},ew=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},tw=class{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rs(this.o===void 0);let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new os;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new os,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>L(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{si("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(si("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new os)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(si("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rs(typeof i.accessToken=="string"),new wp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return rs(e===null||typeof e=="string"),new Ut(e)}},nw=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},iw=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new nw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ow=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){rs(this.o===void 0);let i=o=>{o.error!=null&&si("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,si("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{si("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):si("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rs(typeof n.token=="string"),this.R=n.token,new rw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function lM(t,e){return t<e?-1:t>e?1:0}var sw=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&pn(),i===void 0?i=e.length-n:i>e.length-n&&pn(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},to=class t extends sw{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new jt(an.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}};var ss=class t{constructor(e){this.path=e}static fromPath(e){return new t(to.fromString(e))}static fromName(e){return new t(to.fromString(e).popFirst(5))}static empty(){return new t(to.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&to.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return to.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new to(e.slice()))}};var aw=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};aw.UNKNOWN_ID=-1;function TJ(t){return t.name==="IndexedDbTransactionError"}function DJ(t){return t===0&&1/t==-1/0}var xJ=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mhe=[...xJ,"documentOverlays"],AJ=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],NJ=AJ,MJ=[...NJ,"indexConfiguration","indexState","indexEntries"];var Rhe=[...MJ,"globals"];var Ra=class t{constructor(e,n){this.comparator=e,this.root=n||xi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Na(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Na(this.root,e,this.comparator,!1)}getReverseIterator(){return new Na(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Na(this.root,e,this.comparator,!0)}},Na=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xi=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pn();let e=this.left.check();if(e!==this.right.check())throw pn();return e+(this.isRed()?0:1)}};xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1;xi.EMPTY=new class{constructor(){this.size=0}get key(){throw pn()}get value(){throw pn()}get color(){throw pn()}get left(){throw pn()}get right(){throw pn()}copy(e,n,i,r,o){return this}insert(e,n,i){return new xi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ep=class t{constructor(e){this.comparator=e,this.data=new Ra(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bp(this.data.getIterator())}getIteratorFrom(e){return new bp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},bp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var lw=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Pa=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lw("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lM(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Pa.EMPTY_BYTE_STRING=new Pa("");var RJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function PJ(t){if(rs(!!t),typeof t=="string"){let e=0,n=RJ.exec(t);if(rs(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Jc(t.seconds),nanos:Jc(t.nanos)}}function Jc(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kJ(t){return typeof t=="string"?Pa.fromBase64String(t):Pa.fromUint8Array(t)}var cw=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function FJ(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function OJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var khe=new Ra(ss.comparator);var Fhe=new Ra(ss.comparator);var Ohe=new Ra(ss.comparator),Lhe=new Ep(ss.comparator);var Vhe=new Ep(lM);var iM,Re;(Re=iM||(iM={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";var Bhe=new ZC([4294967295,4294967295],0);var Sp=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Jc(e.integerValue));else if("doubleValue"in e){let i=Jc(e.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),DJ(i)?n.At(0):n.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(n,20),typeof i=="string"&&(i=PJ(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(kJ(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in e?OJ(e)?this.dt(n,Number.MAX_SAFE_INTEGER):FJ(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):pn()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let i=e.fields||{};this.dt(n,55);for(let r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}wt(e,n){var i,r;let o=e.fields||{};this.dt(n,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(n,15),n.At(Jc(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let i=e.values||[];this.dt(n,50);for(let r of i)this.Tt(r,n)}yt(e,n){this.dt(n,37),ss.fromName(e).path.forEach(i=>{this.dt(n,60),this.Dt(i,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Sp.vt=new Sp;var Uhe=new Uint8Array(0);var Di=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Di.DEFAULT_COLLECTION_PERCENTILE=10,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Di.DEFAULT=new Di(41943040,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Di.DISABLED=new Di(-1,0,0);function JC(){return typeof document<"u"?document:null}var uw=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&si("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var dw=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new jt(an.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var rM,oM;(oM=rM||(rM={})).ea="default",oM.Cache="cache";function LJ(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var sM=new Map;function VJ(t,e,n,i){if(e===!0&&i===!0)throw new jt(an.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BJ(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pn()}function UJ(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new jt(an.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=BJ(t);throw new jt(an.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ip=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new jt(an.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new jt(an.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LJ((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new jt(an.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new jt(an.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new jt(an.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Tp=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ip({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new jt(an.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new jt(an.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ip(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new XC;switch(i.type){case"firstParty":return new iw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new jt(an.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return L(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=sM.get(n);i&&(si("ComponentProvider","Removing Datastore"),sM.delete(n),i.terminate())}(this),Promise.resolve()}};function cM(t,e,n,i={}){var r;let o=(t=UJ(t,Tp))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&IJ("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Ut.MOCK_USER;else{a=Cu(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new jt(an.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ut(u)}t._authCredentials=new ew(new wp(a,c))}}var Dp=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uw(this,"async_queue_retry"),this.Vu=()=>{let i=JC();i&&si("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let n=JC();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=JC();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new os;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return L(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!TJ(e))throw e;si("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw aM("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let r=dw.createAndSchedule(this,e,n,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&pn()}verifyOperationInProgress(){}wu(){return L(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var hw=class extends Tp{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Dp,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return L(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Dp(e),this._firestoreClient=void 0,yield e}})}};function uM(t,e){let n=typeof t=="object"?t:vr(),i=typeof t=="string"?t:e||"(default)",r=ho(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=vu("firestore");o&&cM(r,...o)}return r}var jhe=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(r){Xc=r})(di),ui(new cn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new hw(new tw(i.getProvider("auth-internal")),new ow(i.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new jt(an.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cw(u.options.projectId,f)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),lt(nM,"4.7.3",e),lt(nM,"4.7.3","esm2017")})();var eu=class{constructor(e){return e}},dM="firestore",pw=class{constructor(){return ko(dM)}};var mw=new ee("angularfire2.firestore-instances");function jJ(t,e){let n=zs(dM,t,e);return n&&new eu(n)}function HJ(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new eu(i)}}var $J={provide:pw,deps:[[new xt,mw]]},GJ={provide:eu,useFactory:jJ,deps:[[new xt,mw],Xn]};function hM(t,...e){return lt("angularfire",Zi.full,"fst"),Pn([GJ,$J,{provide:mw,useFactory:HJ(t),multi:!0,deps:[Ue,Ft,Br,Ji,[new xt,Bo],[new xt,Vr],...e]}])}var fM=tn(uM,!0);qx(If,{providers:[pN.providers,Ef(np),GN(),BT(()=>UT(AA.firebaseConfig)),N1(()=>M1()),Sx(()=>Ix()),hM(()=>fM())]}).catch(t=>console.error(t));
